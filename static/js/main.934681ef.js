/*! For license information please see main.934681ef.js.LICENSE.txt */
!function(){var e={2674:function(e,t,n){"use strict";t.Z=void 0;var r,i=n(1366),o=(r=n(8559))&&r.__esModule?r:{default:r};function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"===typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(u){i=!0,o=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return l(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n(6986);var d=(0,i.createPathComponent)((function(e,t){e.children;var n=f(e,["children"]),r={},i={};Object.entries(n).forEach((function(e){var t=c(e,2),n=t[0],o=t[1];return n.startsWith("on")?i[n]=o:r[n]=o}));var a=new o.default.markerClusterGroup(r);return Object.entries(i).forEach((function(e){var t=c(e,2),n=t[0],r=t[1],i="cluster".concat(n.substring(2).toLowerCase());a.on(i,r)})),{instance:a,context:s(s({},t),{},{layerContainer:a})}}));t.Z=d},1880:function(e,t,n){"use strict";n.r(t),n.d(t,{CordovaIFrameNavigator:function(){return a.CordovaIFrameNavigator},CordovaPopupNavigator:function(){return a.CordovaPopupNavigator},InMemoryWebStorage:function(){return a.InMemoryWebStorage},Log:function(){return a.Log},OidcClient:function(){return a.OidcClient},SessionMonitor:function(){return a.SessionMonitor},User:function(){return a.User},UserManager:function(){return a.UserManager},Version:function(){return a.Version},WebStorageStateStore:function(){return a.WebStorageStateStore},clearOidcPersistentStorage:function(){return G},getBearerToken:function(){return Z},getDpopToken:function(){return H},refresh:function(){return V},registerClient:function(){return R},removeOidcQueryParam:function(){return q}});var r=n(1413),i=n(4165),o=n(5861),a=n(6944),s=n(136),u=n(9388),c=n(8737),l=n(5671),f=n(3144),d=(n(7465),globalThis.fetch,globalThis.fetch),h=(globalThis.Response,globalThis.Request,globalThis.Headers,n(1438)),p=n(4261),v=["ES256","RS256"],g=["openid","offline_access","webid"].join(" ");function y(e,t){return m.apply(this,arguments)}function m(){return(m=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(200===(r=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(r.status," ").concat(r.statusText));case 5:return e.prev=5,e.next=8,r.json();case 8:o=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",o);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function w(e,t,n,r){return _.apply(this,arguments)}function _(){return(_=(0,o.Z)((0,i.Z)().mark((function e(t,n,r,o){var a,s,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n,r);case 2:return a=e.sent,e.prev=3,e.t0=h.jwtVerify,e.t1=t,e.next=8,(0,h.importJWK)(a);case 8:return e.t2=e.sent,e.t3={issuer:r,audience:o},e.next=12,(0,e.t0)(e.t1,e.t2,e.t3);case 12:u=e.sent,c=u.payload,s=c,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("Token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof s.webid){e.next=22;break}return e.abrupt("return",s.webid);case 22:if("string"===typeof s.sub){e.next=24;break}throw new Error("The token ".concat(JSON.stringify(s)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(s.sub),e.abrupt("return",s.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The token has no 'webid' claim, and its 'sub' claim of [".concat(s.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}function b(e,t){var n;return null!==(n=t.find((function(t){return e.includes(t)})))&&void 0!==n?n:null}Error,Error;var x=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;return(0,l.Z)(this,n),(r=t.call(this,"Invalid response from OIDC provider: missing fields ".concat(e))).missingFields=e,r}return(0,f.Z)(n)}((0,c.Z)(Error)),S=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e,r,i){var o;return(0,l.Z)(this,n),(o=t.call(this,e)).error=r,o.errorDescription=i,o}return(0,f.Z)(n)}((0,c.Z)(Error));function k(e){var t=new URL(e);return new URL(t.pathname,t.origin).toString()}function E(e,t,n){return C.apply(this,arguments)}function C(){return(C=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new h.SignJWT({htu:k(t),htm:n.toUpperCase(),jti:(0,p.Z)()}).setProtectedHeader({alg:v[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return A.apply(this,arguments)}function A(){return(A=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.generateKeyPair)(v[0]);case 2:return t=e.sent,n=t.privateKey,r=t.publicKey,e.t0=n,e.next=8,(0,h.exportJWK)(r);case 8:return e.t1=e.sent,(o={privateKey:e.t0,publicKey:e.t1}).publicKey.alg=v[0],e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var T="getResponse";(function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T);case 1:case"end":return e.stop()}}),e)})))})(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",T);case 1:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,o.Z)((0,i.Z)().mark((function e(t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}();function O(e,t){var n,r,i,o;if("invalid_redirect_uri"===e.error)throw new Error("Dynamic client registration failed: the provided redirect uri [".concat(null===(n=t.redirectUrl)||void 0===n?void 0:n.toString(),"] is invalid - ").concat(null!==(r=e.error_description)&&void 0!==r?r:""));if("invalid_client_metadata"===e.error)throw new Error("Dynamic client registration failed: the provided client metadata ".concat(JSON.stringify(t)," is invalid - ").concat(null!==(i=e.error_description)&&void 0!==i?i:""));throw new Error("Dynamic client registration failed: ".concat(e.error," - ").concat(null!==(o=e.error_description)&&void 0!==o?o:""))}function I(e,t){if(void 0===e.client_id)throw new Error("Dynamic client registration failed: no client_id has been found on ".concat(JSON.stringify(e)));if(t.redirectUrl&&(void 0===e.redirect_uris||e.redirect_uris[0]!==t.redirectUrl.toString()))throw new Error("Dynamic client registration failed: the returned redirect URIs ".concat(JSON.stringify(e.redirect_uris)," don't match the provided ").concat(JSON.stringify([t.redirectUrl.toString()])))}function R(e,t){return L.apply(this,arguments)}function L(){return(L=(0,o.Z)((0,i.Z)().mark((function e(t,n){var r,o,a,s,u,c;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.registrationEndpoint){e.next=2;break}throw new Error("Dynamic Registration could not be completed because the issuer has no registration endpoint.");case 2:if(Array.isArray(n.idTokenSigningAlgValuesSupported)){e.next=4;break}throw new Error("The OIDC issuer discovery profile is missing the 'id_token_signing_alg_values_supported' value, which is mandatory.");case 4:return o=b(n.idTokenSigningAlgValuesSupported,v),a={client_name:t.clientName,application_type:"web",redirect_uris:[null===(r=t.redirectUrl)||void 0===r?void 0:r.toString()],subject_type:"public",token_endpoint_auth_method:"client_secret_basic",id_token_signed_response_alg:o,grant_types:["authorization_code","refresh_token"]},s={"Content-Type":"application/json"},e.next=9,fetch(n.registrationEndpoint.toString(),{method:"POST",headers:s,body:JSON.stringify(a)});case 9:if(!(u=e.sent).ok){e.next=16;break}return e.next=13,u.json();case 13:return I(c=e.sent,t),e.abrupt("return",{clientId:c.client_id,clientSecret:c.client_secret,idTokenSignedResponseAlg:c.id_token_signed_response_alg,clientType:"dynamic"});case 16:if(400!==u.status){e.next=23;break}return e.t0=O,e.next=20,u.json();case 20:e.t1=e.sent,e.t2=t,(0,e.t0)(e.t1,e.t2);case 23:return e.t3=Error,e.t4="Dynamic client registration failed: the server returned ".concat(u.status," ").concat(u.statusText," - "),e.next=27,u.text();case 27:throw e.t5=e.sent,e.t6=e.t4.concat.call(e.t4,e.t5),new e.t3(e.t6);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(e){return void 0!==e.error_description&&"string"===typeof e.error_description}function M(e){return void 0!==e.refresh_token&&"string"===typeof e.refresh_token}function j(e,t){if(t.grantType&&(!e.grantTypesSupported||!e.grantTypesSupported.includes(t.grantType)))throw new Error("The issuer [".concat(e.issuer,"] does not support the [").concat(t.grantType,"] grant"));if(!e.tokenEndpoint)throw new Error("This issuer [".concat(e.issuer,"] does not have a token endpoint"))}function D(e,t){if(void 0!==(n=e).error&&"string"===typeof n.error)throw new S("Token endpoint returned error [".concat(e.error,"]").concat(F(e)?": ".concat(e.error_description):"").concat(function(e){return void 0!==e.error_uri&&"string"===typeof e.error_uri}(e)?" (see ".concat(e.error_uri,")"):""),e.error,F(e)?e.error_description:void 0);var n;if(!function(e){return void 0!==e.access_token&&"string"===typeof e.access_token}(e))throw new x(["access_token"]);if(!function(e){return void 0!==e.id_token&&"string"===typeof e.id_token}(e))throw new x(["id_token"]);if(!function(e){return void 0!==e.token_type&&"string"===typeof e.token_type}(e))throw new x(["token_type"]);if(!function(e){return void 0===e.expires_in||"number"===typeof e.expires_in}(e))throw new x(["expires_in"]);if(!t&&"bearer"!==e.token_type.toLowerCase())throw new Error("Invalid token endpoint response: requested a [Bearer] token, but got a 'token_type' value of [".concat(e.token_type,"]."));return e}function N(e,t,n,r){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)((0,i.Z)().mark((function e(t,n,r,o){var a,s,u,c,l,f,h,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(t,r),a={"content-type":"application/x-www-form-urlencoded"},!o){e.next=9;break}return e.next=5,P();case 5:return s=e.sent,e.next=8,E(t.tokenEndpoint,"POST",s);case 8:a.DPoP=e.sent;case 9:return n.clientSecret&&(a.Authorization="Basic ".concat(btoa("".concat(n.clientId,":").concat(n.clientSecret)))),u={grant_type:r.grantType,redirect_uri:r.redirectUrl,code:r.code,code_verifier:r.codeVerifier,client_id:n.clientId},c={method:"POST",headers:a,body:new URLSearchParams(u).toString()},e.next=14,d(t.tokenEndpoint,c);case 14:return l=e.sent,e.next=17,l.json();case 17:return f=e.sent,h=D(f,o),e.next=21,w(h.id_token,t.jwksUri,t.issuer,n.clientId);case 21:return p=e.sent,e.abrupt("return",{accessToken:h.access_token,idToken:h.id_token,refreshToken:M(h)?h.refresh_token:void 0,webId:p,dpopKey:s,expiresIn:h.expires_in});case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)((0,i.Z)().mark((function e(t){var n,r,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=new a.OidcClient({response_mode:"query",loadUserInfo:!1}),e.next=4,r.processSigninResponse(t);case 4:if(n=e.sent,void 0!==r.settings.metadata){e.next=7;break}throw new Error("Cannot retrieve issuer metadata from client information in storage.");case 7:if(void 0!==r.settings.metadata.jwks_uri){e.next=9;break}throw new Error("Missing some issuer metadata from client information in storage: 'jwks_uri' is undefined");case 9:if(void 0!==r.settings.metadata.issuer){e.next=11;break}throw new Error("Missing some issuer metadata from client information in storage: 'issuer' is undefined");case 11:if(void 0!==r.settings.client_id){e.next=13;break}throw new Error("Missing some client information in storage: 'client_id' is undefined");case 13:return e.next=15,w(n.id_token,r.settings.metadata.jwks_uri,r.settings.metadata.issuer,r.settings.client_id);case 15:return o=e.sent,e.abrupt("return",{accessToken:n.access_token,idToken:n.id_token,webId:o,refreshToken:n.refresh_token});case 19:throw e.prev=19,e.t0=e.catch(0),new Error("Problem handling Auth Code Grant (Flow) redirect - URL [".concat(t,"]: ").concat(e.t0));case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function H(e,t,n){return z.apply(this,arguments)}function z(){return(z=(0,o.Z)((0,i.Z)().mark((function e(t,n,r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N(t,n,r,!0));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var K=function(e){try{return new URL(e),!0}catch(t){return!1}};function V(e,t,n,r){return W.apply(this,arguments)}function W(){return(W=(0,o.Z)((0,i.Z)().mark((function e(t,n,o,a){var s,u,c,l,f,h,p;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==o.clientId){e.next=2;break}throw new Error("No client ID available when trying to refresh the access token.");case 2:if(s={grant_type:"refresh_token",refresh_token:t,scope:g},u={},void 0===a){e.next=9;break}return e.next=7,E(n.tokenEndpoint,"POST",a);case 7:e.t0=e.sent,u={DPoP:e.t0};case 9:return c={},void 0!==o.clientSecret?c={Authorization:"Basic ".concat(btoa("".concat(o.clientId,":").concat(o.clientSecret)))}:K(o.clientId)&&(s.client_id=o.clientId),e.next=13,d(n.tokenEndpoint,{method:"POST",body:new URLSearchParams(s).toString(),headers:(0,r.Z)((0,r.Z)((0,r.Z)({},u),c),{},{"Content-Type":"application/x-www-form-urlencoded"})});case 13:return l=e.sent,e.prev=14,e.next=17,l.json();case 17:f=e.sent,e.next=23;break;case 20:throw e.prev=20,e.t1=e.catch(14),new Error("The token endpoint of issuer ".concat(n.issuer," returned a malformed response."));case 23:return h=D(f,void 0!==a),e.next=26,w(h.id_token,n.jwksUri,n.issuer,o.clientId);case 26:return p=e.sent,e.abrupt("return",{accessToken:h.access_token,idToken:h.id_token,refreshToken:"string"===typeof h.refresh_token?h.refresh_token:void 0,webId:p,dpopKey:a,expiresIn:h.expires_in});case 28:case"end":return e.stop()}}),e,null,[[14,20]])})))).apply(this,arguments)}function q(e){var t=new URL(e);return t.searchParams.delete("code"),t.searchParams.delete("state"),t.hash="",e.includes("".concat(t.origin,"/"))?t.href:"".concat(t.origin).concat(t.href.substring(t.origin.length+1))}function G(){return J.apply(this,arguments)}function J(){return(J=(0,o.Z)((0,i.Z)().mark((function e(){var t,n,r,o,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new a.OidcClient({response_mode:"query"}),e.next=3,t.clearStaleState(new a.WebStorageStateStore({}));case 3:for(n=window.localStorage,r=[],o=0;o<=n.length;o+=1)(s=n.key(o))&&(s.match(/^oidc\..+$/)||s.match(/^solidClientAuthenticationUser:.+$/))&&r.push(s);r.forEach((function(e){return n.removeItem(e)}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},6944:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=22)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={debug:function(){},info:function(){},warn:function(){},error:function(){}},o=void 0,a=void 0;(t.Log=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.reset=function(){a=3,o=i},e.debug=function(){if(a>=4){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.debug.apply(o,Array.from(t))}},e.info=function(){if(a>=3){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.info.apply(o,Array.from(t))}},e.warn=function(){if(a>=2){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.warn.apply(o,Array.from(t))}},e.error=function(){if(a>=1){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];o.error.apply(o,Array.from(t))}},r(e,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return a},set:function(e){if(!(0<=e&&e<=4))throw new Error("Invalid log level");a=e}},{key:"logger",get:function(){return o},set:function(e){if(!e.debug&&e.info&&(e.debug=e.info),!(e.debug&&e.info&&e.warn&&e.error))throw new Error("Invalid logger");o=e}}]),e}()).reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i={setInterval:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e,t){return setInterval(e,t)})),clearInterval:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return clearInterval(e)}))},o=!1,a=null;t.Global=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e._testing=function(){o=!0},e.setXMLHttpRequest=function(e){a=e},r(e,null,[{key:"location",get:function(){if(!o)return location}},{key:"localStorage",get:function(){if(!o&&"undefined"!=typeof window)return localStorage}},{key:"sessionStorage",get:function(){if(!o&&"undefined"!=typeof window)return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!o&&"undefined"!=typeof window)return a||XMLHttpRequest}},{key:"timer",get:function(){if(!o)return i}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataService=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(7);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s=".well-known/openid-configuration";t.MetadataService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.JsonService;if(a(this,e),!t)throw i.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=t,this._jsonService=new n(["application/jwk-set+json"])}return e.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},e.prototype.getMetadata=function(){var e=this;return this._settings.metadata?(i.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(i.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then((function(t){i.Log.debug("MetadataService.getMetadata: json received");var n=e._settings.metadataSeed||{};return e._settings.metadata=Object.assign({},n,t),e._settings.metadata}))):(i.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},e.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},e.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},e.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},e.prototype.getTokenEndpoint=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._getMetadataProperty("token_endpoint",e)},e.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},e.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},e.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},e.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},e.prototype._getMetadataProperty=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return i.Log.debug("MetadataService.getMetadataProperty for: "+e),this.getMetadata().then((function(n){if(i.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===n[e]){if(!0===t)return void i.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+e);throw i.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+e),new Error("Metadata does not contain property "+e)}return n[e]}))},e.prototype.getSigningKeys=function(){var e=this;return this._settings.signingKeys?(i.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then((function(t){return i.Log.debug("MetadataService.getSigningKeys: jwks_uri received",t),e._jsonService.getJson(t).then((function(t){if(i.Log.debug("MetadataService.getSigningKeys: key set received",t),!t.keys)throw i.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return e._settings.signingKeys=t.keys,e._settings.signingKeys}))}))},r(e,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(s)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=s))),this._metadataUrl}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UrlUtility=void 0;var r=n(0),i=n(1);t.UrlUtility=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.addQueryParam=function(e,t,n){return e.indexOf("?")<0&&(e+="?"),"?"!==e[e.length-1]&&(e+="&"),e+=encodeURIComponent(t),(e+="=")+encodeURIComponent(n)},e.parseUrlFragment=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.Global;"string"!=typeof e&&(e=n.location.href);var o=e.lastIndexOf(t);o>=0&&(e=e.substr(o+1)),"?"===t&&(o=e.indexOf("#"))>=0&&(e=e.substr(0,o));for(var a,s={},u=/([^&=]+)=([^&]*)/g,c=0;a=u.exec(e);)if(s[decodeURIComponent(a[1])]=decodeURIComponent(a[2].replace(/\+/g," ")),c++>50)return r.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",e),{error:"Response exceeded expected number of parameters"};for(var l in s)return s;return{}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoseUtil=void 0;var r=n(26),i=function(e){return e&&e.__esModule?e:{default:e}}(n(33));t.JoseUtil=(0,i.default)({jws:r.jws,KeyUtil:r.KeyUtil,X509:r.X509,crypto:r.crypto,hextob64u:r.hextob64u,b64tohex:r.b64tohex,AllowedSigningAlgs:r.AllowedSigningAlgs})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClientSettings=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(0),a=n(23),s=n(6),u=n(24),c=n(2);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=".well-known/openid-configuration",d="id_token",h="openid",p="client_secret_post";t.OidcClientSettings=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.authority,i=t.metadataUrl,o=t.metadata,f=t.signingKeys,v=t.metadataSeed,g=t.client_id,y=t.client_secret,m=t.response_type,w=void 0===m?d:m,_=t.scope,b=void 0===_?h:_,x=t.redirect_uri,S=t.post_logout_redirect_uri,k=t.client_authentication,E=void 0===k?p:k,C=t.prompt,P=t.display,A=t.max_age,T=t.ui_locales,O=t.acr_values,I=t.resource,R=t.response_mode,L=t.filterProtocolClaims,F=void 0===L||L,M=t.loadUserInfo,j=void 0===M||M,D=t.staleStateAge,N=void 0===D?900:D,U=t.clockSkew,Z=void 0===U?300:U,B=t.clockService,H=void 0===B?new a.ClockService:B,z=t.userInfoJwtIssuer,K=void 0===z?"OP":z,V=t.mergeClaims,W=void 0!==V&&V,q=t.stateStore,G=void 0===q?new s.WebStorageStateStore:q,J=t.ResponseValidatorCtor,Q=void 0===J?u.ResponseValidator:J,Y=t.MetadataServiceCtor,X=void 0===Y?c.MetadataService:Y,$=t.extraQueryParams,ee=void 0===$?{}:$,te=t.extraTokenParams,ne=void 0===te?{}:te;l(this,e),this._authority=n,this._metadataUrl=i,this._metadata=o,this._metadataSeed=v,this._signingKeys=f,this._client_id=g,this._client_secret=y,this._response_type=w,this._scope=b,this._redirect_uri=x,this._post_logout_redirect_uri=S,this._client_authentication=E,this._prompt=C,this._display=P,this._max_age=A,this._ui_locales=T,this._acr_values=O,this._resource=I,this._response_mode=R,this._filterProtocolClaims=!!F,this._loadUserInfo=!!j,this._staleStateAge=N,this._clockSkew=Z,this._clockService=H,this._userInfoJwtIssuer=K,this._mergeClaims=!!W,this._stateStore=G,this._validator=new Q(this),this._metadataService=new X(this),this._extraQueryParams="object"===(void 0===ee?"undefined":r(ee))?ee:{},this._extraTokenParams="object"===(void 0===ne?"undefined":r(ne))?ne:{}}return e.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},i(e,[{key:"client_id",get:function(){return this._client_id},set:function(e){if(this._client_id)throw o.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=e}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(e){if(this._authority)throw o.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=e}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(f)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=f)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(e){this._metadata=e}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(e){this._metadataSeed=e}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(e){this._signingKeys=e}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraQueryParams=e:this._extraQueryParams={}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(e){"object"===(void 0===e?"undefined":r(e))?this._extraTokenParams=e:this._extraTokenParams={}}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebStorageStateStore=void 0;var r=n(0),i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.WebStorageStateStore=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.prefix,r=void 0===n?"oidc.":n,a=t.store,s=void 0===a?i.Global.localStorage:a;o(this,e),this._store=s,this._prefix=r}return e.prototype.set=function(e,t){return r.Log.debug("WebStorageStateStore.set",e),e=this._prefix+e,this._store.setItem(e,t),Promise.resolve()},e.prototype.get=function(e){r.Log.debug("WebStorageStateStore.get",e),e=this._prefix+e;var t=this._store.getItem(e);return Promise.resolve(t)},e.prototype.remove=function(e){r.Log.debug("WebStorageStateStore.remove",e),e=this._prefix+e;var t=this._store.getItem(e);return this._store.removeItem(e),Promise.resolve(t)},e.prototype.getAllKeys=function(){r.Log.debug("WebStorageStateStore.getAllKeys");for(var e=[],t=0;t<this._store.length;t++){var n=this._store.key(t);0===n.indexOf(this._prefix)&&e.push(n.substr(this._prefix.length))}return Promise.resolve(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonService=void 0;var r=n(0),i=n(1);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.JsonService=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.Global.XMLHttpRequest,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;o(this,e),t&&Array.isArray(t)?this._contentTypes=t.slice():this._contentTypes=[],this._contentTypes.push("application/json"),r&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=n,this._jwtHandler=r}return e.prototype.getJson=function(e,t){var n=this;if(!e)throw r.Log.error("JsonService.getJson: No url passed"),new Error("url");return r.Log.debug("JsonService.getJson, url: ",e),new Promise((function(i,o){var a=new n._XMLHttpRequest;a.open("GET",e);var s=n._contentTypes,u=n._jwtHandler;a.onload=function(){if(r.Log.debug("JsonService.getJson: HTTP response received, status",a.status),200===a.status){var t=a.getResponseHeader("Content-Type");if(t){var n=s.find((function(e){if(t.startsWith(e))return!0}));if("application/jwt"==n)return void u(a).then(i,o);if(n)try{return void i(JSON.parse(a.responseText))}catch(i){return r.Log.error("JsonService.getJson: Error parsing JSON response",i.message),void o(i)}}o(Error("Invalid response Content-Type: "+t+", from URL: "+e))}else o(Error(a.statusText+" ("+a.status+")"))},a.onerror=function(){r.Log.error("JsonService.getJson: network error"),o(Error("Network Error"))},t&&(r.Log.debug("JsonService.getJson: token passed, setting Authorization header"),a.setRequestHeader("Authorization","Bearer "+t)),a.send()}))},e.prototype.postForm=function(e,t,n){var i=this;if(!e)throw r.Log.error("JsonService.postForm: No url passed"),new Error("url");return r.Log.debug("JsonService.postForm, url: ",e),new Promise((function(o,a){var s=new i._XMLHttpRequest;s.open("POST",e);var u=i._contentTypes;s.onload=function(){if(r.Log.debug("JsonService.postForm: HTTP response received, status",s.status),200!==s.status){if(400===s.status&&(n=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{var t=JSON.parse(s.responseText);if(t&&t.error)return r.Log.error("JsonService.postForm: Error from server: ",t.error),void a(new Error(t.error))}catch(o){return r.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error(s.statusText+" ("+s.status+")"))}else{var n;if((n=s.getResponseHeader("Content-Type"))&&u.find((function(e){if(n.startsWith(e))return!0})))try{return void o(JSON.parse(s.responseText))}catch(o){return r.Log.error("JsonService.postForm: Error parsing JSON response",o.message),void a(o)}a(Error("Invalid response Content-Type: "+n+", from URL: "+e))}},s.onerror=function(){r.Log.error("JsonService.postForm: network error"),a(Error("Network Error"))};var c="";for(var l in t){var f=t[l];f&&(c.length>0&&(c+="&"),c+=encodeURIComponent(l),c+="=",c+=encodeURIComponent(f))}s.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==n&&s.setRequestHeader("Authorization","Basic "+btoa(n)),s.send(c)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninRequest=void 0;var r=n(0),i=n(3),o=n(13);t.SigninRequest=function(){function e(t){var n=t.url,a=t.client_id,s=t.redirect_uri,u=t.response_type,c=t.scope,l=t.authority,f=t.data,d=t.prompt,h=t.display,p=t.max_age,v=t.ui_locales,g=t.id_token_hint,y=t.login_hint,m=t.acr_values,w=t.resource,_=t.response_mode,b=t.request,x=t.request_uri,S=t.extraQueryParams,k=t.request_type,E=t.client_secret,C=t.extraTokenParams,P=t.skipUserInfo;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!a)throw r.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!s)throw r.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!u)throw r.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!c)throw r.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!l)throw r.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var A=e.isOidc(u),T=e.isCode(u);_||(_=e.isCode(u)?"query":null),this.state=new o.SigninState({nonce:A,data:f,client_id:a,authority:l,redirect_uri:s,code_verifier:T,request_type:k,response_mode:_,client_secret:E,scope:c,extraTokenParams:C,skipUserInfo:P}),n=i.UrlUtility.addQueryParam(n,"client_id",a),n=i.UrlUtility.addQueryParam(n,"redirect_uri",s),n=i.UrlUtility.addQueryParam(n,"response_type",u),n=i.UrlUtility.addQueryParam(n,"scope",c),n=i.UrlUtility.addQueryParam(n,"state",this.state.id),A&&(n=i.UrlUtility.addQueryParam(n,"nonce",this.state.nonce)),T&&(n=i.UrlUtility.addQueryParam(n,"code_challenge",this.state.code_challenge),n=i.UrlUtility.addQueryParam(n,"code_challenge_method","S256"));var O={prompt:d,display:h,max_age:p,ui_locales:v,id_token_hint:g,login_hint:y,acr_values:m,resource:w,request:b,request_uri:x,response_mode:_};for(var I in O)O[I]&&(n=i.UrlUtility.addQueryParam(n,I,O[I]));for(var R in S)n=i.UrlUtility.addQueryParam(n,R,S[R]);this.url=n}return e.isOidc=function(e){return!!e.split(/\s+/g).filter((function(e){return"id_token"===e}))[0]},e.isOAuth=function(e){return!!e.split(/\s+/g).filter((function(e){return"token"===e}))[0]},e.isCode=function(e){return!!e.split(/\s+/g).filter((function(e){return"code"===e}))[0]},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.State=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.State=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id,r=t.data,i=t.created,s=t.request_type;a(this,e),this._id=n||(0,o.default)(),this._data=r,this._created="number"==typeof i&&i>0?i:parseInt(Date.now()/1e3),this._request_type=s}return e.prototype.toStorageString=function(){return i.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},e.fromStorageString=function(t){return i.Log.debug("State.fromStorageString"),new e(JSON.parse(t))},e.clearStaleState=function(t,n){var r=Date.now()/1e3-n;return t.getAllKeys().then((function(n){i.Log.debug("State.clearStaleState: got keys",n);for(var o=[],a=function(a){var s=n[a];u=t.get(s).then((function(n){var o=!1;if(n)try{var a=e.fromStorageString(n);i.Log.debug("State.clearStaleState: got item from key: ",s,a.created),a.created<=r&&(o=!0)}catch(e){i.Log.error("State.clearStaleState: Error parsing state for key",s,e.message),o=!0}else i.Log.debug("State.clearStaleState: no item in storage for key: ",s),o=!0;if(o)return i.Log.debug("State.clearStaleState: removed item for key: ",s),t.remove(s)})),o.push(u)},s=0;s<n.length;s++){var u;a(s)}return i.Log.debug("State.clearStaleState: waiting on promise count:",o.length),Promise.all(o)}))},r(e,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OidcClient=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(5),a=n(12),s=n(8),u=n(34),c=n(35),l=n(36),f=n(13),d=n(9);function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.OidcClient=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};h(this,e),t instanceof o.OidcClientSettings?this._settings=t:this._settings=new o.OidcClientSettings(t)}return e.prototype.createSigninRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.response_type,r=t.scope,o=t.redirect_uri,a=t.data,u=t.state,c=t.prompt,l=t.display,f=t.max_age,d=t.ui_locales,h=t.id_token_hint,p=t.login_hint,v=t.acr_values,g=t.resource,y=t.request,m=t.request_uri,w=t.response_mode,_=t.extraQueryParams,b=t.extraTokenParams,x=t.request_type,S=t.skipUserInfo,k=arguments[1];i.Log.debug("OidcClient.createSigninRequest");var E=this._settings.client_id;n=n||this._settings.response_type,r=r||this._settings.scope,o=o||this._settings.redirect_uri,c=c||this._settings.prompt,l=l||this._settings.display,f=f||this._settings.max_age,d=d||this._settings.ui_locales,v=v||this._settings.acr_values,g=g||this._settings.resource,w=w||this._settings.response_mode,_=_||this._settings.extraQueryParams,b=b||this._settings.extraTokenParams;var C=this._settings.authority;return s.SigninRequest.isCode(n)&&"code"!==n?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then((function(t){i.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",t);var P=new s.SigninRequest({url:t,client_id:E,redirect_uri:o,response_type:n,scope:r,data:a||u,authority:C,prompt:c,display:l,max_age:f,ui_locales:d,id_token_hint:h,login_hint:p,acr_values:v,resource:g,request:y,request_uri:m,extraQueryParams:_,extraTokenParams:b,request_type:x,response_mode:w,client_secret:e._settings.client_secret,skipUserInfo:S}),A=P.state;return(k=k||e._stateStore).set(A.id,A.toStorageString()).then((function(){return P}))}))},e.prototype.readSigninResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSigninResponseState");var r="query"===this._settings.response_mode||!this._settings.response_mode&&s.SigninRequest.isCode(this._settings.response_type),o=r?"?":"#",a=new u.SigninResponse(e,o);if(!a.state)return i.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response"));t=t||this._stateStore;var c=n?t.remove.bind(t):t.get.bind(t);return c(a.state).then((function(e){if(!e)throw i.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:f.SigninState.fromStorageString(e),response:a}}))},e.prototype.processSigninResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return i.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),n._validator.validateSigninResponse(t,r)}))},e.prototype.createSignoutRequest=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id_token_hint,r=t.data,o=t.state,a=t.post_logout_redirect_uri,s=t.extraQueryParams,u=t.request_type,l=arguments[1];return i.Log.debug("OidcClient.createSignoutRequest"),a=a||this._settings.post_logout_redirect_uri,s=s||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then((function(t){if(!t)throw i.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");i.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",t);var f=new c.SignoutRequest({url:t,id_token_hint:n,post_logout_redirect_uri:a,data:r||o,extraQueryParams:s,request_type:u}),d=f.state;return d&&(i.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(l=l||e._stateStore).set(d.id,d.toStorageString())),f}))},e.prototype.readSignoutResponseState=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];i.Log.debug("OidcClient.readSignoutResponseState");var r=new l.SignoutResponse(e);if(!r.state)return i.Log.debug("OidcClient.readSignoutResponseState: No state in response"),r.error?(i.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",r.error),Promise.reject(new a.ErrorResponse(r))):Promise.resolve({state:void 0,response:r});var o=r.state;t=t||this._stateStore;var s=n?t.remove.bind(t):t.get.bind(t);return s(o).then((function(e){if(!e)throw i.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:d.State.fromStorageString(e),response:r}}))},e.prototype.processSignoutResponse=function(e,t){var n=this;return i.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(e,t,!0).then((function(e){var t=e.state,r=e.response;return t?(i.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),n._validator.validateSignoutResponse(t,r)):(i.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),r)}))},e.prototype.clearStaleState=function(e){return i.Log.debug("OidcClient.clearStaleState"),e=e||this._stateStore,d.State.clearStaleState(e,this.settings.staleStateAge)},r(e,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenClient=void 0;var r=n(7),i=n(2),o=n(0);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.TokenClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw o.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n,this._metadataService=new s(this._settings)}return e.prototype.exchangeCode=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"authorization_code",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret,t.redirect_uri=t.redirect_uri||this._settings.redirect_uri;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.code?t.redirect_uri?t.code_verifier?t.client_id?t.client_secret||"client_secret_basic"!=r?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeCode: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeCode: response received"),e}))}))):(o.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(o.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(o.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(o.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},e.prototype.exchangeRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).grant_type=t.grant_type||"refresh_token",t.client_id=t.client_id||this._settings.client_id,t.client_secret=t.client_secret||this._settings.client_secret;var n=void 0,r=t._client_authentication||this._settings._client_authentication;return delete t._client_authentication,t.refresh_token?t.client_id?("client_secret_basic"==r&&(n=t.client_id+":"+t.client_secret,delete t.client_id,delete t.client_secret),this._metadataService.getTokenEndpoint(!1).then((function(r){return o.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),e._jsonService.postForm(r,t,n).then((function(e){return o.Log.debug("TokenClient.exchangeRefreshToken: response received"),e}))}))):(o.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(o.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorResponse=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.ErrorResponse=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=n.error,s=n.error_description,u=n.error_uri,c=n.state,l=n.session_state;if(i(this,t),!a)throw r.Log.error("No error passed to ErrorResponse"),new Error("error");var f=o(this,e.call(this,s||a));return f.name="ErrorResponse",f.error=a,f.error_description=s,f.error_uri=u,f.state=c,f.session_state=l,f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(Error)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninState=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(9),a=n(4),s=function(e){return e&&e.__esModule?e:{default:e}}(n(14));function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.SigninState=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.nonce,i=n.authority,o=n.client_id,l=n.redirect_uri,f=n.code_verifier,d=n.response_mode,h=n.client_secret,p=n.scope,v=n.extraTokenParams,g=n.skipUserInfo;u(this,t);var y=c(this,e.call(this,arguments[0]));if(!0===r?y._nonce=(0,s.default)():r&&(y._nonce=r),!0===f?y._code_verifier=(0,s.default)()+(0,s.default)()+(0,s.default)():f&&(y._code_verifier=f),y.code_verifier){var m=a.JoseUtil.hashString(y.code_verifier,"SHA256");y._code_challenge=a.JoseUtil.hexToBase64Url(m)}return y._redirect_uri=l,y._authority=i,y._client_id=o,y._response_mode=d,y._client_secret=h,y._scope=p,y._extraTokenParams=v,y._skipUserInfo=g,y}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.toStorageString=function(){return i.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},t.fromStorageString=function(e){return i.Log.debug("SigninState.fromStorageString"),new t(JSON.parse(e))},r(t,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),t}(o.State)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return("undefined"!=r&&null!==r&&void 0!==r.getRandomValues?i:o)().replace(/-/g,"")};var r="undefined"!=typeof window?window.crypto||window.msCrypto:null;function i(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^r.getRandomValues(new Uint8Array(1))[0]&15>>e/4).toString(16)}))}function o(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,(function(e){return(e^16*Math.random()>>e/4).toString(16)}))}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.User=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.User=function(){function e(t){var n=t.id_token,r=t.session_state,i=t.access_token,o=t.refresh_token,a=t.token_type,s=t.scope,u=t.profile,c=t.expires_at,l=t.state;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.id_token=n,this.session_state=r,this.access_token=i,this.refresh_token=o,this.token_type=a,this.scope=s,this.profile=u,this.expires_at=c,this.state=l}return e.prototype.toStorageString=function(){return i.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},e.fromStorageString=function(t){return i.Log.debug("User.fromStorageString"),new e(JSON.parse(t))},r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AccessTokenEvents=void 0;var r=n(0),i=n(46);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.AccessTokenEvents=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.accessTokenExpiringNotificationTime,r=void 0===n?60:n,a=t.accessTokenExpiringTimer,s=void 0===a?new i.Timer("Access token expiring"):a,u=t.accessTokenExpiredTimer,c=void 0===u?new i.Timer("Access token expired"):u;o(this,e),this._accessTokenExpiringNotificationTime=r,this._accessTokenExpiring=s,this._accessTokenExpired=c}return e.prototype.load=function(e){if(e.access_token&&void 0!==e.expires_in){var t=e.expires_in;if(r.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",t),t>0){var n=t-this._accessTokenExpiringNotificationTime;n<=0&&(n=1),r.Log.debug("AccessTokenEvents.load: registering expiring timer in:",n),this._accessTokenExpiring.init(n)}else r.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var i=t+1;r.Log.debug("AccessTokenEvents.load: registering expired timer in:",i),this._accessTokenExpired.init(i)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.unload=function(){r.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},e.prototype.addAccessTokenExpiring=function(e){this._accessTokenExpiring.addHandler(e)},e.prototype.removeAccessTokenExpiring=function(e){this._accessTokenExpiring.removeHandler(e)},e.prototype.addAccessTokenExpired=function(e){this._accessTokenExpired.addHandler(e)},e.prototype.removeAccessTokenExpired=function(e){this._accessTokenExpired.removeHandler(e)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Event=void 0;var r=n(0);t.Event=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=t,this._callbacks=[]}return e.prototype.addHandler=function(e){this._callbacks.push(e)},e.prototype.removeHandler=function(e){var t=this._callbacks.findIndex((function(t){return t===e}));t>=0&&this._callbacks.splice(t,1)},e.prototype.raise=function(){r.Log.debug("Event: Raising event: "+this._name);for(var e=0;e<this._callbacks.length;e++){var t;(t=this._callbacks)[e].apply(t,arguments)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionMonitor=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(19),a=n(1);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SessionMonitor=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.CheckSessionIFrame,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.Global.timer;if(s(this,e),!t)throw i.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=t,this._CheckSessionIFrameCtor=r,this._timer=u,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then((function(e){e?n._start(e):n._settings.monitorAnonymousSession&&n._userManager.querySessionStatus().then((function(e){var t={session_state:e.session_state};e.sub&&e.sid&&(t.profile={sub:e.sub,sid:e.sid}),n._start(t)})).catch((function(e){i.Log.error("SessionMonitor ctor: error from querySessionStatus:",e.message)}))})).catch((function(e){i.Log.error("SessionMonitor ctor: error from getUser:",e.message)})))}return e.prototype._start=function(e){var t=this,n=e.session_state;n&&(e.profile?(this._sub=e.profile.sub,this._sid=e.profile.sid,i.Log.debug("SessionMonitor._start: session_state:",n,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,i.Log.debug("SessionMonitor._start: session_state:",n,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(n):this._metadataService.getCheckSessionIframe().then((function(e){if(e){i.Log.debug("SessionMonitor._start: Initializing check session iframe");var r=t._client_id,o=t._checkSessionInterval,a=t._stopCheckSessionOnError;t._checkSessionIFrame=new t._CheckSessionIFrameCtor(t._callback.bind(t),r,e,o,a),t._checkSessionIFrame.load().then((function(){t._checkSessionIFrame.start(n)}))}else i.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")})).catch((function(e){i.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",e.message)})))},e.prototype._stop=function(){var e=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(i.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var t=this._timer.setInterval((function(){e._timer.clearInterval(t),e._userManager.querySessionStatus().then((function(t){var n={session_state:t.session_state};t.sub&&t.sid&&(n.profile={sub:t.sub,sid:t.sid}),e._start(n)})).catch((function(e){i.Log.error("SessionMonitor: error from querySessionStatus:",e.message)}))}),1e3)},e.prototype._callback=function(){var e=this;this._userManager.querySessionStatus().then((function(t){var n=!0;t?t.sub===e._sub?(n=!1,e._checkSessionIFrame.start(t.session_state),t.sid===e._sid?i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",t.session_state):(i.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",t.session_state),e._userManager.events._raiseUserSessionChanged())):i.Log.debug("SessionMonitor._callback: Different subject signed into OP:",t.sub):i.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),n&&(e._sub?(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),e._userManager.events._raiseUserSignedOut()):(i.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),e._userManager.events._raiseUserSignedIn()))})).catch((function(t){e._sub&&(i.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",t.message),e._userManager.events._raiseUserSignedOut())}))},r(e,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CheckSessionIFrame=void 0;var r=n(0);function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.CheckSessionIFrame=function(){function e(t,n,r,o){var a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];i(this,e),this._callback=t,this._client_id=n,this._url=r,this._interval=o||2e3,this._stopOnError=a;var s=r.indexOf("/",r.indexOf("//")+2);this._frame_origin=r.substr(0,s),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=r}return e.prototype.load=function(){var e=this;return new Promise((function(t){e._frame.onload=function(){t()},window.document.body.appendChild(e._frame),e._boundMessageEvent=e._message.bind(e),window.addEventListener("message",e._boundMessageEvent,!1)}))},e.prototype._message=function(e){e.origin===this._frame_origin&&e.source===this._frame.contentWindow&&("error"===e.data?(r.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===e.data?(r.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):r.Log.debug("CheckSessionIFrame: "+e.data+" message from check session op iframe"))},e.prototype.start=function(e){var t=this;if(this._session_state!==e){r.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=e;var n=function(){t._frame.contentWindow.postMessage(t._client_id+" "+t._session_state,t._frame_origin)};n(),this._timer=window.setInterval(n,this._interval)}},e.prototype.stop=function(){this._session_state=null,this._timer&&(r.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TokenRevocationClient=void 0;var r=n(0),i=n(2),o=n(1);function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="access_token",u="refresh_token";t.TokenRevocationClient=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.XMLHttpRequest,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService;if(a(this,e),!t)throw r.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=t,this._XMLHttpRequestCtor=n,this._metadataService=new s(this._settings)}return e.prototype.revoke=function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!e)throw r.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if(i!==s&&i!=u)throw r.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then((function(o){if(o){r.Log.debug("TokenRevocationClient.revoke: Revoking "+i);var a=n._settings.client_id,s=n._settings.client_secret;return n._revoke(o,a,s,e,i)}if(t)throw r.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")}))},e.prototype._revoke=function(e,t,n,i,o){var a=this;return new Promise((function(s,u){var c=new a._XMLHttpRequestCtor;c.open("POST",e),c.onload=function(){r.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",c.status),200===c.status?s():u(Error(c.statusText+" ("+c.status+")"))},c.onerror=function(){r.Log.debug("TokenRevocationClient.revoke: Network Error."),u("Network Error")};var l="client_id="+encodeURIComponent(t);n&&(l+="&client_secret="+encodeURIComponent(n)),l+="&token_type_hint="+encodeURIComponent(o),l+="&token="+encodeURIComponent(i),c.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),c.send(l)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.CordovaPopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this.features=t.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=t.popupWindowTarget||"_blank",this.redirect_uri=t.startUrl,i.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return e.prototype._isInAppBrowserInstalled=function(e){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some((function(t){return e.hasOwnProperty(t)}))},e.prototype.navigate=function(e){if(e&&e.url){if(!window.cordova)return this._error("cordova is undefined");var t=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(t))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(e.url,this.target,this.features),this._popup?(i.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},e.prototype._loadStartCallback=function(e){0===e.url.indexOf(this.redirect_uri)&&this._success({url:e.url})},e.prototype._exitCallback=function(e){this._error(e)},e.prototype._success=function(e){this._cleanup(),i.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._popup&&(i.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),i=n(10),o=n(5),a=n(6),s=n(37),u=n(38),c=n(16),l=n(2),f=n(48),d=n(49),h=n(19),p=n(20),v=n(18),g=n(1),y=n(15),m=n(50);t.default={Version:m.Version,Log:r.Log,OidcClient:i.OidcClient,OidcClientSettings:o.OidcClientSettings,WebStorageStateStore:a.WebStorageStateStore,InMemoryWebStorage:s.InMemoryWebStorage,UserManager:u.UserManager,AccessTokenEvents:c.AccessTokenEvents,MetadataService:l.MetadataService,CordovaPopupNavigator:f.CordovaPopupNavigator,CordovaIFrameNavigator:d.CordovaIFrameNavigator,CheckSessionIFrame:h.CheckSessionIFrame,TokenRevocationClient:p.TokenRevocationClient,SessionMonitor:v.SessionMonitor,Global:g.Global,User:y.User},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClockService=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResponseValidator=void 0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=n(0),o=n(2),a=n(25),s=n(11),u=n(12),c=n(4);function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];t.ResponseValidator=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.MetadataService,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.UserInfoService,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.JoseUtil,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:s.TokenClient;if(l(this,e),!t)throw i.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=t,this._metadataService=new n(this._settings),this._userInfoService=new r(this._settings),this._joseUtil=u,this._tokenClient=new f(this._settings)}return e.prototype.validateSigninResponse=function(e,t){var n=this;return i.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: state processed"),n._validateTokens(e,t).then((function(t){return i.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),n._processClaims(e,t).then((function(e){return i.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),e}))}))}))},e.prototype.validateSignoutResponse=function(e,t){return e.id!==t.state?(i.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(i.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):Promise.resolve(t))},e.prototype._processSigninParams=function(e,t){if(e.id!==t.state)return i.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!e.client_id)return i.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!e.authority)return i.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==e.authority)return i.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=e.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==e.client_id)return i.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=e.client_id;return i.Log.debug("ResponseValidator._processSigninParams: state validated"),t.state=e.data,t.error?(i.Log.warn("ResponseValidator._processSigninParams: Response was error",t.error),Promise.reject(new u.ErrorResponse(t))):e.nonce&&!t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!e.nonce&&t.id_token?(i.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):e.code_verifier&&!t.code?(i.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!e.code_verifier&&t.code?(i.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(t.scope||(t.scope=e.scope),Promise.resolve(t))},e.prototype._processClaims=function(e,t){var n=this;if(t.isOpenIdConnect){if(i.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),t.profile=this._filterProtocolClaims(t.profile),!0!==e.skipUserInfo&&this._settings.loadUserInfo&&t.access_token)return i.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(t.access_token).then((function(e){return i.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),e.sub!==t.profile.sub?(i.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(t.profile=n._mergeClaims(t.profile,e),i.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",t.profile),t)}));i.Log.debug("ResponseValidator._processClaims: not loading user info")}else i.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(t)},e.prototype._mergeClaims=function(e,t){var n=Object.assign({},e);for(var i in t){var o=t[i];Array.isArray(o)||(o=[o]);for(var a=0;a<o.length;a++){var s=o[a];n[i]?Array.isArray(n[i])?n[i].indexOf(s)<0&&n[i].push(s):n[i]!==s&&("object"===(void 0===s?"undefined":r(s))&&this._settings.mergeClaims?n[i]=this._mergeClaims(n[i],s):n[i]=[n[i],s]):n[i]=s}}return n},e.prototype._filterProtocolClaims=function(e){i.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",e);var t=Object.assign({},e);return this._settings._filterProtocolClaims?(f.forEach((function(e){delete t[e]})),i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",t)):i.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),t},e.prototype._validateTokens=function(e,t){return t.code?(i.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode(e,t)):t.id_token?t.access_token?(i.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken(e,t)):(i.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(t))},e.prototype._processCode=function(e,t){var n=this,o={client_id:e.client_id,client_secret:e.client_secret,code:t.code,redirect_uri:e.redirect_uri,code_verifier:e.code_verifier};return e.extraTokenParams&&"object"===r(e.extraTokenParams)&&Object.assign(o,e.extraTokenParams),this._tokenClient.exchangeCode(o).then((function(r){for(var o in r)t[o]=r[o];return t.id_token?(i.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),n._validateIdTokenAttributes(e,t)):(i.Log.debug("ResponseValidator._processCode: token response successful, returning response"),t)}))},e.prototype._validateIdTokenAttributes=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){var o=e.client_id,a=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",a),n._settings.getEpochTime().then((function(s){return n._joseUtil.validateJwtAttributes(t.id_token,r,o,a,s).then((function(n){return e.nonce&&e.nonce!==n.nonce?(i.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):n.sub?(t.profile=n,t):(i.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))}))},e.prototype._validateIdTokenAndAccessToken=function(e,t){var n=this;return this._validateIdToken(e,t).then((function(e){return n._validateAccessToken(e)}))},e.prototype._getSigningKeyForJwt=function(e){var t=this;return this._metadataService.getSigningKeys().then((function(n){var r=e.header.kid;if(!n)return i.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));i.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var o=void 0;if(r)o=n.filter((function(e){return e.kid===r}))[0];else{if((n=t._filterByAlg(n,e.header.alg)).length>1)return i.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));o=n[0]}return Promise.resolve(o)}))},e.prototype._getSigningKeyForJwtWithSingleRetry=function(e){var t=this;return this._getSigningKeyForJwt(e).then((function(n){return n?Promise.resolve(n):(t._metadataService.resetSigningKeys(),t._getSigningKeyForJwt(e))}))},e.prototype._validateIdToken=function(e,t){var n=this;if(!e.nonce)return i.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var r=this._joseUtil.parseJwt(t.id_token);return r&&r.header&&r.payload?e.nonce!==r.payload.nonce?(i.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then((function(o){return i.Log.debug("ResponseValidator._validateIdToken: Received issuer"),n._getSigningKeyForJwtWithSingleRetry(r).then((function(a){if(!a)return i.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var s=e.client_id,u=n._settings.clockSkew;return i.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",u),n._joseUtil.validateJwt(t.id_token,a,o,s,u).then((function(){return i.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),r.payload.sub?(t.profile=r.payload,t):(i.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))}))}))})):(i.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",r),Promise.reject(new Error("Failed to parse id_token")))},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return i.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",t),[];n="EC"}return i.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),i.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",n,e.length),e},e.prototype._validateAccessToken=function(e){if(!e.profile)return i.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!e.profile.at_hash)return i.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!e.id_token)return i.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var t=this._joseUtil.parseJwt(e.id_token);if(!t||!t.header)return i.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",t),Promise.reject(new Error("Failed to parse id_token"));var n=t.header.alg;if(!n||5!==n.length)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n),Promise.reject(new Error("Unsupported alg: "+n));var r=n.substr(2,3);if(!r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));if(256!==(r=parseInt(r))&&384!==r&&512!==r)return i.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",n,r),Promise.reject(new Error("Unsupported alg: "+n));var o="sha"+r,a=this._joseUtil.hashString(e.access_token,o);if(!a)return i.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",o),Promise.reject(new Error("Failed to validate at_hash"));var s=a.substr(0,a.length/2),u=this._joseUtil.hexToBase64Url(s);return u!==e.profile.at_hash?(i.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",u,e.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(i.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve(e))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserInfoService=void 0;var r=n(7),i=n(2),o=n(0),a=n(4);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.UserInfoService=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.JsonService,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.MetadataService,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:a.JoseUtil;if(s(this,e),!t)throw o.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=t,this._jsonService=new n(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new u(this._settings),this._joseUtil=c}return e.prototype.getClaims=function(e){var t=this;return e?this._metadataService.getUserInfoEndpoint().then((function(n){return o.Log.debug("UserInfoService.getClaims: received userinfo url",n),t._jsonService.getJson(n,e).then((function(e){return o.Log.debug("UserInfoService.getClaims: claims received",e),e}))})):(o.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},e.prototype._getClaimsFromJwt=function e(t){var n=this;try{var r=this._joseUtil.parseJwt(t.responseText);if(!r||!r.header||!r.payload)return o.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",r),Promise.reject(new Error("Failed to parse id_token"));var i=r.header.kid,a=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":a=this._metadataService.getIssuer();break;case"ANY":a=Promise.resolve(r.payload.iss);break;default:a=Promise.resolve(this._settings.userInfoJwtIssuer)}return a.then((function(e){return o.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+e),n._metadataService.getSigningKeys().then((function(a){if(!a)return o.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));o.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var s=void 0;if(i)s=a.filter((function(e){return e.kid===i}))[0];else{if((a=n._filterByAlg(a,r.header.alg)).length>1)return o.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));s=a[0]}if(!s)return o.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var u=n._settings.client_id,c=n._settings.clockSkew;return o.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",c),n._joseUtil.validateJwt(t.responseText,s,e,u,c,void 0,!0).then((function(){return o.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),r.payload}))}))}))}catch(e){return o.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",e.message),void reject(e)}},e.prototype._filterByAlg=function(e,t){var n=null;if(t.startsWith("RS"))n="RSA";else if(t.startsWith("PS"))n="PS";else{if(!t.startsWith("ES"))return o.Log.debug("UserInfoService._filterByAlg: alg not supported: ",t),[];n="EC"}return o.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",n),e=e.filter((function(e){return e.kty===n})),o.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",n,e.length),e},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AllowedSigningAlgs=t.b64tohex=t.hextob64u=t.crypto=t.X509=t.KeyUtil=t.jws=void 0;var r=n(27);t.jws=r.jws,t.KeyUtil=r.KEYUTIL,t.X509=r.X509,t.crypto=r.crypto,t.hextob64u=r.hextob64u,t.b64tohex=r.b64tohex,t.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n,r,i,o,a,s,u,c,l,f,d,h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p={userAgent:!1},v={},g=g||(n=Math,i=(r={}).lib={},o=i.Base=function(){function e(){}return{extend:function(t){e.prototype=this;var n=new e;return t&&n.mixIn(t),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),n.init.prototype=n,n.$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),a=i.WordArray=o.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||u).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(o=0;o<i;o+=4)t[r+o>>>2]=n[o>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,t=this.sigBytes;e[t>>>2]&=4294967295<<32-t%4*8,e.length=n.ceil(t/4)},clone:function(){var e=o.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],r=0;r<e;r+=4)t.push(4294967296*n.random()|0);return new a.init(t,e)}}),s=r.enc={},u=s.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new a.init(n,t/2)}},c=s.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new a.init(n,t)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},f=i.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(e){var t=this._data,r=t.words,i=t.sigBytes,o=this.blockSize,s=i/(4*o),u=(s=e?n.ceil(s):n.max((0|s)-this._minBufferSize,0))*o,c=n.min(4*u,i);if(u){for(var l=0;l<u;l+=o)this._doProcessBlock(r,l);var f=r.splice(0,u);t.sigBytes-=c}return new a.init(f,c)},clone:function(){var e=o.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),i.Hasher=f.extend({cfg:o.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new d.HMAC.init(e,n).finalize(t)}}}),d=r.algo={},r);!function(e){var t,n=(t=g).lib,r=n.Base,i=n.WordArray;(t=t.x64={}).Word=r.extend({init:function(e,t){this.high=e,this.low=t}}),t.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var o=e[r];n.push(o.high),n.push(o.low)}return i.create(n,this.sigBytes)},clone:function(){for(var e=r.clone.call(this),t=e.words=this.words.slice(0),n=t.length,i=0;i<n;i++)t[i]=t[i].clone();return e}})}(),function(){var e=g,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp(),e=[];for(var i=0;i<n;i+=3)for(var o=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,a=0;4>a&&i+.75*a<n;a++)e.push(r.charAt(o>>>6*(3-a)&63));if(t=r.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,r=this._map;(i=r.charAt(64))&&-1!=(i=e.indexOf(i))&&(n=i);for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r.indexOf(e.charAt(a-1))<<a%4*2,u=r.indexOf(e.charAt(a))>>>6-a%4*2;i[o>>>2]|=(s|u)<<24-o%4*8,o++}return t.create(i,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){for(var t=g,n=(i=t.lib).WordArray,r=i.Hasher,i=t.algo,o=[],a=[],s=function(e){return 4294967296*(e-(0|e))|0},u=2,c=0;64>c;){var l;e:{l=u;for(var f=e.sqrt(l),d=2;d<=f;d++)if(!(l%d)){l=!1;break e}l=!0}l&&(8>c&&(o[c]=s(e.pow(u,.5))),a[c]=s(e.pow(u,1/3)),c++),u++}var h=[];i=i.SHA256=r.extend({_doReset:function(){this._hash=new n.init(o.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],s=n[3],u=n[4],c=n[5],l=n[6],f=n[7],d=0;64>d;d++){if(16>d)h[d]=0|e[t+d];else{var p=h[d-15],v=h[d-2];h[d]=((p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3)+h[d-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+h[d-16]}p=f+((u<<26|u>>>6)^(u<<21|u>>>11)^(u<<7|u>>>25))+(u&c^~u&l)+a[d]+h[d],v=((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+(r&i^r&o^i&o),f=l,l=c,c=u,u=s+p|0,s=o,o=i,i=r,r=p+v|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+s|0,n[4]=n[4]+u|0,n[5]=n[5]+c|0,n[6]=n[6]+l|0,n[7]=n[7]+f|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=r.clone.call(this);return e._hash=this._hash.clone(),e}}),t.SHA256=r._createHelper(i),t.HmacSHA256=r._createHmacHelper(i)}(Math),function(){function e(){return r.create.apply(r,arguments)}for(var t=g,n=t.lib.Hasher,r=(o=t.x64).Word,i=o.WordArray,o=t.algo,a=[e(1116352408,3609767458),e(1899447441,602891725),e(3049323471,3964484399),e(3921009573,2173295548),e(961987163,4081628472),e(1508970993,3053834265),e(2453635748,2937671579),e(2870763221,3664609560),e(3624381080,2734883394),e(310598401,1164996542),e(607225278,1323610764),e(1426881987,3590304994),e(1925078388,4068182383),e(2162078206,991336113),e(2614888103,633803317),e(3248222580,3479774868),e(3835390401,2666613458),e(4022224774,944711139),e(264347078,2341262773),e(604807628,2007800933),e(770255983,1495990901),e(1249150122,1856431235),e(1555081692,3175218132),e(1996064986,2198950837),e(2554220882,3999719339),e(2821834349,766784016),e(2952996808,2566594879),e(3210313671,3203337956),e(3336571891,1034457026),e(3584528711,2466948901),e(113926993,3758326383),e(338241895,168717936),e(666307205,1188179964),e(773529912,1546045734),e(1294757372,1522805485),e(1396182291,2643833823),e(1695183700,2343527390),e(1986661051,1014477480),e(2177026350,1206759142),e(2456956037,344077627),e(2730485921,1290863460),e(2820302411,3158454273),e(3259730800,3505952657),e(3345764771,106217008),e(3516065817,3606008344),e(3600352804,1432725776),e(4094571909,1467031594),e(275423344,851169720),e(430227734,3100823752),e(506948616,1363258195),e(659060556,3750685593),e(883997877,3785050280),e(958139571,3318307427),e(1322822218,3812723403),e(1537002063,2003034995),e(1747873779,3602036899),e(1955562222,1575990012),e(2024104815,1125592928),e(2227730452,2716904306),e(2361852424,442776044),e(2428436474,593698344),e(2756734187,3733110249),e(3204031479,2999351573),e(3329325298,3815920427),e(3391569614,3928383900),e(3515267271,566280711),e(3940187606,3454069534),e(4118630271,4000239992),e(116418474,1914138554),e(174292421,2731055270),e(289380356,3203993006),e(460393269,320620315),e(685471733,587496836),e(852142971,1086792851),e(1017036298,365543100),e(1126000580,2618297676),e(1288033470,3409855158),e(1501505948,4234509866),e(1607167915,987167468),e(1816402316,1246189591)],s=[],u=0;80>u;u++)s[u]=e();o=o.SHA512=n.extend({_doReset:function(){this._hash=new i.init([new r.init(1779033703,4089235720),new r.init(3144134277,2227873595),new r.init(1013904242,4271175723),new r.init(2773480762,1595750129),new r.init(1359893119,2917565137),new r.init(2600822924,725511199),new r.init(528734635,4215389547),new r.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=(f=this._hash.words)[0],r=f[1],i=f[2],o=f[3],u=f[4],c=f[5],l=f[6],f=f[7],d=n.high,h=n.low,p=r.high,v=r.low,g=i.high,y=i.low,m=o.high,w=o.low,_=u.high,b=u.low,x=c.high,S=c.low,k=l.high,E=l.low,C=f.high,P=f.low,A=d,T=h,O=p,I=v,R=g,L=y,F=m,M=w,j=_,D=b,N=x,U=S,Z=k,B=E,H=C,z=P,K=0;80>K;K++){var V=s[K];if(16>K)var W=V.high=0|e[t+2*K],q=V.low=0|e[t+2*K+1];else{W=((q=(W=s[K-15]).high)>>>1|(G=W.low)<<31)^(q>>>8|G<<24)^q>>>7;var G=(G>>>1|q<<31)^(G>>>8|q<<24)^(G>>>7|q<<25),J=((q=(J=s[K-2]).high)>>>19|(Q=J.low)<<13)^(q<<3|Q>>>29)^q>>>6,Q=(Q>>>19|q<<13)^(Q<<3|q>>>29)^(Q>>>6|q<<26),Y=(q=s[K-7]).high,X=($=s[K-16]).high,$=$.low;W=(W=(W=W+Y+((q=G+q.low)>>>0<G>>>0?1:0))+J+((q+=Q)>>>0<Q>>>0?1:0))+X+((q+=$)>>>0<$>>>0?1:0),V.high=W,V.low=q}Y=j&N^~j&Z,$=D&U^~D&B,V=A&O^A&R^O&R;var ee=T&I^T&L^I&L,te=(G=(A>>>28|T<<4)^(A<<30|T>>>2)^(A<<25|T>>>7),J=(T>>>28|A<<4)^(T<<30|A>>>2)^(T<<25|A>>>7),(Q=a[K]).high),ne=Q.low;X=H+((j>>>14|D<<18)^(j>>>18|D<<14)^(j<<23|D>>>9))+((Q=z+((D>>>14|j<<18)^(D>>>18|j<<14)^(D<<23|j>>>9)))>>>0<z>>>0?1:0),H=Z,z=B,Z=N,B=U,N=j,U=D,j=F+(X=(X=(X=X+Y+((Q+=$)>>>0<$>>>0?1:0))+te+((Q+=ne)>>>0<ne>>>0?1:0))+W+((Q+=q)>>>0<q>>>0?1:0))+((D=M+Q|0)>>>0<M>>>0?1:0)|0,F=R,M=L,R=O,L=I,O=A,I=T,A=X+(V=G+V+((q=J+ee)>>>0<J>>>0?1:0))+((T=Q+q|0)>>>0<Q>>>0?1:0)|0}h=n.low=h+T,n.high=d+A+(h>>>0<T>>>0?1:0),v=r.low=v+I,r.high=p+O+(v>>>0<I>>>0?1:0),y=i.low=y+L,i.high=g+R+(y>>>0<L>>>0?1:0),w=o.low=w+M,o.high=m+F+(w>>>0<M>>>0?1:0),b=u.low=b+D,u.high=_+j+(b>>>0<D>>>0?1:0),S=c.low=S+U,c.high=x+N+(S>>>0<U>>>0?1:0),E=l.low=E+B,l.high=k+Z+(E>>>0<B>>>0?1:0),P=f.low=P+z,f.high=C+H+(P>>>0<z>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32}),t.SHA512=n._createHelper(o),t.HmacSHA512=n._createHmacHelper(o)}(),function(){var e=g,t=(i=e.x64).Word,n=i.WordArray,r=(i=e.algo).SHA512,i=i.SHA384=r.extend({_doReset:function(){this._hash=new n.init([new t.init(3418070365,3238371032),new t.init(1654270250,914150663),new t.init(2438529370,812702999),new t.init(355462360,4144912697),new t.init(1731405415,4290775857),new t.init(2394180231,1750603025),new t.init(3675008525,1694076839),new t.init(1203062813,3204075428)])},_doFinalize:function(){var e=r._doFinalize.call(this);return e.sigBytes-=16,e}});e.SHA384=r._createHelper(i),e.HmacSHA384=r._createHmacHelper(i)}();var y,m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function w(e){var t,n,r="";for(t=0;t+3<=e.length;t+=3)n=parseInt(e.substring(t,t+3),16),r+=m.charAt(n>>6)+m.charAt(63&n);for(t+1==e.length?(n=parseInt(e.substring(t,t+1),16),r+=m.charAt(n<<2)):t+2==e.length&&(n=parseInt(e.substring(t,t+2),16),r+=m.charAt(n>>2)+m.charAt((3&n)<<4));(3&r.length)>0;)r+="=";return r}function _(e){var t,n,r,i="",o=0;for(t=0;t<e.length&&"="!=e.charAt(t);++t)(r=m.indexOf(e.charAt(t)))<0||(0==o?(i+=P(r>>2),n=3&r,o=1):1==o?(i+=P(n<<2|r>>4),n=15&r,o=2):2==o?(i+=P(n),i+=P(r>>2),n=3&r,o=3):(i+=P(n<<2|r>>4),i+=P(15&r),o=0));return 1==o&&(i+=P(n<<2)),i}function b(e){var t,n=_(e),r=new Array;for(t=0;2*t<n.length;++t)r[t]=parseInt(n.substring(2*t,2*t+2),16);return r}function x(e,t,n){null!=e&&("number"==typeof e?this.fromNumber(e,t,n):null==t&&"string"!=typeof e?this.fromString(e,256):this.fromString(e,t))}function S(){return new x(null)}"Microsoft Internet Explorer"==p.appName?(x.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],c=this[e++]>>15,l=s*u+c*a;i=((u=a*u+((32767&l)<<15)+n[r]+(1073741823&i))>>>30)+(l>>>15)+s*c+(i>>>30),n[r++]=1073741823&u}return i},y=30):"Netscape"!=p.appName?(x.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},y=26):(x.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],c=this[e++]>>14,l=s*u+c*a;i=((u=a*u+((16383&l)<<14)+n[r]+i)>>28)+(l>>14)+s*c,n[r++]=268435455&u}return i},y=28),x.prototype.DB=y,x.prototype.DM=(1<<y)-1,x.prototype.DV=1<<y,x.prototype.FV=Math.pow(2,52),x.prototype.F1=52-y,x.prototype.F2=2*y-52;var k,E,C=new Array;for(k="0".charCodeAt(0),E=0;E<=9;++E)C[k++]=E;for(k="a".charCodeAt(0),E=10;E<36;++E)C[k++]=E;for(k="A".charCodeAt(0),E=10;E<36;++E)C[k++]=E;function P(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function A(e,t){var n=C[e.charCodeAt(t)];return null==n?-1:n}function T(e){var t=S();return t.fromInt(e),t}function O(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function I(e){this.m=e}function R(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function L(e,t){return e&t}function F(e,t){return e|t}function M(e,t){return e^t}function j(e,t){return e&~t}function D(e){if(0==e)return-1;var t=0;return 0==(65535&e)&&(e>>=16,t+=16),0==(255&e)&&(e>>=8,t+=8),0==(15&e)&&(e>>=4,t+=4),0==(3&e)&&(e>>=2,t+=2),0==(1&e)&&++t,t}function N(e){for(var t=0;0!=e;)e&=e-1,++t;return t}function U(){}function Z(e){return e}function B(e){this.r2=S(),this.q3=S(),x.ONE.dlShiftTo(2*e.t,this.r2),this.mu=this.r2.divide(e),this.m=e}I.prototype.convert=function(e){return e.s<0||e.compareTo(this.m)>=0?e.mod(this.m):e},I.prototype.revert=function(e){return e},I.prototype.reduce=function(e){e.divRemTo(this.m,null,e)},I.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},I.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},R.prototype.convert=function(e){var t=S();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(x.ZERO)>0&&this.m.subTo(t,t),t},R.prototype.revert=function(e){var t=S();return e.copyTo(t),this.reduce(t),t},R.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},R.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},R.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},x.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},x.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},x.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(256==t)n=8;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)return void this.fromRadix(e,t);n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=8==n?255&e[r]:A(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}8==n&&0!=(128&e[0])&&(this.s=-1,o>0&&(this[this.t-1]|=(1<<this.DB-o)-1<<o)),this.clamp(),i&&x.ZERO.subTo(this,this)},x.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},x.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},x.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},x.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},x.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},x.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},x.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&x.ZERO.subTo(t,t)},x.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},x.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=S());var o=S(),a=this.s,s=e.s,u=this.DB-O(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var c=o.t,l=o[c-1];if(0!=l){var f=l*(1<<this.F1)+(c>1?o[c-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,v=n.t,g=v-c,y=null==t?S():t;for(o.dlShiftTo(g,y),n.compareTo(y)>=0&&(n[n.t++]=1,n.subTo(y,n)),x.ONE.dlShiftTo(c,y),y.subTo(o,o);o.t<c;)o[o.t++]=0;for(;--g>=0;){var m=n[--v]==l?this.DM:Math.floor(n[v]*d+(n[v-1]+p)*h);if((n[v]+=o.am(0,m,n,g,0,c))<m)for(o.dlShiftTo(g,y),n.subTo(y,n);n[v]<--m;)n.subTo(y,n)}null!=t&&(n.drShiftTo(c,t),a!=s&&x.ZERO.subTo(t,t)),n.t=c,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&x.ZERO.subTo(n,n)}}},x.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},x.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},x.prototype.exp=function(e,t){if(e>4294967295||e<1)return x.ONE;var n=S(),r=S(),i=t.convert(this),o=O(e)-1;for(i.copyTo(n);--o>=0;)if(t.sqrTo(n,r),(e&1<<o)>0)t.mulTo(r,i,n);else{var a=n;n=r,r=a}return t.revert(n)},x.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)return this.toRadix(e);t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-- >0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=P(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=P(n));return i?o:"0"},x.prototype.negate=function(){var e=S();return x.ZERO.subTo(this,e),e},x.prototype.abs=function(){return this.s<0?this.negate():this},x.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},x.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+O(this[this.t-1]^this.s&this.DM)},x.prototype.mod=function(e){var t=S();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(x.ZERO)>0&&e.subTo(t,t),t},x.prototype.modPowInt=function(e,t){var n;return n=e<256||t.isEven()?new I(t):new R(t),this.exp(e,n)},x.ZERO=T(0),x.ONE=T(1),U.prototype.convert=Z,U.prototype.revert=Z,U.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n)},U.prototype.sqrTo=function(e,t){e.squareTo(t)},B.prototype.convert=function(e){if(e.s<0||e.t>2*this.m.t)return e.mod(this.m);if(e.compareTo(this.m)<0)return e;var t=S();return e.copyTo(t),this.reduce(t),t},B.prototype.revert=function(e){return e},B.prototype.reduce=function(e){for(e.drShiftTo(this.m.t-1,this.r2),e.t>this.m.t+1&&(e.t=this.m.t+1,e.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);e.compareTo(this.r2)<0;)e.dAddOffset(1,this.m.t+1);for(e.subTo(this.r2,e);e.compareTo(this.m)>=0;)e.subTo(this.m,e)},B.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},B.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)};var H,z,K,V=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],W=(1<<26)/V[V.length-1];function q(){this.i=0,this.j=0,this.S=new Array}function G(){!function(e){z[K++]^=255&e,z[K++]^=e>>8&255,z[K++]^=e>>16&255,z[K++]^=e>>24&255,K>=256&&(K-=256)}((new Date).getTime())}if(x.prototype.chunkSize=function(e){return Math.floor(Math.LN2*this.DB/Math.log(e))},x.prototype.toRadix=function(e){if(null==e&&(e=10),0==this.signum()||e<2||e>36)return"0";var t=this.chunkSize(e),n=Math.pow(e,t),r=T(n),i=S(),o=S(),a="";for(this.divRemTo(r,i,o);i.signum()>0;)a=(n+o.intValue()).toString(e).substr(1)+a,i.divRemTo(r,i,o);return o.intValue().toString(e)+a},x.prototype.fromRadix=function(e,t){this.fromInt(0),null==t&&(t=10);for(var n=this.chunkSize(t),r=Math.pow(t,n),i=!1,o=0,a=0,s=0;s<e.length;++s){var u=A(e,s);u<0?"-"==e.charAt(s)&&0==this.signum()&&(i=!0):(a=t*a+u,++o>=n&&(this.dMultiply(r),this.dAddOffset(a,0),o=0,a=0))}o>0&&(this.dMultiply(Math.pow(t,o)),this.dAddOffset(a,0)),i&&x.ZERO.subTo(this,this)},x.prototype.fromNumber=function(e,t,n){if("number"==typeof t)if(e<2)this.fromInt(1);else for(this.fromNumber(e,n),this.testBit(e-1)||this.bitwiseTo(x.ONE.shiftLeft(e-1),F,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(t);)this.dAddOffset(2,0),this.bitLength()>e&&this.subTo(x.ONE.shiftLeft(e-1),this);else{var r=new Array,i=7&e;r.length=1+(e>>3),t.nextBytes(r),i>0?r[0]&=(1<<i)-1:r[0]=0,this.fromString(r,256)}},x.prototype.bitwiseTo=function(e,t,n){var r,i,o=Math.min(e.t,this.t);for(r=0;r<o;++r)n[r]=t(this[r],e[r]);if(e.t<this.t){for(i=e.s&this.DM,r=o;r<this.t;++r)n[r]=t(this[r],i);n.t=this.t}else{for(i=this.s&this.DM,r=o;r<e.t;++r)n[r]=t(i,e[r]);n.t=e.t}n.s=t(this.s,e.s),n.clamp()},x.prototype.changeBit=function(e,t){var n=x.ONE.shiftLeft(e);return this.bitwiseTo(n,t,n),n},x.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},x.prototype.dMultiply=function(e){this[this.t]=this.am(0,e-1,this,0,0,this.t),++this.t,this.clamp()},x.prototype.dAddOffset=function(e,t){if(0!=e){for(;this.t<=t;)this[this.t++]=0;for(this[t]+=e;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}},x.prototype.multiplyLowerTo=function(e,t,n){var r,i=Math.min(this.t+e.t,t);for(n.s=0,n.t=i;i>0;)n[--i]=0;for(r=n.t-this.t;i<r;++i)n[i+this.t]=this.am(0,e[i],n,i,0,this.t);for(r=Math.min(e.t,t);i<r;++i)this.am(0,e[i],n,i,0,t-i);n.clamp()},x.prototype.multiplyUpperTo=function(e,t,n){--t;var r=n.t=this.t+e.t-t;for(n.s=0;--r>=0;)n[r]=0;for(r=Math.max(t-this.t,0);r<e.t;++r)n[this.t+r-t]=this.am(t-r,e[r],n,0,0,this.t+r-t);n.clamp(),n.drShiftTo(1,n)},x.prototype.modInt=function(e){if(e<=0)return 0;var t=this.DV%e,n=this.s<0?e-1:0;if(this.t>0)if(0==t)n=this[0]%e;else for(var r=this.t-1;r>=0;--r)n=(t*n+this[r])%e;return n},x.prototype.millerRabin=function(e){var t=this.subtract(x.ONE),n=t.getLowestSetBit();if(n<=0)return!1;var r=t.shiftRight(n);(e=e+1>>1)>V.length&&(e=V.length);for(var i=S(),o=0;o<e;++o){i.fromInt(V[Math.floor(Math.random()*V.length)]);var a=i.modPow(r,this);if(0!=a.compareTo(x.ONE)&&0!=a.compareTo(t)){for(var s=1;s++<n&&0!=a.compareTo(t);)if(0==(a=a.modPowInt(2,this)).compareTo(x.ONE))return!1;if(0!=a.compareTo(t))return!1}}return!0},x.prototype.clone=function(){var e=S();return this.copyTo(e),e},x.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},x.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},x.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},x.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},x.prototype.toByteArray=function(){var e=this.t,t=new Array;t[0]=this.s;var n,r=this.DB-e*this.DB%8,i=0;if(e-- >0)for(r<this.DB&&(n=this[e]>>r)!=(this.s&this.DM)>>r&&(t[i++]=n|this.s<<this.DB-r);e>=0;)r<8?(n=(this[e]&(1<<r)-1)<<8-r,n|=this[--e]>>(r+=this.DB-8)):(n=this[e]>>(r-=8)&255,r<=0&&(r+=this.DB,--e)),0!=(128&n)&&(n|=-256),0==i&&(128&this.s)!=(128&n)&&++i,(i>0||n!=this.s)&&(t[i++]=n);return t},x.prototype.equals=function(e){return 0==this.compareTo(e)},x.prototype.min=function(e){return this.compareTo(e)<0?this:e},x.prototype.max=function(e){return this.compareTo(e)>0?this:e},x.prototype.and=function(e){var t=S();return this.bitwiseTo(e,L,t),t},x.prototype.or=function(e){var t=S();return this.bitwiseTo(e,F,t),t},x.prototype.xor=function(e){var t=S();return this.bitwiseTo(e,M,t),t},x.prototype.andNot=function(e){var t=S();return this.bitwiseTo(e,j,t),t},x.prototype.not=function(){for(var e=S(),t=0;t<this.t;++t)e[t]=this.DM&~this[t];return e.t=this.t,e.s=~this.s,e},x.prototype.shiftLeft=function(e){var t=S();return e<0?this.rShiftTo(-e,t):this.lShiftTo(e,t),t},x.prototype.shiftRight=function(e){var t=S();return e<0?this.lShiftTo(-e,t):this.rShiftTo(e,t),t},x.prototype.getLowestSetBit=function(){for(var e=0;e<this.t;++e)if(0!=this[e])return e*this.DB+D(this[e]);return this.s<0?this.t*this.DB:-1},x.prototype.bitCount=function(){for(var e=0,t=this.s&this.DM,n=0;n<this.t;++n)e+=N(this[n]^t);return e},x.prototype.testBit=function(e){var t=Math.floor(e/this.DB);return t>=this.t?0!=this.s:0!=(this[t]&1<<e%this.DB)},x.prototype.setBit=function(e){return this.changeBit(e,F)},x.prototype.clearBit=function(e){return this.changeBit(e,j)},x.prototype.flipBit=function(e){return this.changeBit(e,M)},x.prototype.add=function(e){var t=S();return this.addTo(e,t),t},x.prototype.subtract=function(e){var t=S();return this.subTo(e,t),t},x.prototype.multiply=function(e){var t=S();return this.multiplyTo(e,t),t},x.prototype.divide=function(e){var t=S();return this.divRemTo(e,t,null),t},x.prototype.remainder=function(e){var t=S();return this.divRemTo(e,null,t),t},x.prototype.divideAndRemainder=function(e){var t=S(),n=S();return this.divRemTo(e,t,n),new Array(t,n)},x.prototype.modPow=function(e,t){var n,r,i=e.bitLength(),o=T(1);if(i<=0)return o;n=i<18?1:i<48?3:i<144?4:i<768?5:6,r=i<8?new I(t):t.isEven()?new B(t):new R(t);var a=new Array,s=3,u=n-1,c=(1<<n)-1;if(a[1]=r.convert(this),n>1){var l=S();for(r.sqrTo(a[1],l);s<=c;)a[s]=S(),r.mulTo(l,a[s-2],a[s]),s+=2}var f,d,h=e.t-1,p=!0,v=S();for(i=O(e[h])-1;h>=0;){for(i>=u?f=e[h]>>i-u&c:(f=(e[h]&(1<<i+1)-1)<<u-i,h>0&&(f|=e[h-1]>>this.DB+i-u)),s=n;0==(1&f);)f>>=1,--s;if((i-=s)<0&&(i+=this.DB,--h),p)a[f].copyTo(o),p=!1;else{for(;s>1;)r.sqrTo(o,v),r.sqrTo(v,o),s-=2;s>0?r.sqrTo(o,v):(d=o,o=v,v=d),r.mulTo(v,a[f],o)}for(;h>=0&&0==(e[h]&1<<i);)r.sqrTo(o,v),d=o,o=v,v=d,--i<0&&(i=this.DB-1,--h)}return r.revert(o)},x.prototype.modInverse=function(e){var t=e.isEven();if(this.isEven()&&t||0==e.signum())return x.ZERO;for(var n=e.clone(),r=this.clone(),i=T(1),o=T(0),a=T(0),s=T(1);0!=n.signum();){for(;n.isEven();)n.rShiftTo(1,n),t?(i.isEven()&&o.isEven()||(i.addTo(this,i),o.subTo(e,o)),i.rShiftTo(1,i)):o.isEven()||o.subTo(e,o),o.rShiftTo(1,o);for(;r.isEven();)r.rShiftTo(1,r),t?(a.isEven()&&s.isEven()||(a.addTo(this,a),s.subTo(e,s)),a.rShiftTo(1,a)):s.isEven()||s.subTo(e,s),s.rShiftTo(1,s);n.compareTo(r)>=0?(n.subTo(r,n),t&&i.subTo(a,i),o.subTo(s,o)):(r.subTo(n,r),t&&a.subTo(i,a),s.subTo(o,s))}return 0!=r.compareTo(x.ONE)?x.ZERO:s.compareTo(e)>=0?s.subtract(e):s.signum()<0?(s.addTo(e,s),s.signum()<0?s.add(e):s):s},x.prototype.pow=function(e){return this.exp(e,new U)},x.prototype.gcd=function(e){var t=this.s<0?this.negate():this.clone(),n=e.s<0?e.negate():e.clone();if(t.compareTo(n)<0){var r=t;t=n,n=r}var i=t.getLowestSetBit(),o=n.getLowestSetBit();if(o<0)return t;for(i<o&&(o=i),o>0&&(t.rShiftTo(o,t),n.rShiftTo(o,n));t.signum()>0;)(i=t.getLowestSetBit())>0&&t.rShiftTo(i,t),(i=n.getLowestSetBit())>0&&n.rShiftTo(i,n),t.compareTo(n)>=0?(t.subTo(n,t),t.rShiftTo(1,t)):(n.subTo(t,n),n.rShiftTo(1,n));return o>0&&n.lShiftTo(o,n),n},x.prototype.isProbablePrime=function(e){var t,n=this.abs();if(1==n.t&&n[0]<=V[V.length-1]){for(t=0;t<V.length;++t)if(n[0]==V[t])return!0;return!1}if(n.isEven())return!1;for(t=1;t<V.length;){for(var r=V[t],i=t+1;i<V.length&&r<W;)r*=V[i++];for(r=n.modInt(r);t<i;)if(r%V[t++]==0)return!1}return n.millerRabin(e)},x.prototype.square=function(){var e=S();return this.squareTo(e),e},q.prototype.init=function(e){var t,n,r;for(t=0;t<256;++t)this.S[t]=t;for(n=0,t=0;t<256;++t)n=n+this.S[t]+e[t%e.length]&255,r=this.S[t],this.S[t]=this.S[n],this.S[n]=r;this.i=0,this.j=0},q.prototype.next=function(){var e;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,e=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=e,this.S[e+this.S[this.i]&255]},null==z){var J;if(z=new Array,K=0,void 0!==v&&(void 0!==v.crypto||void 0!==v.msCrypto)){var Q=v.crypto||v.msCrypto;if(Q.getRandomValues){var Y=new Uint8Array(32);for(Q.getRandomValues(Y),J=0;J<32;++J)z[K++]=Y[J]}else if("Netscape"==p.appName&&p.appVersion<"5"){var X=v.crypto.random(32);for(J=0;J<X.length;++J)z[K++]=255&X.charCodeAt(J)}}for(;K<256;)J=Math.floor(65536*Math.random()),z[K++]=J>>>8,z[K++]=255&J;K=0,G()}function $(){if(null==H){for(G(),(H=new q).init(z),K=0;K<z.length;++K)z[K]=0;K=0}return H.next()}function ee(){}function te(e,t){return new x(e,t)}function ne(e,t,n){for(var r="",i=0;r.length<t;)r+=n(String.fromCharCode.apply(String,e.concat([(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i]))),i+=1;return r}function re(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function ie(e,t){this.x=t,this.q=e}function oe(e,t,n,r){this.curve=e,this.x=t,this.y=n,this.z=null==r?x.ONE:r,this.zinv=null}function ae(e,t,n){this.q=e,this.a=this.fromBigInteger(t),this.b=this.fromBigInteger(n),this.infinity=new oe(this,null,null)}ee.prototype.nextBytes=function(e){var t;for(t=0;t<e.length;++t)e[t]=$()},re.prototype.doPublic=function(e){return e.modPowInt(this.e,this.n)},re.prototype.setPublic=function(e,t){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof e)this.n=e,this.e=t;else{if(!(null!=e&&null!=t&&e.length>0&&t.length>0))throw"Invalid RSA public key";this.n=te(e,16),this.e=parseInt(t,16)}},re.prototype.encrypt=function(e){var t=function(e,t){if(t<e.length+11)throw"Message too long for RSA";for(var n=new Array,r=e.length-1;r>=0&&t>0;){var i=e.charCodeAt(r--);i<128?n[--t]=i:i>127&&i<2048?(n[--t]=63&i|128,n[--t]=i>>6|192):(n[--t]=63&i|128,n[--t]=i>>6&63|128,n[--t]=i>>12|224)}n[--t]=0;for(var o=new ee,a=new Array;t>2;){for(a[0]=0;0==a[0];)o.nextBytes(a);n[--t]=a[0]}return n[--t]=2,n[--t]=0,new x(n)}(e,this.n.bitLength()+7>>3);if(null==t)return null;var n=this.doPublic(t);if(null==n)return null;var r=n.toString(16);return 0==(1&r.length)?r:"0"+r},re.prototype.encryptOAEP=function(e,t,n){var r=function(e,t,n,r){var i=ue.crypto.MessageDigest,o=ue.crypto.Util,a=null;if(n||(n="sha1"),"string"==typeof n&&(a=i.getCanonicalAlgName(n),r=i.getHashLength(a),n=function(e){return xe(o.hashHex(Se(e),a))}),e.length+2*r+2>t)throw"Message too long for RSA";var s,u="";for(s=0;s<t-e.length-2*r-2;s+=1)u+="\0";var c=n("")+u+"\x01"+e,l=new Array(r);(new ee).nextBytes(l);var f=ne(l,c.length,n),d=[];for(s=0;s<c.length;s+=1)d[s]=c.charCodeAt(s)^f.charCodeAt(s);var h=ne(d,l.length,n),p=[0];for(s=0;s<l.length;s+=1)p[s+1]=l[s]^h.charCodeAt(s);return new x(p.concat(d))}(e,this.n.bitLength()+7>>3,t,n);if(null==r)return null;var i=this.doPublic(r);if(null==i)return null;var o=i.toString(16);return 0==(1&o.length)?o:"0"+o},re.prototype.type="RSA",ie.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.x.equals(e.x)},ie.prototype.toBigInteger=function(){return this.x},ie.prototype.negate=function(){return new ie(this.q,this.x.negate().mod(this.q))},ie.prototype.add=function(e){return new ie(this.q,this.x.add(e.toBigInteger()).mod(this.q))},ie.prototype.subtract=function(e){return new ie(this.q,this.x.subtract(e.toBigInteger()).mod(this.q))},ie.prototype.multiply=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger()).mod(this.q))},ie.prototype.square=function(){return new ie(this.q,this.x.square().mod(this.q))},ie.prototype.divide=function(e){return new ie(this.q,this.x.multiply(e.toBigInteger().modInverse(this.q)).mod(this.q))},oe.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},oe.prototype.equals=function(e){return e==this||(this.isInfinity()?e.isInfinity():e.isInfinity()?this.isInfinity():!!e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(x.ZERO)&&e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q).equals(x.ZERO))},oe.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(x.ZERO)&&!this.y.toBigInteger().equals(x.ZERO)},oe.prototype.negate=function(){return new oe(this.curve,this.x,this.y.negate(),this.z)},oe.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(e.z)).mod(this.curve.q),n=e.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(e.z)).mod(this.curve.q);if(x.ZERO.equals(n))return x.ZERO.equals(t)?this.twice():this.curve.getInfinity();var r=new x("3"),i=this.x.toBigInteger(),o=this.y.toBigInteger(),a=(e.x.toBigInteger(),e.y.toBigInteger(),n.square()),s=a.multiply(n),u=i.multiply(a),c=t.square().multiply(this.z),l=c.subtract(u.shiftLeft(1)).multiply(e.z).subtract(s).multiply(n).mod(this.curve.q),f=u.multiply(r).multiply(t).subtract(o.multiply(s)).subtract(c.multiply(t)).multiply(e.z).add(t.multiply(s)).mod(this.curve.q),d=s.multiply(this.z).multiply(e.z).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(l),this.curve.fromBigInteger(f),d)},oe.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=new x("3"),t=this.x.toBigInteger(),n=this.y.toBigInteger(),r=n.multiply(this.z),i=r.multiply(n).mod(this.curve.q),o=this.curve.a.toBigInteger(),a=t.square().multiply(e);x.ZERO.equals(o)||(a=a.add(this.z.square().multiply(o)));var s=(a=a.mod(this.curve.q)).square().subtract(t.shiftLeft(3).multiply(i)).shiftLeft(1).multiply(r).mod(this.curve.q),u=a.multiply(e).multiply(t).subtract(i.shiftLeft(1)).shiftLeft(2).multiply(i).subtract(a.square().multiply(a)).mod(this.curve.q),c=r.square().multiply(r).shiftLeft(3).mod(this.curve.q);return new oe(this.curve,this.curve.fromBigInteger(s),this.curve.fromBigInteger(u),c)},oe.prototype.multiply=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new x("3")),i=this.negate(),o=this,a=this.curve.q.subtract(e),s=a.multiply(new x("3")),u=new oe(this.curve,this.x,this.y),c=u.negate();for(t=r.bitLength()-2;t>0;--t){o=o.twice();var l=r.testBit(t);l!=n.testBit(t)&&(o=o.add(l?this:i))}for(t=s.bitLength()-2;t>0;--t){u=u.twice();var f=s.testBit(t);f!=a.testBit(t)&&(u=u.add(f?u:c))}return o},oe.prototype.multiplyTwo=function(e,t,n){var r;r=e.bitLength()>n.bitLength()?e.bitLength()-1:n.bitLength()-1;for(var i=this.curve.getInfinity(),o=this.add(t);r>=0;)i=i.twice(),e.testBit(r)?i=n.testBit(r)?i.add(o):i.add(this):n.testBit(r)&&(i=i.add(t)),--r;return i},ae.prototype.getQ=function(){return this.q},ae.prototype.getA=function(){return this.a},ae.prototype.getB=function(){return this.b},ae.prototype.equals=function(e){return e==this||this.q.equals(e.q)&&this.a.equals(e.a)&&this.b.equals(e.b)},ae.prototype.getInfinity=function(){return this.infinity},ae.prototype.fromBigInteger=function(e){return new ie(this.q,e)},ae.prototype.decodePointHex=function(e){switch(parseInt(e.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var t=(e.length-2)/2,n=e.substr(2,t),r=e.substr(t+2,t);return new oe(this,this.fromBigInteger(new x(n,16)),this.fromBigInteger(new x(r,16)))}},ie.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},oe.prototype.getEncoded=function(e){var t=function(e,t){var n=e.toByteArrayUnsigned();if(t<n.length)n=n.slice(n.length-t);else for(;t>n.length;)n.unshift(0);return n},n=this.getX().toBigInteger(),r=this.getY().toBigInteger(),i=t(n,32);return e?r.isEven()?i.unshift(2):i.unshift(3):(i.unshift(4),i=i.concat(t(r,32))),i},oe.decodeFrom=function(e,t){t[0];var n=t.length-1,r=t.slice(1,1+n/2),i=t.slice(1+n/2,1+n);r.unshift(0),i.unshift(0);var o=new x(r),a=new x(i);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.decodeFromHex=function(e,t){t.substr(0,2);var n=t.length-2,r=t.substr(2,n/2),i=t.substr(2+n/2,n/2),o=new x(r,16),a=new x(i,16);return new oe(e,e.fromBigInteger(o),e.fromBigInteger(a))},oe.prototype.add2D=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;if(this.x.equals(e.x))return this.y.equals(e.y)?this.twice():this.curve.getInfinity();var t=e.x.subtract(this.x),n=e.y.subtract(this.y).divide(t),r=n.square().subtract(this.x).subtract(e.x),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var e=this.curve.fromBigInteger(x.valueOf(2)),t=this.curve.fromBigInteger(x.valueOf(3)),n=this.x.square().multiply(t).add(this.curve.a).divide(this.y.multiply(e)),r=n.square().subtract(this.x.multiply(e)),i=n.multiply(this.x.subtract(r)).subtract(this.y);return new oe(this.curve,r,i)},oe.prototype.multiply2D=function(e){if(this.isInfinity())return this;if(0==e.signum())return this.curve.getInfinity();var t,n=e,r=n.multiply(new x("3")),i=this.negate(),o=this;for(t=r.bitLength()-2;t>0;--t){o=o.twice();var a=r.testBit(t);a!=n.testBit(t)&&(o=o.add2D(a?this:i))}return o},oe.prototype.isOnCurve=function(){var e=this.getX().toBigInteger(),t=this.getY().toBigInteger(),n=this.curve.getA().toBigInteger(),r=this.curve.getB().toBigInteger(),i=this.curve.getQ(),o=t.multiply(t).mod(i),a=e.multiply(e).multiply(e).add(n.multiply(e)).add(r).mod(i);return o.equals(a)},oe.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},oe.prototype.validate=function(){var e=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var t=this.getX().toBigInteger(),n=this.getY().toBigInteger();if(t.compareTo(x.ONE)<0||t.compareTo(e.subtract(x.ONE))>0)throw new Error("x coordinate out of bounds");if(n.compareTo(x.ONE)<0||n.compareTo(e.subtract(x.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(e).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var se=function(){var e=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),t=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),n={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function r(e,t,r){return t?n[t]:String.fromCharCode(parseInt(r,16))}var i=new String(""),o=Object.hasOwnProperty;return function(n,a){var s,u,c=n.match(e),l=c[0],f=!1;"{"===l?s={}:"["===l?s=[]:(s=[],f=!0);for(var d=[s],p=1-f,v=c.length;p<v;++p){var g;switch((l=c[p]).charCodeAt(0)){default:(g=d[0])[u||g.length]=+l,u=void 0;break;case 34:if(-1!==(l=l.substring(1,l.length-1)).indexOf("\\")&&(l=l.replace(t,r)),g=d[0],!u){if(!(g instanceof Array)){u=l||i;break}u=g.length}g[u]=l,u=void 0;break;case 91:g=d[0],d.unshift(g[u||g.length]=[]),u=void 0;break;case 93:case 125:d.shift();break;case 102:(g=d[0])[u||g.length]=!1,u=void 0;break;case 110:(g=d[0])[u||g.length]=null,u=void 0;break;case 116:(g=d[0])[u||g.length]=!0,u=void 0;break;case 123:g=d[0],d.unshift(g[u||g.length]={}),u=void 0}}if(f){if(1!==d.length)throw new Error;s=s[0]}else if(d.length)throw new Error;return a&&(s=function e(t,n){var r=t[n];if(r&&"object"===(void 0===r?"undefined":h(r))){var i=null;for(var s in r)if(o.call(r,s)&&r!==t){var u=e(r,s);void 0!==u?r[s]=u:(i||(i=[]),i.push(s))}if(i)for(var c=i.length;--c>=0;)delete r[i[c]]}return a.call(t,n,r)}({"":s},"")),s}}();void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.asn1&&ue.asn1||(ue.asn1={}),ue.asn1.ASN1Util=new function(){this.integerToByteHex=function(e){var t=e.toString(16);return t.length%2==1&&(t="0"+t),t},this.bigIntToMinTwosComplementsHex=function(e){var t=e.toString(16);if("-"!=t.substr(0,1))t.length%2==1?t="0"+t:t.match(/^[0-7]/)||(t="00"+t);else{var n=t.substr(1).length;n%2==1?n+=1:t.match(/^[0-7]/)||(n+=2);for(var r="",i=0;i<n;i++)r+="f";t=new x(r,16).xor(e).add(x.ONE).toString(16).replace(/^-/,"")}return t},this.getPEMStringFromHex=function(e,t){return Pe(e,t)},this.newObject=function(e){var t=ue.asn1,n=t.ASN1Object,r=t.DERBoolean,i=t.DERInteger,o=t.DERBitString,a=t.DEROctetString,s=t.DERNull,u=t.DERObjectIdentifier,c=t.DEREnumerated,l=t.DERUTF8String,f=t.DERNumericString,d=t.DERPrintableString,h=t.DERTeletexString,p=t.DERIA5String,v=t.DERUTCTime,g=t.DERGeneralizedTime,y=t.DERVisibleString,m=t.DERBMPString,w=t.DERSequence,_=t.DERSet,b=t.DERTaggedObject,x=t.ASN1Util.newObject;if(e instanceof t.ASN1Object)return e;var S=Object.keys(e);if(1!=S.length)throw new Error("key of param shall be only one.");var k=S[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+k+":"))throw new Error("undefined key: "+k);if("bool"==k)return new r(e[k]);if("int"==k)return new i(e[k]);if("bitstr"==k)return new o(e[k]);if("octstr"==k)return new a(e[k]);if("null"==k)return new s(e[k]);if("oid"==k)return new u(e[k]);if("enum"==k)return new c(e[k]);if("utf8str"==k)return new l(e[k]);if("numstr"==k)return new f(e[k]);if("prnstr"==k)return new d(e[k]);if("telstr"==k)return new h(e[k]);if("ia5str"==k)return new p(e[k]);if("utctime"==k)return new v(e[k]);if("gentime"==k)return new g(e[k]);if("visstr"==k)return new y(e[k]);if("bmpstr"==k)return new m(e[k]);if("asn1"==k)return new n(e[k]);if("seq"==k){for(var E=e[k],C=[],P=0;P<E.length;P++){var A=x(E[P]);C.push(A)}return new w({array:C})}if("set"==k){for(E=e[k],C=[],P=0;P<E.length;P++)A=x(E[P]),C.push(A);return new _({array:C})}if("tag"==k){var T=e[k];if("[object Array]"===Object.prototype.toString.call(T)&&3==T.length){var O=x(T[2]);return new b({tag:T[0],explicit:T[1],obj:O})}return new b(T)}},this.jsonToASN1HEX=function(e){return this.newObject(e).getEncodedHex()}},ue.asn1.ASN1Util.oidHexToInt=function(e){for(var t="",n=parseInt(e.substr(0,2),16),r=(t=Math.floor(n/40)+"."+n%40,""),i=2;i<e.length;i+=2){var o=("00000000"+parseInt(e.substr(i,2),16).toString(2)).slice(-8);r+=o.substr(1,7),"0"==o.substr(0,1)&&(t=t+"."+new x(r,2).toString(10),r="")}return t},ue.asn1.ASN1Util.oidIntToHex=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=new x(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};if(!e.match(/^[0-9.]+$/))throw"malformed oid string: "+e;var r="",i=e.split("."),o=40*parseInt(i[0])+parseInt(i[1]);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r},ue.asn1.ASN1Object=function(e){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n="+"".length+",v="+this.hV);var e=this.hV.length/2,t=e.toString(16);if(t.length%2==1&&(t="0"+t),e<128)return t;var n=t.length/2;if(n>15)throw"ASN.1 length too long to represent by 8x: n = "+e.toString(16);return(128+n).toString(16)+t},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(e){this.params=e},null!=e&&null!=e.tlv&&(this.hTLV=e.tlv,this.isModified=!1)},ue.asn1.DERAbstractString=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=_e(this.s).toLowerCase()},this.setStringHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e?this.setString(e):void 0!==e.str?this.setString(e.str):void 0!==e.hex&&this.setStringHex(e.hex))},Be(ue.asn1.DERAbstractString,ue.asn1.ASN1Object),ue.asn1.DERAbstractTime=function(e){ue.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(e){var t=e.getTime()+6e4*e.getTimezoneOffset();return new Date(t)},this.formatDate=function(e,t,n){var r=this.zeroPadding,i=this.localDateToUTC(e),o=String(i.getFullYear());"utc"==t&&(o=o.substr(2,2));var a=o+r(String(i.getMonth()+1),2)+r(String(i.getDate()),2)+r(String(i.getHours()),2)+r(String(i.getMinutes()),2)+r(String(i.getSeconds()),2);if(!0===n){var s=i.getMilliseconds();if(0!=s){var u=r(String(s),3);a=a+"."+(u=u.replace(/[0]+$/,""))}}return a+"Z"},this.zeroPadding=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},this.getString=function(){return this.s},this.setString=function(e){this.hTLV=null,this.isModified=!0,this.s=e,this.hV=ve(e)},this.setByDateValue=function(e,t,n,r,i,o){var a=new Date(Date.UTC(e,t-1,n,r,i,o,0));this.setByDate(a)},this.getFreshValueHex=function(){return this.hV}},Be(ue.asn1.DERAbstractTime,ue.asn1.ASN1Object),ue.asn1.DERAbstractStructured=function(e){ue.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array=e},this.appendASN1Object=function(e){this.hTLV=null,this.isModified=!0,this.asn1Array.push(e)},this.asn1Array=new Array,void 0!==e&&void 0!==e.array&&(this.asn1Array=e.array)},Be(ue.asn1.DERAbstractStructured,ue.asn1.ASN1Object),ue.asn1.DERBoolean=function(e){ue.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==e?"010100":"0101ff"},Be(ue.asn1.DERBoolean,ue.asn1.ASN1Object),ue.asn1.DERInteger=function(e){ue.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new x(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.bigint?this.setByBigInteger(e.bigint):void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Be(ue.asn1.DERInteger,ue.asn1.ASN1Object),ue.asn1.DERBitString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex="00"+t.getEncodedHex()}ue.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(e){this.hTLV=null,this.isModified=!0,this.hV=e},this.setUnusedBitsAndHexValue=function(e,t){if(e<0||7<e)throw"unused bits shall be from 0 to 7: u = "+e;var n="0"+e;this.hTLV=null,this.isModified=!0,this.hV=n+t},this.setByBinaryString=function(e){var t=8-(e=e.replace(/0+$/,"")).length%8;8==t&&(t=0);for(var n=0;n<=t;n++)e+="0";var r="";for(n=0;n<e.length-1;n+=8){var i=e.substr(n,8),o=parseInt(i,2).toString(16);1==o.length&&(o="0"+o),r+=o}this.hTLV=null,this.isModified=!0,this.hV="0"+t+r},this.setByBooleanArray=function(e){for(var t="",n=0;n<e.length;n++)1==e[n]?t+="1":t+="0";this.setByBinaryString(t)},this.newFalseArray=function(e){for(var t=new Array(e),n=0;n<e;n++)t[n]=!1;return t},this.getFreshValueHex=function(){return this.hV},void 0!==e&&("string"==typeof e&&e.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(e):void 0!==e.hex?this.setHexValueIncludingUnusedBits(e.hex):void 0!==e.bin?this.setByBinaryString(e.bin):void 0!==e.array&&this.setByBooleanArray(e.array))},Be(ue.asn1.DERBitString,ue.asn1.ASN1Object),ue.asn1.DEROctetString=function(e){if(void 0!==e&&void 0!==e.obj){var t=ue.asn1.ASN1Util.newObject(e.obj);e.hex=t.getEncodedHex()}ue.asn1.DEROctetString.superclass.constructor.call(this,e),this.hT="04"},Be(ue.asn1.DEROctetString,ue.asn1.DERAbstractString),ue.asn1.DERNull=function(){ue.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},Be(ue.asn1.DERNull,ue.asn1.ASN1Object),ue.asn1.DERObjectIdentifier=function(e){ue.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(e){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=e},this.setValueOidString=function(e){var t=function(e){var t=function(e){var t=e.toString(16);return 1==t.length&&(t="0"+t),t},n=function(e){var n="",r=parseInt(e,10).toString(2),i=7-r.length%7;7==i&&(i=0);for(var o="",a=0;a<i;a++)o+="0";for(r=o+r,a=0;a<r.length-1;a+=7){var s=r.substr(a,7);a!=r.length-7&&(s="1"+s),n+=t(parseInt(s,2))}return n};try{if(!e.match(/^[0-9.]+$/))return null;var r="",i=e.split("."),o=40*parseInt(i[0],10)+parseInt(i[1],10);r+=t(o),i.splice(0,2);for(var a=0;a<i.length;a++)r+=n(i[a]);return r}catch(e){return null}}(e);if(null==t)throw new Error("malformed oid string: "+e);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=t},this.setValueName=function(e){var t=ue.asn1.x509.OID.name2oid(e);if(""===t)throw new Error("DERObjectIdentifier oidName undefined: "+e);this.setValueOidString(t)},this.setValueNameOrOid=function(e){e.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(e):this.setValueName(e)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){"string"==typeof e?this.setValueNameOrOid(e):void 0!==e.oid?this.setValueNameOrOid(e.oid):void 0!==e.name?this.setValueNameOrOid(e.name):void 0!==e.hex&&this.setValueHex(e.hex)},void 0!==e&&this.setByParam(e)},Be(ue.asn1.DERObjectIdentifier,ue.asn1.ASN1Object),ue.asn1.DEREnumerated=function(e){ue.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(e){this.hTLV=null,this.isModified=!0,this.hV=ue.asn1.ASN1Util.bigIntToMinTwosComplementsHex(e)},this.setByInteger=function(e){var t=new x(String(e),10);this.setByBigInteger(t)},this.setValueHex=function(e){this.hV=e},this.getFreshValueHex=function(){return this.hV},void 0!==e&&(void 0!==e.int?this.setByInteger(e.int):"number"==typeof e?this.setByInteger(e):void 0!==e.hex&&this.setValueHex(e.hex))},Be(ue.asn1.DEREnumerated,ue.asn1.ASN1Object),ue.asn1.DERUTF8String=function(e){ue.asn1.DERUTF8String.superclass.constructor.call(this,e),this.hT="0c"},Be(ue.asn1.DERUTF8String,ue.asn1.DERAbstractString),ue.asn1.DERNumericString=function(e){ue.asn1.DERNumericString.superclass.constructor.call(this,e),this.hT="12"},Be(ue.asn1.DERNumericString,ue.asn1.DERAbstractString),ue.asn1.DERPrintableString=function(e){ue.asn1.DERPrintableString.superclass.constructor.call(this,e),this.hT="13"},Be(ue.asn1.DERPrintableString,ue.asn1.DERAbstractString),ue.asn1.DERTeletexString=function(e){ue.asn1.DERTeletexString.superclass.constructor.call(this,e),this.hT="14"},Be(ue.asn1.DERTeletexString,ue.asn1.DERAbstractString),ue.asn1.DERIA5String=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="16"},Be(ue.asn1.DERIA5String,ue.asn1.DERAbstractString),ue.asn1.DERVisibleString=function(e){ue.asn1.DERIA5String.superclass.constructor.call(this,e),this.hT="1a"},Be(ue.asn1.DERVisibleString,ue.asn1.DERAbstractString),ue.asn1.DERBMPString=function(e){ue.asn1.DERBMPString.superclass.constructor.call(this,e),this.hT="1e"},Be(ue.asn1.DERBMPString,ue.asn1.DERAbstractString),ue.asn1.DERUTCTime=function(e){ue.asn1.DERUTCTime.superclass.constructor.call(this,e),this.hT="17",this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{12}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date))},Be(ue.asn1.DERUTCTime,ue.asn1.DERAbstractTime),ue.asn1.DERGeneralizedTime=function(e){ue.asn1.DERGeneralizedTime.superclass.constructor.call(this,e),this.hT="18",this.withMillis=!1,this.setByDate=function(e){this.hTLV=null,this.isModified=!0,this.date=e,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=ve(this.s)),this.hV},void 0!==e&&(void 0!==e.str?this.setString(e.str):"string"==typeof e&&e.match(/^[0-9]{14}Z$/)?this.setString(e):void 0!==e.hex?this.setStringHex(e.hex):void 0!==e.date&&this.setByDate(e.date),!0===e.millis&&(this.withMillis=!0))},Be(ue.asn1.DERGeneralizedTime,ue.asn1.DERAbstractTime),ue.asn1.DERSequence=function(e){ue.asn1.DERSequence.superclass.constructor.call(this,e),this.hT="30",this.getFreshValueHex=function(){for(var e="",t=0;t<this.asn1Array.length;t++)e+=this.asn1Array[t].getEncodedHex();return this.hV=e,this.hV}},Be(ue.asn1.DERSequence,ue.asn1.DERAbstractStructured),ue.asn1.DERSet=function(e){ue.asn1.DERSet.superclass.constructor.call(this,e),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var e=new Array,t=0;t<this.asn1Array.length;t++){var n=this.asn1Array[t];e.push(n.getEncodedHex())}return 1==this.sortFlag&&e.sort(),this.hV=e.join(""),this.hV},void 0!==e&&void 0!==e.sortflag&&0==e.sortflag&&(this.sortFlag=!1)},Be(ue.asn1.DERSet,ue.asn1.DERAbstractStructured),ue.asn1.DERTaggedObject=function(e){ue.asn1.DERTaggedObject.superclass.constructor.call(this);var t=ue.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(e,t,n){this.hT=t,this.isExplicit=e,this.asn1Object=n,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=n.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(e){null!=e.tag&&(this.hT=e.tag),null!=e.explicit&&(this.isExplicit=e.explicit),null!=e.tage&&(this.hT=e.tage,this.isExplicit=!0),null!=e.tagi&&(this.hT=e.tagi,this.isExplicit=!1),null!=e.obj&&(e.obj instanceof t.ASN1Object?(this.asn1Object=e.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==h(e.obj)&&(this.asn1Object=t.ASN1Util.newObject(e.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=e&&this.setByParam(e)},Be(ue.asn1.DERTaggedObject,ue.asn1.ASN1Object);var ue,ce,le,fe=new function(){};function de(e){for(var t=new Array,n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}function he(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t}function pe(e){for(var t="",n=0;n<e.length;n++){var r=e[n].toString(16);1==r.length&&(r="0"+r),t+=r}return t}function ve(e){return pe(de(e))}function ge(e){return(e=(e=e.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function ye(e){return e.length%4==2?e+="==":e.length%4==3&&(e+="="),(e=e.replace(/-/g,"+")).replace(/_/g,"/")}function me(e){return e.length%2==1&&(e="0"+e),ge(w(e))}function we(e){return _(ye(e))}function _e(e){return Ie(De(e))}function be(e){return decodeURIComponent(Re(e))}function xe(e){for(var t="",n=0;n<e.length-1;n+=2)t+=String.fromCharCode(parseInt(e.substr(n,2),16));return t}function Se(e){for(var t="",n=0;n<e.length;n++)t+=("0"+e.charCodeAt(n).toString(16)).slice(-2);return t}function ke(e){return w(e)}function Ee(e){var t=ke(e).replace(/(.{64})/g,"$1\r\n");return t.replace(/\r\n$/,"")}function Ce(e){return _(e.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Pe(e,t){return"-----BEGIN "+t+"-----\r\n"+Ee(e)+"\r\n-----END "+t+"-----\r\n"}function Ae(e,t){if(-1==e.indexOf("-----BEGIN "))throw"can't find PEM header: "+t;return Ce(e=void 0!==t?(e=e.replace(new RegExp("^[^]*-----BEGIN "+t+"-----"),"")).replace(new RegExp("-----END "+t+"-----[^]*$"),""):(e=e.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function Te(e){var t,n,r,i,o,a,s,u,c,l,f;if(f=e.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return u=f[1],t=parseInt(u),2===u.length&&(50<=t&&t<100?t=1900+t:0<=t&&t<50&&(t=2e3+t)),n=parseInt(f[2])-1,r=parseInt(f[3]),i=parseInt(f[4]),o=parseInt(f[5]),a=parseInt(f[6]),s=0,""!==(c=f[7])&&(l=(c.substr(1)+"00").substr(0,3),s=parseInt(l)),Date.UTC(t,n,r,i,o,a,s);throw"unsupported zulu format: "+e}function Oe(e){return~~(Te(e)/1e3)}function Ie(e){return e.replace(/%/g,"")}function Re(e){return e.replace(/(..)/g,"%$1")}function Le(e){var t="malformed IPv6 address";if(!e.match(/^[0-9A-Fa-f:]+$/))throw t;var n=(e=e.toLowerCase()).split(":").length-1;if(n<2)throw t;var r=":".repeat(7-n+2),i=(e=e.replace("::",r)).split(":");if(8!=i.length)throw t;for(var o=0;o<8;o++)i[o]=("0000"+i[o]).slice(-4);return i.join("")}function Fe(e){if(!e.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var t=(e=e.toLowerCase()).match(/.{1,4}/g),n=0;n<8;n++)t[n]=t[n].replace(/^0+/,""),""==t[n]&&(t[n]="0");var r=(e=":"+t.join(":")+":").match(/:(0:){2,}/g);if(null===r)return e.slice(1,-1);var i="";for(n=0;n<r.length;n++)r[n].length>i.length&&(i=r[n]);return(e=e.replace(i,"::")).slice(1,-1)}function Me(e){var t="malformed hex value";if(!e.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw t;if(8!=e.length)return 32==e.length?Fe(e):e;try{return parseInt(e.substr(0,2),16)+"."+parseInt(e.substr(2,2),16)+"."+parseInt(e.substr(4,2),16)+"."+parseInt(e.substr(6,2),16)}catch(e){throw t}}function je(e){return e.match(/.{4}/g).map((function(e){var t=parseInt(e.substr(0,2),16),n=parseInt(e.substr(2),16);if(0==t&n<128)return String.fromCharCode(n);if(t<8){var r=128|63&n;return be((192|(7&t)<<3|(192&n)>>6).toString(16)+r.toString(16))}r=128|(15&t)<<2|(192&n)>>6;var i=128|63&n;return be((224|(240&t)>>4).toString(16)+r.toString(16)+i.toString(16))})).join("")}function De(e){for(var t=encodeURIComponent(e),n="",r=0;r<t.length;r++)"%"==t[r]?(n+=t.substr(r,3),r+=2):n=n+"%"+ve(t[r]);return n}function Ne(e){return!(e.length%2!=0||!e.match(/^[0-9a-f]+$/)&&!e.match(/^[0-9A-F]+$/))}function Ue(e){return e.length%2==1?"0"+e:e.substr(0,1)>"7"?"00"+e:e}fe.getLblen=function(e,t){if("8"!=e.substr(t+2,1))return 1;var n=parseInt(e.substr(t+3,1));return 0==n?-1:0<n&&n<10?n+1:-2},fe.getL=function(e,t){var n=fe.getLblen(e,t);return n<1?"":e.substr(t+2,2*n)},fe.getVblen=function(e,t){var n;return""==(n=fe.getL(e,t))?-1:("8"===n.substr(0,1)?new x(n.substr(2),16):new x(n,16)).intValue()},fe.getVidx=function(e,t){var n=fe.getLblen(e,t);return n<0?n:t+2*(n+1)},fe.getV=function(e,t){var n=fe.getVidx(e,t),r=fe.getVblen(e,t);return e.substr(n,2*r)},fe.getTLV=function(e,t){return e.substr(t,2)+fe.getL(e,t)+fe.getV(e,t)},fe.getTLVblen=function(e,t){return 2+2*fe.getLblen(e,t)+2*fe.getVblen(e,t)},fe.getNextSiblingIdx=function(e,t){return fe.getVidx(e,t)+2*fe.getVblen(e,t)},fe.getChildIdx=function(e,t){var n,r,i,o=fe,a=[];n=o.getVidx(e,t),r=2*o.getVblen(e,t),"03"==e.substr(t,2)&&(n+=2,r-=2),i=0;for(var s=n;i<=r;){var u=o.getTLVblen(e,s);if((i+=u)<=r&&a.push(s),s+=u,i>=r)break}return a},fe.getNthChildIdx=function(e,t,n){return fe.getChildIdx(e,t)[n]},fe.getIdxbyList=function(e,t,n,r){var i,o,a=fe;return 0==n.length?void 0!==r&&e.substr(t,2)!==r?-1:t:(i=n.shift())>=(o=a.getChildIdx(e,t)).length?-1:a.getIdxbyList(e,o[i],n,r)},fe.getIdxbyListEx=function(e,t,n,r){var i,o,a=fe;if(0==n.length)return void 0!==r&&e.substr(t,2)!==r?-1:t;i=n.shift(),o=a.getChildIdx(e,t);for(var s=0,u=0;u<o.length;u++){var c=e.substr(o[u],2);if("number"==typeof i&&!a.isContextTag(c)&&s==i||"string"==typeof i&&a.isContextTag(c,i))return a.getIdxbyListEx(e,o[u],n,r);a.isContextTag(c)||s++}return-1},fe.getTLVbyList=function(e,t,n,r){var i=fe,o=i.getIdxbyList(e,t,n,r);return-1==o||o>=e.length?null:i.getTLV(e,o)},fe.getTLVbyListEx=function(e,t,n,r){var i=fe,o=i.getIdxbyListEx(e,t,n,r);return-1==o?null:i.getTLV(e,o)},fe.getVbyList=function(e,t,n,r,i){var o,a,s=fe;return-1==(o=s.getIdxbyList(e,t,n,r))||o>=e.length?null:(a=s.getV(e,o),!0===i&&(a=a.substr(2)),a)},fe.getVbyListEx=function(e,t,n,r,i){var o,a,s=fe;return-1==(o=s.getIdxbyListEx(e,t,n,r))?null:(a=s.getV(e,o),"03"==e.substr(o,2)&&!1!==i&&(a=a.substr(2)),a)},fe.getInt=function(e,t,n){null==n&&(n=-1);try{var r=e.substr(t,2);if("02"!=r&&"03"!=r)return n;var i=fe.getV(e,t);return"02"==r?parseInt(i,16):function(e){try{var t=e.substr(0,2);if("00"==t)return parseInt(e.substr(2),16);var n=parseInt(t,16),r=e.substr(2),i=parseInt(r,16).toString(2);return"0"==i&&(i="00000000"),i=i.slice(0,0-n),parseInt(i,2)}catch(e){return-1}}(i)}catch(e){return n}},fe.getOID=function(e,t,n){null==n&&(n=null);try{return"06"!=e.substr(t,2)?n:function(e){if(!Ne(e))return null;try{var t=[],n=e.substr(0,2),r=parseInt(n,16);t[0]=new String(Math.floor(r/40)),t[1]=new String(r%40);for(var i=e.substr(2),o=[],a=0;a<i.length/2;a++)o.push(parseInt(i.substr(2*a,2),16));var s=[],u="";for(a=0;a<o.length;a++)128&o[a]?u+=Ze((127&o[a]).toString(2),7):(u+=Ze((127&o[a]).toString(2),7),s.push(new String(parseInt(u,2))),u="");var c=t.join(".");return s.length>0&&(c=c+"."+s.join(".")),c}catch(e){return null}}(fe.getV(e,t))}catch(e){return n}},fe.getOIDName=function(e,t,n){null==n&&(n=null);try{var r=fe.getOID(e,t,n);if(r==n)return n;var i=ue.asn1.x509.OID.oid2name(r);return""==i?r:i}catch(e){return n}},fe.getString=function(e,t,n){null==n&&(n=null);try{return xe(fe.getV(e,t))}catch(e){return n}},fe.hextooidstr=function(e){var t=function(e,t){return e.length>=t?e:new Array(t-e.length+1).join("0")+e},n=[],r=e.substr(0,2),i=parseInt(r,16);n[0]=new String(Math.floor(i/40)),n[1]=new String(i%40);for(var o=e.substr(2),a=[],s=0;s<o.length/2;s++)a.push(parseInt(o.substr(2*s,2),16));var u=[],c="";for(s=0;s<a.length;s++)128&a[s]?c+=t((127&a[s]).toString(2),7):(c+=t((127&a[s]).toString(2),7),u.push(new String(parseInt(c,2))),c="");var l=n.join(".");return u.length>0&&(l=l+"."+u.join(".")),l},fe.dump=function(e,t,n,r){var i=fe,o=i.getV,a=i.dump,s=i.getChildIdx,u=e;e instanceof ue.asn1.ASN1Object&&(u=e.getEncodedHex());var c=function(e,t){return e.length<=2*t?e:e.substr(0,t)+"..(total "+e.length/2+"bytes).."+e.substr(e.length-t,t)};void 0===t&&(t={ommit_long_octet:32}),void 0===n&&(n=0),void 0===r&&(r="");var l,f=t.ommit_long_octet;if("01"==(l=u.substr(n,2)))return"00"==(d=o(u,n))?r+"BOOLEAN FALSE\n":r+"BOOLEAN TRUE\n";if("02"==l)return r+"INTEGER "+c(d=o(u,n),f)+"\n";if("03"==l){var d=o(u,n);return i.isASN1HEX(d.substr(2))?(b=r+"BITSTRING, encapsulates\n")+a(d.substr(2),t,0,r+"  "):r+"BITSTRING "+c(d,f)+"\n"}if("04"==l)return d=o(u,n),i.isASN1HEX(d)?(b=r+"OCTETSTRING, encapsulates\n")+a(d,t,0,r+"  "):r+"OCTETSTRING "+c(d,f)+"\n";if("05"==l)return r+"NULL\n";if("06"==l){var h=o(u,n),p=ue.asn1.ASN1Util.oidHexToInt(h),v=ue.asn1.x509.OID.oid2name(p),g=p.replace(/\./g," ");return""!=v?r+"ObjectIdentifier "+v+" ("+g+")\n":r+"ObjectIdentifier ("+g+")\n"}if("0a"==l)return r+"ENUMERATED "+parseInt(o(u,n))+"\n";if("0c"==l)return r+"UTF8String '"+be(o(u,n))+"'\n";if("13"==l)return r+"PrintableString '"+be(o(u,n))+"'\n";if("14"==l)return r+"TeletexString '"+be(o(u,n))+"'\n";if("16"==l)return r+"IA5String '"+be(o(u,n))+"'\n";if("17"==l)return r+"UTCTime "+be(o(u,n))+"\n";if("18"==l)return r+"GeneralizedTime "+be(o(u,n))+"\n";if("1a"==l)return r+"VisualString '"+be(o(u,n))+"'\n";if("1e"==l)return r+"BMPString '"+je(o(u,n))+"'\n";if("30"==l){if("3000"==u.substr(n,4))return r+"SEQUENCE {}\n";b=r+"SEQUENCE\n";var y=t;if((2==(_=s(u,n)).length||3==_.length)&&"06"==u.substr(_[0],2)&&"04"==u.substr(_[_.length-1],2)){v=i.oidname(o(u,_[0]));var m=JSON.parse(JSON.stringify(t));m.x509ExtName=v,y=m}for(var w=0;w<_.length;w++)b+=a(u,y,_[w],r+"  ");return b}if("31"==l){b=r+"SET\n";var _=s(u,n);for(w=0;w<_.length;w++)b+=a(u,t,_[w],r+"  ");return b}if(0!=(128&(l=parseInt(l,16)))){var b,x=31&l;if(0!=(32&l)){for(b=r+"["+x+"]\n",_=s(u,n),w=0;w<_.length;w++)b+=a(u,t,_[w],r+"  ");return b}return d=o(u,n),fe.isASN1HEX(d)?(b=r+"["+x+"]\n")+a(d,t,0,r+"  "):(("68747470"==d.substr(0,8)||"subjectAltName"===t.x509ExtName&&2==x)&&(d=be(d)),r+"["+x+"] "+d+"\n")}return r+"UNKNOWN("+l+") "+o(u,n)+"\n"},fe.isContextTag=function(e,t){var n,r;e=e.toLowerCase();try{n=parseInt(e,16)}catch(e){return-1}if(void 0===t)return 128==(192&n);try{return null!=t.match(/^\[[0-9]+\]$/)&&!((r=parseInt(t.substr(1,t.length-1),10))>31)&&128==(192&n)&&(31&n)==r}catch(e){return!1}},fe.isASN1HEX=function(e){var t=fe;if(e.length%2==1)return!1;var n=t.getVblen(e,0),r=e.substr(0,2),i=t.getL(e,0);return e.length-r.length-i.length==2*n},fe.checkStrictDER=function(e,t,n,r,i){var o=fe;if(void 0===n){if("string"!=typeof e)throw new Error("not hex string");if(e=e.toLowerCase(),!ue.lang.String.isHex(e))throw new Error("not hex string");n=e.length,i=(r=e.length/2)<128?1:Math.ceil(r.toString(16))+1}if(o.getL(e,t).length>2*i)throw new Error("L of TLV too long: idx="+t);var a=o.getVblen(e,t);if(a>r)throw new Error("value of L too long than hex: idx="+t);var s=o.getTLV(e,t),u=s.length-2-o.getL(e,t).length;if(u!==2*a)throw new Error("V string length and L's value not the same:"+u+"/"+2*a);if(0===t&&e.length!=s.length)throw new Error("total length and TLV length unmatch:"+e.length+"!="+s.length);var c=e.substr(t,2);if("02"===c){var l=o.getVidx(e,t);if("00"==e.substr(l,2)&&e.charCodeAt(l+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(c,16)){for(var f=o.getVblen(e,t),d=0,h=o.getChildIdx(e,t),p=0;p<h.length;p++)d+=o.getTLV(e,h[p]).length,o.checkStrictDER(e,h[p],n,r,i);if(2*f!=d)throw new Error("sum of children's TLV length and L unmatch: "+2*f+"!="+d)}},fe.oidname=function(e){var t=ue.asn1;ue.lang.String.isHex(e)&&(e=t.ASN1Util.oidHexToInt(e));var n=t.x509.OID.oid2name(e);return""===n&&(n=e),n},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.lang&&ue.lang||(ue.lang={}),ue.lang.String=function(){},"function"==typeof e?(t.utf8tob64u=ce=function(t){return ge(e.from(t,"utf8").toString("base64"))},t.b64utoutf8=le=function(t){return e.from(ye(t),"base64").toString("utf8")}):(t.utf8tob64u=ce=function(e){return me(Ie(De(e)))},t.b64utoutf8=le=function(e){return decodeURIComponent(Re(we(e)))}),ue.lang.String.isInteger=function(e){return!!e.match(/^[0-9]+$/)||!!e.match(/^-[0-9]+$/)},ue.lang.String.isHex=function(e){return Ne(e)},ue.lang.String.isBase64=function(e){return!(!(e=e.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||e.length%4!=0)},ue.lang.String.isBase64URL=function(e){return!e.match(/[+/=]/)&&(e=ye(e),ue.lang.String.isBase64(e))},ue.lang.String.isIntegerArray=function(e){return!!(e=e.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},ue.lang.String.isPrintable=function(e){return null!==e.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},ue.lang.String.isIA5=function(e){return null!==e.match(/^[\x20-\x21\x23-\x7f]*$/)},ue.lang.String.isMail=function(e){return null!==e.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Ze=function(e,t,n){return null==n&&(n="0"),e.length>=t?e:new Array(t-e.length+1).join(n)+e};function Be(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superclass=t.prototype,t.prototype.constructor==Object.prototype.constructor&&(t.prototype.constructor=t)}void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:g.algo.MD5,sha1:g.algo.SHA1,sha224:g.algo.SHA224,sha256:g.algo.SHA256,sha384:g.algo.SHA384,sha512:g.algo.SHA512,ripemd160:g.algo.RIPEMD160},this.getDigestInfoHex=function(e,t){if(void 0===this.DIGESTINFOHEAD[t])throw"alg not supported in Util.DIGESTINFOHEAD: "+t;return this.DIGESTINFOHEAD[t]+e},this.getPaddedDigestInfoHex=function(e,t,n){var r=this.getDigestInfoHex(e,t),i=n/4;if(r.length+22>i)throw"key is too short for SigAlg: keylen="+n+","+t;for(var o="0001",a="00"+r,s="",u=i-o.length-a.length,c=0;c<u;c+=2)s+="ff";return o+s+a},this.hashString=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestString(e)},this.hashHex=function(e,t){return new ue.crypto.MessageDigest({alg:t}).digestHex(e)},this.sha1=function(e){return this.hashString(e,"sha1")},this.sha256=function(e){return this.hashString(e,"sha256")},this.sha256Hex=function(e){return this.hashHex(e,"sha256")},this.sha512=function(e){return this.hashString(e,"sha512")},this.sha512Hex=function(e){return this.hashHex(e,"sha512")},this.isKey=function(e){return e instanceof re||e instanceof ue.crypto.DSA||e instanceof ue.crypto.ECDSA}},ue.crypto.Util.md5=function(e){return new ue.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.ripemd160=function(e){return new ue.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(e)},ue.crypto.Util.SECURERANDOMGEN=new ee,ue.crypto.Util.getRandomHexOfNbytes=function(e){var t=new Array(e);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(t),pe(t)},ue.crypto.Util.getRandomBigIntegerOfNbytes=function(e){return new x(ue.crypto.Util.getRandomHexOfNbytes(e),16)},ue.crypto.Util.getRandomHexOfNbits=function(e){var t=e%8,n=new Array((e-t)/8+1);return ue.crypto.Util.SECURERANDOMGEN.nextBytes(n),n[0]=(255<<t&255^255)&n[0],pe(n)},ue.crypto.Util.getRandomBigIntegerOfNbits=function(e){return new x(ue.crypto.Util.getRandomHexOfNbits(e),16)},ue.crypto.Util.getRandomBigIntegerZeroToMax=function(e){for(var t=e.bitLength();;){var n=ue.crypto.Util.getRandomBigIntegerOfNbits(t);if(-1!=e.compareTo(n))return n}},ue.crypto.Util.getRandomBigIntegerMinToMax=function(e,t){var n=e.compareTo(t);if(1==n)throw"biMin is greater than biMax";if(0==n)return e;var r=t.subtract(e);return ue.crypto.Util.getRandomBigIntegerZeroToMax(r).add(e)},ue.crypto.MessageDigest=function(e){this.setAlgAndProvider=function(e,t){if(null!==(e=ue.crypto.MessageDigest.getCanonicalAlgName(e))&&void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(e)&&"cryptojs"==t){try{this.md=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[e].create()}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.md.update(t)},this.digest=function(){return this.md.finalize().toString(g.enc.Hex)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}if(-1!=":sha256:".indexOf(e)&&"sjcl"==t){try{this.md=new sjcl.hash.sha256}catch(t){throw"setAlgAndProvider hash alg set fail alg="+e+"/"+t}this.updateString=function(e){this.md.update(e)},this.updateHex=function(e){var t=sjcl.codec.hex.toBits(e);this.md.update(t)},this.digest=function(){var e=this.md.finalize();return sjcl.codec.hex.fromBits(e)},this.digestString=function(e){return this.updateString(e),this.digest()},this.digestHex=function(e){return this.updateHex(e),this.digest()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==e&&void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},ue.crypto.MessageDigest.getCanonicalAlgName=function(e){return"string"==typeof e&&(e=(e=e.toLowerCase()).replace(/-/,"")),e},ue.crypto.MessageDigest.getHashLength=function(e){var t=ue.crypto.MessageDigest,n=t.getCanonicalAlgName(e);if(void 0===t.HASHLENGTH[n])throw"not supported algorithm: "+e;return t.HASHLENGTH[n]},ue.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},ue.crypto.Mac=function(e){this.setAlgAndProvider=function(e,t){if(null==(e=e.toLowerCase())&&(e="hmacsha1"),"hmac"!=(e=e.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+e;void 0===t&&(t=ue.crypto.Util.DEFAULTPROVIDER[e]),this.algProv=e+"/"+t;var n=e.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(n)&&"cryptojs"==t){try{var r=ue.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[n];this.mac=g.algo.HMAC.create(r,this.pass)}catch(e){throw"setAlgAndProvider hash alg set fail hashAlg="+n+"/"+e}this.updateString=function(e){this.mac.update(e)},this.updateHex=function(e){var t=g.enc.Hex.parse(e);this.mac.update(t)},this.doFinal=function(){return this.mac.finalize().toString(g.enc.Hex)},this.doFinalString=function(e){return this.updateString(e),this.doFinal()},this.doFinalHex=function(e){return this.updateHex(e),this.doFinal()}}},this.updateString=function(e){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(e){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(e){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(e){if("string"==typeof e){var t=e;return e.length%2!=1&&e.match(/^[0-9A-Fa-f]+$/)||(t=Se(e)),void(this.pass=g.enc.Hex.parse(t))}if("object"!=(void 0===e?"undefined":h(e)))throw"KJUR.crypto.Mac unsupported password type: "+e;if(t=null,void 0!==e.hex){if(e.hex.length%2!=0||!e.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+e.hex;t=e.hex}if(void 0!==e.utf8&&(t=_e(e.utf8)),void 0!==e.rstr&&(t=Se(e.rstr)),void 0!==e.b64&&(t=_(e.b64)),void 0!==e.b64u&&(t=we(e.b64u)),null==t)throw"KJUR.crypto.Mac unsupported password type: "+e;this.pass=g.enc.Hex.parse(t)},void 0!==e&&(void 0!==e.pass&&this.setPassword(e.pass),void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov&&(this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},ue.crypto.Signature=function(e){var t=null;if(this._setAlgNames=function(){var e=this.algName.match(/^(.+)with(.+)$/);e&&(this.mdAlgName=e[1].toLowerCase(),this.pubkeyAlgName=e[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e},this.setAlgAndProvider=function(e,t){if(this._setAlgNames(),"cryptojs/jsrsa"!=t)throw new Error("provider not supported: "+t);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new ue.crypto.MessageDigest({alg:this.mdAlgName})}catch(e){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+e)}this.init=function(e,t){var n=null;try{n=void 0===t?He.getKey(e):He.getKey(e,t)}catch(e){throw"init failed:"+e}if(!0===n.isPrivate)this.prvKey=n,this.state="SIGN";else{if(!0!==n.isPublic)throw"init failed.:"+n;this.pubKey=n,this.state="VERIFY"}},this.updateString=function(e){this.md.updateString(e)},this.updateHex=function(e){this.md.updateHex(e)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.prvKey=new ue.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof re&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof ue.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof ue.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(e){return this.updateString(e),this.sign()},this.signHex=function(e){return this.updateHex(e),this.sign()},this.verify=function(e){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==ue.crypto.ECDSA&&(this.pubKey=new ue.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof re&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,e,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof re&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.ECDSA&&this.pubKey instanceof ue.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);if(void 0!==ue.crypto.DSA&&this.pubKey instanceof ue.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,e);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(e,t){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(e){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(e){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(e){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(e){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(e){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=e,void 0!==e&&(void 0!==e.alg&&(this.algName=e.alg,void 0===e.prov?this.provName=ue.crypto.Util.DEFAULTPROVIDER[this.algName]:this.provName=e.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==e.psssaltlen&&(this.pssSaltLen=e.psssaltlen),void 0!==e.prvkeypem)){if(void 0!==e.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{t=He.getKey(e.prvkeypem),this.init(t)}catch(e){throw"fatal error to load pem private key: "+e}}},ue.crypto.Cipher=function(e){},ue.crypto.Cipher.encrypt=function(e,t,n){if(t instanceof re&&t.isPublic){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.encrypt(e);if("RSAOAEP"===r)return t.encryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.encryptOAEP(e,"sha"+i[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.encrypt: unsupported key or algorithm"},ue.crypto.Cipher.decrypt=function(e,t,n){if(t instanceof re&&t.isPrivate){var r=ue.crypto.Cipher.getAlgByKeyAndName(t,n);if("RSA"===r)return t.decrypt(e);if("RSAOAEP"===r)return t.decryptOAEP(e,"sha1");var i=r.match(/^RSAOAEP(\d+)$/);if(null!==i)return t.decryptOAEP(e,"sha"+i[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+n}throw"Cipher.decrypt: unsupported key or algorithm"},ue.crypto.Cipher.getAlgByKeyAndName=function(e,t){if(e instanceof re){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(t))return t;if(null==t)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+t}throw"getAlgByKeyAndName: not supported algorithm name: "+t},ue.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECDSA=function(e){var t=Error,n=x,r=oe,i=ue.crypto.ECDSA,o=ue.crypto.ECParameterDB,a=i.getName,s=fe,u=s.getVbyListEx,c=s.isASN1HEX,l=new ee;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(e){return new n(e.bitLength(),l).mod(e.subtract(n.ONE)).add(n.ONE)},this.setNamedCurve=function(e){this.ecparams=o.getByName(e),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=e},this.setPrivateKeyHex=function(e){this.isPrivate=!0,this.prvKeyHex=e},this.setPublicKeyHex=function(e){this.isPublic=!0,this.pubKeyHex=e},this.getPublicKeyXYHex=function(){var e=this.pubKeyHex;if("04"!==e.substr(0,2))throw"this method supports uncompressed format(04) only";var t=this.ecparams.keylen/4;if(e.length!==2+2*t)throw"malformed public key hex length";var n={};return n.x=e.substr(2,t),n.y=e.substr(2+t),n},this.getShortNISTPCurveName=function(){var e=this.curveName;return"secp256r1"===e||"NIST P-256"===e||"P-256"===e||"prime256v1"===e?"P-256":"secp384r1"===e||"NIST P-384"===e||"P-384"===e?"P-384":null},this.generateKeyPairHex=function(){var e=this.ecparams.n,t=this.getBigRandom(e),n=this.ecparams.G.multiply(t),r=n.getX().toBigInteger(),i=n.getY().toBigInteger(),o=this.ecparams.keylen/4,a=("0000000000"+t.toString(16)).slice(-o),s="04"+("0000000000"+r.toString(16)).slice(-o)+("0000000000"+i.toString(16)).slice(-o);return this.setPrivateKeyHex(a),this.setPublicKeyHex(s),{ecprvhex:a,ecpubhex:s}},this.signWithMessageHash=function(e){return this.signHex(e,this.prvKeyHex)},this.signHex=function(e,t){var r=new n(t,16),o=this.ecparams.n,a=new n(e.substring(0,this.ecparams.keylen/4),16);do{var s=this.getBigRandom(o),u=this.ecparams.G.multiply(s).getX().toBigInteger().mod(o)}while(u.compareTo(n.ZERO)<=0);var c=s.modInverse(o).multiply(a.add(r.multiply(u))).mod(o);return i.biRSSigToASN1Sig(u,c)},this.sign=function(e,t){var r=t,i=this.ecparams.n,o=n.fromByteArrayUnsigned(e);do{var a=this.getBigRandom(i),s=this.ecparams.G.multiply(a).getX().toBigInteger().mod(i)}while(s.compareTo(x.ZERO)<=0);var u=a.modInverse(i).multiply(o.add(r.multiply(s))).mod(i);return this.serializeSig(s,u)},this.verifyWithMessageHash=function(e,t){return this.verifyHex(e,t,this.pubKeyHex)},this.verifyHex=function(e,t,o){try{var a,s,u=i.parseSigHex(t);a=u.r,s=u.s;var c=r.decodeFromHex(this.ecparams.curve,o),l=new n(e.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(l,a,s,c)}catch(e){return!1}},this.verify=function(e,t,i){var o,a,s;if(Bitcoin.Util.isArray(t)){var u=this.parseSig(t);o=u.r,a=u.s}else{if("object"!==(void 0===t?"undefined":h(t))||!t.r||!t.s)throw"Invalid value for signature";o=t.r,a=t.s}if(i instanceof oe)s=i;else{if(!Bitcoin.Util.isArray(i))throw"Invalid format for pubkey value, must be byte array or ECPointFp";s=r.decodeFrom(this.ecparams.curve,i)}var c=n.fromByteArrayUnsigned(e);return this.verifyRaw(c,o,a,s)},this.verifyRaw=function(e,t,r,i){var o=this.ecparams.n,a=this.ecparams.G;if(t.compareTo(n.ONE)<0||t.compareTo(o)>=0)return!1;if(r.compareTo(n.ONE)<0||r.compareTo(o)>=0)return!1;var s=r.modInverse(o),u=e.multiply(s).mod(o),c=t.multiply(s).mod(o);return a.multiply(u).add(i.multiply(c)).getX().toBigInteger().mod(o).equals(t)},this.serializeSig=function(e,t){var n=e.toByteArraySigned(),r=t.toByteArraySigned(),i=[];return i.push(2),i.push(n.length),(i=i.concat(n)).push(2),i.push(r.length),(i=i.concat(r)).unshift(i.length),i.unshift(48),i},this.parseSig=function(e){var t;if(48!=e[0])throw new Error("Signature not a valid DERSequence");if(2!=e[t=2])throw new Error("First element in signature must be a DERInteger");var r=e.slice(t+2,t+2+e[t+1]);if(2!=e[t+=2+e[t+1]])throw new Error("Second element in signature must be a DERInteger");var i=e.slice(t+2,t+2+e[t+1]);return t+=2+e[t+1],{r:n.fromByteArrayUnsigned(r),s:n.fromByteArrayUnsigned(i)}},this.parseSigCompact=function(e){if(65!==e.length)throw"Signature has the wrong length";var t=e[0]-27;if(t<0||t>7)throw"Invalid signature type";var r=this.ecparams.n;return{r:n.fromByteArrayUnsigned(e.slice(1,33)).mod(r),s:n.fromByteArrayUnsigned(e.slice(33,65)).mod(r),i:t}},this.readPKCS5PrvKeyHex=function(e){if(!1===c(e))throw new Error("not ASN.1 hex string");var t,n,r;try{t=u(e,0,["[0]",0],"06"),n=u(e,0,[1],"04");try{r=u(e,0,["[1]",0],"03")}catch(e){}}catch(e){throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=a(t),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(r),this.setPrivateKeyHex(n),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r,i;try{u(e,0,[1,0],"06"),n=u(e,0,[1,1],"06"),r=u(e,0,[2,0,1],"04");try{i=u(e,0,[2,0,"[1]",0],"03")}catch(e){}}catch(e){throw new t("malformed PKCS#8 plain ECC private key")}if(this.curveName=a(n),void 0===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i),this.setPrivateKeyHex(r),this.isPublic=!1},this.readPKCS8PubKeyHex=function(e){if(!1===c(e))throw new t("not ASN.1 hex string");var n,r;try{u(e,0,[0,0],"06"),n=u(e,0,[0,1],"06"),r=u(e,0,[1],"03")}catch(e){throw new t("malformed PKCS#8 ECC public key")}if(this.curveName=a(n),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(r)},this.readCertPubKeyHex=function(e,n){if(!1===c(e))throw new t("not ASN.1 hex string");var r,i;try{r=u(e,0,[0,5,0,1],"06"),i=u(e,0,[0,5,1],"03")}catch(e){throw new t("malformed X.509 certificate ECC public key")}if(this.curveName=a(r),null===this.curveName)throw new t("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(i)},void 0!==e&&void 0!==e.curve&&(this.curveName=e.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==e&&(void 0!==e.prv&&this.setPrivateKeyHex(e.prv),void 0!==e.pub&&this.setPublicKeyHex(e.pub))},ue.crypto.ECDSA.parseSigHex=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e);return{r:new x(t.r,16),s:new x(t.s,16)}},ue.crypto.ECDSA.parseSigHexInHexRS=function(e){var t=fe,n=t.getChildIdx,r=t.getV;if(t.checkStrictDER(e,0),"30"!=e.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var i=n(e,0);if(2!=i.length)throw new Error("signature shall have two elements");var o=i[0],a=i[1];if("02"!=e.substr(o,2))throw new Error("1st item not ASN.1 integer");if("02"!=e.substr(a,2))throw new Error("2nd item not ASN.1 integer");return{r:r(e,o),s:r(e,a)}},ue.crypto.ECDSA.asn1SigToConcatSig=function(e){var t=ue.crypto.ECDSA.parseSigHexInHexRS(e),n=t.r,r=t.s;if("00"==n.substr(0,2)&&n.length%32==2&&(n=n.substr(2)),"00"==r.substr(0,2)&&r.length%32==2&&(r=r.substr(2)),n.length%32==30&&(n="00"+n),r.length%32==30&&(r="00"+r),n.length%32!=0)throw"unknown ECDSA sig r length error";if(r.length%32!=0)throw"unknown ECDSA sig s length error";return n+r},ue.crypto.ECDSA.concatSigToASN1Sig=function(e){if(e.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var t=e.substr(0,e.length/2),n=e.substr(e.length/2);return ue.crypto.ECDSA.hexRSSigToASN1Sig(t,n)},ue.crypto.ECDSA.hexRSSigToASN1Sig=function(e,t){var n=new x(e,16),r=new x(t,16);return ue.crypto.ECDSA.biRSSigToASN1Sig(n,r)},ue.crypto.ECDSA.biRSSigToASN1Sig=function(e,t){var n=ue.asn1,r=new n.DERInteger({bigint:e}),i=new n.DERInteger({bigint:t});return new n.DERSequence({array:[r,i]}).getEncodedHex()},ue.crypto.ECDSA.getName=function(e){return"2b8104001f"===e?"secp192k1":"2a8648ce3d030107"===e?"secp256r1":"2b8104000a"===e?"secp256k1":"2b81040021"===e?"secp224r1":"2b81040022"===e?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(e)?"secp256r1":-1!=="|secp256k1|".indexOf(e)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(e)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(e)?"secp384r1":null},void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.crypto&&ue.crypto||(ue.crypto={}),ue.crypto.ECParameterDB=new function(){var e={},t={};function n(e){return new x(e,16)}this.getByName=function(n){var r=n;if(void 0!==t[r]&&(r=t[n]),void 0!==e[r])return e[r];throw"unregistered EC curve name: "+r},this.regist=function(r,i,o,a,s,u,c,l,f,d,h,p){e[r]={};var v=n(o),g=n(a),y=n(s),m=n(u),w=n(c),_=new ae(v,g,y),b=_.decodePointHex("04"+l+f);e[r].name=r,e[r].keylen=i,e[r].curve=_,e[r].G=b,e[r].n=m,e[r].h=w,e[r].oid=h,e[r].info=p;for(var x=0;x<d.length;x++)t[d[x]]=r}},ue.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),ue.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),ue.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),ue.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),ue.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),ue.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),ue.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),ue.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),ue.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var He=function(){var e=function(e,n,r){return t(g.AES,e,n,r)},t=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),a=g.enc.Hex.parse(r),s={};s.key=o,s.iv=a,s.ciphertext=i;var u=e.decrypt(s,o,{iv:a});return g.enc.Hex.stringify(u)},n=function(e,t,n){return r(g.AES,e,t,n)},r=function(e,t,n,r){var i=g.enc.Hex.parse(t),o=g.enc.Hex.parse(n),a=g.enc.Hex.parse(r),s=e.encrypt(i,o,{iv:a}),u=g.enc.Hex.parse(s.toString());return g.enc.Base64.stringify(u)},i={"AES-256-CBC":{proc:e,eproc:n,keylen:32,ivlen:16},"AES-192-CBC":{proc:e,eproc:n,keylen:24,ivlen:16},"AES-128-CBC":{proc:e,eproc:n,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(e,n,r){return t(g.TripleDES,e,n,r)},eproc:function(e,t,n){return r(g.TripleDES,e,t,n)},keylen:24,ivlen:8},"DES-CBC":{proc:function(e,n,r){return t(g.DES,e,n,r)},eproc:function(e,t,n){return r(g.DES,e,t,n)},keylen:8,ivlen:8}},o=function(e){var t={},n=e.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));n&&(t.cipher=n[1],t.ivsalt=n[2]);var r=e.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));r&&(t.type=r[1]);var i=-1,o=0;-1!=e.indexOf("\r\n\r\n")&&(i=e.indexOf("\r\n\r\n"),o=2),-1!=e.indexOf("\n\n")&&(i=e.indexOf("\n\n"),o=1);var a=e.indexOf("-----END");if(-1!=i&&-1!=a){var s=e.substring(i+2*o,a-o);s=s.replace(/\s+/g,""),t.data=s}return t},a=function(e,t,n){for(var r=n.substring(0,16),o=g.enc.Hex.parse(r),a=g.enc.Utf8.parse(t),s=i[e].keylen+i[e].ivlen,u="",c=null;;){var l=g.algo.MD5.create();if(null!=c&&l.update(c),l.update(a),l.update(o),c=l.finalize(),(u+=g.enc.Hex.stringify(c)).length>=2*s)break}var f={};return f.keyhex=u.substr(0,2*i[e].keylen),f.ivhex=u.substr(2*i[e].keylen,2*i[e].ivlen),f},s=function(e,t,n,r){var o=g.enc.Base64.parse(e),a=g.enc.Hex.stringify(o);return(0,i[t].proc)(a,n,r)};return{version:"1.0.0",parsePKCS5PEM:function(e){return o(e)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(e,t,n){return a(e,t,n)},decryptKeyB64:function(e,t,n,r){return s(e,t,n,r)},getDecryptedKeyHex:function(e,t){var n=o(e),r=(n.type,n.cipher),i=n.ivsalt,u=n.data,c=a(r,t,i).keyhex;return s(u,r,c,i)},getEncryptedPKCS5PEMFromPrvKeyHex:function(e,t,n,r,o){var s="";if(void 0!==r&&null!=r||(r="AES-256-CBC"),void 0===i[r])throw new Error("KEYUTIL unsupported algorithm: "+r);void 0!==o&&null!=o||(o=function(e){var t=g.lib.WordArray.random(e);return g.enc.Hex.stringify(t)}(i[r].ivlen).toUpperCase());var u=function(e,t,n,r){return(0,i[t].eproc)(e,n,r)}(t,r,a(r,n,o).keyhex,o);return s="-----BEGIN "+e+" PRIVATE KEY-----\r\n",s+="Proc-Type: 4,ENCRYPTED\r\n",s+="DEK-Info: "+r+","+o+"\r\n",s+="\r\n",(s+=u.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+e+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(t){var n=fe,r=n.getChildIdx,i=n.getV,o={},a=r(t,0);if(2!=a.length)throw new Error("malformed format: SEQUENCE(0).items != 2: "+a.length);o.ciphertext=i(t,a[1]);var s=r(t,a[0]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0).items != 2: "+s.length);if("2a864886f70d01050d"!=i(t,s[0]))throw new Error("this only supports pkcs5PBES2");var u=r(t,s[1]);if(2!=s.length)throw new Error("malformed format: SEQUENCE(0.0.1).items != 2: "+u.length);var c=r(t,u[1]);if(2!=c.length)throw new Error("malformed format: SEQUENCE(0.0.1.1).items != 2: "+c.length);if("2a864886f70d0307"!=i(t,c[0]))throw"this only supports TripleDES";o.encryptionSchemeAlg="TripleDES",o.encryptionSchemeIV=i(t,c[1]);var l=r(t,u[0]);if(2!=l.length)throw new Error("malformed format: SEQUENCE(0.0.1.0).items != 2: "+l.length);if("2a864886f70d01050c"!=i(t,l[0]))throw new Error("this only supports pkcs5PBKDF2");var f=r(t,l[1]);if(f.length<2)throw new Error("malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+f.length);o.pbkdf2Salt=i(t,f[0]);var d=i(t,f[1]);try{o.pbkdf2Iter=parseInt(d,16)}catch(e){throw new Error("malformed format pbkdf2Iter: "+d)}return o},getPBKDF2KeyHexFromParam:function(e,t){var n=g.enc.Hex.parse(e.pbkdf2Salt),r=e.pbkdf2Iter,i=g.PBKDF2(t,n,{keySize:6,iterations:r});return g.enc.Hex.stringify(i)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(e,t){var n=Ae(e,"ENCRYPTED PRIVATE KEY"),r=this.parseHexOfEncryptedPKCS8(n),i=He.getPBKDF2KeyHexFromParam(r,t),o={};o.ciphertext=g.enc.Hex.parse(r.ciphertext);var a=g.enc.Hex.parse(i),s=g.enc.Hex.parse(r.encryptionSchemeIV),u=g.TripleDES.decrypt(o,a,{iv:s});return g.enc.Hex.stringify(u)},getKeyFromEncryptedPKCS8PEM:function(e,t){var n=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(e,t);return this.getKeyFromPlainPrivatePKCS8Hex(n)},parsePlainPrivatePKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null};if("30"!=e.substr(0,2))throw new Error("malformed plain PKCS8 private key(code:001)");var o=n(e,0);if(o.length<3)throw new Error("malformed plain PKCS8 private key(code:002)");if("30"!=e.substr(o[1],2))throw new Error("malformed PKCS8 private key(code:003)");var a=n(e,o[1]);if(2!=a.length)throw new Error("malformed PKCS8 private key(code:004)");if("06"!=e.substr(a[0],2))throw new Error("malformed PKCS8 private key(code:005)");if(i.algoid=r(e,a[0]),"06"==e.substr(a[1],2)&&(i.algparam=r(e,a[1])),"04"!=e.substr(o[2],2))throw new Error("malformed PKCS8 private key(code:006)");return i.keyidx=t.getVidx(e,o[2]),i},getKeyFromPlainPrivatePKCS8PEM:function(e){var t=Ae(e,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(t)},getKeyFromPlainPrivatePKCS8Hex:function(e){var t,n=this.parsePlainPrivatePKCS8Hex(e);if("2a864886f70d010101"==n.algoid)t=new re;else if("2a8648ce380401"==n.algoid)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!=n.algoid)throw new Error("unsupported private key algorithm");t=new ue.crypto.ECDSA}return t.readPKCS8PrvKeyHex(e),t},_getKeyFromPublicPKCS8Hex:function(e){var t,n=fe.getVbyList(e,0,[0,0],"06");if("2a864886f70d010101"===n)t=new re;else if("2a8648ce380401"===n)t=new ue.crypto.DSA;else{if("2a8648ce3d0201"!==n)throw new Error("unsupported PKCS#8 public key hex");t=new ue.crypto.ECDSA}return t.readPKCS8PubKeyHex(e),t},parsePublicRawRSAKeyHex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={};if("30"!=e.substr(0,2))throw new Error("malformed RSA key(code:001)");var o=n(e,0);if(2!=o.length)throw new Error("malformed RSA key(code:002)");if("02"!=e.substr(o[0],2))throw new Error("malformed RSA key(code:003)");if(i.n=r(e,o[0]),"02"!=e.substr(o[1],2))throw new Error("malformed RSA key(code:004)");return i.e=r(e,o[1]),i},parsePublicPKCS8Hex:function(e){var t=fe,n=t.getChildIdx,r=t.getV,i={algparam:null},o=n(e,0);if(2!=o.length)throw new Error("outer DERSequence shall have 2 elements: "+o.length);var a=o[0];if("30"!=e.substr(a,2))throw new Error("malformed PKCS8 public key(code:001)");var s=n(e,a);if(2!=s.length)throw new Error("malformed PKCS8 public key(code:002)");if("06"!=e.substr(s[0],2))throw new Error("malformed PKCS8 public key(code:003)");if(i.algoid=r(e,s[0]),"06"==e.substr(s[1],2)?i.algparam=r(e,s[1]):"30"==e.substr(s[1],2)&&(i.algparam={},i.algparam.p=t.getVbyList(e,s[1],[0],"02"),i.algparam.q=t.getVbyList(e,s[1],[1],"02"),i.algparam.g=t.getVbyList(e,s[1],[2],"02")),"03"!=e.substr(o[1],2))throw new Error("malformed PKCS8 public key(code:004)");return i.key=r(e,o[1]).substr(2),i}}}();function ze(e,t){for(var n="",r=t/4-e.length,i=0;i<r;i++)n+="0";return n+e}function Ke(e,t,n){for(var r="",i=0;r.length<t;)r+=xe(n(Se(e+String.fromCharCode.apply(String,[(4278190080&i)>>24,(16711680&i)>>16,(65280&i)>>8,255&i])))),i+=1;return r}function Ve(e){for(var t in ue.crypto.Util.DIGESTINFOHEAD){var n=ue.crypto.Util.DIGESTINFOHEAD[t],r=n.length;if(e.substring(0,r)==n)return[t,e.substring(r)]}return[]}function We(e){var t,n=fe,r=n.getChildIdx,i=n.getV,o=n.getTLV,a=n.getVbyList,s=n.getVbyListEx,u=n.getTLVbyList,c=n.getTLVbyListEx,l=n.getIdxbyList,f=n.getIdxbyListEx,d=n.getVidx,h=n.getInt,p=n.oidname,v=n.hextooidstr,g=Ae;try{t=ue.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch(e){}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){if(null===this.hex||0!==this.version)return this.version;var e=u(this.hex,0,[0,0]);if("a0"==e.substr(0,2)){var t=u(e,0,[0]),n=h(t,0);if(n<0||2<n)throw new Error("malformed version field");return this.version=n+1,this.version}return this.version=1,this.foffset=-1,1},this.getSerialNumberHex=function(){return s(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var e=c(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(e)},this.getAlgorithmIdentifierName=function(e){for(var n in t)if(e===t[n])return n;return p(s(e,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return u(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return this.getIssuer().str},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return u(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return this.getSubject().str},this.getNotBefore=function(){var e=a(this.hex,0,[0,4+this.foffset,0]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getNotAfter=function(){var e=a(this.hex,0,[0,4+this.foffset,1]);return e=e.replace(/(..)/g,"%$1"),decodeURIComponent(e)},this.getPublicKeyHex=function(){return n.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return l(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var e=this.getPublicKeyIdx();return l(this.hex,e,[1,0],"30")},this.getPublicKey=function(){return He.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var e=u(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(e)},this.getSignatureValueHex=function(){return a(this.hex,0,[2],"03",!0)},this.verifySignature=function(e){var t=this.getSignatureAlgorithmField(),n=this.getSignatureValueHex(),r=u(this.hex,0,[0],"30"),i=new ue.crypto.Signature({alg:t});return i.init(e),i.updateHex(r),i.verify(n)},this.parseExt=function(e){var t,o,s;if(void 0===e){if(s=this.hex,3!==this.version)return-1;t=l(s,0,[0,7,0],"30"),o=r(s,t)}else{s=Ae(e);var u=l(s,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=i(s,u))return void(this.aExtInfo=new Array);t=l(s,0,[0,3,0,1,0],"30"),o=r(s,t),this.hex=s}this.aExtInfo=new Array;for(var c=0;c<o.length;c++){var f={critical:!1},h=0;3===r(s,o[c]).length&&(f.critical=!0,h=1),f.oid=n.hextooidstr(a(s,o[c],[0],"06"));var p=l(s,o[c],[1+h]);f.vidx=d(s,p),this.aExtInfo.push(f)}},this.getExtInfo=function(e){var t=this.aExtInfo,n=e;if(e.match(/^[0-9.]+$/)||(n=ue.asn1.x509.OID.name2oid(e)),""!==n)for(var r=0;r<t.length;r++)if(t[r].oid===n)return t[r]},this.getExtBasicConstraints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("basicConstraints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"basicConstraints"};if(t&&(r.critical=!0),"3000"===e)return r;if("30030101ff"===e)return r.cA=!0,r;if("30060101ff02"===e.substr(0,12)){var a=i(e,10),s=parseInt(a,16);return r.cA=!0,r.pathLen=s,r}throw new Error("hExtV parse error: "+e)},this.getExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("keyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"keyUsage"};return t&&(r.critical=!0),r.names=this.getExtKeyUsageString(e).split(","),r},this.getExtKeyUsageBin=function(e){if(void 0===e){var t=this.getExtInfo("keyUsage");if(void 0===t)return"";e=o(this.hex,t.vidx)}if(8!=e.length&&10!=e.length)throw new Error("malformed key usage value: "+e);var n="000000000000000"+parseInt(e.substr(6),16).toString(2);return 8==e.length&&(n=n.slice(-8)),10==e.length&&(n=n.slice(-16)),""==(n=n.replace(/0+$/,""))&&(n="0"),n},this.getExtKeyUsageString=function(e){for(var t=this.getExtKeyUsageBin(e),n=new Array,r=0;r<t.length;r++)"1"==t.substr(r,1)&&n.push(We.KEYUSAGE_NAME[r]);return n.join(",")},this.getExtSubjectKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectKeyIdentifier"};t&&(r.critical=!0);var a=i(e,0);return r.kid={hex:a},r},this.getExtAuthorityKeyIdentifier=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityKeyIdentifier");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"authorityKeyIdentifier"};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++){var c=e.substr(s[u],2);if("80"===c&&(a.kid={hex:i(e,s[u])}),"a1"===c){var l=o(e,s[u]),f=this.getGeneralNames(l);a.issuer=f[0].dn}"82"===c&&(a.sn={hex:i(e,s[u])})}return a},this.getExtExtKeyUsage=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("extKeyUsage");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var a={extname:"extKeyUsage",array:[]};t&&(a.critical=!0);for(var s=r(e,0),u=0;u<s.length;u++)a.array.push(p(i(e,s[u])));return a},this.getExtExtKeyUsageName=function(){var e=this.getExtInfo("extKeyUsage");if(void 0===e)return e;var t=new Array,n=o(this.hex,e.vidx);if(""===n)return t;for(var a=r(n,0),s=0;s<a.length;s++)t.push(p(i(n,a[s])));return t},this.getExtSubjectAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("subjectAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"subjectAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getExtIssuerAltName=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("issuerAltName");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var r={extname:"issuerAltName",array:[]};return t&&(r.critical=!0),r.array=this.getGeneralNames(e),r},this.getGeneralNames=function(e){for(var t=r(e,0),n=[],i=0;i<t.length;i++){var a=this.getGeneralName(o(e,t[i]));void 0!==a&&n.push(a)}return n},this.getGeneralName=function(e){var t=e.substr(0,2),n=i(e,0),r=xe(n);return"81"==t?{rfc822:r}:"82"==t?{dns:r}:"86"==t?{uri:r}:"87"==t?{ip:Me(n)}:"a4"==t?{dn:this.getX500Name(n)}:void 0},this.getExtSubjectAltName2=function(){var e,t,n,a=this.getExtInfo("subjectAltName");if(void 0===a)return a;for(var s=new Array,u=o(this.hex,a.vidx),c=r(u,0),l=0;l<c.length;l++)n=u.substr(c[l],2),e=i(u,c[l]),"81"===n&&(t=be(e),s.push(["MAIL",t])),"82"===n&&(t=be(e),s.push(["DNS",t])),"84"===n&&(t=We.hex2dn(e,0),s.push(["DN",t])),"86"===n&&(t=be(e),s.push(["URI",t])),"87"===n&&(t=Me(e),s.push(["IP",t]));return s},this.getExtCRLDistributionPoints=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("cRLDistributionPoints");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"cRLDistributionPoints",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]);i.array.push(this.getDistributionPoint(u))}return i},this.getDistributionPoint=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.dpname=this.getDistributionPointName(s))}return t},this.getDistributionPointName=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=e.substr(n[i],2),s=o(e,n[i]);"a0"==a&&(t.full=this.getGeneralNames(s))}return t},this.getExtCRLDistributionPointsURI=function(){var e=this.getExtInfo("cRLDistributionPoints");if(void 0===e)return e;for(var t=new Array,n=r(this.hex,e.vidx),i=0;i<n.length;i++)try{var o=be(a(this.hex,n[i],[0,0,0],"86"));t.push(o)}catch(e){}return t},this.getExtAIAInfo=function(){var e=this.getExtInfo("authorityInfoAccess");if(void 0===e)return e;for(var t={ocsp:[],caissuer:[]},n=r(this.hex,e.vidx),i=0;i<n.length;i++){var o=a(this.hex,n[i],[0],"06"),s=a(this.hex,n[i],[1],"86");"2b06010505073001"===o&&t.ocsp.push(be(s)),"2b06010505073002"===o&&t.caissuer.push(be(s))}return t},this.getExtAuthorityInfoAccess=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("authorityInfoAccess");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"authorityInfoAccess",array:[]};t&&(i.critical=!0);for(var u=r(e,0),c=0;c<u.length;c++){var l=s(e,u[c],[0],"06"),f=be(a(e,u[c],[1],"86"));if("2b06010505073001"==l)i.array.push({ocsp:f});else{if("2b06010505073002"!=l)throw new Error("unknown method: "+l);i.array.push({caissuer:f})}}return i},this.getExtCertificatePolicies=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("certificatePolicies");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"certificatePolicies",array:[]};t&&(i.critical=!0);for(var a=r(e,0),s=0;s<a.length;s++){var u=o(e,a[s]),c=this.getPolicyInformation(u);i.array.push(c)}return i},this.getPolicyInformation=function(e){var t={},n=a(e,0,[0],"06");t.policyoid=p(n);var i=f(e,0,[1],"30");if(-1!=i){t.array=[];for(var s=r(e,i),u=0;u<s.length;u++){var c=o(e,s[u]),l=this.getPolicyQualifierInfo(c);t.array.push(l)}}return t},this.getPolicyQualifierInfo=function(e){var t={},n=a(e,0,[0],"06");if("2b06010505070201"===n){var r=s(e,0,[1],"16");t.cps=xe(r)}else if("2b06010505070202"===n){var i=u(e,0,[1],"30");t.unotice=this.getUserNotice(i)}return t},this.getUserNotice=function(e){for(var t={},n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]);"30"!=a.substr(0,2)&&(t.exptext=this.getDisplayText(a))}return t},this.getDisplayText=function(e){var t={};return t.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[e.substr(0,2)],t.str=xe(i(e,0)),t},this.getExtCRLNumber=function(e,t){var n={extname:"cRLNumber"};if(t&&(n.critical=!0),"02"==e.substr(0,2))return n.num={hex:i(e,0)},n;throw new Error("hExtV parse error: "+e)},this.getExtCRLReason=function(e,t){var n={extname:"cRLReason"};if(t&&(n.critical=!0),"0a"==e.substr(0,2))return n.code=parseInt(i(e,0),16),n;throw new Error("hExtV parse error: "+e)},this.getExtOcspNonce=function(e,t){var n={extname:"ocspNonce"};t&&(n.critical=!0);var r=i(e,0);return n.hex=r,n},this.getExtOcspNoCheck=function(e,t){var n={extname:"ocspNoCheck"};return t&&(n.critical=!0),n},this.getExtAdobeTimeStamp=function(e,t){if(void 0===e&&void 0===t){var n=this.getExtInfo("adobeTimeStamp");if(void 0===n)return;e=o(this.hex,n.vidx),t=n.critical}var i={extname:"adobeTimeStamp"};t&&(i.critical=!0);var a=r(e,0);if(a.length>1){var s=o(e,a[1]),u=this.getGeneralName(s);null!=u.uri&&(i.uri=u.uri)}if(a.length>2){var c=o(e,a[2]);"0101ff"==c&&(i.reqauth=!0),"010100"==c&&(i.reqauth=!1)}return i},this.getX500NameRule=function(e){for(var t=null,n=[],r=0;r<e.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(i[o]);for(r=0;r<n.length;r++){var a=n[r],s=a.ds,u=a.value,c=a.type;if("prn"!=s&&"utf8"!=s&&"ia5"!=s)return"mixed";if("ia5"==s){if("CN"!=c)return"mixed";if(ue.lang.String.isMail(u))continue;return"mixed"}if("C"==c){if("prn"==s)continue;return"mixed"}if(null==t)t=s;else if(t!==s)return"mixed"}return null==t?"prn":t},this.getX500Name=function(e){var t=this.getX500NameArray(e);return{array:t,str:this.dnarraytostr(t)}},this.getX500NameArray=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getRDN(o(e,n[i])));return t},this.getRDN=function(e){for(var t=[],n=r(e,0),i=0;i<n.length;i++)t.push(this.getAttrTypeAndValue(o(e,n[i])));return t},this.getAttrTypeAndValue=function(e){var t={type:null,value:null,ds:null},n=r(e,0),i=a(e,n[0],[],"06"),o=a(e,n[1],[]),s=ue.asn1.ASN1Util.oidHexToInt(i);return t.type=ue.asn1.x509.OID.oid2atype(s),t.ds=this.HEX2STAG[e.substr(n[1],2)],"bmp"!=t.ds?t.value=be(o):t.value=je(o),t},this.readCertPEM=function(e){this.readCertHex(g(e))},this.readCertHex=function(e){this.hex=e,this.getVersion();try{l(this.hex,0,[0,7],"a3"),this.parseExt()}catch(e){}},this.getParam=function(){var e={};return e.version=this.getVersion(),e.serial={hex:this.getSerialNumberHex()},e.sigalg=this.getSignatureAlgorithmField(),e.issuer=this.getIssuer(),e.notbefore=this.getNotBefore(),e.notafter=this.getNotAfter(),e.subject=this.getSubject(),e.sbjpubkey=Pe(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(e.ext=this.getExtParamArray()),e.sighex=this.getSignatureValueHex(),e},this.getExtParamArray=function(e){null==e&&-1!=f(this.hex,0,[0,"[3]"])&&(e=c(this.hex,0,[0,"[3]",0],"30"));for(var t=[],n=r(e,0),i=0;i<n.length;i++){var a=o(e,n[i]),s=this.getExtParam(a);null!=s&&t.push(s)}return t},this.getExtParam=function(e){var t=r(e,0).length;if(2!=t&&3!=t)throw new Error("wrong number elements in Extension: "+t+" "+e);var n=v(a(e,0,[0],"06")),i=!1;3==t&&"0101ff"==u(e,0,[1])&&(i=!0);var o=u(e,0,[t-1,0]),s=void 0;if("2.5.29.14"==n?s=this.getExtSubjectKeyIdentifier(o,i):"2.5.29.15"==n?s=this.getExtKeyUsage(o,i):"2.5.29.17"==n?s=this.getExtSubjectAltName(o,i):"2.5.29.18"==n?s=this.getExtIssuerAltName(o,i):"2.5.29.19"==n?s=this.getExtBasicConstraints(o,i):"2.5.29.31"==n?s=this.getExtCRLDistributionPoints(o,i):"2.5.29.32"==n?s=this.getExtCertificatePolicies(o,i):"2.5.29.35"==n?s=this.getExtAuthorityKeyIdentifier(o,i):"2.5.29.37"==n?s=this.getExtExtKeyUsage(o,i):"1.3.6.1.5.5.7.1.1"==n?s=this.getExtAuthorityInfoAccess(o,i):"2.5.29.20"==n?s=this.getExtCRLNumber(o,i):"2.5.29.21"==n?s=this.getExtCRLReason(o,i):"1.3.6.1.5.5.7.48.1.2"==n?s=this.getExtOcspNonce(o,i):"1.3.6.1.5.5.7.48.1.5"==n?s=this.getExtOcspNoCheck(o,i):"1.2.840.113583.1.1.9.1"==n&&(s=this.getExtAdobeTimeStamp(o,i)),null!=s)return s;var c={extname:n,extn:o};return i&&(c.critical=!0),c},this.findExt=function(e,t){for(var n=0;n<e.length;n++)if(e[n].extname==t)return e[n];return null},this.updateExtCDPFullURI=function(e,t){var n=this.findExt(e,"cRLDistributionPoints");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)if(null!=r[i].dpname&&null!=r[i].dpname.full)for(var o=r[i].dpname.full,a=0;a<o.length;a++){var s=o[i];null!=s.uri&&(s.uri=t)}},this.updateExtAIAOCSP=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].ocsp&&(r[i].ocsp=t)},this.updateExtAIACAIssuer=function(e,t){var n=this.findExt(e,"authorityInfoAccess");if(null!=n&&null!=n.array)for(var r=n.array,i=0;i<r.length;i++)null!=r[i].caissuer&&(r[i].caissuer=t)},this.dnarraytostr=function(e){return"/"+e.map((function(e){return function(e){return e.map((function(e){return function(e){return e.type+"="+e.value}(e).replace(/\+/,"\\+")})).join("+")}(e).replace(/\//,"\\/")})).join("/")},this.getInfo=function(){var e,t,n,r=function(e){return JSON.stringify(e.array).replace(/[\[\]\{\}\"]/g,"")},i=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];if(t+="    policy oid: "+i.policyoid+"\n",void 0!==i.array)for(var o=0;o<i.array.length;o++){var a=i.array[o];void 0!==a.cps&&(t+="    cps: "+a.cps+"\n")}}return t},o=function(t){for(var n="",r=t.array,i=0;i<r.length;i++){var o=r[i];try{void 0!==o.dpname.full[0].uri&&(n+="    "+o.dpname.full[0].uri+"\n")}catch(e){}try{void 0!==o.dname.full[0].dn.hex&&(n+="    "+We.hex2dn(o.dpname.full[0].dn.hex)+"\n")}catch(e){}}return n},a=function(e){for(var t="",n=e.array,r=0;r<n.length;r++){var i=n[r];void 0!==i.caissuer&&(t+="    caissuer: "+i.caissuer+"\n"),void 0!==i.ocsp&&(t+="    ocsp: "+i.ocsp+"\n")}return t};if(e="Basic Fields\n",e+="  serial number: "+this.getSerialNumberHex()+"\n",e+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",e+="  issuer: "+this.getIssuerString()+"\n",e+="  notBefore: "+this.getNotBefore()+"\n",e+="  notAfter: "+this.getNotAfter()+"\n",e+="  subject: "+this.getSubjectString()+"\n",e+="  subject public key info: \n",e+="    key algorithm: "+(t=this.getPublicKey()).type+"\n","RSA"===t.type&&(e+="    n="+Ue(t.n.toString(16)).substr(0,16)+"...\n",e+="    e="+Ue(t.e.toString(16))+"\n"),null!=(n=this.aExtInfo)){e+="X509v3 Extensions:\n";for(var s=0;s<n.length;s++){var u=n[s],c=ue.asn1.x509.OID.oid2name(u.oid);""===c&&(c=u.oid);var l="";if(!0===u.critical&&(l="CRITICAL"),e+="  "+c+" "+l+":\n","basicConstraints"===c){var f=this.getExtBasicConstraints();void 0===f.cA?e+="    {}\n":(e+="    cA=true",void 0!==f.pathLen&&(e+=", pathLen="+f.pathLen),e+="\n")}else if("keyUsage"===c)e+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===c)e+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===c){var d=this.getExtAuthorityKeyIdentifier();void 0!==d.kid&&(e+="    kid="+d.kid.hex+"\n")}else"extKeyUsage"===c?e+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===c?e+="    "+r(this.getExtSubjectAltName())+"\n":"cRLDistributionPoints"===c?e+=o(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===c?e+=a(this.getExtAuthorityInfoAccess()):"certificatePolicies"===c&&(e+=i(this.getExtCertificatePolicies()))}}return(e+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof e&&(-1!=e.indexOf("-----BEGIN")?this.readCertPEM(e):ue.lang.String.isHex(e)&&this.readCertHex(e))}He.getKey=function(e,t,n){var r,i=(y=fe).getChildIdx,o=(y.getV,y.getVbyList),a=ue.crypto,s=a.ECDSA,u=a.DSA,c=re,l=Ae,f=He;if(void 0!==c&&e instanceof c)return e;if(void 0!==s&&e instanceof s)return e;if(void 0!==u&&e instanceof u)return e;if(void 0!==e.curve&&void 0!==e.xy&&void 0===e.d)return new s({pub:e.xy,curve:e.curve});if(void 0!==e.curve&&void 0!==e.d)return new s({prv:e.d,curve:e.curve});if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new c).setPublic(e.n,e.e),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.co&&void 0===e.qi)return(T=new c).setPrivateEx(e.n,e.e,e.d,e.p,e.q,e.dp,e.dq,e.co),T;if(void 0===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0===e.p)return(T=new c).setPrivate(e.n,e.e,e.d),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0===e.x)return(T=new u).setPublic(e.p,e.q,e.g,e.y),T;if(void 0!==e.p&&void 0!==e.q&&void 0!==e.g&&void 0!==e.y&&void 0!==e.x)return(T=new u).setPrivate(e.p,e.q,e.g,e.y,e.x),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0===e.d)return(T=new c).setPublic(we(e.n),we(e.e)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d&&void 0!==e.p&&void 0!==e.q&&void 0!==e.dp&&void 0!==e.dq&&void 0!==e.qi)return(T=new c).setPrivateEx(we(e.n),we(e.e),we(e.d),we(e.p),we(e.q),we(e.dp),we(e.dq),we(e.qi)),T;if("RSA"===e.kty&&void 0!==e.n&&void 0!==e.e&&void 0!==e.d)return(T=new c).setPrivate(we(e.n),we(e.e),we(e.d)),T;if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0===e.d){var d=(A=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);return A.setPublicKeyHex(h),A}if("EC"===e.kty&&void 0!==e.crv&&void 0!==e.x&&void 0!==e.y&&void 0!==e.d){d=(A=new s({curve:e.crv})).ecparams.keylen/4,h="04"+("0000000000"+we(e.x)).slice(-d)+("0000000000"+we(e.y)).slice(-d);var p=("0000000000"+we(e.d)).slice(-d);return A.setPublicKeyHex(h),A.setPrivateKeyHex(p),A}if("pkcs5prv"===n){var v,g=e,y=fe;if(9===(v=i(g,0)).length)(T=new c).readPKCS5PrvKeyHex(g);else if(6===v.length)(T=new u).readPKCS5PrvKeyHex(g);else{if(!(v.length>2&&"04"===g.substr(v[1],2)))throw new Error("unsupported PKCS#1/5 hexadecimal key");(T=new s).readPKCS5PrvKeyHex(g)}return T}if("pkcs8prv"===n)return f.getKeyFromPlainPrivatePKCS8Hex(e);if("pkcs8pub"===n)return f._getKeyFromPublicPKCS8Hex(e);if("x509pub"===n)return We.getPublicKeyFromCertHex(e);if(-1!=e.indexOf("-END CERTIFICATE-",0)||-1!=e.indexOf("-END X509 CERTIFICATE-",0)||-1!=e.indexOf("-END TRUSTED CERTIFICATE-",0))return We.getPublicKeyFromCertPEM(e);if(-1!=e.indexOf("-END PUBLIC KEY-")){var m=Ae(e,"PUBLIC KEY");return f._getKeyFromPublicPKCS8Hex(m)}if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var w=l(e,"RSA PRIVATE KEY");return f.getKey(w,null,"pkcs5prv")}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED")){var _=o(r=l(e,"DSA PRIVATE KEY"),0,[1],"02"),b=o(r,0,[2],"02"),S=o(r,0,[3],"02"),k=o(r,0,[4],"02"),E=o(r,0,[5],"02");return(T=new u).setPrivate(new x(_,16),new x(b,16),new x(S,16),new x(k,16),new x(E,16)),T}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1==e.indexOf("4,ENCRYPTED"))return w=l(e,"EC PRIVATE KEY"),f.getKey(w,null,"pkcs5prv");if(-1!=e.indexOf("-END PRIVATE KEY-"))return f.getKeyFromPlainPrivatePKCS8PEM(e);if(-1!=e.indexOf("-END RSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var C=f.getDecryptedKeyHex(e,t),P=new re;return P.readPKCS5PrvKeyHex(C),P}if(-1!=e.indexOf("-END EC PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED")){var A,T=o(r=f.getDecryptedKeyHex(e,t),0,[1],"04"),O=o(r,0,[2,0],"06"),I=o(r,0,[3,0],"03").substr(2);if(void 0===ue.crypto.OID.oidhex2name[O])throw new Error("undefined OID(hex) in KJUR.crypto.OID: "+O);return(A=new s({curve:ue.crypto.OID.oidhex2name[O]})).setPublicKeyHex(I),A.setPrivateKeyHex(T),A.isPublic=!1,A}if(-1!=e.indexOf("-END DSA PRIVATE KEY-")&&-1!=e.indexOf("4,ENCRYPTED"))return _=o(r=f.getDecryptedKeyHex(e,t),0,[1],"02"),b=o(r,0,[2],"02"),S=o(r,0,[3],"02"),k=o(r,0,[4],"02"),E=o(r,0,[5],"02"),(T=new u).setPrivate(new x(_,16),new x(b,16),new x(S,16),new x(k,16),new x(E,16)),T;if(-1!=e.indexOf("-END ENCRYPTED PRIVATE KEY-"))return f.getKeyFromEncryptedPKCS8PEM(e,t);throw new Error("not supported argument")},He.generateKeypair=function(e,t){if("RSA"==e){var n=t;(a=new re).generate(n,"10001"),a.isPrivate=!0,a.isPublic=!0;var r=new re,i=a.n.toString(16),o=a.e.toString(16);return r.setPublic(i,o),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}if("EC"==e){var a,s,u=t,c=new ue.crypto.ECDSA({curve:u}).generateKeyPairHex();return(a=new ue.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),a.setPrivateKeyHex(c.ecprvhex),a.isPrivate=!0,a.isPublic=!1,(r=new ue.crypto.ECDSA({curve:u})).setPublicKeyHex(c.ecpubhex),r.isPrivate=!1,r.isPublic=!0,(s={}).prvKeyObj=a,s.pubKeyObj=r,s}throw new Error("unknown algorithm: "+e)},He.getPEM=function(e,t,n,r,i,o){var a=ue,s=a.asn1,u=s.DERObjectIdentifier,c=s.DERInteger,l=s.ASN1Util.newObject,f=s.x509.SubjectPublicKeyInfo,d=a.crypto,h=d.DSA,p=d.ECDSA,v=re;function y(e){return l({seq:[{int:0},{int:{bigint:e.n}},{int:e.e},{int:{bigint:e.d}},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.dmp1}},{int:{bigint:e.dmq1}},{int:{bigint:e.coeff}}]})}function m(e){return l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a0",!0,{oid:{name:e.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]})}function w(e){return l({seq:[{int:0},{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}},{int:{bigint:e.y}},{int:{bigint:e.x}}]})}if((void 0!==v&&e instanceof v||void 0!==h&&e instanceof h||void 0!==p&&e instanceof p)&&1==e.isPublic&&(void 0===t||"PKCS8PUB"==t))return Pe(S=new f(e).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==t&&void 0!==v&&e instanceof v&&(void 0===n||null==n)&&1==e.isPrivate)return Pe(S=y(e).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==t&&void 0!==p&&e instanceof p&&(void 0===n||null==n)&&1==e.isPrivate){var _=new u({name:e.curveName}).getEncodedHex(),b=m(e).getEncodedHex(),x="";return(x+=Pe(_,"EC PARAMETERS"))+Pe(b,"EC PRIVATE KEY")}if("PKCS1PRV"==t&&void 0!==h&&e instanceof h&&(void 0===n||null==n)&&1==e.isPrivate)return Pe(S=w(e).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==t&&void 0!==v&&e instanceof v&&void 0!==n&&null!=n&&1==e.isPrivate){var S=y(e).getEncodedHex();return void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",S,n,r,o)}if("PKCS5PRV"==t&&void 0!==p&&e instanceof p&&void 0!==n&&null!=n&&1==e.isPrivate)return S=m(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",S,n,r,o);if("PKCS5PRV"==t&&void 0!==h&&e instanceof h&&void 0!==n&&null!=n&&1==e.isPrivate)return S=w(e).getEncodedHex(),void 0===r&&(r="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",S,n,r,o);var k=function(e,t){var n=E(e,t);return new l({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:n.pbkdf2Salt}},{int:n.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:n.encryptionSchemeIV}}]}]}]},{octstr:{hex:n.ciphertext}}]}).getEncodedHex()},E=function(e,t){var n=g.lib.WordArray.random(8),r=g.lib.WordArray.random(8),i=g.PBKDF2(t,n,{keySize:6,iterations:100}),o=g.enc.Hex.parse(e),a=g.TripleDES.encrypt(o,i,{iv:r})+"",s={};return s.ciphertext=a,s.pbkdf2Salt=g.enc.Hex.stringify(n),s.pbkdf2Iter=100,s.encryptionSchemeAlg="DES-EDE3-CBC",s.encryptionSchemeIV=g.enc.Hex.stringify(r),s};if("PKCS8PRV"==t&&null!=v&&e instanceof v&&1==e.isPrivate){var C=y(e).getEncodedHex();return S=l({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Pe(S,"PRIVATE KEY"):Pe(b=k(S,n),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==t&&void 0!==p&&e instanceof p&&1==e.isPrivate)return C=new l({seq:[{int:1},{octstr:{hex:e.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+e.pubKeyHex}}]}]}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:e.curveName}}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Pe(S,"PRIVATE KEY"):Pe(b=k(S,n),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==t&&void 0!==h&&e instanceof h&&1==e.isPrivate)return C=new c({bigint:e.x}).getEncodedHex(),S=l({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:e.p}},{int:{bigint:e.q}},{int:{bigint:e.g}}]}]},{octstr:{hex:C}}]}).getEncodedHex(),void 0===n||null==n?Pe(S,"PRIVATE KEY"):Pe(b=k(S,n),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},He.getKeyFromCSRPEM=function(e){var t=Ae(e,"CERTIFICATE REQUEST");return He.getKeyFromCSRHex(t)},He.getKeyFromCSRHex=function(e){var t=He.parseCSRHex(e);return He.getKey(t.p8pubkeyhex,null,"pkcs8pub")},He.parseCSRHex=function(e){var t=fe,n=t.getChildIdx,r=t.getTLV,i={},o=e;if("30"!=o.substr(0,2))throw new Error("malformed CSR(code:001)");var a=n(o,0);if(a.length<1)throw new Error("malformed CSR(code:002)");if("30"!=o.substr(a[0],2))throw new Error("malformed CSR(code:003)");var s=n(o,a[0]);if(s.length<3)throw new Error("malformed CSR(code:004)");return i.p8pubkeyhex=r(o,s[2]),i},He.getKeyID=function(e){var t=He,n=fe;"string"==typeof e&&-1!=e.indexOf("BEGIN ")&&(e=t.getKey(e));var r=Ae(t.getPEM(e)),i=n.getIdxbyList(r,0,[1]),o=n.getV(r,i).substring(2);return ue.crypto.Util.hashHex(o,"sha1")},He.getJWKFromKey=function(e){var t={};if(e instanceof re&&e.isPrivate)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t.d=me(e.d.toString(16)),t.p=me(e.p.toString(16)),t.q=me(e.q.toString(16)),t.dp=me(e.dmp1.toString(16)),t.dq=me(e.dmq1.toString(16)),t.qi=me(e.coeff.toString(16)),t;if(e instanceof re&&e.isPublic)return t.kty="RSA",t.n=me(e.n.toString(16)),t.e=me(e.e.toString(16)),t;if(e instanceof ue.crypto.ECDSA&&e.isPrivate){if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);var n=e.getPublicKeyXYHex();return t.kty="EC",t.crv=r,t.x=me(n.x),t.y=me(n.y),t.d=me(e.prvKeyHex),t}if(e instanceof ue.crypto.ECDSA&&e.isPublic){var r;if("P-256"!==(r=e.getShortNISTPCurveName())&&"P-384"!==r)throw new Error("unsupported curve name for JWT: "+r);return n=e.getPublicKeyXYHex(),t.kty="EC",t.crv=r,t.x=me(n.x),t.y=me(n.y),t}throw new Error("not supported key object")},re.getPosArrayOfChildrenFromHex=function(e){return fe.getChildIdx(e,0)},re.getHexValueArrayOfChildrenFromHex=function(e){var t,n=fe.getV,r=n(e,(t=re.getPosArrayOfChildrenFromHex(e))[0]),i=n(e,t[1]),o=n(e,t[2]),a=n(e,t[3]),s=n(e,t[4]),u=n(e,t[5]),c=n(e,t[6]),l=n(e,t[7]),f=n(e,t[8]);return(t=new Array).push(r,i,o,a,s,u,c,l,f),t},re.prototype.readPrivateKeyFromPEMString=function(e){var t=Ae(e),n=re.getHexValueArrayOfChildrenFromHex(t);this.setPrivateEx(n[1],n[2],n[3],n[4],n[5],n[6],n[7],n[8])},re.prototype.readPKCS5PrvKeyHex=function(e){var t=re.getHexValueArrayOfChildrenFromHex(e);this.setPrivateEx(t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},re.prototype.readPKCS8PrvKeyHex=function(e){var t,n,r,i,o,a,s,u,c=fe,l=c.getVbyListEx;if(!1===c.isASN1HEX(e))throw new Error("not ASN.1 hex string");try{t=l(e,0,[2,0,1],"02"),n=l(e,0,[2,0,2],"02"),r=l(e,0,[2,0,3],"02"),i=l(e,0,[2,0,4],"02"),o=l(e,0,[2,0,5],"02"),a=l(e,0,[2,0,6],"02"),s=l(e,0,[2,0,7],"02"),u=l(e,0,[2,0,8],"02")}catch(e){throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(t,n,r,i,o,a,s,u)},re.prototype.readPKCS5PubKeyHex=function(e){var t=fe,n=t.getV;if(!1===t.isASN1HEX(e))throw new Error("keyHex is not ASN.1 hex string");var r=t.getChildIdx(e,0);if(2!==r.length||"02"!==e.substr(r[0],2)||"02"!==e.substr(r[1],2))throw new Error("wrong hex for PKCS#5 public key");var i=n(e,r[0]),o=n(e,r[1]);this.setPublic(i,o)},re.prototype.readPKCS8PubKeyHex=function(e){var t=fe;if(!1===t.isASN1HEX(e))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==t.getTLVbyListEx(e,0,[0,0]))throw new Error("not PKCS8 RSA public key");var n=t.getTLVbyListEx(e,0,[1,0]);this.readPKCS5PubKeyHex(n)},re.prototype.readCertPubKeyHex=function(e,t){var n,r;(n=new We).readCertHex(e),r=n.getPublicKeyHex(),this.readPKCS8PubKeyHex(r)},new RegExp("[^0-9a-f]","gi"),re.prototype.sign=function(e,t){var n=function(e){return ue.crypto.Util.hashString(e,t)}(e);return this.signWithMessageHash(n,t)},re.prototype.signWithMessageHash=function(e,t){var n=te(ue.crypto.Util.getPaddedDigestInfoHex(e,t,this.n.bitLength()),16);return ze(this.doPrivate(n).toString(16),this.n.bitLength())},re.prototype.signPSS=function(e,t,n){var r=function(e){return ue.crypto.Util.hashHex(e,t)}(Se(e));return void 0===n&&(n=-1),this.signWithMessageHashPSS(r,t,n)},re.prototype.signWithMessageHashPSS=function(e,t,n){var r,i=xe(e),o=i.length,a=this.n.bitLength()-1,s=Math.ceil(a/8),u=function(e){return ue.crypto.Util.hashHex(e,t)};if(-1===n||void 0===n)n=o;else if(-2===n)n=s-o-2;else if(n<-2)throw new Error("invalid salt length");if(s<o+n+2)throw new Error("data too long");var c="";n>0&&(c=new Array(n),(new ee).nextBytes(c),c=String.fromCharCode.apply(String,c));var l=xe(u(Se("\0\0\0\0\0\0\0\0"+i+c))),f=[];for(r=0;r<s-n-o-2;r+=1)f[r]=0;var d=String.fromCharCode.apply(String,f)+"\x01"+c,h=Ke(l,d.length,u),p=[];for(r=0;r<d.length;r+=1)p[r]=d.charCodeAt(r)^h.charCodeAt(r);var v=65280>>8*s-a&255;for(p[0]&=~v,r=0;r<o;r++)p.push(l.charCodeAt(r));return p.push(188),ze(this.doPrivate(new x(p)).toString(16),this.n.bitLength())},re.prototype.verify=function(e,t){if(null==(t=t.toLowerCase()).match(/^[0-9a-f]+$/))return!1;var n=te(t,16),r=this.n.bitLength();if(n.bitLength()>r)return!1;var i=this.doPublic(n).toString(16);if(i.length+3!=r/4)return!1;var o=Ve(i.replace(/^1f+00/,""));if(0==o.length)return!1;var a=o[0];return o[1]==function(e){return ue.crypto.Util.hashString(e,a)}(e)},re.prototype.verifyWithMessageHash=function(e,t){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var n=te(t,16);if(n.bitLength()>this.n.bitLength())return 0;var r=Ve(this.doPublic(n).toString(16).replace(/^1f+00/,""));return 0!=r.length&&(r[0],r[1]==e)},re.prototype.verifyPSS=function(e,t,n,r){var i=function(e){return ue.crypto.Util.hashHex(e,n)}(Se(e));return void 0===r&&(r=-1),this.verifyWithMessageHashPSS(i,t,n,r)},re.prototype.verifyWithMessageHashPSS=function(e,t,n,r){if(t.length!=Math.ceil(this.n.bitLength()/4))return!1;var i,o=new x(t,16),a=function(e){return ue.crypto.Util.hashHex(e,n)},s=xe(e),u=s.length,c=this.n.bitLength()-1,l=Math.ceil(c/8);if(-1===r||void 0===r)r=u;else if(-2===r)r=l-u-2;else if(r<-2)throw new Error("invalid salt length");if(l<u+r+2)throw new Error("data too long");var f=this.doPublic(o).toByteArray();for(i=0;i<f.length;i+=1)f[i]&=255;for(;f.length<l;)f.unshift(0);if(188!==f[l-1])throw new Error("encoded message does not end in 0xbc");var d=(f=String.fromCharCode.apply(String,f)).substr(0,l-u-1),h=f.substr(d.length,u),p=65280>>8*l-c&255;if(0!=(d.charCodeAt(0)&p))throw new Error("bits beyond keysize not zero");var v=Ke(h,d.length,a),g=[];for(i=0;i<d.length;i+=1)g[i]=d.charCodeAt(i)^v.charCodeAt(i);g[0]&=~p;var y=l-u-r-2;for(i=0;i<y;i+=1)if(0!==g[i])throw new Error("leftmost octets not zero");if(1!==g[y])throw new Error("0x01 marker not found");return h===xe(a(Se("\0\0\0\0\0\0\0\0"+s+String.fromCharCode.apply(String,g.slice(-r)))))},re.SALT_LEN_HLEN=-1,re.SALT_LEN_MAX=-2,re.SALT_LEN_RECOVER=-2,We.hex2dn=function(e,t){void 0===t&&(t=0);var n=new We;return fe.getTLV(e,t),n.getX500Name(e).str},We.hex2rdn=function(e,t){if(void 0===t&&(t=0),"31"!==e.substr(t,2))throw new Error("malformed RDN");for(var n=new Array,r=fe.getChildIdx(e,t),i=0;i<r.length;i++)n.push(We.hex2attrTypeValue(e,r[i]));return(n=n.map((function(e){return e.replace("+","\\+")}))).join("+")},We.hex2attrTypeValue=function(e,t){var n=fe,r=n.getV;if(void 0===t&&(t=0),"30"!==e.substr(t,2))throw new Error("malformed attribute type and value");var i=n.getChildIdx(e,t);2!==i.length||e.substr(i[0],2);var o=r(e,i[0]),a=ue.asn1.ASN1Util.oidHexToInt(o);return ue.asn1.x509.OID.oid2atype(a)+"="+xe(r(e,i[1]))},We.getPublicKeyFromCertHex=function(e){var t=new We;return t.readCertHex(e),t.getPublicKey()},We.getPublicKeyFromCertPEM=function(e){var t=new We;return t.readCertPEM(e),t.getPublicKey()},We.getPublicKeyInfoPropOfCertPEM=function(e){var t,n,r=fe.getVbyList,i={algparam:null};return(t=new We).readCertPEM(e),n=t.getPublicKeyHex(),i.keyhex=r(n,0,[1],"03").substr(2),i.algoid=r(n,0,[0,0],"06"),"2a8648ce3d0201"===i.algoid&&(i.algparam=r(n,0,[0,1],"06")),i},We.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==ue&&ue||(t.KJUR=ue={}),void 0!==ue.jws&&ue.jws||(ue.jws={}),ue.jws.JWS=function(){var e=ue.jws.JWS.isSafeJSONString;this.parseJWS=function(t,n){if(void 0===this.parsedJWS||!n&&void 0===this.parsedJWS.sigvalH){var r=t.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==r)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var i=r[1],o=r[2],a=r[3],s=i+"."+o;if(this.parsedJWS={},this.parsedJWS.headB64U=i,this.parsedJWS.payloadB64U=o,this.parsedJWS.sigvalB64U=a,this.parsedJWS.si=s,!n){var u=we(a),c=te(u,16);this.parsedJWS.sigvalH=u,this.parsedJWS.sigvalBI=c}var l=le(i),f=le(o);if(this.parsedJWS.headS=l,this.parsedJWS.payloadS=f,!e(l,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+l}}},ue.jws.JWS.sign=function(e,t,n,r,i){var o,a,s,u=ue,c=u.jws.JWS,l=c.readSafeJSONString,f=c.isSafeJSONString,d=u.crypto,p=(d.ECDSA,d.Mac),v=d.Signature,g=JSON;if("string"!=typeof t&&"object"!=(void 0===t?"undefined":h(t)))throw"spHeader must be JSON string or object: "+t;if("object"==(void 0===t?"undefined":h(t))&&(a=t,o=g.stringify(a)),"string"==typeof t){if(!f(o=t))throw"JWS Head is not safe JSON string: "+o;a=l(o)}if(s=n,"object"==(void 0===n?"undefined":h(n))&&(s=g.stringify(n)),""!=e&&null!=e||void 0===a.alg||(e=a.alg),""!=e&&null!=e&&void 0===a.alg&&(a.alg=e,o=g.stringify(a)),e!==a.alg)throw"alg and sHeader.alg doesn't match: "+e+"!="+a.alg;var y=null;if(void 0===c.jwsalg2sigalg[e])throw"unsupported alg name: "+e;y=c.jwsalg2sigalg[e];var m=ce(o)+"."+ce(s),w="";if("Hmac"==y.substr(0,4)){if(void 0===r)throw"mac key shall be specified for HS* alg";var _=new p({alg:y,prov:"cryptojs",pass:r});_.updateString(m),w=_.doFinal()}else if(-1!=y.indexOf("withECDSA")){(x=new v({alg:y})).init(r,i),x.updateString(m);var b=x.sign();w=ue.crypto.ECDSA.asn1SigToConcatSig(b)}else{var x;"none"!=y&&((x=new v({alg:y})).init(r,i),x.updateString(m),w=x.sign())}return m+"."+me(w)},ue.jws.JWS.verify=function(e,t,n){var r,i=ue,o=i.jws.JWS,a=o.readSafeJSONString,s=i.crypto,u=s.ECDSA,c=s.Mac,l=s.Signature;void 0!==h(re)&&(r=re);var f=e.split(".");if(3!==f.length)return!1;var d,p=f[0]+"."+f[1],v=we(f[2]),g=a(le(f[0])),y=null;if(void 0===g.alg)throw"algorithm not specified in header";if(d=(y=g.alg).substr(0,2),null!=n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0&&-1==(":"+n.join(":")+":").indexOf(":"+y+":"))throw"algorithm '"+y+"' not accepted in the list";if("none"!=y&&null===t)throw"key shall be specified to verify.";if("string"==typeof t&&-1!=t.indexOf("-----BEGIN ")&&(t=He.getKey(t)),!("RS"!=d&&"PS"!=d||t instanceof r))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==d&&!(t instanceof u))throw"key shall be a ECDSA obj for ES* algs";var m=null;if(void 0===o.jwsalg2sigalg[g.alg])throw"unsupported alg name: "+y;if("none"==(m=o.jwsalg2sigalg[y]))throw"not supported";if("Hmac"==m.substr(0,4)){if(void 0===t)throw"hexadecimal key shall be specified for HMAC";var w=new c({alg:m,pass:t});return w.updateString(p),v==w.doFinal()}if(-1!=m.indexOf("withECDSA")){var _,b=null;try{b=u.concatSigToASN1Sig(v)}catch(e){return!1}return(_=new l({alg:m})).init(t),_.updateString(p),_.verify(b)}return(_=new l({alg:m})).init(t),_.updateString(p),_.verify(v)},ue.jws.JWS.parse=function(e){var t,n,r,i=e.split("."),o={};if(2!=i.length&&3!=i.length)throw"malformed sJWS: wrong number of '.' splitted elements";return t=i[0],n=i[1],3==i.length&&(r=i[2]),o.headerObj=ue.jws.JWS.readSafeJSONString(le(t)),o.payloadObj=ue.jws.JWS.readSafeJSONString(le(n)),o.headerPP=JSON.stringify(o.headerObj,null,"  "),null==o.payloadObj?o.payloadPP=le(n):o.payloadPP=JSON.stringify(o.payloadObj,null,"  "),void 0!==r&&(o.sigHex=we(r)),o},ue.jws.JWS.verifyJWT=function(e,t,n){var r=ue.jws,i=r.JWS,o=i.readSafeJSONString,a=i.inArray,s=i.includedArray,u=e.split("."),c=u[0],l=u[1],f=(we(u[2]),o(le(c))),d=o(le(l));if(void 0===f.alg)return!1;if(void 0===n.alg)throw"acceptField.alg shall be specified";if(!a(f.alg,n.alg))return!1;if(void 0!==d.iss&&"object"===h(n.iss)&&!a(d.iss,n.iss))return!1;if(void 0!==d.sub&&"object"===h(n.sub)&&!a(d.sub,n.sub))return!1;if(void 0!==d.aud&&"object"===h(n.aud))if("string"==typeof d.aud){if(!a(d.aud,n.aud))return!1}else if("object"==h(d.aud)&&!s(d.aud,n.aud))return!1;var p=r.IntDate.getNow();return void 0!==n.verifyAt&&"number"==typeof n.verifyAt&&(p=n.verifyAt),void 0!==n.gracePeriod&&"number"==typeof n.gracePeriod||(n.gracePeriod=0),!(void 0!==d.exp&&"number"==typeof d.exp&&d.exp+n.gracePeriod<p)&&!(void 0!==d.nbf&&"number"==typeof d.nbf&&p<d.nbf-n.gracePeriod)&&!(void 0!==d.iat&&"number"==typeof d.iat&&p<d.iat-n.gracePeriod)&&(void 0===d.jti||void 0===n.jti||d.jti===n.jti)&&!!i.verify(e,t,n.alg)},ue.jws.JWS.includedArray=function(e,t){var n=ue.jws.JWS.inArray;if(null===e)return!1;if("object"!==(void 0===e?"undefined":h(e)))return!1;if("number"!=typeof e.length)return!1;for(var r=0;r<e.length;r++)if(!n(e[r],t))return!1;return!0},ue.jws.JWS.inArray=function(e,t){if(null===t)return!1;if("object"!==(void 0===t?"undefined":h(t)))return!1;if("number"!=typeof t.length)return!1;for(var n=0;n<t.length;n++)if(t[n]==e)return!0;return!1},ue.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},ue.jws.JWS.isSafeJSONString=function(e,t,n){var r=null;try{return"object"!=(void 0===(r=se(e))?"undefined":h(r))||r.constructor===Array?0:(t&&(t[n]=r),1)}catch(e){return 0}},ue.jws.JWS.readSafeJSONString=function(e){var t=null;try{return"object"!=(void 0===(t=se(e))?"undefined":h(t))||t.constructor===Array?null:t}catch(e){return null}},ue.jws.JWS.getEncodedSignatureValueFromJWS=function(e){var t=e.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==t)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return t[1]},ue.jws.JWS.getJWKthumbprint=function(e){if("RSA"!==e.kty&&"EC"!==e.kty&&"oct"!==e.kty)throw"unsupported algorithm for JWK Thumprint";var t="{";if("RSA"===e.kty){if("string"!=typeof e.n||"string"!=typeof e.e)throw"wrong n and e value for RSA key";t+='"e":"'+e.e+'",',t+='"kty":"'+e.kty+'",',t+='"n":"'+e.n+'"}'}else if("EC"===e.kty){if("string"!=typeof e.crv||"string"!=typeof e.x||"string"!=typeof e.y)throw"wrong crv, x and y value for EC key";t+='"crv":"'+e.crv+'",',t+='"kty":"'+e.kty+'",',t+='"x":"'+e.x+'",',t+='"y":"'+e.y+'"}'}else if("oct"===e.kty){if("string"!=typeof e.k)throw"wrong k value for oct(symmetric) key";t+='"kty":"'+e.kty+'",',t+='"k":"'+e.k+'"}'}var n=Se(t);return me(ue.crypto.Util.hashHex(n,"sha256"))},ue.jws.IntDate={},ue.jws.IntDate.get=function(e){var t=ue.jws.IntDate,n=t.getNow,r=t.getZulu;if("now"==e)return n();if("now + 1hour"==e)return n()+3600;if("now + 1day"==e)return n()+86400;if("now + 1month"==e)return n()+2592e3;if("now + 1year"==e)return n()+31536e3;if(e.match(/Z$/))return r(e);if(e.match(/^[0-9]+$/))return parseInt(e);throw"unsupported format: "+e},ue.jws.IntDate.getZulu=function(e){return Oe(e)},ue.jws.IntDate.getNow=function(){return~~(new Date/1e3)},ue.jws.IntDate.intDate2UTCString=function(e){return new Date(1e3*e).toUTCString()},ue.jws.IntDate.intDate2Zulu=function(e){var t=new Date(1e3*e);return("0000"+t.getUTCFullYear()).slice(-4)+("00"+(t.getUTCMonth()+1)).slice(-2)+("00"+t.getUTCDate()).slice(-2)+("00"+t.getUTCHours()).slice(-2)+("00"+t.getUTCMinutes()).slice(-2)+("00"+t.getUTCSeconds()).slice(-2)+"Z"},t.SecureRandom=ee,t.rng_seed_time=G,t.BigInteger=x,t.RSAKey=re;var qe=ue.crypto.EDSA;t.EDSA=qe;var Ge=ue.crypto.DSA;t.DSA=Ge;var Je=ue.crypto.Signature;t.Signature=Je;var Qe=ue.crypto.MessageDigest;t.MessageDigest=Qe;var Ye=ue.crypto.Mac;t.Mac=Ye;var Xe=ue.crypto.Cipher;t.Cipher=Xe,t.KEYUTIL=He,t.ASN1HEX=fe,t.X509=We,t.CryptoJS=g,t.b64tohex=_,t.b64toBA=b,t.stoBA=de,t.BAtos=he,t.BAtohex=pe,t.stohex=ve,t.stob64=function(e){return w(ve(e))},t.stob64u=function(e){return ge(w(ve(e)))},t.b64utos=function(e){return he(b(ye(e)))},t.b64tob64u=ge,t.b64utob64=ye,t.hex2b64=w,t.hextob64u=me,t.b64utohex=we,t.utf8tob64u=ce,t.b64utoutf8=le,t.utf8tob64=function(e){return w(Ie(De(e)))},t.b64toutf8=function(e){return decodeURIComponent(Re(_(e)))},t.utf8tohex=_e,t.hextoutf8=be,t.hextorstr=xe,t.rstrtohex=Se,t.hextob64=ke,t.hextob64nl=Ee,t.b64nltohex=Ce,t.hextopem=Pe,t.pemtohex=Ae,t.hextoArrayBuffer=function(e){if(e.length%2!=0)throw"input is not even length";if(null==e.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var t=new ArrayBuffer(e.length/2),n=new DataView(t),r=0;r<e.length/2;r++)n.setUint8(r,parseInt(e.substr(2*r,2),16));return t},t.ArrayBuffertohex=function(e){for(var t="",n=new DataView(e),r=0;r<e.byteLength;r++)t+=("00"+n.getUint8(r).toString(16)).slice(-2);return t},t.zulutomsec=Te,t.zulutosec=Oe,t.zulutodate=function(e){return new Date(Te(e))},t.datetozulu=function(e,t,n){var r,i=e.getUTCFullYear();if(t){if(i<1950||2049<i)throw"not proper year for UTCTime: "+i;r=(""+i).slice(-2)}else r=("000"+i).slice(-4);if(r+=("0"+(e.getUTCMonth()+1)).slice(-2),r+=("0"+e.getUTCDate()).slice(-2),r+=("0"+e.getUTCHours()).slice(-2),r+=("0"+e.getUTCMinutes()).slice(-2),r+=("0"+e.getUTCSeconds()).slice(-2),n){var o=e.getUTCMilliseconds();0!==o&&(r+="."+(o=(o=("00"+o).slice(-3)).replace(/0+$/g,"")))}return r+"Z"},t.uricmptohex=Ie,t.hextouricmp=Re,t.ipv6tohex=Le,t.hextoipv6=Fe,t.hextoip=Me,t.iptohex=function(e){var t="malformed IP address";if(!(e=e.toLowerCase(e)).match(/^[0-9.]+$/)){if(e.match(/^[0-9a-f:]+$/)&&-1!==e.indexOf(":"))return Le(e);throw t}var n=e.split(".");if(4!==n.length)throw t;var r="";try{for(var i=0;i<4;i++)r+=("0"+parseInt(n[i]).toString(16)).slice(-2);return r}catch(e){throw t}},t.encodeURIComponentAll=De,t.newline_toUnix=function(e){return e.replace(/\r\n/gm,"\n")},t.newline_toDos=function(e){return(e=e.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},t.hextoposhex=Ue,t.intarystrtohex=function(e){e=(e=(e=e.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return e.split(/,/).map((function(e,t,n){var r=parseInt(e);if(r<0||255<r)throw"integer not in range 0-255";return("00"+r.toString(16)).slice(-2)})).join("")}catch(e){throw"malformed integer array string: "+e}},t.strdiffidx=function(e,t){var n=e.length;e.length>t.length&&(n=t.length);for(var r=0;r<n;r++)if(e.charCodeAt(r)!=t.charCodeAt(r))return r;return e.length!=t.length?n:-1},t.KJUR=ue;var $e=ue.crypto;t.crypto=$e;var et=ue.asn1;t.asn1=et;var tt=ue.jws;t.jws=tt;var nt=ue.lang;t.lang=nt}).call(this,n(28).Buffer)},function(e,t,n){"use strict";(function(e){var r=n(30),i=n(31),o=n(32);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!(u.TYPED_ARRAY_SUPPORT||this instanceof u))return new u(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return c(this,e,t,n)}function c(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r),u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t),e}(e,t,n,r):"string"==typeof t?function(e,t,n){if("string"==typeof n&&""!==n||(n="utf8"),!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);return i!==r&&(e=e.slice(0,i)),e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function l(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(l(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return B(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return H(e).length;default:if(r)return B(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return O(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return T(this,t,n);case"base64":return E(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function y(e,t,n,r,i){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"==typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:m(e,t,n,r,i);if("number"==typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):m(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function m(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function w(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!=0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function _(e,t,n,r){return z(B(t,e.length-n),e,n,r)}function b(e,t,n,r){return z(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function x(e,t,n,r){return b(e,t,n,r)}function S(e,t,n,r){return z(H(t),e,n,r)}function k(e,t,n,r){return z(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function E(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,c=e[i],l=null,f=c>239?4:c>223?3:c>191?2:1;if(i+f<=n)switch(f){case 1:c<128&&(l=c);break;case 2:128==(192&(o=e[i+1]))&&(u=(31&c)<<6|63&o)>127&&(l=u);break;case 3:o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(u=(15&c)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(l=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(u=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(l=u)}null===l?(l=65533,f=1):l>65535&&(l-=65536,r.push(l>>>10&1023|55296),l=56320|1023&l),r.push(l),i+=f}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);for(var n="",r=0;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.Buffer=u,t.SlowBuffer=function(e){return+e!=e&&(e=0),u.alloc(+e)},t.INSPECT_MAX_BYTES=50,u.TYPED_ARRAY_SUPPORT=void 0!==e.TYPED_ARRAY_SUPPORT?e.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"==typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(e){return!1}}(),t.kMaxLength=a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return c(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return l(t),t<=0?s(e,t):void 0!==n?"string"==typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),l=e.slice(t,n),f=0;f<s;++f)if(c[f]!==l[f]){o=c[f],a=l[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return y(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return y(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,e,t,n);case"utf8":case"utf-8":return _(this,e,t,n);case"ascii":return b(this,e,t,n);case"latin1":case"binary":return x(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return k(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function T(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function O(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=Z(e[o]);return i}function I(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function R(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function L(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function F(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function M(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function j(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function D(e,t,n,r,o){return o||j(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return o||j(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||R(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||R(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||R(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||R(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||R(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||R(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||R(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||R(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){e=+e,t|=0,n|=0,r||L(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):M(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);L(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):F(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):F(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):M(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||L(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):M(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return D(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return D(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:B(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function Z(e){return e<16?"0"+e.toString(16):e.toString(16)}function B(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function H(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function z(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}}).call(this,n(29))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";t.byteLength=function(e){var t=c(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,r=c(e),a=r[0],s=r[1],u=new o(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=i[e.charCodeAt(n)]<<18|i[e.charCodeAt(n+1)]<<12|i[e.charCodeAt(n+2)]<<6|i[e.charCodeAt(n+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===s&&(t=i[e.charCodeAt(n)]<<2|i[e.charCodeAt(n+1)]>>4,u[l++]=255&t),1===s&&(t=i[e.charCodeAt(n)]<<10|i[e.charCodeAt(n+1)]<<4|i[e.charCodeAt(n+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=16383,s=0,u=n-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));return 1===i?(t=e[n-1],o.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],o.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),o.join("")};for(var r=[],i=[],o="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,u=a.length;s<u;++s)r[s]=a[s],i[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,n){for(var i,o,a=[],s=t;s<n;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(r[(o=i)>>18&63]+r[o>>12&63]+r[o>>6&63]+r[63&o]);return a.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},function(e,t){var n={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==n.call(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.jws,n=e.KeyUtil,i=e.X509,o=e.crypto,a=e.hextob64u,s=e.b64tohex,u=e.AllowedSigningAlgs;return function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.parseJwt=function e(n){r.Log.debug("JoseUtil.parseJwt");try{var i=t.JWS.parse(n);return{header:i.headerObj,payload:i.payloadObj}}catch(e){r.Log.error(e)}},e.validateJwt=function(t,o,a,u,c,l,f){r.Log.debug("JoseUtil.validateJwt");try{if("RSA"===o.kty)if(o.e&&o.n)o=n.getKey(o);else{if(!o.x5c||!o.x5c.length)return r.Log.error("JoseUtil.validateJwt: RSA key missing key material",o),Promise.reject(new Error("RSA key missing key material"));var d=s(o.x5c[0]);o=i.getPublicKeyFromCertHex(d)}else{if("EC"!==o.kty)return r.Log.error("JoseUtil.validateJwt: Unsupported key type",o&&o.kty),Promise.reject(new Error(o.kty));if(!(o.crv&&o.x&&o.y))return r.Log.error("JoseUtil.validateJwt: EC key missing key material",o),Promise.reject(new Error("EC key missing key material"));o=n.getKey(o)}return e._validateJwt(t,o,a,u,c,l,f)}catch(e){return r.Log.error(e&&e.message||e),Promise.reject("JWT validation failed")}},e.validateJwtAttributes=function(t,n,i,o,a,s){o||(o=0),a||(a=parseInt(Date.now()/1e3));var u=e.parseJwt(t).payload;if(!u.iss)return r.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(u.iss!==n)return r.Log.error("JoseUtil._validateJwt: Invalid issuer in token",u.iss),Promise.reject(new Error("Invalid issuer in token: "+u.iss));if(!u.aud)return r.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(u.aud===i||Array.isArray(u.aud)&&u.aud.indexOf(i)>=0))return r.Log.error("JoseUtil._validateJwt: Invalid audience in token",u.aud),Promise.reject(new Error("Invalid audience in token: "+u.aud));if(u.azp&&u.azp!==i)return r.Log.error("JoseUtil._validateJwt: Invalid azp in token",u.azp),Promise.reject(new Error("Invalid azp in token: "+u.azp));if(!s){var c=a+o,l=a-o;if(!u.iat)return r.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(c<u.iat)return r.Log.error("JoseUtil._validateJwt: iat is in the future",u.iat),Promise.reject(new Error("iat is in the future: "+u.iat));if(u.nbf&&c<u.nbf)return r.Log.error("JoseUtil._validateJwt: nbf is in the future",u.nbf),Promise.reject(new Error("nbf is in the future: "+u.nbf));if(!u.exp)return r.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(u.exp<l)return r.Log.error("JoseUtil._validateJwt: exp is in the past",u.exp),Promise.reject(new Error("exp is in the past:"+u.exp))}return Promise.resolve(u)},e._validateJwt=function(n,i,o,a,s,c,l){return e.validateJwtAttributes(n,o,a,s,c,l).then((function(e){try{return t.JWS.verify(n,i,u)?e:(r.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(e){return r.Log.error(e&&e.message||e),Promise.reject(new Error("signature validation failed"))}}))},e.hashString=function e(t,n){try{return o.Util.hashString(t,n)}catch(e){r.Log.error(e)}},e.hexToBase64Url=function e(t){try{return a(t)}catch(e){r.Log.error(e)}},e}()};var r=n(0);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SigninResponse=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(3);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.SigninResponse=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";o(this,e);var r=i.UrlUtility.parseUrlFragment(t,n);this.error=r.error,this.error_description=r.error_description,this.error_uri=r.error_uri,this.code=r.code,this.state=r.state,this.id_token=r.id_token,this.session_state=r.session_state,this.access_token=r.access_token,this.token_type=r.token_type,this.scope=r.scope,this.profile=void 0,this.expires_in=r.expires_in}return r(e,[{key:"expires_in",get:function(){if(this.expires_at){var e=parseInt(Date.now()/1e3);return this.expires_at-e}},set:function(e){var t=parseInt(e);if("number"==typeof t&&t>0){var n=parseInt(Date.now()/1e3);this.expires_at=n+t}}},{key:"expired",get:function(){var e=this.expires_in;if(void 0!==e)return e<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutRequest=void 0;var r=n(0),i=n(3),o=n(9);t.SignoutRequest=function e(t){var n=t.url,a=t.id_token_hint,s=t.post_logout_redirect_uri,u=t.data,c=t.extraQueryParams,l=t.request_type;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!n)throw r.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var f in a&&(n=i.UrlUtility.addQueryParam(n,"id_token_hint",a)),s&&(n=i.UrlUtility.addQueryParam(n,"post_logout_redirect_uri",s),u&&(this.state=new o.State({data:u,request_type:l}),n=i.UrlUtility.addQueryParam(n,"state",this.state.id))),c)n=i.UrlUtility.addQueryParam(n,f,c[f]);this.url=n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignoutResponse=void 0;var r=n(3);t.SignoutResponse=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=r.UrlUtility.parseUrlFragment(t,"?");this.error=n.error,this.error_description=n.error_description,this.error_uri=n.error_uri,this.state=n.state}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InMemoryWebStorage=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.InMemoryWebStorage=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._data={}}return e.prototype.getItem=function(e){return i.Log.debug("InMemoryWebStorage.getItem",e),this._data[e]},e.prototype.setItem=function(e,t){i.Log.debug("InMemoryWebStorage.setItem",e),this._data[e]=t},e.prototype.removeItem=function(e){i.Log.debug("InMemoryWebStorage.removeItem",e),delete this._data[e]},e.prototype.key=function(e){return Object.getOwnPropertyNames(this._data)[e]},r(e,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManager=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(10),a=n(39),s=n(15),u=n(45),c=n(47),l=n(18),f=n(8),d=n(20),h=n(11),p=n(4);function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManager=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.SilentRenewService,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.SessionMonitor,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:d.TokenRevocationClient,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h.TokenClient,y=arguments.length>5&&void 0!==arguments[5]?arguments[5]:p.JoseUtil;v(this,t),n instanceof a.UserManagerSettings||(n=new a.UserManagerSettings(n));var m=g(this,e.call(this,n));return m._events=new u.UserManagerEvents(n),m._silentRenewService=new r(m),m.settings.automaticSilentRenew&&(i.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),m.startSilentRenew()),m.settings.monitorSession&&(i.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),m._sessionMonitor=new o(m)),m._tokenRevocationClient=new s(m._settings),m._tokenClient=new f(m._settings),m._joseUtil=y,m}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.getUser=function(){var e=this;return this._loadUser().then((function(t){return t?(i.Log.info("UserManager.getUser: user loaded"),e._events.load(t,!1),t):(i.Log.info("UserManager.getUser: user not found in storage"),null)}))},t.prototype.removeUser=function(){var e=this;return this.storeUser(null).then((function(){i.Log.info("UserManager.removeUser: user removed from storage"),e._events.unload()}))},t.prototype.signinRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:r";var t={useReplaceToNavigate:e.useReplaceToNavigate};return this._signinStart(e,this._redirectNavigator,t).then((function(){i.Log.info("UserManager.signinRedirect: successful")}))},t.prototype.signinRedirectCallback=function(e){return this._signinEnd(e||this._redirectNavigator.url).then((function(e){return e.profile&&e.profile.sub?i.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinRedirectCallback: no sub"),e}))},t.prototype.signinPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="si:p";var t=e.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.display="popup",this._signin(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopup: no sub")),e}))):(i.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},t.prototype.signinPopupCallback=function(e){return this._signinCallback(e,this._popupNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinPopupCallback: no sub")),e})).catch((function(e){i.Log.error(e.message)}))},t.prototype.signinSilent=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t=Object.assign({},t),this._loadUser().then((function(n){return n&&n.refresh_token?(t.refresh_token=n.refresh_token,e._useRefreshToken(t)):(t.request_type="si:s",t.id_token_hint=t.id_token_hint||e.settings.includeIdTokenInSilentRenew&&n&&n.id_token,n&&e._settings.validateSubOnSilentRenew&&(i.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",n.profile.sub),t.current_sub=n.profile.sub),e._signinSilentIframe(t))}))},t.prototype._useRefreshToken=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._tokenClient.exchangeRefreshToken(t).then((function(t){return t?t.access_token?e._loadUser().then((function(n){if(n){var r=Promise.resolve();return t.id_token&&(r=e._validateIdTokenFromTokenRefreshToken(n.profile,t.id_token)),r.then((function(){return i.Log.debug("UserManager._useRefreshToken: refresh token response success"),n.id_token=t.id_token||n.id_token,n.access_token=t.access_token,n.refresh_token=t.refresh_token||n.refresh_token,n.expires_in=t.expires_in,e.storeUser(n).then((function(){return e._events.load(n),n}))}))}return null})):(i.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(i.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))}))},t.prototype._validateIdTokenFromTokenRefreshToken=function(e,t){var n=this;return this._metadataService.getIssuer().then((function(r){return n.settings.getEpochTime().then((function(o){return n._joseUtil.validateJwtAttributes(t,r,n._settings.client_id,n._settings.clockSkew,o).then((function(t){return t?t.sub!==e.sub?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):t.auth_time&&t.auth_time!==e.auth_time?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):t.azp&&t.azp!==e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!t.azp&&e.azp?(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(i.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))}))}))}))},t.prototype._signinSilentIframe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return t?(e.redirect_uri=t,e.prompt=e.prompt||"none",this._signin(e,this._iframeNavigator,{startUrl:t,silentRequestTimeout:e.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilent: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilent: no sub")),e}))):(i.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype.signinSilentCallback=function(e){return this._signinCallback(e,this._iframeNavigator).then((function(e){return e&&(e.profile&&e.profile.sub?i.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",e.profile.sub):i.Log.info("UserManager.signinSilentCallback: no sub")),e}))},t.prototype.signinCallback=function(e){var t=this;return this.readSigninResponseState(e).then((function(n){var r=n.state;return n.response,"si:r"===r.request_type?t.signinRedirectCallback(e):"si:p"===r.request_type?t.signinPopupCallback(e):"si:s"===r.request_type?t.signinSilentCallback(e):Promise.reject(new Error("invalid response_type in state"))}))},t.prototype.signoutCallback=function(e,t){var n=this;return this.readSignoutResponseState(e).then((function(r){var i=r.state,o=r.response;return i?"so:r"===i.request_type?n.signoutRedirectCallback(e):"so:p"===i.request_type?n.signoutPopupCallback(e,t):Promise.reject(new Error("invalid response_type in state")):o}))},t.prototype.querySessionStatus=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(t=Object.assign({},t)).request_type="si:s";var n=t.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return n?(t.redirect_uri=n,t.prompt="none",t.response_type=t.response_type||this.settings.query_status_response_type,t.scope=t.scope||"openid",t.skipUserInfo=!0,this._signinStart(t,this._iframeNavigator,{startUrl:n,silentRequestTimeout:t.silentRequestTimeout||this.settings.silentRequestTimeout}).then((function(t){return e.processSigninResponse(t.url).then((function(e){if(i.Log.debug("UserManager.querySessionStatus: got signin response"),e.session_state&&e.profile.sub)return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",e.profile.sub),{session_state:e.session_state,sub:e.profile.sub,sid:e.profile.sid};i.Log.info("querySessionStatus successful, user not authenticated")})).catch((function(t){if(t.session_state&&e.settings.monitorAnonymousSession&&("login_required"==t.message||"consent_required"==t.message||"interaction_required"==t.message||"account_selection_required"==t.message))return i.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:t.session_state};throw t}))}))):(i.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},t.prototype._signin=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signinStart(e,t,r).then((function(t){return n._signinEnd(t.url,e)}))},t.prototype._signinStart=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.prepare(r).then((function(t){return i.Log.debug("UserManager._signinStart: got navigator window handle"),n.createSigninRequest(e).then((function(e){return i.Log.debug("UserManager._signinStart: got signin request"),r.url=e.url,r.id=e.state.id,t.navigate(r)})).catch((function(e){throw t.close&&(i.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),t.close()),e}))}))},t.prototype._signinEnd=function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(e).then((function(e){i.Log.debug("UserManager._signinEnd: got signin response");var r=new s.User(e);if(n.current_sub){if(n.current_sub!==r.profile.sub)return i.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",r.profile.sub),Promise.reject(new Error("login_required"));i.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return t.storeUser(r).then((function(){return i.Log.debug("UserManager._signinEnd: user stored"),t._events.load(r),r}))}))},t.prototype._signinCallback=function(e,t){i.Log.debug("UserManager._signinCallback");var n="query"===this._settings.response_mode||!this._settings.response_mode&&f.SigninRequest.isCode(this._settings.response_type)?"?":"#";return t.callback(e,void 0,n)},t.prototype.signoutRedirect=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:r";var t=e.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;t&&(e.post_logout_redirect_uri=t);var n={useReplaceToNavigate:e.useReplaceToNavigate};return this._signoutStart(e,this._redirectNavigator,n).then((function(){i.Log.info("UserManager.signoutRedirect: successful")}))},t.prototype.signoutRedirectCallback=function(e){return this._signoutEnd(e||this._redirectNavigator.url).then((function(e){return i.Log.info("UserManager.signoutRedirectCallback: successful"),e}))},t.prototype.signoutPopup=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(e=Object.assign({},e)).request_type="so:p";var t=e.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return e.post_logout_redirect_uri=t,e.display="popup",e.post_logout_redirect_uri&&(e.state=e.state||{}),this._signout(e,this._popupNavigator,{startUrl:t,popupWindowFeatures:e.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:e.popupWindowTarget||this.settings.popupWindowTarget}).then((function(){i.Log.info("UserManager.signoutPopup: successful")}))},t.prototype.signoutPopupCallback=function(e,t){return void 0===t&&"boolean"==typeof e&&(t=e,e=null),this._popupNavigator.callback(e,t,"?").then((function(){i.Log.info("UserManager.signoutPopupCallback: successful")}))},t.prototype._signout=function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this._signoutStart(e,t,r).then((function(e){return n._signoutEnd(e.url)}))},t.prototype._signoutStart=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.prepare(r).then((function(n){return i.Log.debug("UserManager._signoutStart: got navigator window handle"),t._loadUser().then((function(o){return i.Log.debug("UserManager._signoutStart: loaded current user from storage"),(t._settings.revokeAccessTokenOnSignout?t._revokeInternal(o):Promise.resolve()).then((function(){var a=e.id_token_hint||o&&o.id_token;return a&&(i.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),e.id_token_hint=a),t.removeUser().then((function(){return i.Log.debug("UserManager._signoutStart: user removed, creating signout request"),t.createSignoutRequest(e).then((function(e){return i.Log.debug("UserManager._signoutStart: got signout request"),r.url=e.url,e.state&&(r.id=e.state.id),n.navigate(r)}))}))}))})).catch((function(e){throw n.close&&(i.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),n.close()),e}))}))},t.prototype._signoutEnd=function(e){return this.processSignoutResponse(e).then((function(e){return i.Log.debug("UserManager._signoutEnd: got signout response"),e}))},t.prototype.revokeAccessToken=function(){var e=this;return this._loadUser().then((function(t){return e._revokeInternal(t,!0).then((function(n){if(n)return i.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),t.access_token=null,t.refresh_token=null,t.expires_at=null,t.token_type=null,e.storeUser(t).then((function(){i.Log.debug("UserManager.revokeAccessToken: user stored"),e._events.load(t)}))}))})).then((function(){i.Log.info("UserManager.revokeAccessToken: access token revoked successfully")}))},t.prototype._revokeInternal=function(e,t){var n=this;if(e){var r=e.access_token,o=e.refresh_token;return this._revokeAccessTokenInternal(r,t).then((function(e){return n._revokeRefreshTokenInternal(o,t).then((function(t){return e||t||i.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),e||t}))}))}return Promise.resolve(!1)},t.prototype._revokeAccessTokenInternal=function(e,t){return!e||e.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(e,t).then((function(){return!0}))},t.prototype._revokeRefreshTokenInternal=function(e,t){return e?this._tokenRevocationClient.revoke(e,t,"refresh_token").then((function(){return!0})):Promise.resolve(!1)},t.prototype.startSilentRenew=function(){this._silentRenewService.start()},t.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},t.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then((function(e){return e?(i.Log.debug("UserManager._loadUser: user storageString loaded"),s.User.fromStorageString(e)):(i.Log.debug("UserManager._loadUser: no user storageString"),null)}))},t.prototype.storeUser=function(e){if(e){i.Log.debug("UserManager.storeUser: storing user");var t=e.toStorageString();return this._userStore.set(this._userStoreKey,t)}return i.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},r(t,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),t}(o.OidcClient)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerSettings=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(n(0),n(5)),o=n(40),a=n(41),s=n(43),u=n(6),c=n(1),l=n(8);function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.UserManagerSettings=function(e){function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.popup_redirect_uri,i=n.popup_post_logout_redirect_uri,h=n.popupWindowFeatures,p=n.popupWindowTarget,v=n.silent_redirect_uri,g=n.silentRequestTimeout,y=n.automaticSilentRenew,m=void 0!==y&&y,w=n.validateSubOnSilentRenew,_=void 0!==w&&w,b=n.includeIdTokenInSilentRenew,x=void 0===b||b,S=n.monitorSession,k=void 0===S||S,E=n.monitorAnonymousSession,C=void 0!==E&&E,P=n.checkSessionInterval,A=void 0===P?2e3:P,T=n.stopCheckSessionOnError,O=void 0===T||T,I=n.query_status_response_type,R=n.revokeAccessTokenOnSignout,L=void 0!==R&&R,F=n.accessTokenExpiringNotificationTime,M=void 0===F?60:F,j=n.redirectNavigator,D=void 0===j?new o.RedirectNavigator:j,N=n.popupNavigator,U=void 0===N?new a.PopupNavigator:N,Z=n.iframeNavigator,B=void 0===Z?new s.IFrameNavigator:Z,H=n.userStore,z=void 0===H?new u.WebStorageStateStore({store:c.Global.sessionStorage}):H;f(this,t);var K=d(this,e.call(this,arguments[0]));return K._popup_redirect_uri=r,K._popup_post_logout_redirect_uri=i,K._popupWindowFeatures=h,K._popupWindowTarget=p,K._silent_redirect_uri=v,K._silentRequestTimeout=g,K._automaticSilentRenew=m,K._validateSubOnSilentRenew=_,K._includeIdTokenInSilentRenew=x,K._accessTokenExpiringNotificationTime=M,K._monitorSession=k,K._monitorAnonymousSession=C,K._checkSessionInterval=A,K._stopCheckSessionOnError=O,I?K._query_status_response_type=I:arguments[0]&&arguments[0].response_type?K._query_status_response_type=l.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":K._query_status_response_type="id_token",K._revokeAccessTokenOnSignout=L,K._redirectNavigator=D,K._popupNavigator=U,K._iframeNavigator=B,K._userStore=z,K}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),t}(i.OidcClientSettings)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RedirectNavigator=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.RedirectNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(){return Promise.resolve(this)},e.prototype.navigate=function(e){return e&&e.url?(e.useReplaceToNavigate?window.location.replace(e.url):window.location=e.url,Promise.resolve()):(i.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},r(e,[{key:"url",get:function(){return window.location.href}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupNavigator=void 0;var r=n(0),i=n(42);t.PopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.PopupWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t,n,o){r.Log.debug("PopupNavigator.callback");try{return i.PopupWindow.notifyOpener(t,n,o),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PopupWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(3);t.PopupWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t}));var r=t.popupWindowTarget||"_blank",o=t.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;";this._popup=window.open("",r,o),this._popup&&(i.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return e.prototype.navigate=function(e){return this._popup?e&&e.url?(i.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=e.id,this._id&&(window["popupCallback_"+e.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=e.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},e.prototype._success=function(e){i.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(e)},e.prototype._error=function(e){i.Log.error("PopupWindow.error: ",e),this._cleanup(),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup(!1)},e.prototype._cleanup=function(e){i.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!e&&this._popup.close(),this._popup=null},e.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},e.prototype._callback=function(e,t){this._cleanup(t),e?(i.Log.debug("PopupWindow.callback success"),this._success({url:e})):(i.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},e.notifyOpener=function(e,t,n){if(window.opener){if(e=e||window.location.href){var r=o.UrlUtility.parseUrlFragment(e,n);if(r.state){var a="popupCallback_"+r.state,s=window.opener[a];s?(i.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),s(e,t)):i.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else i.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else i.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},r(e,[{key:"promise",get:function(){return this._promise}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameNavigator=void 0;var r=n(0),i=n(44);t.IFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new i.IFrameWindow(e);return Promise.resolve(t)},e.prototype.callback=function e(t){r.Log.debug("IFrameNavigator.callback");try{return i.IFrameWindow.notifyParent(t),Promise.resolve()}catch(e){return Promise.reject(e)}},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IFrameWindow=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0);t.IFrameWindow=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._promise=new Promise((function(e,t){n._resolve=e,n._reject=t})),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return e.prototype.navigate=function(e){if(e&&e.url){var t=e.silentRequestTimeout||1e4;i.Log.debug("IFrameWindow.navigate: Using timeout of:",t),this._timer=window.setTimeout(this._timeout.bind(this),t),this._frame.src=e.url}else this._error("No url provided");return this.promise},e.prototype._success=function(e){this._cleanup(),i.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(e)},e.prototype._error=function(e){this._cleanup(),i.Log.error(e),this._reject(new Error(e))},e.prototype.close=function(){this._cleanup()},e.prototype._cleanup=function(){this._frame&&(i.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},e.prototype._timeout=function(){i.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},e.prototype._message=function(e){if(i.Log.debug("IFrameWindow.message"),this._timer&&e.origin===this._origin&&e.source===this._frame.contentWindow&&"string"==typeof e.data&&(e.data.startsWith("http://")||e.data.startsWith("https://"))){var t=e.data;t?this._success({url:t}):this._error("Invalid response from frame")}},e.notifyParent=function(e){i.Log.debug("IFrameWindow.notifyParent"),(e=e||window.location.href)&&(i.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(e,location.protocol+"//"+location.host))},r(e,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UserManagerEvents=void 0;var r=n(0),i=n(16),o=n(17);t.UserManagerEvents=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r._userLoaded=new o.Event("User loaded"),r._userUnloaded=new o.Event("User unloaded"),r._silentRenewError=new o.Event("Silent renew error"),r._userSignedIn=new o.Event("User signed in"),r._userSignedOut=new o.Event("User signed out"),r._userSessionChanged=new o.Event("User session changed"),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.load=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];r.Log.debug("UserManagerEvents.load"),e.prototype.load.call(this,t),n&&this._userLoaded.raise(t)},t.prototype.unload=function(){r.Log.debug("UserManagerEvents.unload"),e.prototype.unload.call(this),this._userUnloaded.raise()},t.prototype.addUserLoaded=function(e){this._userLoaded.addHandler(e)},t.prototype.removeUserLoaded=function(e){this._userLoaded.removeHandler(e)},t.prototype.addUserUnloaded=function(e){this._userUnloaded.addHandler(e)},t.prototype.removeUserUnloaded=function(e){this._userUnloaded.removeHandler(e)},t.prototype.addSilentRenewError=function(e){this._silentRenewError.addHandler(e)},t.prototype.removeSilentRenewError=function(e){this._silentRenewError.removeHandler(e)},t.prototype._raiseSilentRenewError=function(e){r.Log.debug("UserManagerEvents._raiseSilentRenewError",e.message),this._silentRenewError.raise(e)},t.prototype.addUserSignedIn=function(e){this._userSignedIn.addHandler(e)},t.prototype.removeUserSignedIn=function(e){this._userSignedIn.removeHandler(e)},t.prototype._raiseUserSignedIn=function(){r.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},t.prototype.addUserSignedOut=function(e){this._userSignedOut.addHandler(e)},t.prototype.removeUserSignedOut=function(e){this._userSignedOut.removeHandler(e)},t.prototype._raiseUserSignedOut=function(){r.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},t.prototype.addUserSessionChanged=function(e){this._userSessionChanged.addHandler(e)},t.prototype.removeUserSessionChanged=function(e){this._userSessionChanged.removeHandler(e)},t.prototype._raiseUserSessionChanged=function(){r.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},t}(i.AccessTokenEvents)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timer=void 0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(0),o=n(1),a=n(17);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.Timer=function(e){function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.Global.timer,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;s(this,t);var a=u(this,e.call(this,n));return a._timer=r,a._nowFunc=i||function(){return Date.now()/1e3},a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.init=function(e){e<=0&&(e=1),e=parseInt(e);var t=this.now+e;if(this.expiration===t&&this._timerHandle)i.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),i.Log.debug("Timer.init timer "+this._name+" for duration:",e),this._expiration=t;var n=5;e<n&&(n=e),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*n)}},t.prototype.cancel=function(){this._timerHandle&&(i.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},t.prototype._callback=function(){var t=this._expiration-this.now;i.Log.debug("Timer.callback; "+this._name+" timer expires in:",t),this._expiration<=this.now&&(this.cancel(),e.prototype.raise.call(this))},r(t,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),t}(a.Event)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SilentRenewService=void 0;var r=n(0);t.SilentRenewService=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._userManager=t}return e.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then((function(e){})).catch((function(e){r.Log.error("SilentRenewService.start: Error from getUser:",e.message)})))},e.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},e.prototype._tokenExpiring=function(){var e=this;this._userManager.signinSilent().then((function(e){r.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")}),(function(t){r.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",t.message),e._userManager.events._raiseSilentRenewError(t)}))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaPopupNavigator=void 0;var r=n(21);t.CordovaPopupNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CordovaIFrameNavigator=void 0;var r=n(21);t.CordovaIFrameNavigator=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return e.prototype.prepare=function(e){e.popupWindowFeatures="hidden=yes";var t=new r.CordovaPopupWindow(e);return Promise.resolve(t)},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Version="1.11.6"}])},e.exports=t()},5210:function(e,t,n){"use strict";var r=n(7061).default,i=n(2122).default,o=n(7156).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(7639),c=n(2453),l=n(1880),f=function(e,t){return(0,c.fetch)(e,t)},d=function(){function e(t,n,s,c,d){var h=this;a(this,e),this.loginHandler=t,this.redirectHandler=n,this.logoutHandler=s,this.sessionInfoManager=c,this.issuerConfigFetcher=d,this.login=function(){var e=o(r().mark((function e(t,n){var o,a,s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.sessionInfoManager.clear(t.sessionId);case 2:if(s=null!==(o=t.redirectUrl)&&void 0!==o?o:(0,l.removeOidcQueryParam)(window.location.href),(0,u.isValidRedirectUrl)(s)){e.next=5;break}throw new Error("".concat(s," is not a valid redirect URL, it is either a malformed IRI or it includes a hash fragment."));case 5:return e.next=7,h.loginHandler.handle(i(i({},t),{},{redirectUrl:s,clientName:null!==(a=t.clientName)&&void 0!==a?a:t.clientId,eventEmitter:n}));case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fetch=f,this.logout=function(){var e=o(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.logoutHandler.handle(t);case 2:h.fetch=f;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getSessionInfo=function(){var e=o(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.sessionInfoManager.get(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getAllSessionInfo=o(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.sessionInfoManager.getAll());case 1:case"end":return e.stop()}}),e)}))),this.validateCurrentSession=function(){var e=o(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.sessionInfoManager.get(t);case 2:if(void 0!==(n=e.sent)&&void 0!==n.clientAppId&&void 0!==n.issuer){e.next=5;break}return e.abrupt("return",null);case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.handleIncomingRedirect=function(){var e=o(r().mark((function e(t,n){var i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.redirectHandler.handle(t,n);case 3:return i=e.sent,h.fetch=i.fetch.bind(window),h.cleanUrlAfterRedirect(t),e.abrupt("return",{isLoggedIn:i.isLoggedIn,webId:i.webId,sessionId:i.sessionId,expirationDate:i.expirationDate});case 9:return e.prev=9,e.t0=e.catch(0),h.cleanUrlAfterRedirect(t),n.emit(u.EVENTS.ERROR,"redirect",e.t0),e.abrupt("return",void 0);case 14:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n){return e.apply(this,arguments)}}()}return s(e,[{key:"cleanUrlAfterRedirect",value:function(e){var t=new URL(e);t.searchParams.delete("state"),t.searchParams.delete("code"),t.searchParams.delete("id_token"),t.searchParams.delete("access_token"),t.searchParams.delete("error"),t.searchParams.delete("error_description"),t.searchParams.delete("iss"),window.history.replaceState(null,"",t.toString())}}]),e}();t.default=d},4783:function(e,t,n){"use strict";var r=n(7061).default,i=n(2122).default,o=n(6690).default,a=n(9728).default,s=n(6115).default,u=n(1655).default,c=n(6389).default,l=n(7156).default,f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Session=t.silentlyAuthenticate=void 0;var d=n(7639),h=n(303),p=f(n(7465)),v=n(4934),g=n(6260);function y(e,t,n){return m.apply(this,arguments)}function m(){return(m=l(r().mark((function e(t,n,i){var o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.validateCurrentSession(t);case 2:if(null===(a=e.sent)){e.next=8;break}return window.localStorage.setItem(g.KEY_CURRENT_URL,window.location.href),e.next=7,n.login({sessionId:t,prompt:"none",oidcIssuer:a.issuer,redirectUrl:a.redirectUrl,clientId:a.clientAppId,clientSecret:a.clientAppSecret,tokenType:null!==(o=a.tokenType)&&void 0!==o?o:"DPoP"},i.events);case 7:return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(e){return!!(null===e||void 0===e?void 0:e.isLoggedIn)}t.silentlyAuthenticate=y;var _=function(e){u(n,e);var t=c(n);function n(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return o(this,n),(e=t.call(this)).tokenRequestInProgress=!1,e.login=function(){var t=l(r().mark((function t(n){var o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.clientAuthentication.login(i(i({sessionId:e.info.sessionId},n),{},{tokenType:null!==(o=n.tokenType)&&void 0!==o?o:"DPoP"}),e.events);case 2:return t.abrupt("return",new Promise((function(){})));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.fetch=function(){var t=l(r().mark((function t(n,i){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.clientAuthentication.fetch(n,i));case 1:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),e.internalLogout=function(){var t=l(r().mark((function t(n){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return window.localStorage.removeItem(g.KEY_CURRENT_SESSION),t.next=3,e.clientAuthentication.logout(e.info.sessionId);case 3:e.info.isLoggedIn=!1,n&&e.events.emit(d.EVENTS.LOGOUT);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.logout=l(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.internalLogout(!0));case 1:case"end":return t.stop()}}),t)}))),e.handleIncomingRedirect=l(r().mark((function t(){var n,i,o,a,u,c,l,f=arguments;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=f.length>0&&void 0!==f[0]?f[0]:{},!e.info.isLoggedIn){t.next=3;break}return t.abrupt("return",e.info);case 3:if(!e.tokenRequestInProgress){t.next=5;break}return t.abrupt("return",void 0);case 5:return a=null!==(i=(o="string"===typeof n?{url:n}:n).url)&&void 0!==i?i:window.location.href,e.tokenRequestInProgress=!0,t.next=10,e.clientAuthentication.handleIncomingRedirect(a,e.events);case 10:if(!w(u=t.sent)){t.next=17;break}e.setSessionInfo(u),null===(c=window.localStorage.getItem(g.KEY_CURRENT_URL))?e.events.emit(d.EVENTS.LOGIN):(window.localStorage.removeItem(g.KEY_CURRENT_URL),e.events.emit(d.EVENTS.SESSION_RESTORED,c)),t.next=25;break;case 17:if(!0!==o.restorePreviousSession){t.next=25;break}if(null===(l=window.localStorage.getItem(g.KEY_CURRENT_SESSION))){t.next=25;break}return t.next=22,y(l,e.clientAuthentication,s(e));case 22:if(!t.sent){t.next=25;break}return t.abrupt("return",new Promise((function(){})));case 25:return e.tokenRequestInProgress=!1,t.abrupt("return",u);case 27:case"end":return t.stop()}}),t)}))),e.events=new Proxy(s(e),(0,d.buildProxyHandler)(n.prototype,"events only implements ISessionEventListener")),a.clientAuthentication?e.clientAuthentication=a.clientAuthentication:a.secureStorage&&a.insecureStorage?e.clientAuthentication=(0,v.getClientAuthenticationWithDependencies)({secureStorage:a.secureStorage,insecureStorage:a.insecureStorage}):e.clientAuthentication=(0,v.getClientAuthenticationWithDependencies)({}),a.sessionInfo?e.info={sessionId:a.sessionInfo.sessionId,isLoggedIn:!1,webId:a.sessionInfo.webId}:e.info={sessionId:null!==u&&void 0!==u?u:(0,h.v4)(),isLoggedIn:!1},e.events.on(d.EVENTS.LOGIN,(function(){return window.localStorage.setItem(g.KEY_CURRENT_SESSION,e.info.sessionId)})),e.events.on(d.EVENTS.SESSION_EXPIRED,(function(){return e.internalLogout(!1)})),e.events.on(d.EVENTS.ERROR,(function(){return e.internalLogout(!1)})),e}return a(n,[{key:"onLogin",value:function(e){this.events.on(d.EVENTS.LOGIN,e)}},{key:"onLogout",value:function(e){this.events.on(d.EVENTS.LOGOUT,e)}},{key:"onError",value:function(e){this.events.on(d.EVENTS.ERROR,e)}},{key:"onSessionRestore",value:function(e){this.events.on(d.EVENTS.SESSION_RESTORED,e)}},{key:"onSessionExpiration",value:function(e){this.events.on(d.EVENTS.SESSION_EXPIRED,e)}},{key:"setSessionInfo",value:function(e){var t=this;this.info.isLoggedIn=e.isLoggedIn,this.info.webId=e.webId,this.info.sessionId=e.sessionId,this.info.expirationDate=e.expirationDate,this.events.on(d.EVENTS.SESSION_EXTENDED,(function(e){t.info.expirationDate=Date.now()+1e3*e}))}}]),n}(p.default);t.Session=_},6260:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KEY_CURRENT_URL=t.KEY_CURRENT_SESSION=void 0;var r=n(7639);t.KEY_CURRENT_SESSION="".concat(r.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentSession"),t.KEY_CURRENT_URL="".concat(r.SOLID_CLIENT_AUTHN_KEY_PREFIX,"currentUrl")},33:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.events=t.onSessionRestore=t.onLogout=t.onLogin=t.handleIncomingRedirect=t.logout=t.login=t.fetch=t.getDefaultSession=void 0;var r,i=n(4783);function o(){return"undefined"===typeof r&&(r=new i.Session),r}t.getDefaultSession=o;t.fetch=function(){var e=o();return e.fetch.apply(e,arguments)};t.login=function(){var e=o();return e.login.apply(e,arguments)};t.logout=function(){var e=o();return e.logout.apply(e,arguments)};t.handleIncomingRedirect=function(){var e=o();return e.handleIncomingRedirect.apply(e,arguments)};t.onLogin=function(){var e=o();return e.onLogin.apply(e,arguments)};t.onLogout=function(){var e=o();return e.onLogout.apply(e,arguments)};t.onSessionRestore=function(){var e=o();return e.onSessionRestore.apply(e,arguments)};t.events=function(){return o().events}},4934:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getClientAuthenticationWithDependencies=void 0;var i=n(7639),o=r(n(4554)),a=r(n(5210)),s=r(n(5934)),u=r(n(5404)),c=r(n(5010)),l=n(3860),f=r(n(5046)),d=n(7582),h=n(5857),p=r(n(9992)),v=r(n(6287)),g=r(n(4079)),y=r(n(938)),m=n(3576),w=r(n(1559));t.getClientAuthenticationWithDependencies=function(e){var t=new i.InMemoryStorage,n=e.secureStorage||t,r=e.insecureStorage||new v.default,_=new o.default(n,r),b=new c.default(_),x=new y.default(_),S=new d.SessionInfoManager(_),k=new w.default(_,b,x),E=new s.default(_,new u.default(_,new g.default),b,x),C=new p.default([new m.ErrorOidcHandler,new h.AuthCodeRedirectHandler(_,S,b,x,k),new l.FallbackRedirectHandler]);return new a.default(E,C,new f.default(S),S,b)}},2464:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.EVENTS=t.InMemoryStorage=t.ConfigurationError=t.NotImplementedError=t.getClientAuthenticationWithDependencies=t.Session=void 0;var o=n(4783);Object.defineProperty(t,"Session",{enumerable:!0,get:function(){return o.Session}});var a=n(4934);Object.defineProperty(t,"getClientAuthenticationWithDependencies",{enumerable:!0,get:function(){return a.getClientAuthenticationWithDependencies}}),i(n(33),t);var s=n(7639);Object.defineProperty(t,"NotImplementedError",{enumerable:!0,get:function(){return s.NotImplementedError}}),Object.defineProperty(t,"ConfigurationError",{enumerable:!0,get:function(){return s.ConfigurationError}}),Object.defineProperty(t,"InMemoryStorage",{enumerable:!0,get:function(){return s.InMemoryStorage}}),Object.defineProperty(t,"EVENTS",{enumerable:!0,get:function(){return s.EVENTS}})},9992:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,o=n(1655).default,a=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e){return i(this,n),t.call(this,e)}return r(n)}(n(7639).AggregateHandler);t.default=s},938:function(e,t,n){"use strict";var r=n(7061).default,i=n(7424).default,o=n(7156).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(1880),c=function(){function e(t){a(this,e),this.storageUtility=t}return s(e,[{key:"getClient",value:function(){var e=o(r().mark((function e(t,n){var o,a,s,c,l,f;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([this.storageUtility.getForUser(t.sessionId,"clientId",{secure:!1}),this.storageUtility.getForUser(t.sessionId,"clientSecret",{secure:!1})]);case 2:if(o=e.sent,a=i(o,2),s=a[0],c=a[1],!s){e.next=8;break}return e.abrupt("return",{clientId:s,clientSecret:c,clientType:"dynamic"});case 8:return e.prev=8,e.next=11,(0,u.registerClient)(t,n);case 11:return l=e.sent,f={clientId:l.clientId},l.clientSecret&&(f.clientSecret=l.clientSecret),l.idTokenSignedResponseAlg&&(f.idTokenSignedResponseAlg=l.idTokenSignedResponseAlg),e.next=17,this.storageUtility.setForUser(t.sessionId,f,{secure:!1});case 17:return e.abrupt("return",l);case 20:throw e.prev=20,e.t0=e.catch(8),new Error("Client registration failed: [".concat(e.t0,"]"));case 23:case"end":return e.stop()}}),e,this,[[8,20]])})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.default=c},5010:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.WELL_KNOWN_OPENID_CONFIG=void 0;var s=n(7639),u=n(2453);t.WELL_KNOWN_OPENID_CONFIG=".well-known/openid-configuration";var c={issuer:{toKey:"issuer",convertToUrl:!0},authorization_endpoint:{toKey:"authorizationEndpoint",convertToUrl:!0},token_endpoint:{toKey:"tokenEndpoint",convertToUrl:!0},userinfo_endpoint:{toKey:"userinfoEndpoint",convertToUrl:!0},jwks_uri:{toKey:"jwksUri",convertToUrl:!0},registration_endpoint:{toKey:"registrationEndpoint",convertToUrl:!0},scopes_supported:{toKey:"scopesSupported"},response_types_supported:{toKey:"responseTypesSupported"},response_modes_supported:{toKey:"responseModesSupported"},grant_types_supported:{toKey:"grantTypesSupported"},acr_values_supported:{toKey:"acrValuesSupported"},subject_types_supported:{toKey:"subjectTypesSupported"},id_token_signing_alg_values_supported:{toKey:"idTokenSigningAlgValuesSupported"},id_token_encryption_alg_values_supported:{toKey:"idTokenEncryptionAlgValuesSupported"},id_token_encryption_enc_values_supported:{toKey:"idTokenEncryptionEncValuesSupported"},userinfo_signing_alg_values_supported:{toKey:"userinfoSigningAlgValuesSupported"},userinfo_encryption_alg_values_supported:{toKey:"userinfoEncryptionAlgValuesSupported"},userinfo_encryption_enc_values_supported:{toKey:"userinfoEncryptionEncValuesSupported"},request_object_signing_alg_values_supported:{toKey:"requestObjectSigningAlgValuesSupported"},request_object_encryption_alg_values_supported:{toKey:"requestObjectEncryptionAlgValuesSupported"},request_object_encryption_enc_values_supported:{toKey:"requestObjectEncryptionEncValuesSupported"},token_endpoint_auth_methods_supported:{toKey:"tokenEndpointAuthMethodsSupported"},token_endpoint_auth_signing_alg_values_supported:{toKey:"tokenEndpointAuthSigningAlgValuesSupported"},display_values_supported:{toKey:"displayValuesSupported"},claim_types_supported:{toKey:"claimTypesSupported"},claims_supported:{toKey:"claimsSupported"},service_documentation:{toKey:"serviceDocumentation"},claims_locales_supported:{toKey:"claimsLocalesSupported"},ui_locales_supported:{toKey:"uiLocalesSupported"},claims_parameter_supported:{toKey:"claimsParameterSupported"},request_parameter_supported:{toKey:"requestParameterSupported"},request_uri_parameter_supported:{toKey:"requestUriParameterSupported"},require_request_uri_registration:{toKey:"requireRequestUriRegistration"},op_policy_uri:{toKey:"opPolicyUri",convertToUrl:!0},op_tos_uri:{toKey:"opTosUri",convertToUrl:!0}};function l(e){var t={};return Object.keys(e).forEach((function(n){c[n]&&(t[c[n].toKey]=e[n])})),Array.isArray(t.scopesSupported)||(t.scopesSupported=["openid"]),t}var f=function(){function e(t){o(this,e),this.storageUtility=t}return a(e,[{key:"fetchConfig",value:function(){var n=i(r().mark((function n(i){var o,a,c;return r().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=new URL(t.WELL_KNOWN_OPENID_CONFIG,i.endsWith("/")?i:"".concat(i,"/")).href,n.next=3,(0,u.fetch)(a);case 3:return c=n.sent,n.prev=4,n.t0=l,n.next=8,c.json();case 8:n.t1=n.sent,o=(0,n.t0)(n.t1),n.next=15;break;case 12:throw n.prev=12,n.t2=n.catch(4),new s.ConfigurationError("[".concat(i.toString(),"] has an invalid configuration: ").concat(n.t2.message));case 15:return n.next=17,this.storageUtility.set(e.getLocalStorageKey(i),JSON.stringify(o));case 17:return n.abrupt("return",o);case 18:case"end":return n.stop()}}),n,this,[[4,12]])})));return function(e){return n.apply(this,arguments)}}()}],[{key:"getLocalStorageKey",value:function(e){return"issuerConfig:".concat(e)}}]),e}();t.default=f},5934:function(e,t,n){"use strict";var r=n(2122).default,i=n(7061).default,o=n(7156).default,a=n(6690).default,s=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var u=n(7639);function c(e){return"string"===typeof e.oidcIssuer}function l(e){return"string"===typeof e.redirectUrl}var f=function(){function e(t,n,r,i){a(this,e),this.storageUtility=t,this.oidcHandler=n,this.issuerConfigFetcher=r,this.clientRegistrar=i}return s(e,[{key:"canHandle",value:function(){var e=o(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",c(t)&&l(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=o(i().mark((function e(t){var n,o,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t)){e.next=2;break}throw new u.ConfigurationError("OidcLoginHandler requires an OIDC issuer: missing property 'oidcIssuer' in ".concat(JSON.stringify(t)));case 2:if(l(t)){e.next=4;break}throw new u.ConfigurationError("OidcLoginHandler requires a redirect URL: missing property 'redirectUrl' in ".concat(JSON.stringify(t)));case 4:return e.next=6,this.issuerConfigFetcher.fetchConfig(t.oidcIssuer);case 6:return n=e.sent,e.next=9,(0,u.handleRegistration)(t,n,this.storageUtility,this.clientRegistrar);case 9:return o=e.sent,a=r(r({issuer:n.issuer,dpop:"dpop"===t.tokenType.toLowerCase()},t),{},{issuerConfiguration:n,client:o}),e.abrupt("return",this.oidcHandler.handle(a));case 12:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=f},4079:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){r(this,e)}return i(e,[{key:"redirect",value:function(e,t){t&&t.handleRedirect?t.handleRedirect(e):t&&t.redirectByReplacingState?window.history.replaceState({},"",e):window.location.href=e}}]),e}();t.default=o},5857:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.AuthCodeRedirectHandler=void 0;var s=n(2453),u=n(7639),c=n(1880),l=function(){function e(t,n,r,i,a){o(this,e),this.storageUtility=t,this.sessionInfoManager=n,this.issuerConfigFetcher=r,this.clientRegistrar=i,this.tokerRefresher=a}return a(e,[{key:"canHandle",value:function(){var e=i(r().mark((function e(t){var n;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=new URL(t),e.abrupt("return",null!==n.searchParams.get("code")&&null!==n.searchParams.get("state"));case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r().mark((function e(t,n){var i,o,a,l,f,d,h,p,v,g,y,m,w,_,b;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.canHandle(t);case 2:if(e.sent){e.next=4;break}throw new Error("AuthCodeRedirectHandler cannot handle [".concat(t,"]: it is missing one of [code, state]."));case 4:return i=new URL(t),o=i.searchParams.get("state"),e.next=8,this.storageUtility.getForUser(o,"sessionId",{errorIfNull:!0});case 8:return a=e.sent,e.next=11,(0,u.loadOidcContextFromStorage)(a,this.storageUtility,this.issuerConfigFetcher);case 11:if(l=e.sent,f=l.issuerConfig,d=l.codeVerifier,h=l.redirectUrl,p=l.dpop,"string"!==typeof(v=i.searchParams.get("iss"))||v===f.issuer){e.next=19;break}throw new Error("The value of the iss parameter (".concat(v,") does not match the issuer identifier of the authorization server (").concat(f.issuer,"). See [rfc9207](https://www.rfc-editor.org/rfc/rfc9207.html#section-2.3-3.1.1)"));case 19:if(void 0!==d){e.next=21;break}throw new Error("The code verifier for session ".concat(a," is missing from storage."));case 21:if(void 0!==h){e.next=23;break}throw new Error("The redirect URL for session ".concat(a," is missing from storage."));case 23:return e.next=25,this.clientRegistrar.getClient({sessionId:a},f);case 25:if(g=e.sent,m=Date.now(),!p){e.next=34;break}return e.next=30,(0,c.getDpopToken)(f,g,{grantType:"authorization_code",code:i.searchParams.get("code"),codeVerifier:d,redirectUrl:h});case 30:y=e.sent,window.localStorage.removeItem("oidc.".concat(o)),e.next=37;break;case 34:return e.next=36,(0,c.getBearerToken)(i.toString());case 36:y=e.sent;case 37:return void 0!==y.refreshToken&&(w={sessionId:a,refreshToken:y.refreshToken,tokenRefresher:this.tokerRefresher}),e.next=40,(0,u.buildAuthenticatedFetch)(s.fetch,y.accessToken,{dpopKey:y.dpopKey,refreshOptions:w,eventEmitter:n,expiresIn:y.expiresIn});case 40:return _=e.sent,e.next=43,this.storageUtility.setForUser(a,{webId:y.webId,isLoggedIn:"true"},{secure:!0});case 43:return e.next=45,this.sessionInfoManager.get(a);case 45:if(b=e.sent){e.next=48;break}throw new Error("Could not retrieve session: [".concat(a,"]."));case 48:return e.abrupt("return",Object.assign(b,{fetch:_,expirationDate:"number"===typeof y.expiresIn?m+1e3*y.expiresIn:null}));case 49:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.AuthCodeRedirectHandler=l},3576:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorOidcHandler=void 0;var s=n(7639),u=n(7582),c=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new URL(t).searchParams.has("error"));case 4:throw e.prev=4,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0));case 7:case"end":return e.stop()}}),e,null,[[0,4]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r().mark((function e(t,n){var i,o,a;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0!==n&&(i=new URL(t),o=i.searchParams.get("error"),a=i.searchParams.get("error_description"),n.emit(s.EVENTS.ERROR,o,a)),e.abrupt("return",(0,u.getUnauthenticatedSession)());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();t.ErrorOidcHandler=c},3860:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0}),t.FallbackRedirectHandler=void 0;var s=n(7582),u=function(){function e(){o(this,e)}return a(e,[{key:"canHandle",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,new URL(t),e.abrupt("return",!0);case 5:throw e.prev=5,e.t0=e.catch(0),new Error("[".concat(t,"] is not a valid URL, and cannot be used as a redirect URL: ").concat(e.t0));case 8:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.getUnauthenticatedSession)());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.FallbackRedirectHandler=u},5404:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7639),u=n(1880),c=function(){function e(t,n){o(this,e),this.storageUtility=t,this.redirector=n}return a(e,[{key:"canHandle",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!!(t.issuerConfiguration.grantTypesSupported&&t.issuerConfiguration.grantTypesSupported.indexOf("authorization_code")>-1));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r().mark((function e(t){var n,i,o,a,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={authority:t.issuer.toString(),client_id:t.client.clientId,client_secret:t.client.clientSecret,redirect_uri:t.redirectUrl.toString(),post_logout_redirect_uri:t.redirectUrl.toString(),response_type:"code",scope:s.DEFAULT_SCOPES,filterProtocolClaims:!0,loadUserInfo:!1,code_verifier:!0,prompt:null!==(n=t.prompt)&&void 0!==n?n:"consent"},o=new u.OidcClient(i),a=this.redirector,c=this.storageUtility,e.prev=4,e.next=7,o.createSigninRequest();case 7:return l=e.sent,e.next=10,Promise.all([c.setForUser(l.state._id,{sessionId:t.sessionId}),c.setForUser(t.sessionId,{codeVerifier:l.state._code_verifier,issuer:t.issuer.toString(),redirectUrl:t.redirectUrl,dpop:t.dpop?"true":"false"})]);case 10:a.redirect(l.url.toString(),{handleRedirect:t.handleRedirect}),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.error(e.t0);case 16:return e.abrupt("return",void 0);case 17:case"end":return e.stop()}}),e,this,[[4,13]])})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=c},1559:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var s=n(7639),u=n(1880),c=function(){function e(t,n,r){o(this,e),this.storageUtility=t,this.issuerConfigFetcher=n,this.clientRegistrar=r}return a(e,[{key:"refresh",value:function(){var e=i(r().mark((function e(t,n,i,o){var a,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,s.loadOidcContextFromStorage)(t,this.storageUtility,this.issuerConfigFetcher);case 2:return a=e.sent,e.next=5,this.clientRegistrar.getClient({sessionId:t},a.issuerConfig);case 5:if(c=e.sent,void 0!==n){e.next=8;break}throw new Error("Session [".concat(t,"] has no refresh token to allow it to refresh its access token."));case 8:if(!a.dpop||void 0!==i){e.next=10;break}throw new Error("For session [".concat(t,"], the key bound to the DPoP access token must be provided to refresh said access token."));case 10:return e.next=12,(0,u.refresh)(n,a.issuerConfig,c,i);case 12:if(void 0===(l=e.sent).refreshToken){e.next=17;break}return null===o||void 0===o||o.emit(s.EVENTS.NEW_REFRESH_TOKEN,l.refreshToken),e.next=17,this.storageUtility.setForUser(t,{refreshToken:l.refreshToken});case 17:return e.abrupt("return",l);case 18:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()}]),e}();t.default=c},5046:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(t){o(this,e),this.sessionInfoManager=t}return a(e,[{key:"canHandle",value:function(){var e=i(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.sessionInfoManager.clear(t);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},7582:function(e,t,n){"use strict";var r=n(7061).default,i=n(6690).default,o=n(9728).default,a=n(7156).default;Object.defineProperty(t,"__esModule",{value:!0}),t.SessionInfoManager=t.clear=t.getUnauthenticatedSession=void 0;var s=n(7639),u=n(303),c=n(1880),l=n(2453);function f(e,t){return d.apply(this,arguments)}function d(){return(d=a(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.deleteAllUserData(t,{secure:!1}),n.deleteAllUserData(t,{secure:!0}),n.delete("clientKey",{secure:!1})]);case 2:return e.next=4,(0,c.clearOidcPersistentStorage)();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}t.getUnauthenticatedSession=function(){return{isLoggedIn:!1,sessionId:(0,u.v4)(),fetch:l.fetch}},t.clear=f;var h=function(){function e(t){i(this,e),this.storageUtility=t}return o(e,[{key:"update",value:function(e,t){throw new Error("Not Implemented")}},{key:"get",value:function(){var e=a(r().mark((function e(t){var n,i,o,a,u,c,l,f,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.storageUtility.getForUser(t,"isLoggedIn",{secure:!0});case 2:return i=e.sent,e.next=5,this.storageUtility.getForUser(t,"webId",{secure:!0});case 5:return o=e.sent,e.next=8,this.storageUtility.getForUser(t,"clientId",{secure:!1});case 8:return a=e.sent,e.next=11,this.storageUtility.getForUser(t,"clientSecret",{secure:!1});case 11:return u=e.sent,e.next=14,this.storageUtility.getForUser(t,"redirectUrl",{secure:!1});case 14:return c=e.sent,e.next=17,this.storageUtility.getForUser(t,"refreshToken",{secure:!0});case 17:return l=e.sent,e.next=20,this.storageUtility.getForUser(t,"issuer",{secure:!1});case 20:return f=e.sent,e.next=23,this.storageUtility.getForUser(t,"tokenType",{secure:!1});case 23:if(e.t1=n=e.sent,e.t0=null!==e.t1,!e.t0){e.next=27;break}e.t0=void 0!==n;case 27:if(!e.t0){e.next=31;break}e.t2=n,e.next=32;break;case 31:e.t2="DPoP";case 32:if(d=e.t2,(0,s.isSupportedTokenType)(d)){e.next=35;break}throw new Error("Tokens of type [".concat(d,"] are not supported."));case 35:if(void 0!==a||void 0!==i||void 0!==o||void 0!==l){e.next=37;break}return e.abrupt("return",void 0);case 37:return e.abrupt("return",{sessionId:t,webId:o,isLoggedIn:"true"===i,redirectUrl:c,refreshToken:l,issuer:f,clientAppId:a,clientAppSecret:u,tokenType:d});case 38:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clear",value:function(){var e=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",f(t,this.storageUtility));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=a(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRegisteredSessionIdAll",value:function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"clearAll",value:function(){var e=a(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("Not implemented");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}();t.SessionInfoManager=h},6287:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(6690).default,a=n(9728).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){o(this,e)}return a(e,[{key:"storage",get:function(){return window.localStorage}},{key:"get",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.storage.getItem(t)||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=i(r().mark((function e(t,n){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.setItem(t,n);case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=i(r().mark((function e(t){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage.removeItem(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();t.default=s},4554:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,o=n(1655).default,a=n(6389).default;Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){o(n,e);var t=a(n);function n(e,r){return i(this,n),t.call(this,e,r)}return r(n)}(n(7639).StorageUtility);t.default=s},7639:function(e,t,n){"use strict";var r=n(7424).default,i=n(1655).default,o=n(6389).default,a=n(3496).default,s=n(2122).default,u=n(7061).default,c=n(861).default,l=n(7156).default,f=n(6690).default,d=n(9728).default,h=n(7465),p=n(2453),v=n(1438),g=n(303),y=["ES256","RS256"],m={ERROR:"error",LOGIN:"login",LOGOUT:"logout",NEW_REFRESH_TOKEN:"newRefreshToken",SESSION_EXPIRED:"sessionExpired",SESSION_EXTENDED:"sessionExtended",SESSION_RESTORED:"sessionRestore",TIMEOUT_SET:"timeoutSet"},w=["openid","offline_access","webid"].join(" "),_=function(){function e(t){f(this,e),this.handleables=t}return d(e,[{key:"getProperHandler",value:function(){var e=l(u().mark((function e(t){var n,r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(this.handleables.map((function(e){return e.canHandle.apply(e,c(t))})));case 2:n=e.sent,r=0;case 4:if(!(r<n.length)){e.next=10;break}if(!n[r]){e.next=7;break}return e.abrupt("return",this.handleables[r]);case 7:r+=1,e.next=4;break;case 10:return e.abrupt("return",null);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"canHandle",value:function(){var e=l(u().mark((function e(){var t,n,r,i=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=i.length,n=new Array(t),r=0;r<t;r++)n[r]=i[r];return e.next=3,this.getProperHandler(n);case 3:return e.t0=e.sent,e.abrupt("return",null!==e.t0);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handle",value:function(){var e=l(u().mark((function e(){var t,n,r,i,o=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=o.length,n=new Array(t),r=0;r<t;r++)n[r]=o[r];return e.next=3,this.getProperHandler(n);case 3:if(!(i=e.sent)){e.next=6;break}return e.abrupt("return",i.handle.apply(i,n));case 6:throw new Error("[".concat(this.constructor.name,"] cannot find a suitable handler for: ").concat(n.map((function(e){try{return JSON.stringify(e)}catch(t){return e.toString()}})).join(", ")));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function b(e,t){return x.apply(this,arguments)}function x(){return(x=l(u().mark((function e(t,n){var r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.fetch(t);case 2:if(200===(r=e.sent).status){e.next=5;break}throw new Error("Could not fetch JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(r.status," ").concat(r.statusText));case 5:return e.prev=5,e.next=8,r.json();case 8:i=e.sent.keys[0],e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(5),new Error("Malformed JWKS for [".concat(n,"] at [").concat(t,"]: ").concat(e.t0.message));case 14:return e.abrupt("return",i);case 15:case"end":return e.stop()}}),e,null,[[5,11]])})))).apply(this,arguments)}function S(){return(S=l(u().mark((function e(t,n,r,i){var o,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(n,r);case 2:return o=e.sent,e.prev=3,e.t0=v,e.t1=t,e.next=8,v.importJWK(o);case 8:return e.t2=e.sent,e.t3={issuer:r,audience:i},e.next=12,e.t0.jwtVerify.call(e.t0,e.t1,e.t2,e.t3);case 12:s=e.sent,c=s.payload,a=c,e.next=20;break;case 17:throw e.prev=17,e.t4=e.catch(3),new Error("Token verification failed: ".concat(e.t4.stack));case 20:if("string"!==typeof a.webid){e.next=22;break}return e.abrupt("return",a.webid);case 22:if("string"===typeof a.sub){e.next=24;break}throw new Error("The token ".concat(JSON.stringify(a)," is invalid: it has no 'webid' claim and no 'sub' claim."));case 24:return e.prev=24,new URL(a.sub),e.abrupt("return",a.sub);case 29:throw e.prev=29,e.t5=e.catch(24),new Error("The token has no 'webid' claim, and its 'sub' claim of [".concat(a.sub,"] is invalid as a URL - error [").concat(e.t5,"]."));case 32:case"end":return e.stop()}}),e,null,[[3,17],[24,29]])})))).apply(this,arguments)}function k(e){try{return new URL(e),!0}catch(t){return!1}}function E(e,t){return void 0===e.clientId||k(e.clientId)?t.scopesSupported.includes("webid")&&void 0!==e.clientId&&k(e.clientId)?"solid-oidc":"dynamic":"static"}function C(){return(C=l(u().mark((function e(t,n,r,i){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("dynamic"!==(o=E(t,n))){e.next=3;break}return e.abrupt("return",i.getClient({sessionId:t.sessionId,clientName:t.clientName,redirectUrl:t.redirectUrl},n));case 3:return e.next=5,r.setForUser(t.sessionId,{clientId:t.clientId});case 5:if(!t.clientSecret){e.next=8;break}return e.next=8,r.setForUser(t.sessionId,{clientSecret:t.clientSecret});case 8:if(!t.clientName){e.next=11;break}return e.next=11,r.setForUser(t.sessionId,{clientName:t.clientName});case 11:return e.abrupt("return",{clientId:t.clientId,clientSecret:t.clientSecret,clientName:t.clientName,clientType:o});case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t.getForUser(n,"sessionId"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){return(A=l(u().mark((function e(t,n,i){var o,a,s,c,l,f,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all([n.getForUser(t,"issuer",{errorIfNull:!0}),n.getForUser(t,"codeVerifier"),n.getForUser(t,"redirectUrl"),n.getForUser(t,"dpop",{errorIfNull:!0})]);case 3:return o=e.sent,a=r(o,4),s=a[0],c=a[1],l=a[2],f=a[3],e.next=11,n.deleteForUser(t,"codeVerifier");case 11:return e.next=13,i.fetchConfig(s);case 13:return d=e.sent,e.abrupt("return",{codeVerifier:c,redirectUrl:l,issuerConfig:d,dpop:"true"===f});case 17:throw e.prev=17,e.t0=e.catch(0),new Error("Failed to retrieve OIDC context from storage associated with session [".concat(t,"]: ").concat(e.t0));case 20:case"end":return e.stop()}}),e,null,[[0,17]])})))).apply(this,arguments)}function T(){return(T=l(u().mark((function e(t,n,r,i,o,a,s){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===o){e.next=3;break}return e.next=3,t.setForUser(n,{refreshToken:o},{secure:a});case 3:if(void 0===r){e.next=6;break}return e.next=6,t.setForUser(n,{webId:r},{secure:a});case 6:if(void 0===i){e.next=9;break}return e.next=9,t.setForUser(n,{isLoggedIn:i},{secure:a});case 9:if(void 0===s){e.next=22;break}return e.t0=t,e.t1=n,e.t2=JSON.stringify(s.publicKey),e.t3=JSON,e.next=16,v.exportJWK(s.privateKey);case 16:return e.t4=e.sent,e.t5=e.t3.stringify.call(e.t3,e.t4),e.t6={publicKey:e.t2,privateKey:e.t5},e.t7={secure:a},e.next=22,e.t0.setForUser.call(e.t0,e.t1,e.t6,e.t7);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(){function e(t,n){f(this,e),this.secureStorage=t,this.insecureStorage=n}return d(e,[{key:"getKey",value:function(e){return"solidClientAuthenticationUser:".concat(e)}},{key:"getUserData",value:function(){var e=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(n?this.secureStorage:this.insecureStorage).get(this.getKey(t));case 2:if(void 0!==(r=e.sent)){e.next=5;break}return e.abrupt("return",{});case 5:return e.prev=5,e.abrupt("return",JSON.parse(r));case 9:throw e.prev=9,e.t0=e.catch(5),new Error("Data for user [".concat(t,"] in [").concat(n?"secure":"unsecure","] storage is corrupted - expected valid JSON, but got: ").concat(r));case 12:case"end":return e.stop()}}),e,this,[[5,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"setUserData",value:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(r?this.secureStorage:this.insecureStorage).set(this.getKey(t),JSON.stringify(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=l(u().mark((function e(t,n){var r;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).get(t);case 2:if(void 0!==(r=e.sent)||!(null===n||void 0===n?void 0:n.errorIfNull)){e.next=5;break}throw new Error("[".concat(t,"] is not stored"));case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===r||void 0===r?void 0:r.secure)?this.secureStorage:this.insecureStorage).set(t,n));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).delete(t));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getForUser",value:function(){var e=l(u().mark((function e(t,n,r){var i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 2:if((i=e.sent)&&i[n]||(o=void 0),void 0!==(o=i[n])||!(null===r||void 0===r?void 0:r.errorIfNull)){e.next=7;break}throw new Error("Field [".concat(n,"] for user [").concat(t,"] is not stored"));case 7:return e.abrupt("return",o||void 0);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"setForUser",value:function(){var e=l(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 3:i=e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),i={};case 9:return e.next=11,this.setUserData(t,s(s({},i),n),null===r||void 0===r?void 0:r.secure);case 11:case"end":return e.stop()}}),e,this,[[0,6]])})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteForUser",value:function(){var e=l(u().mark((function e(t,n,r){var i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getUserData(t,null===r||void 0===r?void 0:r.secure);case 2:return delete(i=e.sent)[n],e.next=6,this.setUserData(t,i,null===r||void 0===r?void 0:r.secure);case 6:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"deleteAllUserData",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,((null===n||void 0===n?void 0:n.secure)?this.secureStorage:this.insecureStorage).delete(this.getKey(t));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),I=function(){function e(){f(this,e),this.map={}}return d(e,[{key:"get",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.map[t]||void 0);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.map[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.map[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),R=function(e){i(n,e);var t=o(n);function n(e){return f(this,n),t.call(this,e)}return d(n)}(a(Error)),L=function(e){i(n,e);var t=o(n);function n(e){return f(this,n),t.call(this,"[".concat(e,"] is not implemented"))}return d(n)}(a(Error)),F=function(e){i(n,e);var t=o(n);function n(e){var r;return f(this,n),(r=t.call(this,"Invalid response from OIDC provider: missing fields ".concat(e))).missingFields=e,r}return d(n)}(a(Error)),M=function(e){i(n,e);var t=o(n);function n(e,r,i){var o;return f(this,n),(o=t.call(this,e)).error=r,o.errorDescription=i,o}return d(n)}(a(Error));function j(e){var t=new URL(e);return new URL(t.pathname,t.origin).toString()}function D(e,t,n){return N.apply(this,arguments)}function N(){return(N=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new v.SignJWT({htu:j(t),htm:n.toUpperCase(),jti:g.v4()}).setProtectedHeader({alg:y[0],jwk:r.publicKey,typ:"dpop+jwt"}).setIssuedAt().sign(r.privateKey,{}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=l(u().mark((function e(){var t,n,r,i;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.generateKeyPair(y[0]);case 2:return t=e.sent,n=t.privateKey,r=t.publicKey,e.t0=n,e.next=8,v.exportJWK(r);case 8:return e.t1=e.sent,(i={privateKey:e.t0,publicKey:e.t1}).publicKey.alg=y[0],e.abrupt("return",i);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(e){return[401,403].includes(e)}function B(e,t,n,r){return H.apply(this,arguments)}function H(){return(H=l(u().mark((function e(t,n,r,i){var o,a;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new p.Headers(null===i||void 0===i?void 0:i.headers)).set("Authorization","DPoP ".concat(n)),e.t0=a,e.next=5,D(t,null!==(o=null===i||void 0===i?void 0:i.method)&&void 0!==o?o:"get",r);case 5:return e.t1=e.sent,e.t0.set.call(e.t0,"DPoP",e.t1),e.abrupt("return",s(s({},i),{},{headers:a}));case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(e,t,n,r){return K.apply(this,arguments)}function K(){return(K=l(u().mark((function e(t,n,r,i){var o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===r){e.next=2;break}return e.abrupt("return",B(t,n,r,i));case 2:return(o=new p.Headers(null===i||void 0===i?void 0:i.headers)).set("Authorization","Bearer ".concat(n)),e.abrupt("return",s(s({},i),{},{headers:o}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(e,t,n,r,i){return W.apply(this,arguments)}function W(){return(W=l(u().mark((function e(t,n,r,i,o){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=t,e.t1=r,e.next=4,z(r.toString(),n,o,i);case 4:return e.t2=e.sent,e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function q(e,t,n){return G.apply(this,arguments)}function G(){return(G=l(u().mark((function e(t,n,r){var i,o;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.tokenRefresher.refresh(t.sessionId,t.refreshToken,n);case 2:return o=e.sent,null===r||void 0===r||r.emit(m.SESSION_EXTENDED,null!==(i=o.expiresIn)&&void 0!==i?i:600),"string"===typeof o.refreshToken&&(null===r||void 0===r||r.emit(m.NEW_REFRESH_TOKEN,o.refreshToken)),e.abrupt("return",{accessToken:o.accessToken,refreshToken:o.refreshToken,expiresIn:o.expiresIn});case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var J=function(e){return void 0!==e?e-5>0?e-5:e:600};function Q(){return Q=l(u().mark((function e(t,n,r){var i,o,a,s,c,f;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=n,void 0!==(s=null===r||void 0===r?void 0:r.refreshOptions)?(c=function(){var e=l(u().mark((function e(){var t,n,i,l,f,d,h,p;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,q(s,r.dpopKey,r.eventEmitter);case 3:f=e.sent,d=f.accessToken,h=f.refreshToken,p=f.expiresIn,o=d,void 0!==h&&(s.refreshToken=h),clearTimeout(a),a=setTimeout(c,1e3*J(p)),null===(t=r.eventEmitter)||void 0===t||t.emit(m.TIMEOUT_SET,a),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),e.t0 instanceof M&&(null===(n=null===r||void 0===r?void 0:r.eventEmitter)||void 0===n||n.emit(m.ERROR,e.t0.error,e.t0.errorDescription),null===(i=null===r||void 0===r?void 0:r.eventEmitter)||void 0===i||i.emit(m.SESSION_EXPIRED)),e.t0 instanceof F&&e.t0.missingFields.includes("access_token")&&(null===(l=null===r||void 0===r?void 0:r.eventEmitter)||void 0===l||l.emit(m.SESSION_EXPIRED));case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}(),a=setTimeout(c,1e3*J(r.expiresIn)),null===(i=r.eventEmitter)||void 0===i||i.emit(m.TIMEOUT_SET,a)):void 0!==r&&void 0!==r.eventEmitter&&(f=setTimeout((function(){r.eventEmitter.emit(m.SESSION_EXPIRED)}),1e3*J(r.expiresIn)),r.eventEmitter.emit(m.TIMEOUT_SET,f)),e.abrupt("return",function(){var e=l(u().mark((function e(n,i){var a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V(t,o,n,i,null===r||void 0===r?void 0:r.dpopKey);case 2:if(a=e.sent,s=!a.ok&&!Z(a.status),!a.ok&&!s){e.next=6;break}return e.abrupt("return",a);case 6:if(!(a.url!==n)||void 0===(null===r||void 0===r?void 0:r.dpopKey)){e.next=11;break}return e.next=10,V(t,o,a.url,i,r.dpopKey);case 10:a=e.sent;case 11:return e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}var Y="getResponse",X={get:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),set:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=l(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getForUser:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Y);case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),setForUser:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deleteForUser:function(){var e=l(u().mark((function e(t,n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),deleteAllUserData:function(){var e=l(u().mark((function e(t,n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},$=function(e){var t=e;return{get:function(){var e=l(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==t[n]){e.next=2;break}return e.abrupt("return",void 0);case 2:if("string"!==typeof t[n]){e.next=4;break}return e.abrupt("return",t[n]);case 4:return e.abrupt("return",JSON.stringify(t[n]));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),set:function(){var e=l(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t[n]=r;case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),delete:function(){var e=l(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete t[n];case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}};t.AggregateHandler=_,t.ConfigurationError=R,t.DEFAULT_SCOPES=w,t.EVENTS=m,t.InMemoryStorage=I,t.InvalidResponseError=F,t.NotImplementedError=L,t.OidcProviderError=M,t.PREFERRED_SIGNING_ALG=y,t.REFRESH_BEFORE_EXPIRATION_SECONDS=5,t.SOLID_CLIENT_AUTHN_KEY_PREFIX="solidClientAuthn:",t.StorageUtility=O,t.StorageUtilityGetResponse=Y,t.StorageUtilityMock=X,t.USER_SESSION_PREFIX="solidClientAuthenticationUser",t.buildAuthenticatedFetch=function(e,t,n){return Q.apply(this,arguments)},t.buildProxyHandler=function(e,t){return{get:function(n,r,i){if(!Object.getOwnPropertyNames(h.EventEmitter).includes(r)&&Object.getOwnPropertyNames(e).includes(r))throw new Error("".concat(t,": [").concat(r,"] is not supported"));return Reflect.get(n,r,i)}}},t.createDpopHeader=D,t.determineSigningAlg=function(e,t){var n;return null!==(n=t.find((function(t){return e.includes(t)})))&&void 0!==n?n:null},t.fetchJwks=b,t.generateDpopKeyPair=function(){return U.apply(this,arguments)},t.getSessionIdFromOauthState=function(e,t){return P.apply(this,arguments)},t.getWebidFromTokenPayload=function(e,t,n,r){return S.apply(this,arguments)},t.handleRegistration=function(e,t,n,r){return C.apply(this,arguments)},t.isSupportedTokenType=function(e){return"string"===typeof e&&["DPoP","Bearer"].includes(e)},t.isValidRedirectUrl=function(e){try{return""===new URL(e).hash}catch(t){return!1}},t.loadOidcContextFromStorage=function(e,t,n){return A.apply(this,arguments)},t.mockStorage=$,t.mockStorageUtility=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?new O($(e),$({})):new O($({}),$(e))},t.saveSessionInfoToStorage=function(e,t,n,r,i,o,a){return T.apply(this,arguments)}},2453:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=globalThis.fetch,r=globalThis.fetch,i=globalThis.Response,o=globalThis.Request,a=globalThis.Headers;t.Headers=a,t.Request=o,t.Response=i,t.default=n,t.fetch=r},7478:function(e,t,n){var r=n(1908);e.exports=r},594:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=function(){"use strict";function e(t){r(this,e),this.value=t||"b"+ ++e.nextId}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="BlankNode",o.nextId=0,e.exports=o},1908:function(e,t,n){var r=n(594),i=n(721),o=n(7967),a=n(8558),s=n(1020),u=n(5783),c=n(6646);var l={namedNode:function(e){return new s(e)},blankNode:function(e){return new r(e)},literal:function(e,t){return"string"===typeof t?-1===t.indexOf(":")?new a(e,t):new a(e,null,l.namedNode(t)):new a(e,null,t)},variable:function(e){return new c(e)},defaultGraph:function(){return l.defaultGraphInstance},triple:function(e,t,n){return l.quad(e,t,n)},quad:function(e,t,n,r){return new u(e,t,n,r||l.defaultGraphInstance)},fromTerm:function(e){return o.call(l,e)},fromQuad:function(e){return o.call(l,e)},defaultGraphInstance:new i};e.exports=l},721:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=function(){"use strict";function e(){r(this,e)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType}}]),e}();o.prototype.termType="DefaultGraph",o.prototype.value="",e.exports=o},8558:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(1020),a=function(){"use strict";function e(t,n,i){r(this,e),this.value=t,this.datatype=e.stringDatatype,this.language="",n?(this.language=n,this.datatype=e.langStringDatatype):i&&(this.datatype=i)}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value&&e.language===this.language&&e.datatype.equals(this.datatype)}}]),e}();a.prototype.termType="Literal",a.langStringDatatype=new o("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),a.stringDatatype=new o("http://www.w3.org/2001/XMLSchema#string"),e.exports=a},1020:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=function(){"use strict";function e(t){r(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="NamedNode",e.exports=o},5783:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=n(721),a=function(){"use strict";function e(t,n,i,a){r(this,e),this.subject=t,this.predicate=n,this.object=i,this.graph=a||new o}return i(e,[{key:"equals",value:function(e){return!!e&&("Quad"===e.termType||!e.termType)&&e.subject.equals(this.subject)&&e.predicate.equals(this.predicate)&&e.object.equals(this.object)&&e.graph.equals(this.graph)}}]),e}();a.prototype.termType="Quad",a.prototype.value="",e.exports=a},6646:function(e,t,n){var r=n(6690).default,i=n(9728).default,o=function(){"use strict";function e(t){r(this,e),this.value=t}return i(e,[{key:"equals",value:function(e){return!!e&&e.termType===this.termType&&e.value===this.value}}]),e}();o.prototype.termType="Variable",e.exports=o},7967:function(e){e.exports=function(e){if(!e)return null;if("BlankNode"===e.termType)return this.blankNode(e.value);if("DefaultGraph"===e.termType)return this.defaultGraph();if("Literal"===e.termType)return this.literal(e.value,e.language||this.namedNode(e.datatype.value));if("NamedNode"===e.termType)return this.namedNode(e.value);if("Quad"===e.termType){var t=this.fromTerm(e.subject),n=this.fromTerm(e.predicate),r=this.fromTerm(e.object),i=this.fromTerm(e.graph);return this.quad(t,n,r,i)}if("Variable"===e.termType)return this.variable(e.value);throw new Error("unknown termType ".concat(e.termType))}},2711:function(e,t,n){var r=n(8416).default,i=n(4704).default,o=n(6690).default,a=n(9728).default;function s(e){return"string"===typeof e||e instanceof String}function u(e){if("string"===typeof e)return e;if(!e)return"";if("undefined"!==typeof e.id&&"Quad"!==e.termType)return e.id;var t,n,r,i;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return e.language?'"'.concat(e.value,'"@').concat(e.language):'"'.concat(e.value,'"').concat(e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?"^^".concat(e.datatype.value):"");case"Quad":return t=l(u(e.subject)),n=l(u(e.predicate)),r=l(u(e.object)),i="DefaultGraph"===e.graph.termType?"":" ".concat(u(e.graph)),"<<".concat(t," ").concat(n," ").concat(r).concat(i,">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}var c=/^"(.*".*)(?="[^"]*$)/;function l(e){return e.replace(c,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}var f=function(e){"use strict";function t(e){if(o(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._quads=new Map,e){var n,r=i(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;this.add(a)}}catch(s){r.e(s)}finally{r.f()}}}return a(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e,this._size}},{key:"add",value:function(e){var t=u(e.subject),n=u(e.predicate),r=u(e.object),i=u(e.graph),o=this._graphs[i];o||(o=this._graphs[i]={subjects:{},predicates:{},objects:{}},Object.freeze(o));var a=this._ids,s=this._entities;return t=a[t]||(a[s[++this._id]=t]=this._id),n=a[n]||(a[s[++this._id]=n]=this._id),r=a[r]||(a[s[++this._id]=r]=this._id),this._addToIndex(o.subjects,t,n,r),this._addToIndex(o.predicates,n,r,t),this._addToIndex(o.objects,r,t,n),this._setQuad(t,n,r,i,e),this._size=null,this}},{key:"delete",value:function(e){var t,n,r,i=u(e.subject),o=u(e.predicate),a=u(e.object),s=u(e.graph),c=this._ids,l=this._graphs;if(!(i=c[i])||!(o=c[o])||!(a=c[a])||!(t=l[s])||!(n=t.subjects[i])||!(r=n[o])||!(a in r))return this;for(i in this._removeFromIndex(t.subjects,i,o,a),this._removeFromIndex(t.predicates,o,a,i),this._removeFromIndex(t.objects,a,i,o),null!==this._size&&this._size--,this._deleteQuad(i,o,a,s),t.subjects)return this;return delete l[s],this}},{key:"has",value:function(e){var t=u(e.subject),n=u(e.predicate),r=u(e.object),i=u(e.graph),o=this._graphs[i];if(!o)return!1;var a,c,l,f=this._ids;return!(s(t)&&!(a=f[t])||s(n)&&!(c=f[n])||s(r)&&!(l=f[r]))&&1===this._countInIndex(o.objects,l,a,c)}},{key:"match",value:function(e,t,n,r){return this._createDataset(this._match(e,t,n,r))}},{key:e,value:function(){return this._match()[Symbol.iterator]()}},{key:"_addToIndex",value:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),a=r in o;return a||(o[r]=null),!a}},{key:"_removeFromIndex",value:function(e,t,n,r){var i=e[t],o=i[n];for(var a in delete o[r],o)return;for(var s in delete i[n],i)return;delete e[t]}},{key:"_findInIndex",value:function(e,t,n,i,o,a,s,u,c,l){var f,d,h;for(var p in t&&((f=e,e={})[t]=f[t]),e)if(d=e[p])for(var v in n&&((f=d,d={})[n]=f[n]),d)if(h=d[v])for(var g=(i?i in h?[i]:[]:Object.keys(h)),y=0;y<g.length;y++){var m,w=(r(m={},o,p),r(m,a,v),r(m,s,g[y]),m),_=this._getQuad(w.subject,w.predicate,w.object,u);if(l)l.push(_);else if(c(_))return!0}return l}},{key:"_countInIndex",value:function(e,t,n,r){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(a=o[c])&&(r?r in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){return s(e)?r({},e,this._graphs[e]):this._graphs}},{key:"_match",value:function(e,t,n,r){e=e&&u(e),t=t&&u(t),n=n&&u(n),r=r&&u(r);var i,o,a,c,l=[],f=this._getGraphs(r),d=this._ids;if(s(e)&&!(o=d[e])||s(t)&&!(a=d[t])||s(n)&&!(c=d[n]))return l;for(var h in f)(i=f[h])&&(o?c?this._findInIndex(i.objects,c,o,a,"object","subject","predicate",h,null,l):this._findInIndex(i.subjects,o,a,null,"subject","predicate","object",h,null,l):a?this._findInIndex(i.predicates,a,c,null,"predicate","object","subject",h,null,l):c?this._findInIndex(i.objects,c,null,null,"object","subject","predicate",h,null,l):this._findInIndex(i.subjects,null,null,null,"subject","predicate","object",h,null,l));return l}},{key:"_getQuad",value:function(e,t,n,r){return this._quads.get(this._toId(e,t,n,r))}},{key:"_setQuad",value:function(e,t,n,r,i){this._quads.set(this._toId(e,t,n,r),i)}},{key:"_deleteQuad",value:function(e,t,n,r){this._quads.delete(this._toId(e,t,n,r))}},{key:"_createDataset",value:function(e){return new this.constructor(e)}},{key:"_toId",value:function(e,t,n,r){return"".concat(e,":").concat(t,":").concat(n,":").concat(r)}}]),t}(Symbol.iterator);e.exports=f},4533:function(e,t,n){var r=n(7478),i=n(2711);e.exports=Object.assign({dataset:function(e){return new i(e)}},r)},5935:function(e){"use strict";var t="undefined"!==typeof self?self:"undefined"!==typeof window?window:void 0,n=t.AbortController,r=t.AbortSignal;e.exports=n,e.exports.AbortSignal=r,e.exports.default=n},2009:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),l=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[l++]=t>>16&255,c[l++]=t>>8&255,c[l++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[l++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[l++]=t>>8&255,c[l++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(c(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function c(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},9778:function(e,t,n){"use strict";var r=n(6690).default,i=n(9728).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=n(2009),c=n(4038),l="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=h,t.SlowBuffer=function(e){+e!=e&&(e=0);return h.alloc(+e)},t.INSPECT_MAX_BYTES=50;var f=2147483647;function d(e){if(e>f)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,h.prototype),t}function h(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return g(e)}return p(e,t,n)}function p(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|_(e,t),r=d(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(ee(e,Uint8Array)){var t=new Uint8Array(e);return m(t.buffer,t.byteOffset,t.byteLength)}return y(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(ee(e,ArrayBuffer)||e&&ee(e.buffer,ArrayBuffer))return m(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(ee(e,SharedArrayBuffer)||e&&ee(e.buffer,SharedArrayBuffer)))return m(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return h.from(r,t,n);var i=function(e){if(h.isBuffer(e)){var t=0|w(e.length),n=d(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||te(e.length)?d(0):y(e);if("Buffer"===e.type&&Array.isArray(e.data))return y(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return h.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function v(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function g(e){return v(e),d(e<0?0:0|w(e))}function y(e){for(var t=e.length<0?0:0|w(e.length),n=d(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function m(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,h.prototype),r}function w(e){if(e>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return 0|e}function _(e,t){if(h.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||ee(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return Y(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return X(e).length;default:if(i)return r?-1:Y(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return M(this,t,n);case"utf8":case"utf-8":return I(this,t,n);case"ascii":return L(this,t,n);case"latin1":case"binary":return F(this,t,n);case"base64":return O(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function x(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function S(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),te(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=h.from(t,r)),h.isBuffer(t))return 0===t.length?-1:k(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):k(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function k(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var l=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===l?0:o-l)){if(-1===l&&(l=o),o-l+1===u)return l*a}else-1!==l&&(o-=o-l),l=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(c(e,o+d)!==c(t,d)){f=!1;break}if(f)return o}return-1}function E(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o,a=t.length;for(r>a/2&&(r=a/2),o=0;o<r;++o){var s=parseInt(t.substr(2*o,2),16);if(te(s))return o;e[n+o]=s}return o}function C(e,t,n,r){return $(Y(t,e.length-n),e,n,r)}function P(e,t,n,r){return $(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function A(e,t,n,r){return $(X(t),e,n,r)}function T(e,t,n,r){return $(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function O(e,t,n){return 0===t&&n===e.length?u.fromByteArray(e):u.fromByteArray(e.slice(t,n))}function I(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o=e[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u=void 0,c=void 0,l=void 0,f=void 0;switch(s){case 1:o<128&&(a=o);break;case 2:128===(192&(u=e[i+1]))&&(f=(31&o)<<6|63&u)>127&&(a=f);break;case 3:u=e[i+1],c=e[i+2],128===(192&u)&&128===(192&c)&&(f=(15&o)<<12|(63&u)<<6|63&c)>2047&&(f<55296||f>57343)&&(a=f);break;case 4:u=e[i+1],c=e[i+2],l=e[i+3],128===(192&u)&&128===(192&c)&&128===(192&l)&&(f=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&l)>65535&&f<1114112&&(a=f)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return function(e){var t=e.length;if(t<=R)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=R));return n}(r)}t.kMaxLength=f,h.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),h.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),h.poolSize=8192,h.from=function(e,t,n){return p(e,t,n)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(e,t,n){return function(e,t,n){return v(e),e<=0?d(e):void 0!==t?"string"===typeof n?d(e).fill(t,n):d(e).fill(t):d(e)}(e,t,n)},h.allocUnsafe=function(e){return g(e)},h.allocUnsafeSlow=function(e){return g(e)},h.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==h.prototype},h.compare=function(e,t){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),ee(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(e)||!h.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},h.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return h.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=h.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(ee(o,Uint8Array))i+o.length>r.length?(h.isBuffer(o)||(o=h.from(o)),o.copy(r,i)):Uint8Array.prototype.set.call(r,o,i);else{if(!h.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},h.byteLength=_,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)x(this,t,t+1);return this},h.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)x(this,t,t+3),x(this,t+1,t+2);return this},h.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)x(this,t,t+7),x(this,t+1,t+6),x(this,t+2,t+5),x(this,t+3,t+4);return this},h.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?I(this,0,e):b.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(e){if(!h.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===h.compare(this,e)},h.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},l&&(h.prototype[l]=h.prototype.inspect),h.prototype.compare=function(e,t,n,r,i){if(ee(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),u=this.slice(r,i),c=e.slice(t,n),l=0;l<s;++l)if(u[l]!==c[l]){o=u[l],a=c[l];break}return o<a?-1:a<o?1:0},h.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},h.prototype.indexOf=function(e,t,n){return S(this,e,t,n,!0)},h.prototype.lastIndexOf=function(e,t,n){return S(this,e,t,n,!1)},h.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return E(this,e,t,n);case"utf8":case"utf-8":return C(this,e,t,n);case"ascii":case"latin1":case"binary":return P(this,e,t,n);case"base64":return A(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var R=4096;function L(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function F(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function M(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=ne[e[o]];return i}function j(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function D(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function N(e,t,n,r,i,o){if(!h.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function U(e,t,n,r,i){q(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o,o>>=8,e[n++]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,a>>=8,e[n++]=a,n}function Z(e,t,n,r,i){q(t,r,i,e,n,7);var o=Number(t&BigInt(4294967295));e[n+7]=o,o>>=8,e[n+6]=o,o>>=8,e[n+5]=o,o>>=8,e[n+4]=o;var a=Number(t>>BigInt(32)&BigInt(4294967295));return e[n+3]=a,a>>=8,e[n+2]=a,a>>=8,e[n+1]=a,a>>=8,e[n]=a,n+8}function B(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function H(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,4),c.write(e,t,n,r,23,4),n+4}function z(e,t,n,r,i){return t=+t,n>>>=0,i||B(e,0,n,8),c.write(e,t,n,r,52,8),n+8}h.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,h.prototype),r},h.prototype.readUintLE=h.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},h.prototype.readUintBE=h.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},h.prototype.readUint8=h.prototype.readUInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),this[e]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]|this[e+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(e,t){return e>>>=0,t||D(e,2,this.length),this[e]<<8|this[e+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},h.prototype.readBigUInt64LE=re((function(e){G(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||J(e,this.length-8);var r=t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24),i=this[++e]+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+n*Math.pow(2,24);return BigInt(r)+(BigInt(i)<<BigInt(32))})),h.prototype.readBigUInt64BE=re((function(e){G(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||J(e,this.length-8);var r=t*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e],i=this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n;return(BigInt(r)<<BigInt(32))+BigInt(i)})),h.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},h.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||D(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},h.prototype.readInt8=function(e,t){return e>>>=0,t||D(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},h.prototype.readInt16LE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt16BE=function(e,t){e>>>=0,t||D(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},h.prototype.readInt32LE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},h.prototype.readInt32BE=function(e,t){return e>>>=0,t||D(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},h.prototype.readBigInt64LE=re((function(e){G(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||J(e,this.length-8);var r=this[e+4]+this[e+5]*Math.pow(2,8)+this[e+6]*Math.pow(2,16)+(n<<24);return(BigInt(r)<<BigInt(32))+BigInt(t+this[++e]*Math.pow(2,8)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,24))})),h.prototype.readBigInt64BE=re((function(e){G(e>>>=0,"offset");var t=this[e],n=this[e+7];void 0!==t&&void 0!==n||J(e,this.length-8);var r=(t<<24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+this[++e];return(BigInt(r)<<BigInt(32))+BigInt(this[++e]*Math.pow(2,24)+this[++e]*Math.pow(2,16)+this[++e]*Math.pow(2,8)+n)})),h.prototype.readFloatLE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!0,23,4)},h.prototype.readFloatBE=function(e,t){return e>>>=0,t||D(e,4,this.length),c.read(this,e,!1,23,4)},h.prototype.readDoubleLE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!0,52,8)},h.prototype.readDoubleBE=function(e,t){return e>>>=0,t||D(e,8,this.length),c.read(this,e,!1,52,8)},h.prototype.writeUintLE=h.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||N(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},h.prototype.writeUint8=h.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,255,0),this[t]=255&e,t+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigUInt64LE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeBigUInt64BE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Z(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),h.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);N(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},h.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},h.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},h.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},h.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},h.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||N(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},h.prototype.writeBigInt64LE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return U(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeBigInt64BE=re((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Z(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),h.prototype.writeFloatLE=function(e,t,n){return H(this,e,t,!0,n)},h.prototype.writeFloatBE=function(e,t,n){return H(this,e,t,!1,n)},h.prototype.writeDoubleLE=function(e,t,n){return z(this,e,t,!0,n)},h.prototype.writeDoubleBE=function(e,t,n){return z(this,e,t,!1,n)},h.prototype.copy=function(e,t,n,r){if(!h.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},h.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!h.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=h.isBuffer(e)?e:h.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var K={};function V(e,t,n){K[e]=function(n){a(c,n);var u=s(c);function c(){var n;return r(this,c),n=u.call(this),Object.defineProperty(o(n),"message",{value:t.apply(o(n),arguments),writable:!0,configurable:!0}),n.name="".concat(n.name," [").concat(e,"]"),n.stack,delete n.name,n}return i(c,[{key:"code",get:function(){return e},set:function(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}},{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),c}(n)}function W(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function q(e,t,n,r,i,o){if(e>n||e<t){var a,s="bigint"===typeof t?"n":"";throw a=o>3?0===t||t===BigInt(0)?">= 0".concat(s," and < 2").concat(s," ** ").concat(8*(o+1)).concat(s):">= -(2".concat(s," ** ").concat(8*(o+1)-1).concat(s,") and < 2 ** ")+"".concat(8*(o+1)-1).concat(s):">= ".concat(t).concat(s," and <= ").concat(n).concat(s),new K.ERR_OUT_OF_RANGE("value",a,e)}!function(e,t,n){G(t,"offset"),void 0!==e[t]&&void 0!==e[t+n]||J(t,e.length-(n+1))}(r,i,o)}function G(e,t){if("number"!==typeof e)throw new K.ERR_INVALID_ARG_TYPE(t,"number",e)}function J(e,t,n){if(Math.floor(e)!==e)throw G(e,n),new K.ERR_OUT_OF_RANGE(n||"offset","an integer",e);if(t<0)throw new K.ERR_BUFFER_OUT_OF_BOUNDS;throw new K.ERR_OUT_OF_RANGE(n||"offset",">= ".concat(n?1:0," and <= ").concat(t),e)}V("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"}),RangeError),V("ERR_INVALID_ARG_TYPE",(function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)}),TypeError),V("ERR_OUT_OF_RANGE",(function(e,t,n){var r='The value of "'.concat(e,'" is out of range.'),i=n;return Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?i=W(String(n)):"bigint"===typeof n&&(i=String(n),(n>Math.pow(BigInt(2),BigInt(32))||n<-Math.pow(BigInt(2),BigInt(32)))&&(i=W(i)),i+="n"),r+=" It must be ".concat(t,". Received ").concat(i)}),RangeError);var Q=/[^+/0-9A-Za-z-_]/g;function Y(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function X(e){return u.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(Q,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function $(e,t,n,r){var i;for(i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function ee(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function te(e){return e!==e}var ne=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}();function re(e){return"undefined"===typeof BigInt?ie:e}function ie(){throw new Error("BigInt not supported")}},1694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var a=i.apply(null,n);a&&e.push(a)}}else if("object"===o){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var s in n)r.call(n,s)&&n[s]&&e.push(s)}}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},7892:function(e){e.exports=function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",u="week",c="month",l="quarter",f="year",d="date",h="Invalid Date",p=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,g={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],n=e%100;return"["+e+(t[(n-20)%10]||t[n]||t[0])+"]"}},y=function(e,t,n){var r=String(e);return!r||r.length>=t?e:""+Array(t+1-r.length).join(n)+e},m={s:y,z:function(e){var t=-e.utcOffset(),n=Math.abs(t),r=Math.floor(n/60),i=n%60;return(t<=0?"+":"-")+y(r,2,"0")+":"+y(i,2,"0")},m:function e(t,n){if(t.date()<n.date())return-e(n,t);var r=12*(n.year()-t.year())+(n.month()-t.month()),i=t.clone().add(r,c),o=n-i<0,a=t.clone().add(r+(o?-1:1),c);return+(-(r+(n-i)/(o?i-a:a-i))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(e){return{M:c,y:f,w:u,d:s,D:d,h:a,m:o,s:i,ms:r,Q:l}[e]||String(e||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}},w="en",_={};_[w]=g;var b=function(e){return e instanceof E},x=function e(t,n,r){var i;if(!t)return w;if("string"==typeof t){var o=t.toLowerCase();_[o]&&(i=o),n&&(_[o]=n,i=o);var a=t.split("-");if(!i&&a.length>1)return e(a[0])}else{var s=t.name;_[s]=t,i=s}return!r&&i&&(w=i),i||!r&&w},S=function(e,t){if(b(e))return e.clone();var n="object"==typeof t?t:{};return n.date=e,n.args=arguments,new E(n)},k=m;k.l=x,k.i=b,k.w=function(e,t){return S(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var E=function(){function g(e){this.$L=x(e.locale,null,!0),this.parse(e)}var y=g.prototype;return y.parse=function(e){this.$d=function(e){var t=e.date,n=e.utc;if(null===t)return new Date(NaN);if(k.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var r=t.match(p);if(r){var i=r[2]-1||0,o=(r[7]||"0").substring(0,3);return n?new Date(Date.UTC(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)):new Date(r[1],i,r[3]||1,r[4]||0,r[5]||0,r[6]||0,o)}}return new Date(t)}(e),this.$x=e.x||{},this.init()},y.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},y.$utils=function(){return k},y.isValid=function(){return!(this.$d.toString()===h)},y.isSame=function(e,t){var n=S(e);return this.startOf(t)<=n&&n<=this.endOf(t)},y.isAfter=function(e,t){return S(e)<this.startOf(t)},y.isBefore=function(e,t){return this.endOf(t)<S(e)},y.$g=function(e,t,n){return k.u(e)?this[t]:this.set(n,e)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(e,t){var n=this,r=!!k.u(t)||t,l=k.p(e),h=function(e,t){var i=k.w(n.$u?Date.UTC(n.$y,t,e):new Date(n.$y,t,e),n);return r?i:i.endOf(s)},p=function(e,t){return k.w(n.toDate()[e].apply(n.toDate("s"),(r?[0,0,0,0]:[23,59,59,999]).slice(t)),n)},v=this.$W,g=this.$M,y=this.$D,m="set"+(this.$u?"UTC":"");switch(l){case f:return r?h(1,0):h(31,11);case c:return r?h(1,g):h(0,g+1);case u:var w=this.$locale().weekStart||0,_=(v<w?v+7:v)-w;return h(r?y-_:y+(6-_),g);case s:case d:return p(m+"Hours",0);case a:return p(m+"Minutes",1);case o:return p(m+"Seconds",2);case i:return p(m+"Milliseconds",3);default:return this.clone()}},y.endOf=function(e){return this.startOf(e,!1)},y.$set=function(e,t){var n,u=k.p(e),l="set"+(this.$u?"UTC":""),h=(n={},n[s]=l+"Date",n[d]=l+"Date",n[c]=l+"Month",n[f]=l+"FullYear",n[a]=l+"Hours",n[o]=l+"Minutes",n[i]=l+"Seconds",n[r]=l+"Milliseconds",n)[u],p=u===s?this.$D+(t-this.$W):t;if(u===c||u===f){var v=this.clone().set(d,1);v.$d[h](p),v.init(),this.$d=v.set(d,Math.min(this.$D,v.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},y.set=function(e,t){return this.clone().$set(e,t)},y.get=function(e){return this[k.p(e)]()},y.add=function(r,l){var d,h=this;r=Number(r);var p=k.p(l),v=function(e){var t=S(h);return k.w(t.date(t.date()+Math.round(e*r)),h)};if(p===c)return this.set(c,this.$M+r);if(p===f)return this.set(f,this.$y+r);if(p===s)return v(1);if(p===u)return v(7);var g=(d={},d[o]=t,d[a]=n,d[i]=e,d)[p]||1,y=this.$d.getTime()+r*g;return k.w(y,this)},y.subtract=function(e,t){return this.add(-1*e,t)},y.format=function(e){var t=this,n=this.$locale();if(!this.isValid())return n.invalidDate||h;var r=e||"YYYY-MM-DDTHH:mm:ssZ",i=k.z(this),o=this.$H,a=this.$m,s=this.$M,u=n.weekdays,c=n.months,l=function(e,n,i,o){return e&&(e[n]||e(t,r))||i[n].slice(0,o)},f=function(e){return k.s(o%12||12,e,"0")},d=n.meridiem||function(e,t,n){var r=e<12?"AM":"PM";return n?r.toLowerCase():r},p={YY:String(this.$y).slice(-2),YYYY:k.s(this.$y,4,"0"),M:s+1,MM:k.s(s+1,2,"0"),MMM:l(n.monthsShort,s,c,3),MMMM:l(c,s),D:this.$D,DD:k.s(this.$D,2,"0"),d:String(this.$W),dd:l(n.weekdaysMin,this.$W,u,2),ddd:l(n.weekdaysShort,this.$W,u,3),dddd:u[this.$W],H:String(o),HH:k.s(o,2,"0"),h:f(1),hh:f(2),a:d(o,a,!0),A:d(o,a,!1),m:String(a),mm:k.s(a,2,"0"),s:String(this.$s),ss:k.s(this.$s,2,"0"),SSS:k.s(this.$ms,3,"0"),Z:i};return r.replace(v,(function(e,t){return t||p[e]||i.replace(":","")}))},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(r,d,h){var p,v=k.p(d),g=S(r),y=(g.utcOffset()-this.utcOffset())*t,m=this-g,w=k.m(this,g);return w=(p={},p[f]=w/12,p[c]=w,p[l]=w/3,p[u]=(m-y)/6048e5,p[s]=(m-y)/864e5,p[a]=m/n,p[o]=m/t,p[i]=m/e,p)[v]||m,h?w:k.a(w)},y.daysInMonth=function(){return this.endOf(c).$D},y.$locale=function(){return _[this.$L]},y.locale=function(e,t){if(!e)return this.$L;var n=this.clone(),r=x(e,t,!0);return r&&(n.$L=r),n},y.clone=function(){return k.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},g}(),C=E.prototype;return S.prototype=C,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",c],["$y",f],["$D",d]].forEach((function(e){C[e[1]]=function(t){return this.$g(t,e[0],e[1])}})),S.extend=function(e,t){return e.$i||(e(t,E,S),e.$i=!0),S},S.locale=x,S.isDayjs=b,S.unix=function(e){return S(1e3*e)},S.en=_[w],S.Ls=_,S.p={},S}()},7465:function(e){"use strict";var t,n="object"===typeof Reflect?Reflect:null,r=n&&"function"===typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"===typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function o(){o.init.call(this)}e.exports=o,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,o),r(n)}function o(){"function"===typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"===typeof e.on&&v(e,"error",t,n)}(e,i,{once:!0})}))},o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var a=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function c(e,t,n,r){var i,o,a,c;if(s(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),a=o[t]),void 0===a)a=o[t]=n,++e._eventsCount;else if("function"===typeof a?a=o[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=e,l.type=t,l.count=a.length,c=l,console&&console.warn&&console.warn(c)}return e}function l(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=l.bind(r);return i.listener=n,r.wrapFn=i,i}function d(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"===typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):p(i,i.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function p(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function v(e,t,n,r){if("function"===typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(o){r.once&&e.removeEventListener(t,i),n(o)}))}}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),o.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,o=this._events;if(void 0!==o)i=i&&void 0===o.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=o[e];if(void 0===u)return!1;if("function"===typeof u)r(u,this,t);else{var c=u.length,l=p(u,c);for(n=0;n<c;++n)r(l[n],this,t)}return!0},o.prototype.addListener=function(e,t){return c(this,e,t,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,t){return c(this,e,t,!0)},o.prototype.once=function(e,t){return s(t),this.on(e,f(this,e,t)),this},o.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,f(this,e,t)),this},o.prototype.removeListener=function(e,t){var n,r,i,o,a;if(s(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!==typeof n){for(i=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){a=n[o].listener,i=o;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,o=Object.keys(n);for(r=0;r<o.length;++r)"removeListener"!==(i=o[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},o.prototype.listeners=function(e){return d(this,e,!0)},o.prototype.rawListeners=function(e){return d(this,e,!1)},o.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},2618:function(e,t,n){var r;!function(){"use strict";var i=!("undefined"===typeof window||!window.document||!window.document.createElement),o={canUseDOM:i,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:i&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:i&&!!window.screen};void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},2110:function(e,t,n){"use strict";var r=n(8309),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function u(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=h(n);i&&i!==p&&e(t,i,r)}var a=l(n);f&&(a=a.concat(f(n)));for(var s=u(t),v=u(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!v||!v[y])&&(!s||!s[y])){var m=d(n,y);try{c(t,y,m)}catch(w){}}}}return t}},746:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,h=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,m=n?Symbol.for("react.fundamental"):60117,w=n?Symbol.for("react.responder"):60118,_=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case o:case s:case a:case h:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case v:case u:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=u,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=v,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=h,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===u},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===d},t.isFragment=function(e){return b(e)===o},t.isLazy=function(e){return b(e)===g},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===s},t.isStrictMode=function(e){return b(e)===a},t.isSuspense=function(e){return b(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===f||e===s||e===a||e===h||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===v||e.$$typeof===u||e.$$typeof===c||e.$$typeof===d||e.$$typeof===m||e.$$typeof===w||e.$$typeof===_||e.$$typeof===y)},t.typeOf=b},8309:function(e,t,n){"use strict";e.exports=n(746)},4038:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,l=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-l)-1,h>>=-l,l+=s;l>0;o=256*o+e[t+f],f+=d,l-=8);for(a=o&(1<<-l)-1,o>>=-l,l+=r;l>0;a=256*a+e[t+f],f+=d,l-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=c}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,c=8*o-i-1,l=(1<<c)-1,f=l>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=l):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=l?(s=0,a=l):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+h]=255&a,h+=p,a/=256,c-=8);e[n+h-p]|=128*v}},1133:function(e,t){"use strict";var n=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.ContextUtil=void 0;var r={"@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#type"},i=function(){function e(e){var t=this;this.context=e,this.iriToKeyMap={},Object.entries(e).forEach((function(e){var r=n(e,2),i=r[0],o=r[1];"string"===typeof o?t.iriToKeyMap[t.keyIdToIri(o)]=i:"object"===typeof o&&o["@id"]&&(t.iriToKeyMap[t.keyIdToIri(o["@id"])]=i)}))}return e.prototype.keyToIri=function(e){return this.context[e]?"string"===typeof this.context[e]?this.keyIdToIri(this.context[e]):this.context[e]&&this.context[e]["@id"]?this.keyIdToIri(this.context[e]["@id"]):e:e},e.prototype.keyIdToIri=function(e){return r[e]?r[e]:e},e.prototype.iriToKey=function(e){return this.iriToKeyMap[e]?this.iriToKeyMap[e]:e},e.prototype.getType=function(e){return"object"===typeof this.context[e]&&this.context[e]["@type"]?this.context[e]["@type"]:"http://www.w3.org/2001/XMLSchema#string"},e.prototype.isArray=function(e){return!(!this.context[e]||"object"!==typeof this.context[e]||!this.context[e]["@container"]||"@set"!==this.context[e]["@container"])},e.prototype.isLangString=function(e){return!(!this.context[e]||"object"!==typeof this.context[e]||!this.context[e]["@type"]||"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==this.context[e]["@type"])},e}();t.ContextUtil=i},7667:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.JsonldDatasetProxyBuilder=void 0;var i=n(7478),o=function(){function e(e){this.proxyContext=e}return e.prototype.write=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(this.proxyContext.duplicate({writeGraphs:t}))},e.prototype.setLanguagePreferences=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new e(this.proxyContext.duplicate({languageOrdering:t}))},e.prototype.fromSubject=function(e){return this.proxyContext.createSubjectProxy(e)},e.prototype.matchSubject=function(e,t,n){return this.proxyContext.createArrayProxy([null,e,t,n],!0)},e.prototype.matchObject=function(e,t,n){return this.proxyContext.createArrayProxy([e,t,null,n])},e.prototype.fromJson=function(e){var t=e["@id"]?(0,i.namedNode)(e["@id"]):(0,i.blankNode)(),n=this.fromSubject(t);return Object.entries(e).forEach((function(e){var t=r(e,2),i=t[0],o=t[1];n[i]=o})),n},e}();t.JsonldDatasetProxyBuilder=o},1646:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyContext=void 0;var a=n(6232),s=n(8085),u=n(329),c=function(){function e(e){var t=this;this.subjectMap=new Map,this.arrayMap=new Map,this.dataset=e.dataset,this.contextUtil=e.contextUtil,this.writeGraphs=e.writeGraphs,this.languageOrdering=e.languageOrdering,this.state=e.state||{},e.prefilledArrayTargets&&e.prefilledArrayTargets.forEach((function(e){t.createArrayProxy(e[0],e[2],e)}))}return e.prototype.createSubjectProxy=function(e){if(!this.subjectMap.has(e.value)){var t=new Proxy({"@id":e},(0,s.createSubjectHander)(this));this.subjectMap.set(e.value,t)}return this.subjectMap.get(e.value)},e.prototype.getArrayKey=function(){for(var e,t,n,r,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];return"".concat((null===(e=i[0])||void 0===e?void 0:e.value)||"undefined","|").concat((null===(t=i[1])||void 0===t?void 0:t.value)||"undefined","|").concat((null===(n=i[2])||void 0===n?void 0:n.value)||"undefined","|").concat((null===(r=i[3])||void 0===r?void 0:r.value)||"undefined")},e.prototype.createArrayProxy=function(e,t,n,r){void 0===t&&(t=!1);var s=this.getArrayKey.apply(this,o([],i(e),!1));if(!this.arrayMap.has(s)){var u=new Proxy(n||[e,[],t,r],(0,a.createArrayHandler)(this));this.arrayMap.set(s,u)}return this.arrayMap.get(s)},e.prototype.duplicate=function(t){var n=[];return this.arrayMap.forEach((function(e){n.push(e[u._getUnderlyingArrayTarget])})),new e(r({dataset:this.dataset,contextUtil:this.contextUtil,writeGraphs:this.writeGraphs,languageOrdering:this.languageOrdering,prefilledArrayTargets:n},t))},e}();t.ProxyContext=c},178:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(329)},5997:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.arrayMethodsBuilders=t.methodNames=void 0;var o=n(8449),a=n(3384);t.methodNames=new Set(["copyWithin","fill","pop","push","reverse","shift","sort","splice","unshift"]),t.arrayMethodsBuilders={copyWithin:function(e,t,n){return function(r,i,o){return(0,a.modifyArray)({target:e,key:t,quadsToDelete:function(e){var t=o||e.length;return e.slice(r,r+(t-i))},modifyCoreArray:function(t){return t.copyWithin(r,i,o),n.createArrayProxy(e[0],e[2])}},n)}},fill:function(e,t,n){return function(r,i,o){return(0,a.modifyArray)({target:e,key:t,toAdd:[r],quadsToDelete:function(e){return e.slice(i,o)},modifyCoreArray:function(t,r){return t.fill(r[0],i,o),n.createArrayProxy(e[0],e[2])}},n)}},pop:function(e,t,n){return function(){return(0,a.modifyArray)({target:e,key:t,quadsToDelete:function(e){return e[e.length-1]?[e[e.length-1]]:[]},modifyCoreArray:function(e){var t=e.pop();return t?(0,o.nodeToJsonldRepresentation)(t,n):void 0}},n)}},push:function(e,t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(0,a.modifyArray)({target:e,key:t,toAdd:o,modifyCoreArray:function(t,o){return t.push.apply(t,i([],r(o),!1)),n.createArrayProxy(e[0],e[2]).length}},n)}},reverse:function(e,t,n){return function(){return e[1].reverse(),n.createArrayProxy(e[0],e[2])}},shift:function(e,t,n){return function(){return(0,a.modifyArray)({target:e,key:t,quadsToDelete:function(e){return e[0]?[e[0]]:[]},modifyCoreArray:function(e){var t=e.shift();return t?(0,o.nodeToJsonldRepresentation)(t,n):void 0}},n)}},sort:function(e,t,n){return function(t){return t?e[1].sort((function(e,r){return t((0,o.nodeToJsonldRepresentation)(e,n),(0,o.nodeToJsonldRepresentation)(r,n))})):e&&e[1].sort((function(e,t){var r=(0,o.nodeToJsonldRepresentation)(e,n),i=(0,o.nodeToJsonldRepresentation)(t,n);return r>i?1:i>r?-1:0})),n.createArrayProxy(e[0],e[2])}},splice:function(e,t,n){return function(s,u){for(var c=[],l=2;l<arguments.length;l++)c[l-2]=arguments[l];return(0,a.modifyArray)({target:e,key:t,toAdd:c,quadsToDelete:function(e){return e.splice(s,u)},modifyCoreArray:function(e,t){return e.splice.apply(e,i([s,u||0],r(t),!1)).map((function(e){return(0,o.nodeToJsonldRepresentation)(e,n)}))}},n)}},unshift:function(e,t,n){return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(0,a.modifyArray)({target:e,key:t,toAdd:o,modifyCoreArray:function(t,o){return t.unshift.apply(t,i([],r(o),!1)),n.createArrayProxy(e[0],e[2]).length}},n)}}}},6232:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.createArrayHandler=void 0;var o=n(8449),a=n(7478),s=n(5997),u=n(329),c=n(3384),l=n(7393),f=n(7640);function d(e,t){var n,o=(n=t.dataset).match.apply(n,i([],r(e[0]),!1));e[3]&&(o=(0,f.filterQuadsByLanguageOrdering)(o,t.languageOrdering));var a=new l.NodeSet;o.toArray().forEach((function(t){e[2]?a.add(t.subject):a.add(t.object)}));var s=[];e[1].forEach((function(e){a.has(e)&&(s.push(e),a.delete(e))})),a.toArray().forEach((function(e){s.push(e)})),e[1]=s}function h(e,t){return e[1].map((function(e){return(0,o.nodeToJsonldRepresentation)(e,t)}))}t.createArrayHandler=function(e){return{get:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];switch(n){case u._getUnderlyingDataset:return e.dataset;case u._getUnderlyingMatch:return t[0];case u._isSubjectOriented:return t[2];case u._getUnderlyingArrayTarget:return t;case u._proxyContext:return e;case u._getNodeAtIndex:return function(n){return d(t,e),t[1][n]}}d(t,e);var c=h(t,e);return s.methodNames.has(n)?s.arrayMethodsBuilders[n](t,n,e):Reflect.get.apply(Reflect,i([c,n],r(o),!1))},getOwnPropertyDescriptor:function(t,n){for(var o=[],a=2;a<arguments.length;a++)o[a-2]=arguments[a];d(t,e);var s=h(t,e);return Reflect.getOwnPropertyDescriptor.apply(Reflect,i([s,n],r(o),!1))},ownKeys:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];d(t,e);var a=h(t,e);return Reflect.ownKeys.apply(Reflect,i([a],r(n),!1))},getPrototypeOf:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];d(t,e);var a=h(t,e);return Reflect.getPrototypeOf.apply(Reflect,i([a],r(n),!1))},has:function(t){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];d(t,e);var a=h(t,e);return Reflect.has.apply(Reflect,i([a],r(n),!1))},set:function(t,n,o){for(var a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];if(n===u._proxyContext)return e=o,!0;if(d(t,e),"symbol"!==typeof n&&!isNaN(parseInt(n))){var l=parseInt(n);return(0,c.modifyArray)({target:t,key:n,toAdd:[o],quadsToDelete:function(e){return e[l]?[e[l]]:[]},modifyCoreArray:function(e,t){return e[l]=t[0],!0}},e)}return Reflect.set.apply(Reflect,i([t[1],n],r(a),!1))},deleteProperty:function(t,n){var o=e.dataset;if("symbol"!==typeof n&&!isNaN(parseInt(n))){var s=o.match.apply(o,i([],r(t[0]),!1)).toArray()[parseInt(n)];if(!s)return!0;var u=t[2]?s.subject:s.object;if("Literal"===u.termType){var c=t[0][0],l=t[0][1];return c&&l&&o.delete((0,a.quad)(c,l,u)),!0}if("NamedNode"===u.termType||"BlankNode"===u.termType)return o.deleteMatches(u,void 0,void 0),o.deleteMatches(void 0,void 0,u),!0}return!0}}}},7226:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isArrayProxy=void 0;var r=n(329);t.isArrayProxy=function(e){if(!e)return!1;if("object"!==typeof e)return!1;var t=e;return!("object"!==typeof t[r._getUnderlyingDataset]||"object"!==typeof t[r._getUnderlyingMatch]||"function"!==typeof t[r._getNodeAtIndex]||"object"!==typeof t[r._getUnderlyingArrayTarget])}},3384:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.modifyArray=t.checkArrayModification=void 0;var a=n(7478),s=n(6431),u=n(1623),c=n(4350),l=n(428),f=n(7393);function d(e,t,n){var i,o;if(e[2])try{for(var d=r(t),h=d.next();!h.done;h=d.next()){var p=h.value;if(void 0===p)return;if("object"!==typeof p)throw new Error('Cannot add a literal "'.concat(p,'"(').concat(typeof p,") to a subject-oriented collection."));var v=new s.ProxyTransactionalDataset(n.dataset,(0,u.createExtendedDatasetFactory)());if((0,c.addObjectToDataset)(p,!1,n.duplicate({writeGraphs:[(0,a.defaultGraph)()]})),!(0!==v.match((0,l.getNodeFromRawObject)(p,n.contextUtil),e[0][1],e[0][2]).size))throw new Error("Cannot add value to collection. This must contain a quad that matches (".concat((0,f.nodeToString)(e[0][0]),", ").concat((0,f.nodeToString)(e[0][1]),", ").concat((0,f.nodeToString)(e[0][2]),", ").concat((0,f.nodeToString)(e[0][3]),")"))}}catch(g){i={error:g}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(i)throw i.error}}else if(!e[0][0]||!e[0][1])throw new Error("A collection that does not specify a match for both a subject or predicate cannot be modified directly.")}t.checkArrayModification=d,t.modifyArray=function(e,t){var n,r=e.target,a=e.toAdd,s=e.quadsToDelete,u=e.modifyCoreArray,f=e.key,h=t.dataset,p=t.contextUtil;d(r,a||[],t),s&&s(h.match.apply(h,o([],i(r[0]),!1)).toArray()).forEach((function(e){r[2]?h.deleteMatches(e.subject,void 0,void 0):h.delete(e)}));var v=null===a||void 0===a?void 0:a.map((function(e){return"object"===typeof e?(0,c.addObjectToDataset)(e,!1,t):e})).filter((function(e){return void 0!=e}));!r[2]&&r[0][0]&&r[0][1]&&v&&(0,c.addObjectToDataset)(((n={"@id":r[0][0]})[p.iriToKey(r[0][1].value)]=v,n),!1,t);var g=v?v.map((function(e){return(0,l.getNodeFromRawValue)(f,e,t)})).filter((function(e){return void 0!=e})):[];return u(r[1],g)}},968:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.graphOf=void 0;var r=n(7478),i=n(9632),o=n(329);t.graphOf=function(e,t,n){var a,s=(0,i.getSubjectProxyFromObject)(e),u=s[o._proxyContext],c=s[o._getUnderlyingNode],l=(0,r.namedNode)(u.contextUtil.keyToIri(t));if(null==n)a=null;else if("number"===typeof n){var f=e[t];if(!f[o._getUnderlyingMatch])throw new Error('Key "'.concat(String(t),'" of ').concat(e," is not an array."));if(!f[n])throw new Error("Index ".concat(n," does not exist."));(0,i.isSubjectProxy)(f[n])&&(a=f[n][1]),a=f[o._getNodeAtIndex](n)}else{a=(0,i.getSubjectProxyFromObject)(n)[o._getUnderlyingNode]}return s[o._getUnderlyingDataset].match(c,l,a).toArray().map((function(e){return e.graph}))}},971:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var o=n(2412);t.default=o.jsonldDatasetProxy,i(n(329),t),i(n(1133),t),i(n(1646),t),i(n(7667),t),i(n(2412),t),i(n(413),t),i(n(968),t),i(n(8615),t),i(n(6770),t),i(n(8799),t),i(n(834),t),i(n(8682),t),i(n(7640),t),i(n(6232),t),i(n(5997),t),i(n(178),t),i(n(3384),t),i(n(7226),t),i(n(8085),t),i(n(595),t),i(n(6792),t),i(n(447),t),i(n(9632),t),i(n(4350),t),i(n(8449),t),i(n(2776),t),i(n(428),t),i(n(7393),t),i(n(304),t),i(n(6321),t)},2412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonldDatasetProxy=void 0;var r=n(7478),i=n(1133),o=n(7667),a=n(1646);t.jsonldDatasetProxy=function(e,t){var n=new i.ContextUtil(t),s=new a.ProxyContext({dataset:e,contextUtil:n,writeGraphs:[(0,r.defaultGraph)()],languageOrdering:["none","en","other"]});return new o.JsonldDatasetProxyBuilder(s)}},8799:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createLanguageMapProxy=void 0;var o=n(7478),a=n(7640),s=i(n(834));t.createLanguageMapProxy=function(e,t,n,i){var u={},c=function(o){Object.keys(o).forEach((function(e){return delete o[e]}));var s=n.dataset.match(e,t),u=(0,a.quadsToLanguageQuadMap)(s);Object.entries(u).forEach((function(e){var t=r(e,2),n=t[0],a=t[1].toArray().map((function(e){return e.object.value}));o[n]=i?new Set(a):a[0]}))};return c(u),new Proxy(u,{get:function(r,o){return c(r),"string"!==typeof o?Reflect.get(r,o):i?new s.default(e,t,o,n):Reflect.get(r,o)},set:function(r,s,u){var c=(0,a.languageKeyToLiteralLanguage)(s);return i||(0,a.languageDeleteMatch)(n.dataset,e,t,c),n.writeGraphs.forEach((function(r){n.dataset.add((0,o.quad)(e,t,(0,o.literal)(u,c),r))})),Reflect.set(r,s,u)},deleteProperty:function(r,i){return(0,a.languageDeleteMatch)(n.dataset,e,t,(0,a.languageKeyToLiteralLanguage)(i)),Reflect.deleteProperty(r,i)}})}},834:function(e,t,n){"use strict";var r,i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var a=n(7640),s=n(7478),u=function(){function e(e,t,n,i){this[r]="LanguageSet",this.subject=e,this.predicate=t,this.languageKey=n,this.proxyContext=i}return e.prototype.matchThis=function(){return(0,a.languageMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)},e.prototype.getLiteral=function(e){return"@none"===this.languageKey?(0,s.literal)(e):(0,s.literal)(e,this.languageKey)},Object.defineProperty(e.prototype,"size",{get:function(){return this.matchThis().size},enumerable:!1,configurable:!0}),e.prototype.add=function(e){var t=this;return this.proxyContext.writeGraphs.forEach((function(n){t.proxyContext.dataset.add((0,s.quad)(t.subject,t.predicate,(0,s.literal)(e,t.languageKey),n))})),this},e.prototype.clear=function(){(0,a.languageDeleteMatch)(this.proxyContext.dataset,this.subject,this.predicate,this.languageKey)},e.prototype.delete=function(e){var t=this.has(e);return this.proxyContext.dataset.deleteMatches(this.subject,this.predicate,this.getLiteral(e)),t},e.prototype.forEach=function(e,t){var n=this;this.matchThis().forEach((function(r){e(r.object.value,r.object.value,t||n)}))},e.prototype.has=function(e){return this.proxyContext.dataset.match(this.subject,this.predicate,this.getLiteral(e)).size>0},e.prototype.entries=function(){var e,t,n,r,a,s,u;return i(this,(function(i){switch(i.label){case 0:e=this.matchThis(),i.label=1;case 1:i.trys.push([1,6,7,8]),t=o(e),n=t.next(),i.label=2;case 2:return n.done?[3,5]:[4,[(r=n.value).object.value,r.object.value]];case 3:i.sent(),i.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return a=i.sent(),s={error:a},[3,8];case 7:try{n&&!n.done&&(u=t.return)&&u.call(t)}finally{if(s)throw s.error}return[7];case 8:return[2]}}))},e.prototype.keys=function(){var e,t,n,r,a,s;return i(this,(function(i){switch(i.label){case 0:e=this.matchThis(),i.label=1;case 1:i.trys.push([1,6,7,8]),t=o(e),n=t.next(),i.label=2;case 2:return n.done?[3,5]:[4,n.value.object.value];case 3:i.sent(),i.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return r=i.sent(),a={error:r},[3,8];case 7:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))},e.prototype.values=function(){var e,t,n,r,a,s;return i(this,(function(i){switch(i.label){case 0:e=this.matchThis(),i.label=1;case 1:i.trys.push([1,6,7,8]),t=o(e),n=t.next(),i.label=2;case 2:return n.done?[3,5]:[4,n.value.object.value];case 3:i.sent(),i.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return r=i.sent(),a={error:r},[3,8];case 7:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))},e.prototype[Symbol.iterator]=function(){var e,t,n,r,a,s;return i(this,(function(i){switch(i.label){case 0:e=this.matchThis(),i.label=1;case 1:i.trys.push([1,6,7,8]),t=o(e),n=t.next(),i.label=2;case 2:return n.done?[3,5]:[4,n.value.object.value];case 3:i.sent(),i.label=4;case 4:return n=t.next(),[3,2];case 5:return[3,8];case 6:return r=i.sent(),a={error:r},[3,8];case 7:try{n&&!n.done&&(s=t.return)&&s.call(t)}finally{if(a)throw a.error}return[7];case 8:return[2]}}))},e}();t.default=u,r=Symbol.toStringTag},8682:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7640:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.literalLanguageToLanguageKey=t.languageKeyToLiteralLanguage=t.getLanguageKeyForWriteOperation=t.filterQuadsByLanguageOrdering=t.quadsToLanguageQuadMap=t.isLanguageLiteral=t.languageDeleteMatch=t.languageMatch=void 0;var i=n(6431);function o(e,t,n,r){var i=u(r);return e.match(t,n).filter((function(e){return a(e.object)&&e.object.language===i}))}function a(e){return"Literal"===e.termType&&("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"===e.datatype.value||"http://www.w3.org/2001/XMLSchema#string"===e.datatype.value)}function s(e){var t={};return e.forEach((function(e){var n=e.object;if(a(n)){var r=c(n.language);t[r]||(t[r]=(0,i.createDataset)()),t[r].add(e)}})),t}function u(e){return"@none"===e?"":e}function c(e){return""===e?"@none":e}t.languageMatch=o,t.languageDeleteMatch=function(e,t,n,r){o(e,t,n,r).forEach((function(t){e.delete(t)}))},t.isLanguageLiteral=a,t.quadsToLanguageQuadMap=s,t.filterQuadsByLanguageOrdering=function(e,t){var n,o,a,u,c=s(e),l=new Set(t),f=new Set(Object.keys(c));try{for(var d=r(t),h=d.next();!h.done;h=d.next()){var p=h.value;if(f.has(p))return c[p];if("@other"===p)try{for(var v=(a=void 0,r(f)),g=v.next();!g.done;g=v.next()){var y=g.value;if(!l.has(y))return c[y]}}catch(m){a={error:m}}finally{try{g&&!g.done&&(u=v.return)&&u.call(v)}finally{if(a)throw a.error}}}}catch(w){n={error:w}}finally{try{h&&!h.done&&(o=d.return)&&o.call(d)}finally{if(n)throw n.error}}return(0,i.createDataset)()},t.getLanguageKeyForWriteOperation=function(e){return e.find((function(e){return"@other"!==e}))},t.languageKeyToLiteralLanguage=u,t.literalLanguageToLanguageKey=c},6770:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.languagesOf=void 0;var r=n(7478),i=n(9632),o=n(329),a=n(8799);t.languagesOf=function(e,t){var n=(0,i.getSubjectProxyFromObject)(e),s=n[o._proxyContext],u=n[o._getUnderlyingNode],c=(0,r.namedNode)(s.contextUtil.keyToIri(t));return(0,a.createLanguageMapProxy)(u,c,s,s.contextUtil.isArray(t))}},8615:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setLanguagePreferences=void 0;var r=n(6321);t.setLanguagePreferences=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.createInteractOptions)("languageOrdering",e)}},595:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});n(329)},8085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createSubjectHander=void 0;var r=n(7478),i=n(4350),o=n(447),a=n(329),s=n(6792);t.createSubjectHander=function(e){var t=e;return{get:function(e,n){switch(n){case a._getUnderlyingDataset:return t.dataset;case a._getUnderlyingNode:return e["@id"];case a._proxyContext:return t;case a._writeGraphs:return t.writeGraphs;case"@context":return t.contextUtil.context}return(0,s.getValueForKey)(e,n,t)},getOwnPropertyDescriptor:function(e,n){return{value:(0,s.getValueForKey)(e,n,t),writable:!0,enumerable:!0,configurable:!0}},ownKeys:function(e){var n=e["@id"],r=t.dataset.match(n),i=new Set(["@id"]);return r.toArray().forEach((function(e){i.add(t.contextUtil.iriToKey(e.predicate.value))})),Array.from(i)},set:function(e,n,o){var s;if(n===a._proxyContext)return t=o,!0;if("@id"===n&&"string"===typeof o){var u=t.dataset.match(e["@id"]).toArray(),c=u.map((function(e){return(0,r.quad)((0,r.namedNode)(o),e.predicate,e.object,e.graph)}));u.forEach((function(e){return t.dataset.delete(e)})),t.dataset.addAll(c);var l=t.dataset.match(void 0,void 0,e["@id"]).toArray(),f=l.map((function(e){return(0,r.quad)(e.subject,e.predicate,(0,r.namedNode)(o),e.graph)}));l.forEach((function(e){return t.dataset.delete(e)})),t.dataset.addAll(f),e["@id"]=(0,r.namedNode)(o)}return(0,i.addObjectToDataset)(((s={"@id":e["@id"]})[n]=o,s),!0,t),!0},deleteProperty:function(e,n){return(0,o.deleteValueFromDataset)(e,n,t)}}}},447:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.deleteValueFromDataset=void 0;var o=n(7478);t.deleteValueFromDataset=function(e,t,n){var a=[];if("@context"===t)return!0;if("toString"===t||t===Symbol.toStringTag)return!0;if("symbol"===typeof t)return!0;var s=e["@id"],u=(0,o.namedNode)(n.contextUtil.keyToIri(t));if("@id"===t)a.push(e["@id"]);else{var c=n.dataset.match(s,u);if(0===c.size)return!0;a.push.apply(a,i([],r(c.toArray().map((function(e){return e.object}))),!1))}return a.forEach((function(e){return"Literal"===e.termType?(n.dataset.delete((0,o.quad)(s,u,e)),!0):"NamedNode"===e.termType?(n.dataset.deleteMatches(e,void 0,void 0),n.dataset.deleteMatches(void 0,void 0,e),!0):void 0})),!0}},6792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getValueForKey=void 0;var r=n(7478),i=n(8449),o=n(7640);t.getValueForKey=function(e,t,n){var a=n.contextUtil,s=n.dataset;if("@id"===t){if("BlankNode"===e["@id"].termType)return;return a.iriToKey(e["@id"].value)}if("toString"===t||t===Symbol.toStringTag)return Reflect.get(e,"toString");if("symbol"!==typeof t){var u=e["@id"],c=(0,r.namedNode)(a.keyToIri(t));if(a.isArray(t))return n.createArrayProxy([u,c,null,null],!1,void 0,a.isLangString(t));var l=s.match(u,c);if(a.isLangString(t)&&(l=(0,o.filterQuadsByLanguageOrdering)(l,n.languageOrdering)),0!==l.size)return 1===l.size?(0,i.nodeToJsonldRepresentation)(l.toArray()[0].object,n):n.createArrayProxy([u,c,null,null])}}},9632:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSubjectProxyFromObject=t.isSubjectProxy=void 0;var r=n(329);function i(e){if(!e)return!1;if("object"!==typeof e)return!1;var t=e;return!("object"!==typeof t[r._writeGraphs]||"object"!==typeof t[r._getUnderlyingDataset]||"object"!==typeof t[r._getUnderlyingNode]||"object"!==typeof t[r._proxyContext])}t.isSubjectProxy=i,t.getSubjectProxyFromObject=function(e){var t=e;if(!i(t))throw new Error("".concat(e," is not a Jsonld Dataset Proxy Subject"));return t}},329:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t._writeGraphs=t._proxyContext=t._getUnderlyingArrayTarget=t._getUnderlyingDataset=t._getNodeAtIndex=t._isSubjectOriented=t._getUnderlyingMatch=t._getUnderlyingNode=void 0,t._getUnderlyingNode=Symbol("_getUnderlyingNode"),t._getUnderlyingMatch=Symbol("_getUnderlyingMatch"),t._isSubjectOriented=Symbol("_isSubjectOriented"),t._getNodeAtIndex=Symbol("_getNodeAtIndex"),t._getUnderlyingDataset=Symbol("_getUnderlyingDataset"),t._getUnderlyingArrayTarget=Symbol("_getUnderlyingArrayTarget"),t._proxyContext=Symbol("_proxyContext"),t._writeGraphs=Symbol("_writeGraphs")},7393:function(e,t){"use strict";function n(e){if(null==e)return"null";switch(e.termType){case"NamedNode":return"namedNode(".concat(e.value,")");case"BlankNode":return"blankNode(".concat(e.value,")");case"Literal":return"literal(".concat(e.value,",").concat(e.datatype.value,")");case"DefaultGraph":return"defaultGraph()"}}Object.defineProperty(t,"__esModule",{value:!0}),t.NodeSet=t.nodeToString=void 0,t.nodeToString=n;var r=function(){function e(){this.set=new Set,this.map={}}return e.prototype.add=function(e){var t=n(e);this.set.add(t),this.map[t]=e},e.prototype.has=function(e){return this.set.has(n(e))},e.prototype.delete=function(e){var t=n(e);return delete this.map[t],this.set.delete(n(e))},e.prototype.toArray=function(){var e=this;return Array.from(this.set).map((function(t){return e.map[t]}))},e}();t.NodeSet=r},2776:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4350:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.addObjectToDataset=t.addRawObjectToDatasetRecursive=t.addRawValueToDatasetRecursive=void 0;var o=n(7478),a=n(428),s=n(9632),u=n(7393),c=n(7640);function l(e,t,n,i,u,l){var d=l.dataset,h=l.contextUtil,p=(0,o.namedNode)(h.keyToIri(t)),v=(0,a.getNodeFromRawValue)(t,n,l);if(void 0==v)d.deleteMatches(e,p);else if("Literal"===v.termType){var g=v;if(h.isLangString(t)){var y=(0,c.getLanguageKeyForWriteOperation)(l.languageOrdering);if(!y)return;g=(0,o.literal)(v.value,(0,c.languageKeyToLiteralLanguage)(y))}l.writeGraphs.forEach((function(t){l.dataset.add((0,o.quad)(e,p,g,t))}))}else{if(i.has(v)||(0,s.isSubjectProxy)(n)||d.deleteMatches(v,void 0,void 0),l.writeGraphs.forEach((function(t){d.add((0,o.quad)(e,p,v,t))})),!(0,s.isSubjectProxy)(n))f("object"===typeof n?r(r({},n),{"@id":v}):{"@id":v},i,u,l)}}function f(e,t,n,r){if((0,s.isSubjectProxy)(e))return e;var u=r.dataset,f=(0,a.getNodeFromRawObject)(e,r.contextUtil);return t.has(f)||(t.add(f),Object.entries(e).forEach((function(e){var a=i(e,2),s=a[0],d=a[1];if("@id"!==s){var h=(0,o.namedNode)(r.contextUtil.keyToIri(s));if(n)if(r.contextUtil.isLangString(s)){var p=(0,c.getLanguageKeyForWriteOperation)(r.languageOrdering);p&&(0,c.languageDeleteMatch)(u,f,h,p)}else u.deleteMatches(f,h);Array.isArray(d)?d.forEach((function(e){l(f,s,e,t,!0,r)})):l(f,s,d,t,!0,r)}}))),r.createSubjectProxy(f)}t.addRawValueToDatasetRecursive=l,t.addRawObjectToDatasetRecursive=f,t.addObjectToDataset=function(e,t,n){return f(e,new u.NodeSet,t,n)}},6321:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createInteractOptions=void 0;var r=n(9632),i=n(329),o=n(304);t.createInteractOptions=function(e,t){return{using:function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var a=[];return n.forEach((function(n){var r,s=(0,o.getProxyFromObject)(n),u=s[i._proxyContext];s[i._proxyContext]=s[i._proxyContext].duplicate(((r={})[e]=t,r)),a.push((function(){s[i._proxyContext]=u}))})),function(){a.forEach((function(e){return e()}))}},usingCopy:function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return n.map((function(n){var o,a=(0,r.getSubjectProxyFromObject)(n);return a[i._proxyContext].duplicate(((o={})[e]=t,o)).createSubjectProxy(a[i._getUnderlyingNode])}))}}}},428:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeFromRawValue=t.getNodeFromRawObject=void 0;var r=n(7478),i=n(329);function o(e,t){return e[i._getUnderlyingNode]?e[i._getUnderlyingNode]:e["@id"]?"string"===typeof e["@id"]?(0,r.namedNode)(t.keyToIri(e["@id"])):e["@id"]:(0,r.blankNode)()}t.getNodeFromRawObject=o,t.getNodeFromRawValue=function(e,t,n){if(void 0!=t){if("string"===typeof t||"boolean"===typeof t||"number"===typeof t){var i=n.contextUtil.getType(e);return"@id"===i?(0,r.namedNode)(t.toString()):(0,r.literal)(t.toString(),i)}return o(t,n.contextUtil)}}},304:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProxyFromObject=t.isProxy=void 0;var r=n(7226),i=n(9632);function o(e){return(0,i.isSubjectProxy)(e)||(0,r.isArrayProxy)(e)}t.isProxy=o,t.getProxyFromObject=function(e){if(!o(e))throw new Error("".concat(e," is not a Jsonld Dataset Proxy"));return e}},8449:function(e,t){"use strict";function n(e){switch(e.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/2001/XMLSchema#ENTITIES":case"http://www.w3.org/2001/XMLSchema#ENTITY":case"http://www.w3.org/2001/XMLSchema#ID":case"http://www.w3.org/2001/XMLSchema#IDREF":case"http://www.w3.org/2001/XMLSchema#IDREFS":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#NMTOKENS":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#QName":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#date":case"http://www.w3.org/2001/XMLSchema#dateTime":case"http://www.w3.org/2001/XMLSchema#duration":case"http://www.w3.org/2001/XMLSchema#gDay":case"http://www.w3.org/2001/XMLSchema#gMonth":case"http://www.w3.org/2001/XMLSchema#gMonthDay":case"http://www.w3.org/2001/XMLSchema#gYear":case"http://www.w3.org/2001/XMLSchema#gYearMonth":case"http://www.w3.org/2001/XMLSchema#time":case"http://www.w3.org/2001/XMLSchema#hexBinary":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON":default:return e.value;case"http://www.w3.org/2001/XMLSchema#integer":case"http://www.w3.org/2001/XMLSchema#byte":case"http://www.w3.org/2001/XMLSchema#decimal":case"http://www.w3.org/2001/XMLSchema#int":case"http://www.w3.org/2001/XMLSchema#long":case"http://www.w3.org/2001/XMLSchema#negativeInteger":case"http://www.w3.org/2001/XMLSchema#nonNegativeInteger":case"http://www.w3.org/2001/XMLSchema#nonPositiveInteger":case"http://www.w3.org/2001/XMLSchema#positiveInteger":case"http://www.w3.org/2001/XMLSchema#short":case"http://www.w3.org/2001/XMLSchema#unsignedLong":case"http://www.w3.org/2001/XMLSchema#unsignedInt":case"http://www.w3.org/2001/XMLSchema#unsignedShort":case"http://www.w3.org/2001/XMLSchema#unsignedByte":return parseFloat(e.value);case"http://www.w3.org/2001/XMLSchema#boolean":return"true"===e.value}}Object.defineProperty(t,"__esModule",{value:!0}),t.nodeToJsonldRepresentation=t.literalToJsonldRepresentation=void 0,t.literalToJsonldRepresentation=n,t.nodeToJsonldRepresentation=function(e,t){if("Literal"===e.termType)return n(e);if("NamedNode"===e.termType||"BlankNode"===e.termType)return t.createSubjectProxy(e);throw new Error("Can only convert NamedNodes or Literals or BlankNodes")}},413:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.write=void 0;var r=n(6321);t.write=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,r.createInteractOptions)("writeGraphs",e)}},2352:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4816),o=n(422),a=function(){function e(e,t){this.dataset=e,this.datasetCoreFactory=t}return e.prototype.createBlankDataset=function(){return new e(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)},e.prototype.addAll=function(e){var t,n;try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.add(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.contains=function(e){var t,n;if(e.size>this.size)return!1;try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(!this.has(a))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.deleteMatches=function(e,t,n,i){var o,a,s=this.match(e,t,n,i);try{for(var u=r(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.dataset.delete(l)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return this},e.prototype.difference=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;e.has(s)||i.add(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.equals=function(e){var t,n;if(this.size!==e.size)return!1;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){var a=o.value;if(!e.has(a))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.every=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){if(!e(o.value,this))return!1}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.filter=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;e(s,this)&&i.add(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.forEach=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){e(o.value,this)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.import=function(e){var t=this;return new Promise((function(n,r){e.on("data",(function(e){t.add(e)})).on("end",(function(){n(t)})).on("error",(function(e){return r(e)}))}))},e.prototype.intersection=function(e){var t,n,i=this.createBlankDataset(),o=this.size<e.size?this:e,a=this.size<e.size?e:this;try{for(var s=r(o),u=s.next();!u.done;u=s.next()){var c=u.value;a.has(c)&&i.add(c)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i},e.prototype.map=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;i.add(e(s,this))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.reduce=function(e,t){if(0===this.size&&void 0==t)throw new Error("Cannot reduce an empty Dataset without an initial value.");for(var n=this[Symbol.iterator](),r=n.next(),i=t;!r.done;)i=e(i,r.value,this),r=n.next();return i},e.prototype.some=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){if(e(o.value,this))return!0}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.toArray=function(){var e,t,n=[];try{for(var i=r(this),o=i.next();!o.done;o=i.next()){var a=o.value;n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.toCanonical=function(){throw new Error("Method not implemented.")},e.prototype.toStream=function(){var e=this[Symbol.iterator](),t=e.next();return new o.Readable({objectMode:!0,read:function(){!t.done&&t.value?(this.push(t.value),t=e.next()):this.push(null)}})},e.prototype.toString=function(){return new i.Writer({format:"N-Triples"}).quadsToString(this.toArray())},e.prototype.union=function(e){var t,n,i,o,a=this.createBlankDataset();try{for(var s=r(this),u=s.next();!u.done;u=s.next()){var c=u.value;a.add(c)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var l=r(e),f=l.next();!f.done;f=l.next()){c=f.value;a.add(c)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a},e.prototype.match=function(t,n,r,i){return new e(this.dataset.match(t,n,r,i),this.datasetCoreFactory)},Object.defineProperty(e.prototype,"size",{get:function(){return this.dataset.size},enumerable:!1,configurable:!0}),e.prototype.add=function(e){return this.dataset.add(e),this},e.prototype.delete=function(e){return this.dataset.delete(e),this},e.prototype.has=function(e){return Boolean(this.dataset.has(e))},e.prototype[Symbol.iterator]=function(){return this.dataset[Symbol.iterator]()},e}();t.default=a},5601:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(2352)),o=function(){function e(e){this.datasetCoreFactory=e}return e.prototype.dataset=function(e){return new i.default(this.datasetCoreFactory.dataset(e),this.datasetCoreFactory)},e}();t.default=o},9512:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var r=e.call(this,n.dataset(),n)||this;return r.parentDataset=t,r.datasetFactory=n,r.datasetChanges={},r}return r(t,e),t.prototype.addAll=function(e){return this.updateDatasetChanges({added:e}),this},t.prototype.bulk=function(e){return this.updateDatasetChanges(e),this},t.prototype.deleteMatches=function(e,t,n,r){var o,a;this.checkIfTransactionCommitted();var s=this.match(e,t,n,r);try{for(var u=i(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.delete(l)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return this},t.prototype.match=function(e,t,n,r){var i=this.parentDataset.match(e,t,n,r);return this.datasetChanges.removed&&(i=i.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(i=i.union(this.datasetChanges.added.match(e,t,n,r))),i},Object.defineProperty(t.prototype,"size",{get:function(){var e,t;return this.parentDataset.size+((null===(e=this.datasetChanges.added)||void 0===e?void 0:e.difference(this.parentDataset).size)||0)-((null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.intersection(this.parentDataset).size)||0)},enumerable:!1,configurable:!0}),t.prototype.add=function(e){return this.updateDatasetChanges({added:[e]}),this},t.prototype.delete=function(e){return this.updateDatasetChanges({removed:[e]}),this},t.prototype.has=function(e){var t,n;return!(null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.has(e))&&((null===(n=this.datasetChanges.added)||void 0===n?void 0:n.has(e))||this.parentDataset.has(e))},t.prototype[Symbol.iterator]=function(){var e=this,t=(this.datasetChanges.added||[])[Symbol.iterator](),n=t.next(),r=this.parentDataset[Symbol.iterator](),i=r.next();return{next:function(){if(!n||!n.done){var o=n;return n=t.next(),o}for(;!i.done;){o=i;if(i=r.next(),(!e.datasetChanges.added||!e.datasetChanges.added.has(o.value))&&(!e.datasetChanges.removed||!e.datasetChanges.removed.has(o.value)))return o}return{value:void 0,done:!0}}}},t.prototype.checkIfTransactionCommitted=function(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")},t.prototype.updateDatasetChanges=function(e){if(this.checkIfTransactionCommitted(),e.added&&(this.datasetChanges.added?this.datasetChanges.added.addAll(e.added):this.datasetChanges.added=this.datasetFactory.dataset(e.added)),e.removed&&(this.datasetChanges.removed?this.datasetChanges.removed.addAll(e.removed):this.datasetChanges.removed=this.datasetFactory.dataset(e.removed)),this.datasetChanges.added&&this.datasetChanges.removed){var t=this.datasetChanges.added.intersection(this.datasetChanges.removed);t.size>0&&(this.datasetChanges.added=this.datasetChanges.added.difference(t),this.datasetChanges.removed=this.datasetChanges.removed.difference(t))}this.datasetChanges.added&&0===this.datasetChanges.added.size&&(this.datasetChanges.added=void 0),this.datasetChanges.removed&&0===this.datasetChanges.removed.size&&(this.datasetChanges.removed=void 0)},t.prototype.updateParentDataset=function(e){var t=this;this.parentDataset.bulk?this.parentDataset.bulk(e):(e.added&&this.parentDataset.addAll(e.added),e.removed&&e.removed.forEach((function(e){t.parentDataset.delete(e)})))},t.prototype.commit=function(){var e,t;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:null===(e=this.datasetChanges.added)||void 0===e?void 0:e.difference(this.parentDataset),removed:null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)},t.prototype.rollback=function(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0},t.prototype.startTransaction=function(){return new t(this,this.datasetFactory)},t.prototype.getChanges=function(){return this.datasetChanges},t}(o(n(2352)).default);t.default=a},4380:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7465),u=n(7478),c=a(n(9512)),l=function(){function e(e,t){this.NAMED_NODE_KEY_PREFIX="NamedNode",this.BLANK_NODE_KEY_PREFIX="BlankNode",this.DEFAULT_GRAPH_KEY_PREFIX="DefaultGraph",this.SUBSCRIBABLE_TERMS=[this.NAMED_NODE_KEY_PREFIX,this.BLANK_NODE_KEY_PREFIX,this.DEFAULT_GRAPH_KEY_PREFIX],this.datasetFactory=e,this.dataset=t||this.datasetFactory.dataset(),this.eventEmitter=new s.EventEmitter}return e.prototype.addAll=function(e){return this.dataset.addAll(e),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(e)}),this},e.prototype.bulk=function(e){var t=this;return e.added&&this.dataset.addAll(e.added),e.removed&&e.removed.forEach((function(e){t.dataset.delete(e)})),this.triggerSubscriptionForQuads(e),this},e.prototype.contains=function(e){return this.dataset.contains(e)},e.prototype.deleteMatches=function(e,t,n,r){var i,a,s=this.dataset.match(e,t,n,r);try{for(var u=o(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.dataset.delete(l)}}catch(f){i={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.triggerSubscriptionForQuads({removed:s}),this},e.prototype.difference=function(e){return this.dataset.difference(e)},e.prototype.equals=function(e){return this.dataset.equals(e)},e.prototype.every=function(e){var t=this;return this.dataset.every((function(n){return e(n,t)}))},e.prototype.filter=function(e){var t=this;return this.dataset.filter((function(n){return e(n,t)}))},e.prototype.forEach=function(e){var t=this;return this.dataset.forEach((function(n){return e(n,t)}))},e.prototype.import=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.dataset.import(e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.intersection=function(e){return this.dataset.intersection(e)},e.prototype.map=function(e){var t=this;return this.dataset.map((function(n){return e(n,t)}))},e.prototype.reduce=function(e,t){var n=this;return this.dataset.reduce((function(t,r){return e(t,r,n)}),t)},e.prototype.some=function(e){var t=this;return this.dataset.some((function(n){return e(n,t)}))},e.prototype.toArray=function(){return this.dataset.toArray()},e.prototype.toCanonical=function(){return this.dataset.toCanonical()},e.prototype.toStream=function(){return this.dataset.toStream()},e.prototype.toString=function(){return this.dataset.toString()},e.prototype.union=function(e){return this.dataset.union(e)},e.prototype.match=function(e,t,n,r){return this.dataset.match(e,t,n,r)},Object.defineProperty(e.prototype,"size",{get:function(){return this.dataset.size},enumerable:!1,configurable:!0}),e.prototype.add=function(e){return this.dataset.add(e),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([e])}),this},e.prototype.delete=function(e){return this.dataset.delete(e),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([e])}),this},e.prototype.has=function(e){return this.dataset.has(e)},e.prototype[Symbol.iterator]=function(){return this.dataset[Symbol.iterator]()},e.prototype.getKeyFromNode=function(e){if("NamedNode"===e.termType)return"".concat(this.NAMED_NODE_KEY_PREFIX).concat(e.value);if("BlankNode"===e.termType)return"".concat(this.BLANK_NODE_KEY_PREFIX).concat(e.value);if("DefaultGraph"===e.termType)return"".concat(this.DEFAULT_GRAPH_KEY_PREFIX).concat(e.value);throw new Error("Invalid term type for subscription")},e.prototype.getNodeFromKey=function(e){if(e.startsWith(this.NAMED_NODE_KEY_PREFIX))return(0,u.namedNode)(e.slice(this.NAMED_NODE_KEY_PREFIX.length));if(e.startsWith(this.BLANK_NODE_KEY_PREFIX))return(0,u.blankNode)(e.slice(this.BLANK_NODE_KEY_PREFIX.length));if(e.startsWith(this.DEFAULT_GRAPH_KEY_PREFIX))return(0,u.defaultGraph)();throw Error("Invalid Subscription Key")},e.prototype.triggerSubscriptionForQuads=function(e){var t,n,r=this,i={},o=function(e){[e.subject,e.predicate,e.object,e.graph].forEach((function(e){r.SUBSCRIBABLE_TERMS.includes(e.termType)&&(i["".concat(e.termType).concat(e.value)]=e)}))};null===(t=e.added)||void 0===t||t.forEach(o),null===(n=e.removed)||void 0===n||n.forEach(o),Object.values(i).forEach((function(t){r.triggerSubscriptionForNode(t,e)}))},e.prototype.triggerSubscriptionForNode=function(e,t){if(this.listenerCount(e)>0){var n=this.datasetFactory.dataset();"DefaultGraph"!==e.termType?(n=(n=n.union(this.match(e,null,null,null))).union(this.match(null,null,e,null)),"BlankNode"!==e.termType&&(n=(n=n.union(this.match(null,e,null,null))).union(this.match(null,null,null,e)))):n=n.union(this.match(null,null,null,e));var r={added:t.added?t.added.filter((function(t){return t.subject.equals(e)||t.predicate.equals(e)||t.object.equals(e)||t.graph.equals(e)})):void 0,removed:t.removed?t.removed.filter((function(t){return t.subject.equals(e)||t.predicate.equals(e)||t.object.equals(e)||t.graph.equals(e)})):void 0};r={added:r.added&&r.added.size>0?r.added:void 0,removed:r.removed&&r.removed.size>0?r.removed:void 0},this.emit(e,n,r)}},e.prototype.addListener=function(e,t){return this.on(e,t)},e.prototype.emit=function(e,t,n){return this.eventEmitter.emit(this.getKeyFromNode(e),t,n)},e.prototype.eventNames=function(){var e=this;return this.eventEmitter.eventNames().map((function(t){return e.getNodeFromKey(t)}))},e.prototype.getMaxListeners=function(){return this.eventEmitter.getMaxListeners()},e.prototype.listenerCount=function(e){return this.eventEmitter.listenerCount(this.getKeyFromNode(e))},e.prototype.listeners=function(e){return this.eventEmitter.listeners(this.getKeyFromNode(e))},e.prototype.off=function(e,t){this.removeListener(e,t)},e.prototype.on=function(e,t){return this.eventEmitter.on(this.getKeyFromNode(e),t),this},e.prototype.once=function(e,t){return this.eventEmitter.once(this.getKeyFromNode(e),t),this},e.prototype.prependListener=function(e,t){return this.eventEmitter.prependListener(this.getKeyFromNode(e),t),this},e.prototype.prependOnceListener=function(e,t){return this.eventEmitter.prependOnceListener(this.getKeyFromNode(e),t),this},e.prototype.removeAllListeners=function(e){return this.eventEmitter.removeAllListeners(this.getKeyFromNode(e)),this},e.prototype.removeListener=function(e,t){return this.eventEmitter.removeListener(this.getKeyFromNode(e),t),this},e.prototype.setMaxListeners=function(e){return this.eventEmitter.setMaxListeners(e),this},e.prototype.rawListeners=function(e){return this.eventEmitter.rawListeners(this.getKeyFromNode(e))},e.prototype.startTransaction=function(){return new c.default(this,this.datasetFactory)},e}();t.default=l},4589:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4380)),o=function(){function e(e){this.datasetFactory=e}return e.prototype.dataset=function(e){return new i.default(this.datasetFactory,e?this.datasetFactory.dataset(e):void 0)},e}();t.default=o},795:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4816);t.default=function(e,t,n){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){if(n&&"application/json-ld"===n.format)throw new Error("Not Implemented");return r=new o.Parser(n),a=r.parse(t),[2,e.dataset(a)]}))}))}},1623:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExtendedDatasetFactory=void 0;var i=r(n(5601)),o=n(4533);function a(){var e={dataset:function(e){return(0,o.dataset)(Array.isArray(e)?e:null===e||void 0===e?void 0:e.toArray())}};return new i.default(e)}t.createExtendedDatasetFactory=a,t.default=function(e){return a().dataset(e)}},2598:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(795)),s=n(1623);t.default=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=(0,s.createExtendedDatasetFactory)(),[2,(0,a.default)(n,e,t)]}))}))}},2438:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWrapperSubscribableDatasetFactory=void 0;var i=r(n(1623)),o=r(n(4589));function a(){var e={dataset:function(e){return(0,i.default)(e)}};return new o.default(e)}t.createWrapperSubscribableDatasetFactory=a,t.default=function(e){return a().dataset(e)}},3146:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(795)),s=n(2438);t.default=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=(0,s.createWrapperSubscribableDatasetFactory)(),[2,(0,a.default)(n,e,t)]}))}))}},6431:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperSubscribableDatasetFactory=t.WrapperSubscribableDataset=t.ProxyTransactionalDataset=t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToSubscribableDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createSubscribableDatasetFactory=t.createSubscribableDataset=t.createDatasetFactory=t.createDataset=void 0;var a=n(1623);Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return o(a).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return a.createExtendedDatasetFactory}});var s=n(2438);Object.defineProperty(t,"createSubscribableDataset",{enumerable:!0,get:function(){return o(s).default}}),Object.defineProperty(t,"createSubscribableDatasetFactory",{enumerable:!0,get:function(){return s.createWrapperSubscribableDatasetFactory}});var u=n(795);Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return o(u).default}});var c=n(2598);Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return o(c).default}});var l=n(3146);Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return o(l).default}});var f=n(2352);Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return o(f).default}});var d=n(5601);Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return o(d).default}});var h=n(9512);Object.defineProperty(t,"ProxyTransactionalDataset",{enumerable:!0,get:function(){return o(h).default}});var p=n(4380);Object.defineProperty(t,"WrapperSubscribableDataset",{enumerable:!0,get:function(){return o(p).default}});var v=n(4589);Object.defineProperty(t,"WrapperSubscribableDatasetFactory",{enumerable:!0,get:function(){return o(v).default}}),i(n(2340),t)},2340:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4603:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.LdoBuilder=void 0;var o=n(5807),a=function(){function e(e,t){this.jsonldDatasetProxyBuilder=e,this.shapeType=t}return e.prototype.write=function(){for(var t,n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];return new e((t=this.jsonldDatasetProxyBuilder).write.apply(t,i([],r((0,o.normalizeNodeNames)(n)),!1)),this.shapeType)},e.prototype.setLanguagePreferences=function(){for(var t,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return new e((t=this.jsonldDatasetProxyBuilder).setLanguagePreferences.apply(t,i([],r(n),!1)),this.shapeType)},e.prototype.fromSubject=function(e){return this.jsonldDatasetProxyBuilder.fromSubject((0,o.normalizeNodeName)(e))},e.prototype.matchSubject=function(e,t,n){return this.jsonldDatasetProxyBuilder.matchSubject(void 0!=e?(0,o.normalizeNodeName)(e):void 0,void 0!=t?(0,o.normalizeNodeName)(t):void 0,void 0!=n?(0,o.normalizeNodeName)(n):void 0)},e.prototype.matchObject=function(e,t,n){return this.jsonldDatasetProxyBuilder.matchObject(void 0!=e?(0,o.normalizeNodeName)(e):void 0,void 0!=t?(0,o.normalizeNodeName)(t):void 0,void 0!=n?(0,o.normalizeNodeName)(n):void 0)},e.prototype.fromJson=function(e){return this.jsonldDatasetProxyBuilder.fromJson(e)},e}();t.LdoBuilder=a},250:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.LdoDataset=void 0;var o=i(n(971)),a=n(3467),s=n(4603),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.usingType=function(e){var t=(0,o.default)(this,e.context);return new s.LdoBuilder(t,e)},t}(a.WrapperSubscribableDataset);t.LdoDataset=u},9490:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LdoDatasetFactory=void 0;var r=n(250),i=function(){function e(e){this.datasetFactory=e}return e.prototype.dataset=function(e){return new r.LdoDataset(this.datasetFactory,e?Array.isArray(e)?this.datasetFactory.dataset(e):e:void 0)},e}();t.LdoDatasetFactory=i},5674:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createLdoDataset=t.createLdoDatasetFactory=void 0;var r=n(3467),i=n(9490);function o(){var e={dataset:function(e){return(0,r.createDataset)(e)}};return new i.LdoDatasetFactory(e)}t.createLdoDatasetFactory=o,t.createLdoDataset=function(e){return o().dataset(e)}},5072:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0}),t.datasetToString=void 0;var a=n(4816);t.datasetToString=function(e,t){return r(this,void 0,void 0,(function(){var n=this;return i(this,(function(s){return[2,new Promise((function(s,u){var c,l,f=new a.Writer(t);try{for(var d=o(e),h=d.next();!h.done;h=d.next()){var p=h.value;f.addQuad(p)}}catch(v){c={error:v}}finally{try{h&&!h.done&&(l=d.return)&&l.call(d)}finally{if(c)throw c.error}}f.end((function(e,t){return r(n,void 0,void 0,(function(){return i(this,(function(n){return e?[2,u(e)]:[2,s(t)]}))}))}))}))]}))}))}},5051:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(7565),t),i(n(5674),t),i(n(1903),t),i(n(250),t),i(n(4603),t),i(n(2662),t)},1903:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},a=this&&this.__spreadArray||function(e,t,n){if(n||2===arguments.length)for(var r,i=0,o=t.length;i<o;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))};Object.defineProperty(t,"__esModule",{value:!0}),t.toNTriples=t.toJsonLd=t.toTurtle=t.serialize=t.toSparqlUpdate=t.getDataset=t.transactionChanges=t.commitTransaction=t.startTransaction=t.write=t.setLanguagePreferences=t.languagesOf=t.graphOf=void 0;var s=n(971),u=n(5072),c=n(5807),l=n(971);Object.defineProperty(t,"graphOf",{enumerable:!0,get:function(){return l.graphOf}}),Object.defineProperty(t,"languagesOf",{enumerable:!0,get:function(){return l.languagesOf}}),Object.defineProperty(t,"setLanguagePreferences",{enumerable:!0,get:function(){return l.setLanguagePreferences}}),t.write=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.write.apply(void 0,a([],o((0,c.normalizeNodeNames)(e)),!1))},t.startTransaction=function(e){var t=(0,s.getProxyFromObject)(e),n=t[s._getUnderlyingDataset];if(!(0,c.canDatasetStartTransaction)(n))throw new Error("Object is not transactable.");t[s._proxyContext]=t[s._proxyContext].duplicate({dataset:n.startTransaction(),state:{parentDataset:n}})},t.commitTransaction=function(e){var t=o((0,c.getTransactionalDatasetFromLdo)(e),2),n=t[0],r=t[1];n.commit(),r[s._proxyContext]=r[s._proxyContext].duplicate({dataset:r[s._proxyContext].state.parentDataset})},t.transactionChanges=function(e){return o((0,c.getTransactionalDatasetFromLdo)(e),1)[0].getChanges()},t.getDataset=function(e){return(0,s.getProxyFromObject)(e)[s._getUnderlyingDataset]},t.toSparqlUpdate=function(e){return r(this,void 0,void 0,(function(){var t,n,r,a,s,l,f,d;return i(this,(function(i){switch(i.label){case 0:return t=o((0,c.getTransactionalDatasetFromLdo)(e),1),n=t[0],r=n.getChanges(),a="",r.removed?(s=a,l="DELETE DATA { ".concat,[4,(0,u.datasetToString)(r.removed,{format:"N-Triples"})]):[3,2];case 1:a=s+l.apply("DELETE DATA { ",[i.sent()," }"]),i.label=2;case 2:return r.added&&r.removed&&(a+="; "),r.added?(f=a,d="INSERT DATA { ".concat,[4,(0,u.datasetToString)(r.added,{format:"N-Triples"})]):[3,4];case 3:a=f+d.apply("INSERT DATA { ",[i.sent()," }"]),i.label=4;case 4:return[2,a.replaceAll("\n"," ")]}}))}))},t.serialize=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=(0,s.getProxyFromObject)(e)[s._getUnderlyingDataset],[2,(0,u.datasetToString)(n,t)]}))}))},t.toTurtle=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){return t=(0,s.getProxyFromObject)(e)[s._getUnderlyingDataset],[2,(0,u.datasetToString)(t,{})]}))}))},t.toJsonLd=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(e){throw new Error("Not Implemented")}))}))},t.toNTriples=function(e){return r(this,void 0,void 0,(function(){var t;return i(this,(function(n){return t=(0,s.getProxyFromObject)(e)[s._getUnderlyingDataset],[2,(0,u.datasetToString)(t,{format:"N-Triples"})]}))}))}},7565:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0}),t.parseRdf=void 0;var o=n(3467),a=n(2662);t.parseRdf=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){switch(r.label){case 0:return n=(0,a.createLdoDatasetFactory)(),"string"!==typeof e?[3,2]:[4,(0,o.createDatasetFromSerializedInput)(n,e,t)];case 1:case 4:return[2,r.sent()];case 2:return"function"!==typeof e.add?[3,3]:[2,(0,a.createLdoDataset)(e)];case 3:return[4,(0,o.createDatasetFromSerializedInput)(n,JSON.stringify(e),{format:"application/json-ld"})]}}))}))}},5807:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTransactionalDatasetFromLdo=t.isTransactionalDataset=t.canDatasetStartTransaction=t.normalizeNodeNames=t.normalizeNodeName=void 0;var r=n(7478),i=n(971);function o(e){return"string"===typeof e?(0,r.namedNode)(e):e}function a(e){return"function"===typeof e.commit}t.normalizeNodeName=o,t.normalizeNodeNames=function(e){return e.map((function(e){return o(e)}))},t.canDatasetStartTransaction=function(e){return"function"===typeof e.startTransaction},t.isTransactionalDataset=a,t.getTransactionalDatasetFromLdo=function(e){var t=(0,i.getProxyFromObject)(e),n=t[i._getUnderlyingDataset];if(!a(n)||!t[i._proxyContext].state.parentDataset)throw new Error("Object is not currently in a transaction");return[n,t]}},6986:function(e,t){!function(e){"use strict";var t=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(e){L.Util.setOptions(this,e),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var t=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,t?this._withAnimation:this._noAnimation),this._markerCluster=t?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(e){if(e instanceof L.LayerGroup)return this.addLayers([e]);if(!e.getLatLng)return this._nonPointGroup.addLayer(e),this.fire("layeradd",{layer:e}),this;if(!this._map)return this._needsClustering.push(e),this.fire("layeradd",{layer:e}),this;if(this.hasLayer(e))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(e,this._maxZoom),this.fire("layeradd",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var t=e,n=this._zoom;if(e.__parent)for(;t.__parent._zoom>=n;)t=t.__parent;return this._currentShownBounds.contains(t.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(e,t):this._animationAddLayerNonAnimated(e,t)),this},removeLayer:function(e){return e instanceof L.LayerGroup?this.removeLayers([e]):e.getLatLng?this._map?e.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(e)),this._removeLayer(e,!0),this.fire("layerremove",{layer:e}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),e.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(e)&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,e)&&this.hasLayer(e)&&this._needsRemoving.push({layer:e,latlng:e._latlng}),this.fire("layerremove",{layer:e}),this):(this._nonPointGroup.removeLayer(e),this.fire("layerremove",{layer:e}),this)},addLayers:function(e,t){if(!L.Util.isArray(e))return this.addLayer(e);var n,r=this._featureGroup,i=this._nonPointGroup,o=this.options.chunkedLoading,a=this.options.chunkInterval,s=this.options.chunkProgress,u=e.length,c=0,l=!0;if(this._map){var f=(new Date).getTime(),d=L.bind((function(){var h=(new Date).getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();c<u&&!(o&&c%200===0&&(new Date).getTime()-h>a);c++)if((n=e[c])instanceof L.LayerGroup)l&&(e=e.slice(),l=!1),this._extractNonGroupLayers(n,e),u=e.length;else if(n.getLatLng){if(!this.hasLayer(n)&&(this._addLayer(n,this._maxZoom),t||this.fire("layeradd",{layer:n}),n.__parent&&2===n.__parent.getChildCount())){var p=n.__parent.getAllChildMarkers(),v=p[0]===n?p[1]:p[0];r.removeLayer(v)}}else i.addLayer(n),t||this.fire("layeradd",{layer:n});s&&s(c,u,(new Date).getTime()-f),c===u?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(d,this.options.chunkDelay)}),this);d()}else for(var h=this._needsClustering;c<u;c++)(n=e[c])instanceof L.LayerGroup?(l&&(e=e.slice(),l=!1),this._extractNonGroupLayers(n,e),u=e.length):n.getLatLng?this.hasLayer(n)||h.push(n):i.addLayer(n);return this},removeLayers:function(e){var t,n,r=e.length,i=this._featureGroup,o=this._nonPointGroup,a=!0;if(!this._map){for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):(this._arraySplice(this._needsClustering,n),o.removeLayer(n),this.hasLayer(n)&&this._needsRemoving.push({layer:n,latlng:n._latlng}),this.fire("layerremove",{layer:n}));return this}if(this._unspiderfy){this._unspiderfy();var s=e.slice(),u=r;for(t=0;t<u;t++)(n=s[t])instanceof L.LayerGroup?(this._extractNonGroupLayers(n,s),u=s.length):this._unspiderfyLayer(n)}for(t=0;t<r;t++)(n=e[t])instanceof L.LayerGroup?(a&&(e=e.slice(),a=!1),this._extractNonGroupLayers(n,e),r=e.length):n.__parent?(this._removeLayer(n,!0,!0),this.fire("layerremove",{layer:n}),i.hasLayer(n)&&(i.removeLayer(n),n.clusterShow&&n.clusterShow())):(o.removeLayer(n),this.fire("layerremove",{layer:n}));return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer((function(e){e.off(this._childMarkerEventHandlers,this),delete e.__parent}),this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var e=new L.LatLngBounds;this._topClusterLevel&&e.extend(this._topClusterLevel._bounds);for(var t=this._needsClustering.length-1;t>=0;t--)e.extend(this._needsClustering[t].getLatLng());return e.extend(this._nonPointGroup.getBounds()),e},eachLayer:function(e,t){var n,r,i,o=this._needsClustering.slice(),a=this._needsRemoving;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(o),r=o.length-1;r>=0;r--){for(n=!0,i=a.length-1;i>=0;i--)if(a[i].layer===o[r]){n=!1;break}n&&e.call(t,o[r])}this._nonPointGroup.eachLayer(e,t)},getLayers:function(){var e=[];return this.eachLayer((function(t){e.push(t)})),e},getLayer:function(e){var t=null;return e=parseInt(e,10),this.eachLayer((function(n){L.stamp(n)===e&&(t=n)})),t},hasLayer:function(e){if(!e)return!1;var t,n=this._needsClustering;for(t=n.length-1;t>=0;t--)if(n[t]===e)return!0;for(t=(n=this._needsRemoving).length-1;t>=0;t--)if(n[t].layer===e)return!1;return!(!e.__parent||e.__parent._group!==this)||this._nonPointGroup.hasLayer(e)},zoomToShowLayer:function(e,t){var n=this._map;"function"!==typeof t&&(t=function(){});var r=function r(){!n.hasLayer(e)&&!n.hasLayer(e.__parent)||this._inZoomAnimation||(this._map.off("moveend",r,this),this.off("animationend",r,this),n.hasLayer(e)?t():e.__parent._icon&&(this.once("spiderfied",t,this),e.__parent.spiderfy()))};e._icon&&this._map.getBounds().contains(e.getLatLng())?t():e.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",r,this),this._map.panTo(e.getLatLng())):(this._map.on("moveend",r,this),this.on("animationend",r,this),e.__parent.zoomToBounds())},onAdd:function(e){var t,n,r;if(this._map=e,!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(e),this._nonPointGroup.addTo(e),this._gridClusters||this._generateInitialClusters(),this._maxLat=e.options.crs.projection.MAX_LATITUDE,t=0,n=this._needsRemoving.length;t<n;t++)(r=this._needsRemoving[t]).newlatlng=r.layer._latlng,r.layer._latlng=r.latlng;for(t=0,n=this._needsRemoving.length;t<n;t++)r=this._needsRemoving[t],this._removeLayer(r.layer,!0),r.layer._latlng=r.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),n=this._needsClustering,this._needsClustering=[],this.addLayers(n,!0)},onRemove:function(e){e.off("zoomend",this._zoomEnd,this),e.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(e){for(var t=e;t&&!t._icon;)t=t.__parent;return t||null},_arraySplice:function(e,t){for(var n=e.length-1;n>=0;n--)if(e[n]===t)return e.splice(n,1),!0},_removeFromGridUnclustered:function(e,t){for(var n=this._map,r=this._gridUnclustered,i=Math.floor(this._map.getMinZoom());t>=i&&r[t].removeObject(e,n.project(e.getLatLng(),t));t--);},_childMarkerDragStart:function(e){e.target.__dragStart=e.target._latlng},_childMarkerMoved:function(e){if(!this._ignoreMove&&!e.target.__dragStart){var t=e.target._popup&&e.target._popup.isOpen();this._moveChild(e.target,e.oldLatLng,e.latlng),t&&e.target.openPopup()}},_moveChild:function(e,t,n){e._latlng=t,this.removeLayer(e),e._latlng=n,this.addLayer(e)},_childMarkerDragEnd:function(e){var t=e.target.__dragStart;delete e.target.__dragStart,t&&this._moveChild(e.target,t,e.target._latlng)},_removeLayer:function(e,t,n){var r=this._gridClusters,i=this._gridUnclustered,o=this._featureGroup,a=this._map,s=Math.floor(this._map.getMinZoom());t&&this._removeFromGridUnclustered(e,this._maxZoom);var u,c=e.__parent,l=c._markers;for(this._arraySplice(l,e);c&&(c._childCount--,c._boundsNeedUpdate=!0,!(c._zoom<s));)t&&c._childCount<=1?(u=c._markers[0]===e?c._markers[1]:c._markers[0],r[c._zoom].removeObject(c,a.project(c._cLatLng,c._zoom)),i[c._zoom].addObject(u,a.project(u.getLatLng(),c._zoom)),this._arraySplice(c.__parent._childClusters,c),c.__parent._markers.push(u),u.__parent=c.__parent,c._icon&&(o.removeLayer(c),n||o.addLayer(u))):c._iconNeedsUpdate=!0,c=c.__parent;delete e.__parent},_isOrIsParent:function(e,t){for(;t;){if(e===t)return!0;t=t.parentNode}return!1},fire:function(e,t,n){if(t&&t.layer instanceof L.MarkerCluster){if(t.originalEvent&&this._isOrIsParent(t.layer._icon,t.originalEvent.relatedTarget))return;e="cluster"+e}L.FeatureGroup.prototype.fire.call(this,e,t,n)},listens:function(e,t){return L.FeatureGroup.prototype.listens.call(this,e,t)||L.FeatureGroup.prototype.listens.call(this,"cluster"+e,t)},_defaultIconCreateFunction:function(e){var t=e.getChildCount(),n=" marker-cluster-";return n+=t<10?"small":t<100?"medium":"large",new L.DivIcon({html:"<div><span>"+t+"</span></div>",className:"marker-cluster"+n,iconSize:new L.Point(40,40)})},_bindEvents:function(){var e=this._map,t=this.options.spiderfyOnMaxZoom,n=this.options.showCoverageOnHover,r=this.options.zoomToBoundsOnClick,i=this.options.spiderfyOnEveryZoom;(t||r||i)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),n&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),e.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(e){var t=e.layer,n=t;if("clusterkeypress"!==e.type||!e.originalEvent||13===e.originalEvent.keyCode){for(;1===n._childClusters.length;)n=n._childClusters[0];n._zoom===this._maxZoom&&n._childCount===t._childCount&&this.options.spiderfyOnMaxZoom?t.spiderfy():this.options.zoomToBoundsOnClick&&t.zoomToBounds(),this.options.spiderfyOnEveryZoom&&t.spiderfy(),e.originalEvent&&13===e.originalEvent.keyCode&&this._map._container.focus()}},_showCoverage:function(e){var t=this._map;this._inZoomAnimation||(this._shownPolygon&&t.removeLayer(this._shownPolygon),e.layer.getChildCount()>2&&e.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(e.layer.getConvexHull(),this.options.polygonOptions),t.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var e=this.options.spiderfyOnMaxZoom,t=this.options.showCoverageOnHover,n=this.options.zoomToBoundsOnClick,r=this.options.spiderfyOnEveryZoom,i=this._map;(e||n||r)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),t&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),i.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var e=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,e),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),e),this._currentShownBounds=e}},_generateInitialClusters:function(){var e=Math.ceil(this._map.getMaxZoom()),t=Math.floor(this._map.getMinZoom()),n=this.options.maxClusterRadius,r=n;"function"!==typeof n&&(r=function(){return n}),null!==this.options.disableClusteringAtZoom&&(e=this.options.disableClusteringAtZoom-1),this._maxZoom=e,this._gridClusters={},this._gridUnclustered={};for(var i=e;i>=t;i--)this._gridClusters[i]=new L.DistanceGrid(r(i)),this._gridUnclustered[i]=new L.DistanceGrid(r(i));this._topClusterLevel=new this._markerCluster(this,t-1)},_addLayer:function(e,t){var n,r,i=this._gridClusters,o=this._gridUnclustered,a=Math.floor(this._map.getMinZoom());for(this.options.singleMarkerMode&&this._overrideMarkerIcon(e),e.on(this._childMarkerEventHandlers,this);t>=a;t--){n=this._map.project(e.getLatLng(),t);var s=i[t].getNearObject(n);if(s)return s._addChild(e),void(e.__parent=s);if(s=o[t].getNearObject(n)){var u=s.__parent;u&&this._removeLayer(s,!1);var c=new this._markerCluster(this,t,s,e);i[t].addObject(c,this._map.project(c._cLatLng,t)),s.__parent=c,e.__parent=c;var l=c;for(r=t-1;r>u._zoom;r--)l=new this._markerCluster(this,r,l),i[r].addObject(l,this._map.project(s.getLatLng(),r));return u._addChild(l),void this._removeFromGridUnclustered(s,t)}o[t].addObject(e,n)}this._topClusterLevel._addChild(e),e.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer((function(e){e instanceof L.MarkerCluster&&e._iconNeedsUpdate&&e._updateIcon()}))},_enqueue:function(e){this._queue.push(e),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var e=0;e<this._queue.length;e++)this._queue[e].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var e=Math.round(this._map._zoom);this._processQueue(),this._zoom<e&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,e)):this._zoom>e?(this._animationStart(),this._animationZoomOut(this._zoom,e)):this._moveEnd()},_getExpandedVisibleBounds:function(){return this.options.removeOutsideVisibleBounds?L.Browser.mobile?this._checkBoundsMaxLat(this._map.getBounds()):this._checkBoundsMaxLat(this._map.getBounds().pad(1)):this._mapBoundsInfinite},_checkBoundsMaxLat:function(e){var t=this._maxLat;return void 0!==t&&(e.getNorth()>=t&&(e._northEast.lat=1/0),e.getSouth()<=-t&&(e._southWest.lat=-1/0)),e},_animationAddLayerNonAnimated:function(e,t){if(t===e)this._featureGroup.addLayer(e);else if(2===t._childCount){t._addToMap();var n=t.getAllChildMarkers();this._featureGroup.removeLayer(n[0]),this._featureGroup.removeLayer(n[1])}else t._updateIcon()},_extractNonGroupLayers:function(e,t){var n,r=e.getLayers(),i=0;for(t=t||[];i<r.length;i++)(n=r[i])instanceof L.LayerGroup?this._extractNonGroupLayers(n,t):t.push(n);return t},_overrideMarkerIcon:function(e){return e.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[e]}})}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(e,t){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(e,t){this._animationAddLayerNonAnimated(e,t)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(e,t){var n,r=this._getExpandedVisibleBounds(),i=this._featureGroup,o=Math.floor(this._map.getMinZoom());this._ignoreMove=!0,this._topClusterLevel._recursively(r,e,o,(function(o){var a,s=o._latlng,u=o._markers;for(r.contains(s)||(s=null),o._isSingleParent()&&e+1===t?(i.removeLayer(o),o._recursivelyAddChildrenToMap(null,t,r)):(o.clusterHide(),o._recursivelyAddChildrenToMap(s,t,r)),n=u.length-1;n>=0;n--)a=u[n],r.contains(a._latlng)||i.removeLayer(a)})),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(r,t),i.eachLayer((function(e){e instanceof L.MarkerCluster||!e._icon||e.clusterShow()})),this._topClusterLevel._recursively(r,e,t,(function(e){e._recursivelyRestoreChildPositions(t)})),this._ignoreMove=!1,this._enqueue((function(){this._topClusterLevel._recursively(r,e,o,(function(e){i.removeLayer(e),e.clusterShow()})),this._animationEnd()}))},_animationZoomOut:function(e,t){this._animationZoomOutSingle(this._topClusterLevel,e-1,t),this._topClusterLevel._recursivelyAddChildrenToMap(null,t,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),e,this._getExpandedVisibleBounds())},_animationAddLayer:function(e,t){var n=this,r=this._featureGroup;r.addLayer(e),t!==e&&(t._childCount>2?(t._updateIcon(),this._forceLayout(),this._animationStart(),e._setPos(this._map.latLngToLayerPoint(t.getLatLng())),e.clusterHide(),this._enqueue((function(){r.removeLayer(e),e.clusterShow(),n._animationEnd()}))):(this._forceLayout(),n._animationStart(),n._animationZoomOutSingle(t,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(e,t,n){var r=this._getExpandedVisibleBounds(),i=Math.floor(this._map.getMinZoom());e._recursivelyAnimateChildrenInAndAddSelfToMap(r,i,t+1,n);var o=this;this._forceLayout(),e._recursivelyBecomeVisible(r,n),this._enqueue((function(){if(1===e._childCount){var a=e._markers[0];this._ignoreMove=!0,a.setLatLng(a.getLatLng()),this._ignoreMove=!1,a.clusterShow&&a.clusterShow()}else e._recursively(r,n,i,(function(e){e._recursivelyRemoveChildrenFromMap(r,i,t+1)}));o._animationEnd()}))},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(e){return new L.MarkerClusterGroup(e)};var n=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(e,t,n,r){L.Marker.prototype.initialize.call(this,n?n._cLatLng||n.getLatLng():new L.LatLng(0,0),{icon:this,pane:e.options.clusterPane}),this._group=e,this._zoom=t,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,n&&this._addChild(n),r&&this._addChild(r)},getAllChildMarkers:function(e,t){e=e||[];for(var n=this._childClusters.length-1;n>=0;n--)this._childClusters[n].getAllChildMarkers(e,t);for(var r=this._markers.length-1;r>=0;r--)t&&this._markers[r].__dragStart||e.push(this._markers[r]);return e},getChildCount:function(){return this._childCount},zoomToBounds:function(e){for(var t,n=this._childClusters.slice(),r=this._group._map,i=r.getBoundsZoom(this._bounds),o=this._zoom+1,a=r.getZoom();n.length>0&&i>o;){o++;var s=[];for(t=0;t<n.length;t++)s=s.concat(n[t]._childClusters);n=s}i>o?this._group._map.setView(this._latlng,o):i<=a?this._group._map.setView(this._latlng,a+1):this._group._map.fitBounds(this._bounds,e)},getBounds:function(){var e=new L.LatLngBounds;return e.extend(this._bounds),e},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(e,t){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(e),e instanceof L.MarkerCluster?(t||(this._childClusters.push(e),e.__parent=this),this._childCount+=e._childCount):(t||this._markers.push(e),this._childCount++),this.__parent&&this.__parent._addChild(e,!0)},_setClusterCenter:function(e){this._cLatLng||(this._cLatLng=e._cLatLng||e._latlng)},_resetBounds:function(){var e=this._bounds;e._southWest&&(e._southWest.lat=1/0,e._southWest.lng=1/0),e._northEast&&(e._northEast.lat=-1/0,e._northEast.lng=-1/0)},_recalculateBounds:function(){var e,t,n,r,i=this._markers,o=this._childClusters,a=0,s=0,u=this._childCount;if(0!==u){for(this._resetBounds(),e=0;e<i.length;e++)n=i[e]._latlng,this._bounds.extend(n),a+=n.lat,s+=n.lng;for(e=0;e<o.length;e++)(t=o[e])._boundsNeedUpdate&&t._recalculateBounds(),this._bounds.extend(t._bounds),n=t._wLatLng,r=t._childCount,a+=n.lat*r,s+=n.lng*r;this._latlng=this._wLatLng=new L.LatLng(a/u,s/u),this._boundsNeedUpdate=!1}},_addToMap:function(e){e&&(this._backupLatlng=this._latlng,this.setLatLng(e)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(e,t,n){this._recursively(e,this._group._map.getMinZoom(),n-1,(function(e){var n,r,i=e._markers;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(t),r.clusterHide())}),(function(e){var n,r,i=e._childClusters;for(n=i.length-1;n>=0;n--)(r=i[n])._icon&&(r._setPos(t),r.clusterHide())}))},_recursivelyAnimateChildrenInAndAddSelfToMap:function(e,t,n,r){this._recursively(e,r,t,(function(i){i._recursivelyAnimateChildrenIn(e,i._group._map.latLngToLayerPoint(i.getLatLng()).round(),n),i._isSingleParent()&&n-1===r?(i.clusterShow(),i._recursivelyRemoveChildrenFromMap(e,t,n)):i.clusterHide(),i._addToMap()}))},_recursivelyBecomeVisible:function(e,t){this._recursively(e,this._group._map.getMinZoom(),t,null,(function(e){e.clusterShow()}))},_recursivelyAddChildrenToMap:function(e,t,n){this._recursively(n,this._group._map.getMinZoom()-1,t,(function(r){if(t!==r._zoom)for(var i=r._markers.length-1;i>=0;i--){var o=r._markers[i];n.contains(o._latlng)&&(e&&(o._backupLatlng=o.getLatLng(),o.setLatLng(e),o.clusterHide&&o.clusterHide()),r._group._featureGroup.addLayer(o))}}),(function(t){t._addToMap(e)}))},_recursivelyRestoreChildPositions:function(e){for(var t=this._markers.length-1;t>=0;t--){var n=this._markers[t];n._backupLatlng&&(n.setLatLng(n._backupLatlng),delete n._backupLatlng)}if(e-1===this._zoom)for(var r=this._childClusters.length-1;r>=0;r--)this._childClusters[r]._restorePosition();else for(var i=this._childClusters.length-1;i>=0;i--)this._childClusters[i]._recursivelyRestoreChildPositions(e)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(e,t,n,r){var i,o;this._recursively(e,t-1,n-1,(function(e){for(o=e._markers.length-1;o>=0;o--)i=e._markers[o],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}),(function(e){for(o=e._childClusters.length-1;o>=0;o--)i=e._childClusters[o],r&&r.contains(i._latlng)||(e._group._featureGroup.removeLayer(i),i.clusterShow&&i.clusterShow())}))},_recursively:function(e,t,n,r,i){var o,a,s=this._childClusters,u=this._zoom;if(t<=u&&(r&&r(this),i&&u===n&&i(this)),u<t||u<n)for(o=s.length-1;o>=0;o--)(a=s[o])._boundsNeedUpdate&&a._recalculateBounds(),e.intersects(a._bounds)&&a._recursively(e,t,n,r,i)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var e=this.options.opacity;return this.setOpacity(0),this.options.opacity=e,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(e){this._cellSize=e,this._sqCellSize=e*e,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(e,t){var n=this._getCoord(t.x),r=this._getCoord(t.y),i=this._grid,o=i[r]=i[r]||{},a=o[n]=o[n]||[],s=L.Util.stamp(e);this._objectPoint[s]=t,a.push(e)},updateObject:function(e,t){this.removeObject(e),this.addObject(e,t)},removeObject:function(e,t){var n,r,i=this._getCoord(t.x),o=this._getCoord(t.y),a=this._grid,s=a[o]=a[o]||{},u=s[i]=s[i]||[];for(delete this._objectPoint[L.Util.stamp(e)],n=0,r=u.length;n<r;n++)if(u[n]===e)return u.splice(n,1),1===r&&delete s[i],!0},eachObject:function(e,t){var n,r,i,o,a,s,u=this._grid;for(n in u)for(r in a=u[n])for(i=0,o=(s=a[r]).length;i<o;i++)e.call(t,s[i])&&(i--,o--)},getNearObject:function(e){var t,n,r,i,o,a,s,u,c=this._getCoord(e.x),l=this._getCoord(e.y),f=this._objectPoint,d=this._sqCellSize,h=null;for(t=l-1;t<=l+1;t++)if(i=this._grid[t])for(n=c-1;n<=c+1;n++)if(o=i[n])for(r=0,a=o.length;r<a;r++)s=o[r],((u=this._sqDist(f[L.Util.stamp(s)],e))<d||u<=d&&null===h)&&(d=u,h=s);return h},_getCoord:function(e){var t=Math.floor(e/this._cellSize);return isFinite(t)?t:e},_sqDist:function(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}},L.QuickHull={getDistant:function(e,t){var n=t[1].lat-t[0].lat;return(t[0].lng-t[1].lng)*(e.lat-t[0].lat)+n*(e.lng-t[0].lng)},findMostDistantPointFromBaseLine:function(e,t){var n,r,i,o=0,a=null,s=[];for(n=t.length-1;n>=0;n--)r=t[n],(i=this.getDistant(r,e))>0&&(s.push(r),i>o&&(o=i,a=r));return{maxPoint:a,newPoints:s}},buildConvexHull:function(e,t){var n=[],r=this.findMostDistantPointFromBaseLine(e,t);return r.maxPoint?n=(n=n.concat(this.buildConvexHull([e[0],r.maxPoint],r.newPoints))).concat(this.buildConvexHull([r.maxPoint,e[1]],r.newPoints)):[e[0]]},getConvexHull:function(e){var t,n=!1,r=!1,i=!1,o=!1,a=null,s=null,u=null,c=null,l=null,f=null;for(t=e.length-1;t>=0;t--){var d=e[t];(!1===n||d.lat>n)&&(a=d,n=d.lat),(!1===r||d.lat<r)&&(s=d,r=d.lat),(!1===i||d.lng>i)&&(u=d,i=d.lng),(!1===o||d.lng<o)&&(c=d,o=d.lng)}return r!==n?(f=s,l=a):(f=c,l=u),[].concat(this.buildConvexHull([f,l],e),this.buildConvexHull([l,f],e))}},L.MarkerCluster.include({getConvexHull:function(){var e,t,n=this.getAllChildMarkers(),r=[];for(t=n.length-1;t>=0;t--)e=n[t].getLatLng(),r.push(e);return L.QuickHull.getConvexHull(r)}}),L.MarkerCluster.include({_2PI:2*Math.PI,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(this._group._spiderfied!==this&&!this._group._inZoomAnimation){var e,t=this.getAllChildMarkers(null,!0),n=this._group._map.latLngToLayerPoint(this._latlng);this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?e=this._group.options.spiderfyShapePositions(t.length,n):t.length>=this._circleSpiralSwitchover?e=this._generatePointsSpiral(t.length,n):(n.y+=10,e=this._generatePointsCircle(t.length,n)),this._animationSpiderfy(t,e)}},unspiderfy:function(e){this._group._inZoomAnimation||(this._animationUnspiderfy(e),this._group._spiderfied=null)},_generatePointsCircle:function(e,t){var n,r,i=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+e)/this._2PI,o=this._2PI/e,a=[];for(i=Math.max(i,35),a.length=e,n=0;n<e;n++)r=this._circleStartAngle+n*o,a[n]=new L.Point(t.x+i*Math.cos(r),t.y+i*Math.sin(r))._round();return a},_generatePointsSpiral:function(e,t){var n,r=this._group.options.spiderfyDistanceMultiplier,i=r*this._spiralLengthStart,o=r*this._spiralFootSeparation,a=r*this._spiralLengthFactor*this._2PI,s=0,u=[];for(u.length=e,n=e;n>=0;n--)n<e&&(u[n]=new L.Point(t.x+i*Math.cos(s),t.y+i*Math.sin(s))._round()),i+=a/(s+=o/i+5e-4*n);return u},_noanimationUnspiderfy:function(){var e,t,n=this._group,r=n._map,i=n._featureGroup,o=this.getAllChildMarkers(null,!0);for(n._ignoreMove=!0,this.setOpacity(1),t=o.length-1;t>=0;t--)e=o[t],i.removeLayer(e),e._preSpiderfyLatlng&&(e.setLatLng(e._preSpiderfyLatlng),delete e._preSpiderfyLatlng),e.setZIndexOffset&&e.setZIndexOffset(0),e._spiderLeg&&(r.removeLayer(e._spiderLeg),delete e._spiderLeg);n.fire("unspiderfied",{cluster:this,markers:o}),n._ignoreMove=!1,n._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(e,t){var n,r,i,o,a=this._group,s=a._map,u=a._featureGroup,c=this._group.options.spiderLegPolylineOptions;for(a._ignoreMove=!0,n=0;n<e.length;n++)o=s.layerPointToLatLng(t[n]),r=e[n],i=new L.Polyline([this._latlng,o],c),s.addLayer(i),r._spiderLeg=i,r._preSpiderfyLatlng=r._latlng,r.setLatLng(o),r.setZIndexOffset&&r.setZIndexOffset(1e6),u.addLayer(r);this.setOpacity(.3),a._ignoreMove=!1,a.fire("spiderfied",{cluster:this,markers:e})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(e,t){var n,r,i,o,a,s,u=this,c=this._group,l=c._map,f=c._featureGroup,d=this._latlng,h=l.latLngToLayerPoint(d),p=L.Path.SVG,v=L.extend({},this._group.options.spiderLegPolylineOptions),g=v.opacity;for(void 0===g&&(g=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),p?(v.opacity=0,v.className=(v.className||"")+" leaflet-cluster-spider-leg"):v.opacity=g,c._ignoreMove=!0,n=0;n<e.length;n++)r=e[n],s=l.layerPointToLatLng(t[n]),i=new L.Polyline([d,s],v),l.addLayer(i),r._spiderLeg=i,p&&(a=(o=i._path).getTotalLength()+.1,o.style.strokeDasharray=a,o.style.strokeDashoffset=a),r.setZIndexOffset&&r.setZIndexOffset(1e6),r.clusterHide&&r.clusterHide(),f.addLayer(r),r._setPos&&r._setPos(h);for(c._forceLayout(),c._animationStart(),n=e.length-1;n>=0;n--)s=l.layerPointToLatLng(t[n]),(r=e[n])._preSpiderfyLatlng=r._latlng,r.setLatLng(s),r.clusterShow&&r.clusterShow(),p&&((o=(i=r._spiderLeg)._path).style.strokeDashoffset=0,i.setStyle({opacity:g}));this.setOpacity(.3),c._ignoreMove=!1,setTimeout((function(){c._animationEnd(),c.fire("spiderfied",{cluster:u,markers:e})}),200)},_animationUnspiderfy:function(e){var t,n,r,i,o,a,s=this,u=this._group,c=u._map,l=u._featureGroup,f=e?c._latLngToNewLayerPoint(this._latlng,e.zoom,e.center):c.latLngToLayerPoint(this._latlng),d=this.getAllChildMarkers(null,!0),h=L.Path.SVG;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),n=d.length-1;n>=0;n--)(t=d[n])._preSpiderfyLatlng&&(t.closePopup(),t.setLatLng(t._preSpiderfyLatlng),delete t._preSpiderfyLatlng,a=!0,t._setPos&&(t._setPos(f),a=!1),t.clusterHide&&(t.clusterHide(),a=!1),a&&l.removeLayer(t),h&&(o=(i=(r=t._spiderLeg)._path).getTotalLength()+.1,i.style.strokeDashoffset=o,r.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout((function(){var e=0;for(n=d.length-1;n>=0;n--)(t=d[n])._spiderLeg&&e++;for(n=d.length-1;n>=0;n--)(t=d[n])._spiderLeg&&(t.clusterShow&&t.clusterShow(),t.setZIndexOffset&&t.setZIndexOffset(0),e>1&&l.removeLayer(t),c.removeLayer(t._spiderLeg),delete t._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:s,markers:d})}),200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(e){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(e))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(e){this._spiderfied&&this._spiderfied.unspiderfy(e)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(e){e._spiderLeg&&(this._featureGroup.removeLayer(e),e.clusterShow&&e.clusterShow(),e.setZIndexOffset&&e.setZIndexOffset(0),this._map.removeLayer(e._spiderLeg),delete e._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(e){return e?e instanceof L.MarkerClusterGroup?e=e._topClusterLevel.getAllChildMarkers():e instanceof L.LayerGroup?e=e._layers:e instanceof L.MarkerCluster?e=e.getAllChildMarkers():e instanceof L.Marker&&(e=[e]):e=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(e),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(e),this},_flagParentsIconsNeedUpdate:function(e){var t,n;for(t in e)for(n=e[t].__parent;n;)n._iconNeedsUpdate=!0,n=n.__parent},_refreshSingleMarkerModeMarkers:function(e){var t,n;for(t in e)n=e[t],this.hasLayer(n)&&n.setIcon(this._overrideMarkerIcon(n))}}),L.Marker.include({refreshIconOptions:function(e,t){var n=this.options.icon;return L.setOptions(n,e),this.setIcon(n),t&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),e.MarkerClusterGroup=t,e.MarkerCluster=n,Object.defineProperty(e,"__esModule",{value:!0})}(t)},8559:function(e,t){!function(e){"use strict";var t="1.9.3";function n(e){var t,n,r,i;for(n=1,r=arguments.length;n<r;n++)for(t in i=arguments[n])e[t]=i[t];return e}var r=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function i(e,t){var n=Array.prototype.slice;if(e.bind)return e.bind.apply(e,n.call(arguments,1));var r=n.call(arguments,2);return function(){return e.apply(t,r.length?r.concat(n.call(arguments)):arguments)}}var o=0;function a(e){return"_leaflet_id"in e||(e._leaflet_id=++o),e._leaflet_id}function s(e,t,n){var r,i,o,a;return a=function(){r=!1,i&&(o.apply(n,i),i=!1)},o=function(){r?i=arguments:(e.apply(n,arguments),setTimeout(a,t),r=!0)},o}function u(e,t,n){var r=t[1],i=t[0],o=r-i;return e===r&&n?e:((e-i)%o+o)%o+i}function c(){return!1}function l(e,t){if(!1===t)return e;var n=Math.pow(10,void 0===t?6:t);return Math.round(e*n)/n}function f(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d(e){return f(e).split(/\s+/)}function h(e,t){for(var n in Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?r(e.options):{}),t)e.options[n]=t[n];return e.options}function p(e,t,n){var r=[];for(var i in e)r.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(e[i]));return(t&&-1!==t.indexOf("?")?"&":"?")+r.join("&")}var v=/\{ *([\w_ -]+) *\}/g;function g(e,t){return e.replace(v,(function(e,n){var r=t[n];if(void 0===r)throw new Error("No value provided for variable "+e);return"function"===typeof r&&(r=r(t)),r}))}var y=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function m(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var w="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function _(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var b=0;function x(e){var t=+new Date,n=Math.max(0,16-(t-b));return b=t+n,window.setTimeout(e,n)}var S=window.requestAnimationFrame||_("RequestAnimationFrame")||x,k=window.cancelAnimationFrame||_("CancelAnimationFrame")||_("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function E(e,t,n){if(!n||S!==x)return S.call(window,i(e,t));e.call(t)}function C(e){e&&k.call(window,e)}var P={__proto__:null,extend:n,create:r,bind:i,get lastId(){return o},stamp:a,throttle:s,wrapNum:u,falseFn:c,formatNum:l,trim:f,splitWords:d,setOptions:h,getParamString:p,template:g,isArray:y,indexOf:m,emptyImageUrl:w,requestFn:S,cancelFn:k,requestAnimFrame:E,cancelAnimFrame:C};function A(){}function T(e){if("undefined"!==typeof L&&L&&L.Mixin){e=y(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}}A.extend=function(e){var t=function(){h(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},i=t.__super__=this.prototype,o=r(i);for(var a in o.constructor=t,t.prototype=o,this)Object.prototype.hasOwnProperty.call(this,a)&&"prototype"!==a&&"__super__"!==a&&(t[a]=this[a]);return e.statics&&n(t,e.statics),e.includes&&(T(e.includes),n.apply(null,[o].concat(e.includes))),n(o,e),delete o.statics,delete o.includes,o.options&&(o.options=i.options?r(i.options):{},n(o.options,e.options)),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var e=0,t=o._initHooks.length;e<t;e++)o._initHooks[e].call(this)}},t},A.include=function(e){var t=this.prototype.options;return n(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},A.mergeOptions=function(e){return n(this.prototype.options,e),this},A.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),n="function"===typeof e?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var O={on:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n);return this},off:function(e,t,n){if(arguments.length)if("object"===typeof e)for(var r in e)this._off(r,e[r],t);else{e=d(e);for(var i=1===arguments.length,o=0,a=e.length;o<a;o++)i?this._off(e[o]):this._off(e[o],t,n)}else delete this._events;return this},_on:function(e,t,n,r){if("function"===typeof t){if(!1===this._listens(e,t,n)){n===this&&(n=void 0);var i={fn:t,ctx:n};r&&(i.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(i)}}else console.warn("wrong listener type: "+typeof t)},_off:function(e,t,n){var r,i,o;if(this._events&&(r=this._events[e]))if(1!==arguments.length)if("function"===typeof t){var a=this._listens(e,t,n);if(!1!==a){var s=r[a];this._firingCount&&(s.fn=c,this._events[e]=r=r.slice()),r.splice(a,1)}}else console.warn("wrong listener type: "+typeof t);else{if(this._firingCount)for(i=0,o=r.length;i<o;i++)r[i].fn=c;delete this._events[e]}},fire:function(e,t,r){if(!this.listens(e,r))return this;var i=n({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var o=this._events[e];if(o){this._firingCount=this._firingCount+1||1;for(var a=0,s=o.length;a<s;a++){var u=o[a],c=u.fn;u.once&&this.off(e,c,u.ctx),c.call(u.ctx||this,i)}this._firingCount--}}return r&&this._propagateEvent(i),this},listens:function(e,t,n,r){"string"!==typeof e&&console.warn('"string" type argument expected');var i=t;"function"!==typeof t&&(r=!!t,i=void 0,n=void 0);var o=this._events&&this._events[e];if(o&&o.length&&!1!==this._listens(e,i,n))return!0;if(r)for(var a in this._eventParents)if(this._eventParents[a].listens(e,t,n,r))return!0;return!1},_listens:function(e,t,n){if(!this._events)return!1;var r=this._events[e]||[];if(!t)return!!r.length;n===this&&(n=void 0);for(var i=0,o=r.length;i<o;i++)if(r[i].fn===t&&r[i].ctx===n)return i;return!1},once:function(e,t,n){if("object"===typeof e)for(var r in e)this._on(r,e[r],t,!0);else for(var i=0,o=(e=d(e)).length;i<o;i++)this._on(e[i],t,n,!0);return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[a(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[a(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,n({layer:e.target,propagatedFrom:e.target},e),!0)}};O.addEventListener=O.on,O.removeEventListener=O.clearAllEventListeners=O.off,O.addOneTimeEventListener=O.once,O.fireEvent=O.fire,O.hasEventListeners=O.listens;var I=A.extend(O);function R(e,t,n){this.x=n?Math.round(e):e,this.y=n?Math.round(t):t}var F=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};function M(e,t,n){return e instanceof R?e:y(e)?new R(e[0],e[1]):void 0===e||null===e?e:"object"===typeof e&&"x"in e&&"y"in e?new R(e.x,e.y):new R(e,t,n)}function j(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function D(e,t){return!e||e instanceof j?e:new j(e,t)}function N(e,t){if(e)for(var n=t?[e,t]:e,r=0,i=n.length;r<i;r++)this.extend(n[r])}function U(e,t){return e instanceof N?e:new N(e,t)}function Z(e,t,n){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,void 0!==n&&(this.alt=+n)}function B(e,t,n){return e instanceof Z?e:y(e)&&"object"!==typeof e[0]?3===e.length?new Z(e[0],e[1],e[2]):2===e.length?new Z(e[0],e[1]):null:void 0===e||null===e?e:"object"===typeof e&&"lat"in e?new Z(e.lat,"lng"in e?e.lng:e.lon,e.alt):void 0===t?null:new Z(e,t,n)}R.prototype={clone:function(){return new R(this.x,this.y)},add:function(e){return this.clone()._add(M(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(M(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new R(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new R(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=F(this.x),this.y=F(this.y),this},distanceTo:function(e){var t=(e=M(e)).x-this.x,n=e.y-this.y;return Math.sqrt(t*t+n*n)},equals:function(e){return(e=M(e)).x===this.x&&e.y===this.y},contains:function(e){return e=M(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+l(this.x)+", "+l(this.y)+")"}},j.prototype={extend:function(e){var t,n;if(!e)return this;if(e instanceof R||"number"===typeof e[0]||"x"in e)t=n=M(e);else if(t=(e=D(e)).min,n=e.max,!t||!n)return this;return this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(n.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(n.y,this.max.y)):(this.min=t.clone(),this.max=n.clone()),this},getCenter:function(e){return M((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return M(this.min.x,this.max.y)},getTopRight:function(){return M(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,n;return(e="number"===typeof e[0]||e instanceof R?M(e):D(e))instanceof j?(t=e.min,n=e.max):t=n=e,t.x>=this.min.x&&n.x<=this.max.x&&t.y>=this.min.y&&n.y<=this.max.y},intersects:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>=t.x&&r.x<=n.x,a=i.y>=t.y&&r.y<=n.y;return o&&a},overlaps:function(e){e=D(e);var t=this.min,n=this.max,r=e.min,i=e.max,o=i.x>t.x&&r.x<n.x,a=i.y>t.y&&r.y<n.y;return o&&a},isValid:function(){return!(!this.min||!this.max)},pad:function(e){var t=this.min,n=this.max,r=Math.abs(t.x-n.x)*e,i=Math.abs(t.y-n.y)*e;return D(M(t.x-r,t.y-i),M(n.x+r,n.y+i))},equals:function(e){return!!e&&(e=D(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight()))}},N.prototype={extend:function(e){var t,n,r=this._southWest,i=this._northEast;if(e instanceof Z)t=e,n=e;else{if(!(e instanceof N))return e?this.extend(B(e)||U(e)):this;if(t=e._southWest,n=e._northEast,!t||!n)return this}return r||i?(r.lat=Math.min(t.lat,r.lat),r.lng=Math.min(t.lng,r.lng),i.lat=Math.max(n.lat,i.lat),i.lng=Math.max(n.lng,i.lng)):(this._southWest=new Z(t.lat,t.lng),this._northEast=new Z(n.lat,n.lng)),this},pad:function(e){var t=this._southWest,n=this._northEast,r=Math.abs(t.lat-n.lat)*e,i=Math.abs(t.lng-n.lng)*e;return new N(new Z(t.lat-r,t.lng-i),new Z(n.lat+r,n.lng+i))},getCenter:function(){return new Z((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Z(this.getNorth(),this.getWest())},getSouthEast:function(){return new Z(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){e="number"===typeof e[0]||e instanceof Z||"lat"in e?B(e):U(e);var t,n,r=this._southWest,i=this._northEast;return e instanceof N?(t=e.getSouthWest(),n=e.getNorthEast()):t=n=e,t.lat>=r.lat&&n.lat<=i.lat&&t.lng>=r.lng&&n.lng<=i.lng},intersects:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>=t.lat&&r.lat<=n.lat,a=i.lng>=t.lng&&r.lng<=n.lng;return o&&a},overlaps:function(e){e=U(e);var t=this._southWest,n=this._northEast,r=e.getSouthWest(),i=e.getNorthEast(),o=i.lat>t.lat&&r.lat<n.lat,a=i.lng>t.lng&&r.lng<n.lng;return o&&a},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return!!e&&(e=U(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t))},isValid:function(){return!(!this._southWest||!this._northEast)}},Z.prototype={equals:function(e,t){return!!e&&(e=B(e),Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng))<=(void 0===t?1e-9:t))},toString:function(e){return"LatLng("+l(this.lat,e)+", "+l(this.lng,e)+")"},distanceTo:function(e){return z.distance(this,B(e))},wrap:function(){return z.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,n=t/Math.cos(Math.PI/180*this.lat);return U([this.lat-t,this.lng-n],[this.lat+t,this.lng+n])},clone:function(){return new Z(this.lat,this.lng,this.alt)}};var H={latLngToPoint:function(e,t){var n=this.projection.project(e),r=this.scale(t);return this.transformation._transform(n,r)},pointToLatLng:function(e,t){var n=this.scale(t),r=this.transformation.untransform(e,n);return this.projection.unproject(r)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,n=this.scale(e);return new j(this.transformation.transform(t.min,n),this.transformation.transform(t.max,n))},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?u(e.lng,this.wrapLng,!0):e.lng;return new Z(this.wrapLat?u(e.lat,this.wrapLat,!0):e.lat,t,e.alt)},wrapLatLngBounds:function(e){var t=e.getCenter(),n=this.wrapLatLng(t),r=t.lat-n.lat,i=t.lng-n.lng;if(0===r&&0===i)return e;var o=e.getSouthWest(),a=e.getNorthEast();return new N(new Z(o.lat-r,o.lng-i),new Z(a.lat-r,a.lng-i))}},z=n({},H,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var n=Math.PI/180,r=e.lat*n,i=t.lat*n,o=Math.sin((t.lat-e.lat)*n/2),a=Math.sin((t.lng-e.lng)*n/2),s=o*o+Math.cos(r)*Math.cos(i)*a*a,u=2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s));return this.R*u}}),K=6378137,V={R:K,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,n=this.MAX_LATITUDE,r=Math.max(Math.min(n,e.lat),-n),i=Math.sin(r*t);return new R(this.R*e.lng*t,this.R*Math.log((1+i)/(1-i))/2)},unproject:function(e){var t=180/Math.PI;return new Z((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=K*Math.PI;return new j([-e,-e],[e,e])}()};function W(e,t,n,r){if(y(e))return this._a=e[0],this._b=e[1],this._c=e[2],void(this._d=e[3]);this._a=e,this._b=t,this._c=n,this._d=r}function q(e,t,n,r){return new W(e,t,n,r)}W.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new R((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};var G=n({},z,{code:"EPSG:3857",projection:V,transformation:function(){var e=.5/(Math.PI*V.R);return q(e,.5,-e,.5)}()}),J=n({},G,{code:"EPSG:900913"});function Q(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function Y(e,t){var n,r,i,o,a,s,u="";for(n=0,i=e.length;n<i;n++){for(r=0,o=(a=e[n]).length;r<o;r++)u+=(r?"L":"M")+(s=a[r]).x+" "+s.y;u+=t?je.svg?"z":"x":""}return u||"M0 0"}var X=document.documentElement.style,$="ActiveXObject"in window,ee=$&&!document.addEventListener,te="msLaunchUri"in navigator&&!("documentMode"in document),ne=Me("webkit"),re=Me("android"),ie=Me("android 2")||Me("android 3"),oe=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),ae=re&&Me("Google")&&oe<537&&!("AudioNode"in window),se=!!window.opera,ue=!te&&Me("chrome"),ce=Me("gecko")&&!ne&&!se&&!$,le=!ue&&Me("safari"),fe=Me("phantom"),de="OTransition"in X,he=0===navigator.platform.indexOf("Win"),pe=$&&"transition"in X,ve="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ie,ge="MozPerspective"in X,ye=!window.L_DISABLE_3D&&(pe||ve||ge)&&!de&&!fe,me="undefined"!==typeof orientation||Me("mobile"),we=me&&ne,_e=me&&ve,be=!window.PointerEvent&&window.MSPointerEvent,xe=!(!window.PointerEvent&&!be),Se="ontouchstart"in window||!!window.TouchEvent,ke=!window.L_NO_TOUCH&&(Se||xe),Ee=me&&se,Ce=me&&ce,Pe=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Ae=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",c,t),window.removeEventListener("testPassiveEventSupport",c,t)}catch(n){}return e}(),Te=!!document.createElement("canvas").getContext,Oe=!(!document.createElementNS||!Q("svg").createSVGRect),Ie=!!Oe&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>","http://www.w3.org/2000/svg"===(e.firstChild&&e.firstChild.namespaceURI)}(),Re=!Oe&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&"object"===typeof t.adj}catch(n){return!1}}(),Le=0===navigator.platform.indexOf("Mac"),Fe=0===navigator.platform.indexOf("Linux");function Me(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var je={ie:$,ielt9:ee,edge:te,webkit:ne,android:re,android23:ie,androidStock:ae,opera:se,chrome:ue,gecko:ce,safari:le,phantom:fe,opera12:de,win:he,ie3d:pe,webkit3d:ve,gecko3d:ge,any3d:ye,mobile:me,mobileWebkit:we,mobileWebkit3d:_e,msPointer:be,pointer:xe,touch:ke,touchNative:Se,mobileOpera:Ee,mobileGecko:Ce,retina:Pe,passiveEvents:Ae,canvas:Te,svg:Oe,vml:Re,inlineSvg:Ie,mac:Le,linux:Fe},De=je.msPointer?"MSPointerDown":"pointerdown",Ne=je.msPointer?"MSPointerMove":"pointermove",Ue=je.msPointer?"MSPointerUp":"pointerup",Ze=je.msPointer?"MSPointerCancel":"pointercancel",Be={touchstart:De,touchmove:Ne,touchend:Ue,touchcancel:Ze},He={touchstart:Xe,touchmove:Ye,touchend:Ye,touchcancel:Ye},ze={},Ke=!1;function Ve(e,t,n){return"touchstart"===t&&Qe(),He[t]?(n=He[t].bind(this,n),e.addEventListener(Be[t],n,!1),n):(console.warn("wrong event specified:",t),c)}function We(e,t,n){Be[t]?e.removeEventListener(Be[t],n,!1):console.warn("wrong event specified:",t)}function qe(e){ze[e.pointerId]=e}function Ge(e){ze[e.pointerId]&&(ze[e.pointerId]=e)}function Je(e){delete ze[e.pointerId]}function Qe(){Ke||(document.addEventListener(De,qe,!0),document.addEventListener(Ne,Ge,!0),document.addEventListener(Ue,Je,!0),document.addEventListener(Ze,Je,!0),Ke=!0)}function Ye(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){for(var n in t.touches=[],ze)t.touches.push(ze[n]);t.changedTouches=[t],e(t)}}function Xe(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&qt(t),Ye(e,t)}function $e(e){var t,n,r={};for(n in e)t=e[n],r[n]=t&&t.bind?t.bind(e):t;return e=r,r.type="dblclick",r.detail=2,r.isTrusted=!1,r._simulated=!0,r}var et=200;function tt(e,t){e.addEventListener("dblclick",t);var n,r=0;function i(e){if(1===e.detail){if("mouse"!==e.pointerType&&(!e.sourceCapabilities||e.sourceCapabilities.firesTouchEvents)){var i=Jt(e);if(!i.some((function(e){return e instanceof HTMLLabelElement&&e.attributes.for}))||i.some((function(e){return e instanceof HTMLInputElement||e instanceof HTMLSelectElement}))){var o=Date.now();o-r<=et?2===++n&&t($e(e)):n=1,r=o}}}else n=e.detail}return e.addEventListener("click",i),{dblclick:t,simDblclick:i}}function nt(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var rt,it,ot,at,st,ut=Et(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),ct=Et(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),lt="webkitTransition"===ct||"OTransition"===ct?ct+"End":"transitionend";function ft(e){return"string"===typeof e?document.getElementById(e):e}function dt(e,t){var n=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!n||"auto"===n)&&document.defaultView){var r=document.defaultView.getComputedStyle(e,null);n=r?r[t]:null}return"auto"===n?null:n}function ht(e,t,n){var r=document.createElement(e);return r.className=t||"",n&&n.appendChild(r),r}function pt(e){var t=e.parentNode;t&&t.removeChild(e)}function vt(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function gt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function yt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function mt(e,t){if(void 0!==e.classList)return e.classList.contains(t);var n=xt(e);return n.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(n)}function wt(e,t){if(void 0!==e.classList)for(var n=d(t),r=0,i=n.length;r<i;r++)e.classList.add(n[r]);else if(!mt(e,t)){var o=xt(e);bt(e,(o?o+" ":"")+t)}}function _t(e,t){void 0!==e.classList?e.classList.remove(t):bt(e,f((" "+xt(e)+" ").replace(" "+t+" "," ")))}function bt(e,t){void 0===e.className.baseVal?e.className=t:e.className.baseVal=t}function xt(e){return e.correspondingElement&&(e=e.correspondingElement),void 0===e.className.baseVal?e.className:e.className.baseVal}function St(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&kt(e,t)}function kt(e,t){var n=!1,r="DXImageTransform.Microsoft.Alpha";try{n=e.filters.item(r)}catch(i){if(1===t)return}t=Math.round(100*t),n?(n.Enabled=100!==t,n.Opacity=t):e.style.filter+=" progid:"+r+"(opacity="+t+")"}function Et(e){for(var t=document.documentElement.style,n=0;n<e.length;n++)if(e[n]in t)return e[n];return!1}function Ct(e,t,n){var r=t||new R(0,0);e.style[ut]=(je.ie3d?"translate("+r.x+"px,"+r.y+"px)":"translate3d("+r.x+"px,"+r.y+"px,0)")+(n?" scale("+n+")":"")}function Pt(e,t){e._leaflet_pos=t,je.any3d?Ct(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function At(e){return e._leaflet_pos||new R(0,0)}if("onselectstart"in document)rt=function(){Dt(window,"selectstart",qt)},it=function(){Ut(window,"selectstart",qt)};else{var Tt=Et(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);rt=function(){if(Tt){var e=document.documentElement.style;ot=e[Tt],e[Tt]="none"}},it=function(){Tt&&(document.documentElement.style[Tt]=ot,ot=void 0)}}function Ot(){Dt(window,"dragstart",qt)}function It(){Ut(window,"dragstart",qt)}function Rt(e){for(;-1===e.tabIndex;)e=e.parentNode;e.style&&(Lt(),at=e,st=e.style.outline,e.style.outline="none",Dt(window,"keydown",Lt))}function Lt(){at&&(at.style.outline=st,at=void 0,st=void 0,Ut(window,"keydown",Lt))}function Ft(e){do{e=e.parentNode}while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function Mt(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var jt={__proto__:null,TRANSFORM:ut,TRANSITION:ct,TRANSITION_END:lt,get:ft,getStyle:dt,create:ht,remove:pt,empty:vt,toFront:gt,toBack:yt,hasClass:mt,addClass:wt,removeClass:_t,setClass:bt,getClass:xt,setOpacity:St,testProp:Et,setTransform:Ct,setPosition:Pt,getPosition:At,get disableTextSelection(){return rt},get enableTextSelection(){return it},disableImageDrag:Ot,enableImageDrag:It,preventOutline:Rt,restoreOutline:Lt,getSizedParentNode:Ft,getScale:Mt};function Dt(e,t,n,r){if(t&&"object"===typeof t)for(var i in t)Ht(e,i,t[i],n);else for(var o=0,a=(t=d(t)).length;o<a;o++)Ht(e,t[o],n,r);return this}var Nt="_leaflet_events";function Ut(e,t,n,r){if(1===arguments.length)Zt(e),delete e[Nt];else if(t&&"object"===typeof t)for(var i in t)zt(e,i,t[i],n);else if(t=d(t),2===arguments.length)Zt(e,(function(e){return-1!==m(t,e)}));else for(var o=0,a=t.length;o<a;o++)zt(e,t[o],n,r);return this}function Zt(e,t){for(var n in e[Nt]){var r=n.split(/\d/)[0];t&&!t(r)||zt(e,r,null,null,n)}}var Bt={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ht(e,t,n,r){var i=t+a(n)+(r?"_"+a(r):"");if(e[Nt]&&e[Nt][i])return this;var o=function(t){return n.call(r||e,t||window.event)},s=o;!je.touchNative&&je.pointer&&0===t.indexOf("touch")?o=Ve(e,t,o):je.touch&&"dblclick"===t?o=tt(e,o):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Bt[t]||t,o,!!je.passiveEvents&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?(o=function(t){t=t||window.event,$t(e,t)&&s(t)},e.addEventListener(Bt[t],o,!1)):e.addEventListener(t,s,!1):e.attachEvent("on"+t,o),e[Nt]=e[Nt]||{},e[Nt][i]=o}function zt(e,t,n,r,i){i=i||t+a(n)+(r?"_"+a(r):"");var o=e[Nt]&&e[Nt][i];if(!o)return this;!je.touchNative&&je.pointer&&0===t.indexOf("touch")?We(e,t,o):je.touch&&"dblclick"===t?nt(e,o):"removeEventListener"in e?e.removeEventListener(Bt[t]||t,o,!1):e.detachEvent("on"+t,o),e[Nt][i]=null}function Kt(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function Vt(e){return Ht(e,"wheel",Kt),this}function Wt(e){return Dt(e,"mousedown touchstart dblclick contextmenu",Kt),e._leaflet_disable_click=!0,this}function qt(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Gt(e){return qt(e),Kt(e),this}function Jt(e){if(e.composedPath)return e.composedPath();for(var t=[],n=e.target;n;)t.push(n),n=n.parentNode;return t}function Qt(e,t){if(!t)return new R(e.clientX,e.clientY);var n=Mt(t),r=n.boundingClientRect;return new R((e.clientX-r.left)/n.x-t.clientLeft,(e.clientY-r.top)/n.y-t.clientTop)}var Yt=je.linux&&je.chrome?window.devicePixelRatio:je.mac?3*window.devicePixelRatio:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Xt(e){return je.edge?e.wheelDeltaY/2:e.deltaY&&0===e.deltaMode?-e.deltaY/Yt:e.deltaY&&1===e.deltaMode?20*-e.deltaY:e.deltaY&&2===e.deltaMode?60*-e.deltaY:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?20*-e.detail:e.detail?e.detail/-32765*60:0}function $t(e,t){var n=t.relatedTarget;if(!n)return!0;try{for(;n&&n!==e;)n=n.parentNode}catch(r){return!1}return n!==e}var en={__proto__:null,on:Dt,off:Ut,stopPropagation:Kt,disableScrollPropagation:Vt,disableClickPropagation:Wt,preventDefault:qt,stop:Gt,getPropagationPath:Jt,getMousePosition:Qt,getWheelDelta:Xt,isExternalTarget:$t,addListener:Dt,removeListener:Ut},tn=I.extend({run:function(e,t,n,r){this.stop(),this._el=e,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(r||.5,.2),this._startPos=At(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=E(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,n=1e3*this._duration;t<n?this._runFrame(this._easeOut(t/n),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var n=this._startPos.add(this._offset.multiplyBy(e));t&&n._round(),Pt(this._el,n),this.fire("step")},_complete:function(){C(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),nn=I.extend({options:{crs:G,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=h(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=i(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),void 0!==t.zoom&&(this._zoom=this._limitZoom(t.zoom)),t.center&&void 0!==t.zoom&&this.setView(B(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=ct&&je.any3d&&!je.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Dt(this._proxy,lt,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,r){return t=void 0===t?this._zoom:this._limitZoom(t),e=this._limitCenter(B(e),t,this.options.maxBounds),r=r||{},this._stop(),this._loaded&&!r.reset&&!0!==r&&(void 0!==r.animate&&(r.zoom=n({animate:r.animate},r.zoom),r.pan=n({animate:r.animate,duration:r.duration},r.pan)),this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,r.zoom):this._tryAnimatedPan(e,r.pan))?(clearTimeout(this._sizeTimer),this):(this._resetView(e,t,r.pan&&r.pan.noMoveStart),this)},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(je.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,n){var r=this.getZoomScale(t),i=this.getSize().divideBy(2),o=(e instanceof R?e:this.latLngToContainerPoint(e)).subtract(i).multiplyBy(1-1/r),a=this.containerPointToLatLng(i.add(o));return this.setView(a,t,{zoom:n})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():U(e);var n=M(t.paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.getBoundsZoom(e,!1,n.add(r));if((i="number"===typeof t.maxZoom?Math.min(t.maxZoom,i):i)===1/0)return{center:e.getCenter(),zoom:i};var o=r.subtract(n).divideBy(2),a=this.project(e.getSouthWest(),i),s=this.project(e.getNorthEast(),i);return{center:this.unproject(a.add(s).divideBy(2).add(o),i),zoom:i}},fitBounds:function(e,t){if(!(e=U(e)).isValid())throw new Error("Bounds are not valid.");var n=this._getBoundsCenterZoom(e,t);return this.setView(n.center,n.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(t=t||{},!(e=M(e).round()).x&&!e.y)return this.fire("moveend");if(!0!==t.animate&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new tn,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),!1!==t.animate){wt(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,n,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,n){if(!1===(n=n||{}).animate||!je.any3d)return this.setView(e,t,n);this._stop();var r=this.project(this.getCenter()),i=this.project(e),o=this.getSize(),a=this._zoom;e=B(e),t=void 0===t?a:t;var s=Math.max(o.x,o.y),u=s*this.getZoomScale(a,t),c=i.distanceTo(r)||1,l=1.42,f=l*l;function d(e){var t=(u*u-s*s+(e?-1:1)*f*f*c*c)/(2*(e?u:s)*f*c),n=Math.sqrt(t*t+1)-t;return n<1e-9?-18:Math.log(n)}function h(e){return(Math.exp(e)-Math.exp(-e))/2}function p(e){return(Math.exp(e)+Math.exp(-e))/2}function v(e){return h(e)/p(e)}var g=d(0);function y(e){return s*(p(g)/p(g+l*e))}function m(e){return s*(p(g)*v(g+l*e)-h(g))/f}function w(e){return 1-Math.pow(1-e,1.5)}var _=Date.now(),b=(d(1)-g)/l,x=n.duration?1e3*n.duration:1e3*b*.8;function S(){var n=(Date.now()-_)/x,o=w(n)*b;n<=1?(this._flyToFrame=E(S,this),this._move(this.unproject(r.add(i.subtract(r).multiplyBy(m(o)/c)),a),this.getScaleZoom(s/y(o),a),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,n.noMoveStart),S.call(this),this},flyToBounds:function(e,t){var n=this._getBoundsCenterZoom(e,t);return this.flyTo(n.center,n.zoom,t)},setMaxBounds:function(e){return e=U(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var n=this.getCenter(),r=this._limitCenter(n,this._zoom,U(e));return n.equals(r)||this.panTo(r,t),this._enforcingBounds=!1,this},panInside:function(e,t){var n=M((t=t||{}).paddingTopLeft||t.padding||[0,0]),r=M(t.paddingBottomRight||t.padding||[0,0]),i=this.project(this.getCenter()),o=this.project(e),a=this.getPixelBounds(),s=D([a.min.add(n),a.max.subtract(r)]),u=s.getSize();if(!s.contains(o)){this._enforcingBounds=!0;var c=o.subtract(s.getCenter()),l=s.extend(o).getSize().subtract(u);i.x+=c.x<0?-l.x:l.x,i.y+=c.y<0?-l.y:l.y,this.panTo(this.unproject(i),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=n({animate:!1,pan:!0},!0===e?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var r=this.getSize(),o=t.divideBy(2).round(),a=r.divideBy(2).round(),s=o.subtract(a);return s.x||s.y?(e.animate&&e.pan?this.panBy(s):(e.pan&&this._rawPanBy(s),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:r})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=n({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=i(this._handleGeolocationResponse,this),r=i(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,r,e):navigator.geolocation.getCurrentPosition(t,r,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,n=e.message||(1===t?"permission denied":2===t?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+n+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=new Z(e.coords.latitude,e.coords.longitude),n=t.toBounds(2*e.coords.accuracy),r=this._locateOptions;if(r.setView){var i=this.getBoundsZoom(n);this.setView(t,r.maxZoom?Math.min(i,r.maxZoom):i)}var o={latlng:t,bounds:n,timestamp:e.timestamp};for(var a in e.coords)"number"===typeof e.coords[a]&&(o[a]=e.coords[a]);this.fire("locationfound",o)}},addHandler:function(e,t){if(!t)return this;var n=this[e]=new t(this);return this._handlers.push(n),this.options[e]&&n.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}var e;for(e in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),pt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(C(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[e].remove();for(e in this._panes)pt(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var n=ht("div","leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),t||this._mapPane);return e&&(this._panes[e]=n),n},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds();return new N(this.unproject(e.getBottomLeft()),this.unproject(e.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,n){e=U(e),n=M(n||[0,0]);var r=this.getZoom()||0,i=this.getMinZoom(),o=this.getMaxZoom(),a=e.getNorthWest(),s=e.getSouthEast(),u=this.getSize().subtract(n),c=D(this.project(s,r),this.project(a,r)).getSize(),l=je.any3d?this.options.zoomSnap:1,f=u.x/c.x,d=u.y/c.y,h=t?Math.max(f,d):Math.min(f,d);return r=this.getScaleZoom(h,r),l&&(r=Math.round(r/(l/100))*(l/100),r=t?Math.ceil(r/l)*l:Math.floor(r/l)*l),Math.max(i,Math.min(o,r))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new R(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var n=this._getTopLeftPoint(e,t);return new j(n,n.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(void 0===e?this.getZoom():e)},getPane:function(e){return"string"===typeof e?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var n=this.options.crs;return t=void 0===t?this._zoom:t,n.scale(e)/n.scale(t)},getScaleZoom:function(e,t){var n=this.options.crs;t=void 0===t?this._zoom:t;var r=n.zoom(e*n.scale(t));return isNaN(r)?1/0:r},project:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.latLngToPoint(B(e),t)},unproject:function(e,t){return t=void 0===t?this._zoom:t,this.options.crs.pointToLatLng(M(e),t)},layerPointToLatLng:function(e){var t=M(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){return this.project(B(e))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(B(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(U(e))},distance:function(e,t){return this.options.crs.distance(B(e),B(t))},containerPointToLayerPoint:function(e){return M(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return M(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(M(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(B(e)))},mouseEventToContainerPoint:function(e){return Qt(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=ft(e);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");Dt(t,"scroll",this._onScroll,this),this._containerId=a(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&je.any3d,wt(e,"leaflet-container"+(je.touch?" leaflet-touch":"")+(je.retina?" leaflet-retina":"")+(je.ielt9?" leaflet-oldie":"")+(je.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=dt(e,"position");"absolute"!==t&&"relative"!==t&&"fixed"!==t&&"sticky"!==t&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Pt(this._mapPane,new R(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(wt(e.markerPane,"leaflet-zoom-hide"),wt(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,n){Pt(this._mapPane,new R(0,0));var r=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var i=this._zoom!==t;this._moveStart(i,n)._move(e,t)._moveEnd(i),this.fire("viewreset"),r&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,n,r){void 0===t&&(t=this._zoom);var i=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),r?n&&n.pinch&&this.fire("zoom",n):((i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return C(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){Pt(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[a(this._container)]=this;var t=e?Ut:Dt;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),je.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){C(this._resizeRequest),this._resizeRequest=E((function(){this.invalidateSize({debounceMoveend:!0})}),this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var n,r=[],i="mouseout"===t||"mouseover"===t,o=e.target||e.srcElement,s=!1;o;){if((n=this._targets[a(o)])&&("click"===t||"preclick"===t)&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(t,!0)){if(i&&!$t(o,e))break;if(r.push(n),i)break}if(o===this._container)break;o=o.parentNode}return r.length||s||i||!this.listens(t,!0)||(r=[this]),r},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||"click"===e.type&&this._isClickDisabled(t))){var n=e.type;"mousedown"===n&&Rt(t),this._fireDOMEvent(e,n)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,r){if("click"===e.type){var i=n({},e);i.type="preclick",this._fireDOMEvent(i,i.type,r)}var o=this._findEventTargets(e,t);if(r){for(var a=[],s=0;s<r.length;s++)r[s].listens(t,!0)&&a.push(r[s]);o=a.concat(o)}if(o.length){"contextmenu"===t&&qt(e);var u=o[0],c={originalEvent:e};if("keypress"!==e.type&&"keydown"!==e.type&&"keyup"!==e.type){var l=u.getLatLng&&(!u._radius||u._radius<=10);c.containerPoint=l?this.latLngToContainerPoint(u.getLatLng()):this.mouseEventToContainerPoint(e),c.layerPoint=this.containerPointToLayerPoint(c.containerPoint),c.latlng=l?u.getLatLng():this.layerPointToLatLng(c.layerPoint)}for(s=0;s<o.length;s++)if(o[s].fire(t,c,!0),c.originalEvent._stopped||!1===o[s].options.bubblingMouseEvents&&-1!==m(this._mouseEvents,t))return}},_draggableMoved:function(e){return(e=e.dragging&&e.dragging.enabled()?e:this).dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return At(this._mapPane)||new R(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){return(e&&void 0!==t?this._getNewPixelOrigin(e,t):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var n=this.getSize()._divideBy(2);return this.project(e,t)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return this.project(e,t)._subtract(r)},_latLngBoundsToNewLayerBounds:function(e,t,n){var r=this._getNewPixelOrigin(n,t);return D([this.project(e.getSouthWest(),t)._subtract(r),this.project(e.getNorthWest(),t)._subtract(r),this.project(e.getSouthEast(),t)._subtract(r),this.project(e.getNorthEast(),t)._subtract(r)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,n){if(!n)return e;var r=this.project(e,t),i=this.getSize().divideBy(2),o=new j(r.subtract(i),r.add(i)),a=this._getBoundsOffset(o,n,t);return Math.abs(a.x)<=1&&Math.abs(a.y)<=1?e:this.unproject(r.add(a),t)},_limitOffset:function(e,t){if(!t)return e;var n=this.getPixelBounds(),r=new j(n.min.add(e),n.max.add(e));return e.add(this._getBoundsOffset(r,t))},_getBoundsOffset:function(e,t,n){var r=D(this.project(t.getNorthEast(),n),this.project(t.getSouthWest(),n)),i=r.min.subtract(e.min),o=r.max.subtract(e.max);return new R(this._rebound(i.x,-o.x),this._rebound(i.y,-o.y))},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),n=this.getMaxZoom(),r=je.any3d?this.options.zoomSnap:1;return r&&(e=Math.round(e/r)*r),Math.max(t,Math.min(n,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){_t(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var n=this._getCenterOffset(e)._trunc();return!(!0!==(t&&t.animate)&&!this.getSize().contains(n))&&(this.panBy(n,t),!0)},_createAnimProxy:function(){var e=this._proxy=ht("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",(function(e){var t=ut,n=this._proxy.style[t];Ct(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),n===this._proxy.style[t]&&this._animatingZoom&&this._onZoomTransitionEnd()}),this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){pt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Ct(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,n){if(this._animatingZoom)return!0;if(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var r=this.getZoomScale(t),i=this._getCenterOffset(e)._divideBy(1-1/r);return!(!0!==n.animate&&!this.getSize().contains(i))&&(E((function(){this._moveStart(!0,!1)._animateZoom(e,t,!0)}),this),!0)},_animateZoom:function(e,t,n,r){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,wt(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:r}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(i(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&_t(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function rn(e,t){return new nn(e,t)}var on=A.extend({options:{position:"topright"},initialize:function(e){h(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),n=this.getPosition(),r=e._controlCorners[n];return wt(t,"leaflet-control"),-1!==n.indexOf("bottom")?r.insertBefore(t,r.firstChild):r.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(pt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),an=function(e){return new on(e)};nn.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",n=this._controlContainer=ht("div",t+"control-container",this._container);function r(r,i){var o=t+r+" "+t+i;e[r+i]=ht("div",o,n)}r("top","left"),r("top","right"),r("bottom","left"),r("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)pt(this._controlCorners[e]);pt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var sn=on.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,n,r){return n<r?-1:r<n?1:0}},initialize:function(e,t,n){for(var r in h(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,e)this._addLayer(e[r],r);for(r in t)this._addLayer(t[r],r,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return on.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(a(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){wt(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(wt(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):_t(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return _t(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=ht("div",e),n=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Wt(t),Vt(t);var r=this._section=ht("section",e+"-list");n&&(this._map.on("click",this.collapse,this),Dt(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var i=this._layersLink=ht("a",e+"-toggle",t);i.href="#",i.title="Layers",i.setAttribute("role","button"),Dt(i,{keydown:function(e){13===e.keyCode&&this._expandSafely()},click:function(e){qt(e),this._expandSafely()}},this),n||this.expand(),this._baseLayersList=ht("div",e+"-base",r),this._separator=ht("div",e+"-separator",r),this._overlaysList=ht("div",e+"-overlays",r),t.appendChild(r)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&a(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,n){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:n}),this.options.sortLayers&&this._layers.sort(i((function(e,t){return this.options.sortFunction(e.layer,t.layer,e.name,t.name)}),this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;vt(this._baseLayersList),vt(this._overlaysList),this._layerControlInputs=[];var e,t,n,r,i=0;for(n=0;n<this._layers.length;n++)r=this._layers[n],this._addItem(r),t=t||r.overlay,e=e||!r.overlay,i+=r.overlay?0:1;return this.options.hideSingleBase&&(e=e&&i>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(a(e.target)),n=t.overlay?"add"===e.type?"overlayadd":"overlayremove":"add"===e.type?"baselayerchange":null;n&&this._map.fire(n,t)},_createRadioElement:function(e,t){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",r=document.createElement("div");return r.innerHTML=n,r.firstChild},_addItem:function(e){var t,n=document.createElement("label"),r=this._map.hasLayer(e.layer);e.overlay?((t=document.createElement("input")).type="checkbox",t.className="leaflet-control-layers-selector",t.defaultChecked=r):t=this._createRadioElement("leaflet-base-layers_"+a(this),r),this._layerControlInputs.push(t),t.layerId=a(e.layer),Dt(t,"click",this._onInputClick,this);var i=document.createElement("span");i.innerHTML=" "+e.name;var o=document.createElement("span");return n.appendChild(o),o.appendChild(t),o.appendChild(i),(e.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var e,t,n=this._layerControlInputs,r=[],i=[];this._handlingClick=!0;for(var o=n.length-1;o>=0;o--)e=n[o],t=this._getLayer(e.layerId).layer,e.checked?r.push(t):e.checked||i.push(t);for(o=0;o<i.length;o++)this._map.hasLayer(i[o])&&this._map.removeLayer(i[o]);for(o=0;o<r.length;o++)this._map.hasLayer(r[o])||this._map.addLayer(r[o]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var e,t,n=this._layerControlInputs,r=this._map.getZoom(),i=n.length-1;i>=0;i--)e=n[i],t=this._getLayer(e.layerId).layer,e.disabled=void 0!==t.options.minZoom&&r<t.options.minZoom||void 0!==t.options.maxZoom&&r>t.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;Dt(e,"click",qt),this.expand(),setTimeout((function(){Ut(e,"click",qt)}))}}),un=function(e,t,n){return new sn(e,t,n)},cn=on.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",n=ht("div",t+" leaflet-bar"),r=this.options;return this._zoomInButton=this._createButton(r.zoomInText,r.zoomInTitle,t+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(r.zoomOutText,r.zoomOutTitle,t+"-out",n,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,n,r,i){var o=ht("a",n,r);return o.innerHTML=e,o.href="#",o.title=t,o.setAttribute("role","button"),o.setAttribute("aria-label",t),Wt(o),Dt(o,"click",Gt),Dt(o,"click",i,this),Dt(o,"click",this._refocusOnMap,this),o},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";_t(this._zoomInButton,t),_t(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(wt(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(wt(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});nn.mergeOptions({zoomControl:!0}),nn.addInitHook((function(){this.options.zoomControl&&(this.zoomControl=new cn,this.addControl(this.zoomControl))}));var ln=function(e){return new cn(e)},fn=on.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",n=ht("div",t),r=this.options;return this._addScales(r,t+"-line",n),e.on(r.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),n},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,n){e.metric&&(this._mScale=ht("div",t,n)),e.imperial&&(this._iScale=ht("div",t,n))},_update:function(){var e=this._map,t=e.getSize().y/2,n=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(n)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),n=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,n,t/e)},_updateImperial:function(e){var t,n,r,i=3.2808399*e;i>5280?(t=i/5280,n=this._getRoundNum(t),this._updateScale(this._iScale,n+" mi",n/t)):(r=this._getRoundNum(i),this._updateScale(this._iScale,r+" ft",r/i))},_updateScale:function(e,t,n){e.style.width=Math.round(this.options.maxWidth*n)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),n=e/t;return t*(n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1)}}),dn=function(e){return new fn(e)},hn='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',pn=on.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(je.inlineSvg?hn+" ":"")+"Leaflet</a>"},initialize:function(e){h(this,e),this._attributions={}},onAdd:function(e){for(var t in e.attributionControl=this,this._container=ht("div","leaflet-control-attribution"),Wt(this._container),e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",(function(){this.removeAttribution(e.layer.getAttribution())}),this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(' <span aria-hidden="true">|</span> ')}}});nn.mergeOptions({attributionControl:!0}),nn.addInitHook((function(){this.options.attributionControl&&(new pn).addTo(this)}));var vn=function(e){return new pn(e)};on.Layers=sn,on.Zoom=cn,on.Scale=fn,on.Attribution=pn,an.layers=un,an.zoom=ln,an.scale=dn,an.attribution=vn;var gn=A.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});gn.addTo=function(e,t){return e.addHandler(t,this),this};var yn,mn={Events:O},wn=je.touch?"touchstart mousedown":"mousedown",_n=I.extend({options:{clickTolerance:3},initialize:function(e,t,n,r){h(this,r),this._element=e,this._dragStartTarget=t||e,this._preventOutline=n},enable:function(){this._enabled||(Dt(this._dragStartTarget,wn,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(_n._dragging===this&&this.finishDrag(!0),Ut(this._dragStartTarget,wn,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!mt(this._element,"leaflet-zoom-anim")))if(e.touches&&1!==e.touches.length)_n._dragging===this&&this.finishDrag();else if(!(_n._dragging||e.shiftKey||1!==e.which&&1!==e.button&&!e.touches)&&(_n._dragging=this,this._preventOutline&&Rt(this._element),Ot(),rt(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,n=Ft(this._element);this._startPoint=new R(t.clientX,t.clientY),this._startPos=At(this._element),this._parentScale=Mt(n);var r="mousedown"===e.type;Dt(document,r?"mousemove":"touchmove",this._onMove,this),Dt(document,r?"mouseup":"touchend touchcancel",this._onUp,this)}},_onMove:function(e){if(this._enabled)if(e.touches&&e.touches.length>1)this._moved=!0;else{var t=e.touches&&1===e.touches.length?e.touches[0]:e,n=new R(t.clientX,t.clientY)._subtract(this._startPoint);(n.x||n.y)&&(Math.abs(n.x)+Math.abs(n.y)<this.options.clickTolerance||(n.x/=this._parentScale.x,n.y/=this._parentScale.y,qt(e),this._moved||(this.fire("dragstart"),this._moved=!0,wt(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),wt(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(n),this._moving=!0,this._lastEvent=e,this._updatePosition()))}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),Pt(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){_t(document.body,"leaflet-dragging"),this._lastTarget&&(_t(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ut(document,"mousemove touchmove",this._onMove,this),Ut(document,"mouseup touchend touchcancel",this._onUp,this),It(),it(),this._moved&&this._moving&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)}),this._moving=!1,_n._dragging=!1}});function bn(e,t){if(!t||!e.length)return e.slice();var n=t*t;return e=kn(e=Cn(e,n),n)}function xn(e,t,n){return Math.sqrt(In(e,t,n,!0))}function Sn(e,t,n){return In(e,t,n)}function kn(e,t){var n=e.length,r=new(typeof Uint8Array!==void 0+""?Uint8Array:Array)(n);r[0]=r[n-1]=1,En(e,r,t,0,n-1);var i,o=[];for(i=0;i<n;i++)r[i]&&o.push(e[i]);return o}function En(e,t,n,r,i){var o,a,s,u=0;for(a=r+1;a<=i-1;a++)(s=In(e[a],e[r],e[i],!0))>u&&(o=a,u=s);u>n&&(t[o]=1,En(e,t,n,r,o),En(e,t,n,o,i))}function Cn(e,t){for(var n=[e[0]],r=1,i=0,o=e.length;r<o;r++)On(e[r],e[i])>t&&(n.push(e[r]),i=r);return i<o-1&&n.push(e[o-1]),n}function Pn(e,t,n,r,i){var o,a,s,u=r?yn:Tn(e,n),c=Tn(t,n);for(yn=c;;){if(!(u|c))return[e,t];if(u&c)return!1;s=Tn(a=An(e,t,o=u||c,n,i),n),o===u?(e=a,u=s):(t=a,c=s)}}function An(e,t,n,r,i){var o,a,s=t.x-e.x,u=t.y-e.y,c=r.min,l=r.max;return 8&n?(o=e.x+s*(l.y-e.y)/u,a=l.y):4&n?(o=e.x+s*(c.y-e.y)/u,a=c.y):2&n?(o=l.x,a=e.y+u*(l.x-e.x)/s):1&n&&(o=c.x,a=e.y+u*(c.x-e.x)/s),new R(o,a,i)}function Tn(e,t){var n=0;return e.x<t.min.x?n|=1:e.x>t.max.x&&(n|=2),e.y<t.min.y?n|=4:e.y>t.max.y&&(n|=8),n}function On(e,t){var n=t.x-e.x,r=t.y-e.y;return n*n+r*r}function In(e,t,n,r){var i,o=t.x,a=t.y,s=n.x-o,u=n.y-a,c=s*s+u*u;return c>0&&((i=((e.x-o)*s+(e.y-a)*u)/c)>1?(o=n.x,a=n.y):i>0&&(o+=s*i,a+=u*i)),s=e.x-o,u=e.y-a,r?s*s+u*u:new R(o,a)}function Rn(e){return!y(e[0])||"object"!==typeof e[0][0]&&"undefined"!==typeof e[0][0]}function Ln(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Rn(e)}function Fn(e,t){var n,r,i,o,a,s,u,c;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var l=[];for(var f in e)l.push(t.project(B(e[f])));var d=l.length;for(n=0,r=0;n<d-1;n++)r+=l[n].distanceTo(l[n+1])/2;if(0===r)c=l[0];else for(n=0,o=0;n<d-1;n++)if(a=l[n],s=l[n+1],(o+=i=a.distanceTo(s))>r){u=(o-r)/i,c=[s.x-u*(s.x-a.x),s.y-u*(s.y-a.y)];break}return t.unproject(M(c))}var Mn={__proto__:null,simplify:bn,pointToSegmentDistance:xn,closestPointOnSegment:Sn,clipSegment:Pn,_getEdgeIntersection:An,_getBitCode:Tn,_sqClosestPointOnSegment:In,isFlat:Rn,_flat:Ln,polylineCenter:Fn};function jn(e,t,n){var r,i,o,a,s,u,c,l,f,d=[1,4,2,8];for(i=0,c=e.length;i<c;i++)e[i]._code=Tn(e[i],t);for(a=0;a<4;a++){for(l=d[a],r=[],i=0,o=(c=e.length)-1;i<c;o=i++)s=e[i],u=e[o],s._code&l?u._code&l||((f=An(u,s,l,t,n))._code=Tn(f,t),r.push(f)):(u._code&l&&((f=An(u,s,l,t,n))._code=Tn(f,t),r.push(f)),r.push(s));e=r}return e}function Dn(e,t){var n,r,i,o,a,s,u,c,l;if(!e||0===e.length)throw new Error("latlngs not passed");Rn(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var f=[];for(var d in e)f.push(t.project(B(e[d])));var h=f.length;for(s=u=c=0,n=0,r=h-1;n<h;r=n++)i=f[n],o=f[r],a=i.y*o.x-o.y*i.x,u+=(i.x+o.x)*a,c+=(i.y+o.y)*a,s+=3*a;return l=0===s?f[0]:[u/s,c/s],t.unproject(M(l))}var Nn={__proto__:null,clipPolygon:jn,polygonCenter:Dn},Un={project:function(e){return new R(e.lng,e.lat)},unproject:function(e){return new Z(e.y,e.x)},bounds:new j([-180,-90],[180,90])},Zn={R:6378137,R_MINOR:6356752.314245179,bounds:new j([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(e){var t=Math.PI/180,n=this.R,r=e.lat*t,i=this.R_MINOR/n,o=Math.sqrt(1-i*i),a=o*Math.sin(r),s=Math.tan(Math.PI/4-r/2)/Math.pow((1-a)/(1+a),o/2);return r=-n*Math.log(Math.max(s,1e-10)),new R(e.lng*t*n,r)},unproject:function(e){for(var t,n=180/Math.PI,r=this.R,i=this.R_MINOR/r,o=Math.sqrt(1-i*i),a=Math.exp(-e.y/r),s=Math.PI/2-2*Math.atan(a),u=0,c=.1;u<15&&Math.abs(c)>1e-7;u++)t=o*Math.sin(s),t=Math.pow((1-t)/(1+t),o/2),s+=c=Math.PI/2-2*Math.atan(a*t)-s;return new Z(s*n,e.x*n/r)}},Bn={__proto__:null,LonLat:Un,Mercator:Zn,SphericalMercator:V},Hn=n({},z,{code:"EPSG:3395",projection:Zn,transformation:function(){var e=.5/(Math.PI*Zn.R);return q(e,.5,-e,.5)}()}),zn=n({},z,{code:"EPSG:4326",projection:Un,transformation:q(1/180,1,-1/180,.5)}),Kn=n({},H,{projection:Un,transformation:q(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var n=t.lng-e.lng,r=t.lat-e.lat;return Math.sqrt(n*n+r*r)},infinite:!0});H.Earth=z,H.EPSG3395=Hn,H.EPSG3857=G,H.EPSG900913=J,H.EPSG4326=zn,H.Simple=Kn;var Vn=I.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[a(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[a(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var n=this.getEvents();t.on(n,this),this.once("remove",(function(){t.off(n,this)}),this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});nn.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=a(e);return this._layers[t]||(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e)),this},removeLayer:function(e){var t=a(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return a(e)in this._layers},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},_addLayers:function(e){for(var t=0,n=(e=e?y(e)?e:[e]:[]).length;t<n;t++)this.addLayer(e[t])},_addZoomLimit:function(e){isNaN(e.options.maxZoom)&&isNaN(e.options.minZoom)||(this._zoomBoundLayers[a(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=a(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,n=this._getZoomSpan();for(var r in this._zoomBoundLayers){var i=this._zoomBoundLayers[r].options;e=void 0===i.minZoom?e:Math.min(e,i.minZoom),t=void 0===i.maxZoom?t:Math.max(t,i.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,n!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Wn=Vn.extend({initialize:function(e,t){var n,r;if(h(this,t),this._layers={},e)for(n=0,r=e.length;n<r;n++)this.addLayer(e[n])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){return("number"===typeof e?e:this.getLayerId(e))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t,n,r=Array.prototype.slice.call(arguments,1);for(t in this._layers)(n=this._layers[t])[e]&&n[e].apply(n,r);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var n in this._layers)e.call(t,this._layers[n]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return a(e)}}),qn=function(e,t){return new Wn(e,t)},Gn=Wn.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Wn.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Wn.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new N;for(var t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),Jn=function(e,t){return new Gn(e,t)},Qn=A.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){h(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var n=this._getIconUrl(e);if(!n){if("icon"===e)throw new Error("iconUrl not set in Icon options (see the docs).");return null}var r=this._createImg(n,t&&"IMG"===t.tagName?t:null);return this._setIconStyles(r,e),(this.options.crossOrigin||""===this.options.crossOrigin)&&(r.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),r},_setIconStyles:function(e,t){var n=this.options,r=n[t+"Size"];"number"===typeof r&&(r=[r,r]);var i=M(r),o=M("shadow"===t&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(n.className||""),o&&(e.style.marginLeft=-o.x+"px",e.style.marginTop=-o.y+"px"),i&&(e.style.width=i.x+"px",e.style.height=i.y+"px")},_createImg:function(e,t){return(t=t||document.createElement("img")).src=e,t},_getIconUrl:function(e){return je.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function Yn(e){return new Qn(e)}var Xn=Qn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return"string"!==typeof Xn.imagePath&&(Xn.imagePath=this._detectIconPath()),(this.options.imagePath||Xn.imagePath)+Qn.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(e,t,n){var r=t.exec(e);return r&&r[n]};return(e=t(e,/^url\((['"])?(.+)\1\)$/,2))&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=ht("div","leaflet-default-icon-path",document.body),t=dt(e,"background-image")||dt(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t))return t;var n=document.querySelector('link[href$="leaflet.css"]');return n?n.href.substring(0,n.href.length-"leaflet.css".length-1):""}}),$n=gn.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new _n(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),wt(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&_t(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,n=t._map,r=this._marker.options.autoPanSpeed,i=this._marker.options.autoPanPadding,o=At(t._icon),a=n.getPixelBounds(),s=n.getPixelOrigin(),u=D(a.min._subtract(s).add(i),a.max._subtract(s).subtract(i));if(!u.contains(o)){var c=M((Math.max(u.max.x,o.x)-u.max.x)/(a.max.x-u.max.x)-(Math.min(u.min.x,o.x)-u.min.x)/(a.min.x-u.min.x),(Math.max(u.max.y,o.y)-u.max.y)/(a.max.y-u.max.y)-(Math.min(u.min.y,o.y)-u.min.y)/(a.min.y-u.min.y)).multiplyBy(r);n.panBy(c,{animate:!1}),this._draggable._newPos._add(c),this._draggable._startPos._add(c),Pt(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=E(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(C(this._panRequest),this._panRequest=E(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,n=t._shadow,r=At(t._icon),i=t._map.layerPointToLatLng(r);n&&Pt(n,r),t._latlng=i,e.latlng=i,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){C(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),er=Vn.extend({options:{icon:new Xn,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){h(this,t),this._latlng=B(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=e.icon.createIcon(this._icon),r=!1;n!==this._icon&&(this._icon&&this._removeIcon(),r=!0,e.title&&(n.title=e.title),"IMG"===n.tagName&&(n.alt=e.alt||"")),wt(n,t),e.keyboard&&(n.tabIndex="0",n.setAttribute("role","button")),this._icon=n,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Dt(n,"focus",this._panOnFocus,this);var i=e.icon.createShadow(this._shadow),o=!1;i!==this._shadow&&(this._removeShadow(),o=!0),i&&(wt(i,t),i.alt=""),this._shadow=i,e.opacity<1&&this._updateOpacity(),r&&this.getPane().appendChild(this._icon),this._initInteraction(),i&&o&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ut(this._icon,"focus",this._panOnFocus,this),pt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&pt(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&Pt(this._icon,e),this._shadow&&Pt(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(wt(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),$n)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new $n(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&St(this._icon,e),this._shadow&&St(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,n=t.iconSize?M(t.iconSize):M(0,0),r=t.iconAnchor?M(t.iconAnchor):M(0,0);e.panInside(this._latlng,{paddingTopLeft:r,paddingBottomRight:n.subtract(r)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function tr(e,t){return new er(e,t)}var nr=Vn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return h(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),rr=nr.extend({options:{fill:!0,radius:10},initialize:function(e,t){h(this,t),this._latlng=B(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=B(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return nr.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,n=this._clickTolerance(),r=[e+n,t+n];this._pxBounds=new j(this._point.subtract(r),this._point.add(r))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ir(e,t){return new rr(e,t)}var or=rr.extend({initialize:function(e,t,r){if("number"===typeof t&&(t=n({},r,{radius:t})),h(this,t),this._latlng=B(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new N(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:nr.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,n=this._map,r=n.options.crs;if(r.distance===z.distance){var i=Math.PI/180,o=this._mRadius/z.R/i,a=n.project([t+o,e]),s=n.project([t-o,e]),u=a.add(s).divideBy(2),c=n.unproject(u).lat,l=Math.acos((Math.cos(o*i)-Math.sin(t*i)*Math.sin(c*i))/(Math.cos(t*i)*Math.cos(c*i)))/i;(isNaN(l)||0===l)&&(l=o/Math.cos(Math.PI/180*t)),this._point=u.subtract(n.getPixelOrigin()),this._radius=isNaN(l)?0:u.x-n.project([c,e-l]).x,this._radiusY=u.y-a.y}else{var f=r.unproject(r.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng),this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});function ar(e,t,n){return new or(e,t,n)}var sr=nr.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){h(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t,n,r=1/0,i=null,o=In,a=0,s=this._parts.length;a<s;a++)for(var u=this._parts[a],c=1,l=u.length;c<l;c++){var f=o(e,t=u[c-1],n=u[c],!0);f<r&&(r=f,i=o(e,t,n))}return i&&(i.distance=Math.sqrt(r)),i},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Fn(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=B(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new N,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],n=Rn(e),r=0,i=e.length;r<i;r++)n?(t[r]=B(e[r]),this._bounds.extend(t[r])):t[r]=this._convertLatLngs(e[r]);return t},_project:function(){var e=new j;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new R(e,e);this._rawPxBounds&&(this._pxBounds=new j([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,n){var r,i,o=e[0]instanceof Z,a=e.length;if(o){for(i=[],r=0;r<a;r++)i[r]=this._map.latLngToLayerPoint(e[r]),n.extend(i[r]);t.push(i)}else for(r=0;r<a;r++)this._projectLatlngs(e[r],t,n)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else{var t,n,r,i,o,a,s,u=this._parts;for(t=0,r=0,i=this._rings.length;t<i;t++)for(n=0,o=(s=this._rings[t]).length;n<o-1;n++)(a=Pn(s[n],s[n+1],e,n,!0))&&(u[r]=u[r]||[],u[r].push(a[0]),a[1]===s[n+1]&&n!==o-2||(u[r].push(a[1]),r++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,n=0,r=e.length;n<r;n++)e[n]=bn(e[n],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var n,r,i,o,a,s,u=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(n=0,o=this._parts.length;n<o;n++)for(r=0,i=(a=(s=this._parts[n]).length)-1;r<a;i=r++)if((t||0!==r)&&xn(e,s[i],s[r])<=u)return!0;return!1}});function ur(e,t){return new sr(e,t)}sr._flat=Ln;var cr=sr.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dn(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=sr.prototype._convertLatLngs.call(this,e),n=t.length;return n>=2&&t[0]instanceof Z&&t[0].equals(t[n-1])&&t.pop(),t},_setLatLngs:function(e){sr.prototype._setLatLngs.call(this,e),Rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Rn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,n=new R(t,t);if(e=new j(e.min.subtract(n),e.max.add(n)),this._parts=[],this._pxBounds&&this._pxBounds.intersects(e))if(this.options.noClip)this._parts=this._rings;else for(var r,i=0,o=this._rings.length;i<o;i++)(r=jn(this._rings[i],e,!0)).length&&this._parts.push(r)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t,n,r,i,o,a,s,u,c=!1;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(i=0,s=this._parts.length;i<s;i++)for(o=0,a=(u=(t=this._parts[i]).length)-1;o<u;a=o++)n=t[o],r=t[a],n.y>e.y!==r.y>e.y&&e.x<(r.x-n.x)*(e.y-n.y)/(r.y-n.y)+n.x&&(c=!c);return c||sr.prototype._containsPoint.call(this,e,!0)}});function lr(e,t){return new cr(e,t)}var fr=Gn.extend({initialize:function(e,t){h(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t,n,r,i=y(e)?e:e.features;if(i){for(t=0,n=i.length;t<n;t++)((r=i[t]).geometries||r.geometry||r.features||r.coordinates)&&this.addData(r);return this}var o=this.options;if(o.filter&&!o.filter(e))return this;var a=dr(e,o);return a?(a.feature=wr(e),a.defaultOptions=a.options,this.resetStyle(a),o.onEachFeature&&o.onEachFeature(e,a),this.addLayer(a)):this},resetStyle:function(e){return void 0===e?this.eachLayer(this.resetStyle,this):(e.options=n({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer((function(t){this._setLayerStyle(t,e)}),this)},_setLayerStyle:function(e,t){e.setStyle&&("function"===typeof t&&(t=t(e.feature)),e.setStyle(t))}});function dr(e,t){var n,r,i,o,a="Feature"===e.type?e.geometry:e,s=a?a.coordinates:null,u=[],c=t&&t.pointToLayer,l=t&&t.coordsToLatLng||pr;if(!s&&!a)return null;switch(a.type){case"Point":return hr(c,e,n=l(s),t);case"MultiPoint":for(i=0,o=s.length;i<o;i++)n=l(s[i]),u.push(hr(c,e,n,t));return new Gn(u);case"LineString":case"MultiLineString":return r=vr(s,"LineString"===a.type?0:1,l),new sr(r,t);case"Polygon":case"MultiPolygon":return r=vr(s,"Polygon"===a.type?1:2,l),new cr(r,t);case"GeometryCollection":for(i=0,o=a.geometries.length;i<o;i++){var f=dr({geometry:a.geometries[i],type:"Feature",properties:e.properties},t);f&&u.push(f)}return new Gn(u);case"FeatureCollection":for(i=0,o=a.features.length;i<o;i++){var d=dr(a.features[i],t);d&&u.push(d)}return new Gn(u);default:throw new Error("Invalid GeoJSON object.")}}function hr(e,t,n,r){return e?e(t,n):new er(n,r&&r.markersInheritOptions&&r)}function pr(e){return new Z(e[1],e[0],e[2])}function vr(e,t,n){for(var r,i=[],o=0,a=e.length;o<a;o++)r=t?vr(e[o],t-1,n):(n||pr)(e[o]),i.push(r);return i}function gr(e,t){return void 0!==(e=B(e)).alt?[l(e.lng,t),l(e.lat,t),l(e.alt,t)]:[l(e.lng,t),l(e.lat,t)]}function yr(e,t,n,r){for(var i=[],o=0,a=e.length;o<a;o++)i.push(t?yr(e[o],Rn(e[o])?0:t-1,n,r):gr(e[o],r));return!t&&n&&i.push(i[0].slice()),i}function mr(e,t){return e.feature?n({},e.feature,{geometry:t}):wr(t)}function wr(e){return"Feature"===e.type||"FeatureCollection"===e.type?e:{type:"Feature",properties:{},geometry:e}}var _r={toGeoJSON:function(e){return mr(this,{type:"Point",coordinates:gr(this.getLatLng(),e)})}};function br(e,t){return new fr(e,t)}er.include(_r),or.include(_r),rr.include(_r),sr.include({toGeoJSON:function(e){var t=!Rn(this._latlngs);return mr(this,{type:(t?"Multi":"")+"LineString",coordinates:yr(this._latlngs,t?1:0,!1,e)})}}),cr.include({toGeoJSON:function(e){var t=!Rn(this._latlngs),n=t&&!Rn(this._latlngs[0]),r=yr(this._latlngs,n?2:t?1:0,!0,e);return t||(r=[r]),mr(this,{type:(n?"Multi":"")+"Polygon",coordinates:r})}}),Wn.include({toMultiPoint:function(e){var t=[];return this.eachLayer((function(n){t.push(n.toGeoJSON(e).geometry.coordinates)})),mr(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if("MultiPoint"===t)return this.toMultiPoint(e);var n="GeometryCollection"===t,r=[];return this.eachLayer((function(t){if(t.toGeoJSON){var i=t.toGeoJSON(e);if(n)r.push(i.geometry);else{var o=wr(i);"FeatureCollection"===o.type?r.push.apply(r,o.features):r.push(o)}}})),n?mr(this,{geometries:r,type:"GeometryCollection"}):{type:"FeatureCollection",features:r}}});var xr=br,Sr=Vn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,n){this._url=e,this._bounds=U(t),h(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(wt(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){pt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&gt(this._image),this},bringToBack:function(){return this._map&&yt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=U(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e="IMG"===this._url.tagName,t=this._image=e?this._url:ht("img");wt(t,"leaflet-image-layer"),this._zoomAnimated&&wt(t,"leaflet-zoom-animated"),this.options.className&&wt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onload=i(this.fire,this,"load"),t.onerror=i(this._overlayOnError,this,"error"),(this.options.crossOrigin||""===this.options.crossOrigin)&&(t.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e?this._url=t.src:(t.src=this._url,t.alt=this.options.alt)},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Ct(this._image,n,t)},_reset:function(){var e=this._image,t=new j(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=t.getSize();Pt(e,t.min),e.style.width=n.x+"px",e.style.height=n.y+"px"},_updateOpacity:function(){St(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),kr=function(e,t,n){return new Sr(e,t,n)},Er=Sr.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e="VIDEO"===this._url.tagName,t=this._image=e?this._url:ht("video");if(wt(t,"leaflet-image-layer"),this._zoomAnimated&&wt(t,"leaflet-zoom-animated"),this.options.className&&wt(t,this.options.className),t.onselectstart=c,t.onmousemove=c,t.onloadeddata=i(this.fire,this,"load"),e){for(var n=t.getElementsByTagName("source"),r=[],o=0;o<n.length;o++)r.push(n[o].src);this._url=n.length>0?r:[t.src]}else{y(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var a=0;a<this._url.length;a++){var s=ht("source");s.src=this._url[a],t.appendChild(s)}}}});function Cr(e,t,n){return new Er(e,t,n)}var Pr=Sr.extend({_initImage:function(){var e=this._image=this._url;wt(e,"leaflet-image-layer"),this._zoomAnimated&&wt(e,"leaflet-zoom-animated"),this.options.className&&wt(e,this.options.className),e.onselectstart=c,e.onmousemove=c}});function Ar(e,t,n){return new Pr(e,t,n)}var Tr=Vn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof Z||y(e))?(this._latlng=B(e),h(this,t)):(h(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return(e=arguments.length?e:this._source._map).hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&St(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&St(this._container,1),this.bringToFront(),this.options.interactive&&(wt(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(St(this._container,0),this._removeTimeout=setTimeout(i(pt,void 0,this._container),200)):pt(this._container),this.options.interactive&&(_t(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=B(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&gt(this._container),this},bringToBack:function(){return this._map&&yt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof Gn){t=null;var n=this._source._layers;for(var r in n)if(n[r]._map){t=n[r];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else{if(!t.getBounds)throw new Error("Unable to get source layer LatLng.");e=t.getBounds().getCenter()}return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t="function"===typeof this._content?this._content(this._source||this):this._content;if("string"===typeof t)e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=M(this.options.offset),n=this._getAnchor();this._zoomAnimated?Pt(this._container,e.add(n)):t=t.add(e).add(n);var r=this._containerBottom=-t.y,i=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=r+"px",this._container.style.left=i+"px"}},_getAnchor:function(){return[0,0]}});nn.include({_initOverlay:function(e,t,n,r){var i=t;return i instanceof e||(i=new e(r).setContent(t)),n&&i.setLatLng(n),i}}),Vn.include({_initOverlay:function(e,t,n,r){var i=n;return i instanceof e?(h(i,r),i._source=this):(i=t&&!r?t:new e(r,this)).setContent(n),i}});var Or=Tr.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return!(e=arguments.length?e:this._source._map).hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,Tr.prototype.openOn.call(this,e)},onAdd:function(e){Tr.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof nr||this._source.on("preclick",Kt))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof nr||this._source.off("preclick",Kt))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=ht("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=ht("div",e+"-content-wrapper",t);if(this._contentNode=ht("div",e+"-content",n),Wt(t),Vt(this._contentNode),Dt(t,"contextmenu",Kt),this._tipContainer=ht("div",e+"-tip-container",t),this._tip=ht("div",e+"-tip",this._tipContainer),this.options.closeButton){var r=this._closeButton=ht("a",e+"-close-button",t);r.setAttribute("role","button"),r.setAttribute("aria-label","Close popup"),r.href="#close",r.innerHTML='<span aria-hidden="true">&#215;</span>',Dt(r,"click",(function(e){qt(e),this.close()}),this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var n=e.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),t.width=n+1+"px",t.whiteSpace="",t.height="";var r=e.offsetHeight,i=this.options.maxHeight,o="leaflet-popup-scrolled";i&&r>i?(t.height=i+"px",wt(e,o)):_t(e,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),n=this._getAnchor();Pt(this._container,t.add(n))},_adjustPan:function(){if(this.options.autoPan)if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning)this._autopanning=!1;else{var e=this._map,t=parseInt(dt(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+t,r=this._containerWidth,i=new R(this._containerLeft,-n-this._containerBottom);i._add(At(this._container));var o=e.layerPointToContainerPoint(i),a=M(this.options.autoPanPadding),s=M(this.options.autoPanPaddingTopLeft||a),u=M(this.options.autoPanPaddingBottomRight||a),c=e.getSize(),l=0,f=0;o.x+r+u.x>c.x&&(l=o.x+r-c.x+u.x),o.x-l-s.x<0&&(l=o.x-s.x),o.y+n+u.y>c.y&&(f=o.y+n-c.y+u.y),o.y-f-s.y<0&&(f=o.y-s.y),(l||f)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([l,f]))}},_getAnchor:function(){return M(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Ir=function(e,t){return new Or(e,t)};nn.mergeOptions({closePopupOnClick:!0}),nn.include({openPopup:function(e,t,n){return this._initOverlay(Or,e,t,n).openOn(this),this},closePopup:function(e){return(e=arguments.length?e:this._popup)&&e.close(),this}}),Vn.include({bindPopup:function(e,t){return this._popup=this._initOverlay(Or,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof Gn||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(this._popup&&this._map){Gt(e);var t=e.layer||e.target;this._popup._source!==t||t instanceof nr?(this._popup._source=t,this.openPopup(e.latlng)):this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){13===e.originalEvent.keyCode&&this._openPopup(e)}});var Rr=Tr.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){Tr.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){Tr.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=Tr.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ht("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+a(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,n,r=this._map,i=this._container,o=r.latLngToContainerPoint(r.getCenter()),a=r.layerPointToContainerPoint(e),s=this.options.direction,u=i.offsetWidth,c=i.offsetHeight,l=M(this.options.offset),f=this._getAnchor();"top"===s?(t=u/2,n=c):"bottom"===s?(t=u/2,n=0):"center"===s?(t=u/2,n=c/2):"right"===s?(t=0,n=c/2):"left"===s?(t=u,n=c/2):a.x<o.x?(s="right",t=0,n=c/2):(s="left",t=u+2*(l.x+f.x),n=c/2),e=e.subtract(M(t,n,!0)).add(l).add(f),_t(i,"leaflet-tooltip-right"),_t(i,"leaflet-tooltip-left"),_t(i,"leaflet-tooltip-top"),_t(i,"leaflet-tooltip-bottom"),wt(i,"leaflet-tooltip-"+s),Pt(i,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&St(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return M(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Lr=function(e,t){return new Rr(e,t)};nn.include({openTooltip:function(e,t,n){return this._initOverlay(Rr,e,t,n).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Vn.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Rr,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(e||!this._tooltipHandlersAdded){var t=e?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,n.click=this._openTooltip,this._map?this._addFocusListeners():n.add=this._addFocusListeners),this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),this[t](n),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof Gn||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=e.getElement();t&&(Dt(t,"focus",(function(){this._tooltip._source=e,this.openTooltip()}),this),Dt(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){!this._tooltip||!this._map||this._map.dragging&&this._map.dragging.moving()||(this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0))},_moveTooltip:function(e){var t,n,r=e.latlng;this._tooltip.options.sticky&&e.originalEvent&&(t=this._map.mouseEventToContainerPoint(e.originalEvent),n=this._map.containerPointToLayerPoint(t),r=this._map.layerPointToLatLng(n)),this._tooltip.setLatLng(r)}});var Fr=Qn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&"DIV"===e.tagName?e:document.createElement("div"),n=this.options;if(n.html instanceof Element?(vt(t),t.appendChild(n.html)):t.innerHTML=!1!==n.html?n.html:"",n.bgPos){var r=M(n.bgPos);t.style.backgroundPosition=-r.x+"px "+-r.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Mr(e){return new Fr(e)}Qn.Default=Xn;var jr=Vn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:je.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){h(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),pt(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(gt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(yt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=s(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof R?e:new R(e,e)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t,n=this.getPane().children,r=-e(-1/0,1/0),i=0,o=n.length;i<o;i++)t=n[i].style.zIndex,n[i]!==this._container&&t&&(r=e(r,+t));isFinite(r)&&(this.options.zIndex=r+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!je.ielt9){St(this._container,this.options.opacity);var e=+new Date,t=!1,n=!1;for(var r in this._tiles){var i=this._tiles[r];if(i.current&&i.loaded){var o=Math.min(1,(e-i.loaded)/200);St(i.el,o),o<1?t=!0:(i.active?n=!0:this._onOpaqueTile(i),i.active=!0)}}n&&!this._noPrune&&this._pruneTiles(),t&&(C(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this))}},_onOpaqueTile:c,_initContainer:function(){this._container||(this._container=ht("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(void 0!==e){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===e?(this._levels[n].el.style.zIndex=t-Math.abs(e-n),this._onUpdateLevel(n)):(pt(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var r=this._levels[e],i=this._map;return r||((r=this._levels[e]={}).el=ht("div","leaflet-tile-container leaflet-zoom-animated",this._container),r.el.style.zIndex=t,r.origin=i.project(i.unproject(i.getPixelOrigin()),e).round(),r.zoom=e,this._setZoomTransform(r,i.getCenter(),i.getZoom()),c(r.el.offsetWidth),this._onCreateLevel(r)),this._level=r,r}},_onUpdateLevel:c,_onRemoveLevel:c,_onCreateLevel:c,_pruneTiles:function(){if(this._map){var e,t,n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom)this._removeAllTiles();else{for(e in this._tiles)(t=this._tiles[e]).retain=t.current;for(e in this._tiles)if((t=this._tiles[e]).current&&!t.active){var r=t.coords;this._retainParent(r.x,r.y,r.z,r.z-5)||this._retainChildren(r.x,r.y,r.z,r.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)pt(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,n,r){var i=Math.floor(e/2),o=Math.floor(t/2),a=n-1,s=new R(+i,+o);s.z=+a;var u=this._tileCoordsToKey(s),c=this._tiles[u];return c&&c.active?(c.retain=!0,!0):(c&&c.loaded&&(c.retain=!0),a>r&&this._retainParent(i,o,a,r))},_retainChildren:function(e,t,n,r){for(var i=2*e;i<2*e+2;i++)for(var o=2*t;o<2*t+2;o++){var a=new R(i,o);a.z=n+1;var s=this._tileCoordsToKey(a),u=this._tiles[s];u&&u.active?u.retain=!0:(u&&u.loaded&&(u.retain=!0),n+1<r&&this._retainChildren(i,o,n+1,r))}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return void 0!==t.minNativeZoom&&e<t.minNativeZoom?t.minNativeZoom:void 0!==t.maxNativeZoom&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,n,r){var i=Math.round(t);i=void 0!==this.options.maxZoom&&i>this.options.maxZoom||void 0!==this.options.minZoom&&i<this.options.minZoom?void 0:this._clampZoom(i);var o=this.options.updateWhenZooming&&i!==this._tileZoom;r&&!o||(this._tileZoom=i,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==i&&this._update(e),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var n in this._levels)this._setZoomTransform(this._levels[n],e,t)},_setZoomTransform:function(e,t,n){var r=this._map.getZoomScale(n,e.zoom),i=e.origin.multiplyBy(r).subtract(this._map._getNewPixelOrigin(t,n)).round();je.any3d?Ct(e.el,i,r):Pt(e.el,i)},_resetGrid:function(){var e=this._map,t=e.options.crs,n=this._tileSize=this.getTileSize(),r=this._tileZoom,i=this._map.getPixelWorldBounds(this._tileZoom);i&&(this._globalTileRange=this._pxBoundsToTileRange(i)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],r).x/n.x),Math.ceil(e.project([0,t.wrapLng[1]],r).x/n.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],r).y/n.x),Math.ceil(e.project([t.wrapLat[1],0],r).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(e){var t=this._map,n=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),r=t.getZoomScale(n,this._tileZoom),i=t.project(e,this._tileZoom).floor(),o=t.getSize().divideBy(2*r);return new j(i.subtract(o),i.add(o))},_update:function(e){var t=this._map;if(t){var n=this._clampZoom(t.getZoom());if(void 0===e&&(e=t.getCenter()),void 0!==this._tileZoom){var r=this._getTiledPixelBounds(e),i=this._pxBoundsToTileRange(r),o=i.getCenter(),a=[],s=this.options.keepBuffer,u=new j(i.getBottomLeft().subtract([s,-s]),i.getTopRight().add([s,-s]));if(!(isFinite(i.min.x)&&isFinite(i.min.y)&&isFinite(i.max.x)&&isFinite(i.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var c in this._tiles){var l=this._tiles[c].coords;l.z===this._tileZoom&&u.contains(new R(l.x,l.y))||(this._tiles[c].current=!1)}if(Math.abs(n-this._tileZoom)>1)this._setView(e,n);else{for(var f=i.min.y;f<=i.max.y;f++)for(var d=i.min.x;d<=i.max.x;d++){var h=new R(d,f);if(h.z=this._tileZoom,this._isValidTile(h)){var p=this._tiles[this._tileCoordsToKey(h)];p?p.current=!0:a.push(h)}}if(a.sort((function(e,t){return e.distanceTo(o)-t.distanceTo(o)})),0!==a.length){this._loading||(this._loading=!0,this.fire("loading"));var v=document.createDocumentFragment();for(d=0;d<a.length;d++)this._addTile(a[d],v);this._level.el.appendChild(v)}}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var n=this._globalTileRange;if(!t.wrapLng&&(e.x<n.min.x||e.x>n.max.x)||!t.wrapLat&&(e.y<n.min.y||e.y>n.max.y))return!1}if(!this.options.bounds)return!0;var r=this._tileCoordsToBounds(e);return U(this.options.bounds).overlaps(r)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,n=this.getTileSize(),r=e.scaleBy(n),i=r.add(n);return[t.unproject(r,e.z),t.unproject(i,e.z)]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),n=new N(t[0],t[1]);return this.options.noWrap||(n=this._map.wrapLatLngBounds(n)),n},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),n=new R(+t[0],+t[1]);return n.z=+t[2],n},_removeTile:function(e){var t=this._tiles[e];t&&(pt(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){wt(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=c,e.onmousemove=c,je.ielt9&&this.options.opacity<1&&St(e,this.options.opacity)},_addTile:function(e,t){var n=this._getTilePos(e),r=this._tileCoordsToKey(e),o=this.createTile(this._wrapCoords(e),i(this._tileReady,this,e));this._initTile(o),this.createTile.length<2&&E(i(this._tileReady,this,e,null,o)),Pt(o,n),this._tiles[r]={el:o,coords:e,current:!0},t.appendChild(o),this.fire("tileloadstart",{tile:o,coords:e})},_tileReady:function(e,t,n){t&&this.fire("tileerror",{error:t,tile:n,coords:e});var r=this._tileCoordsToKey(e);(n=this._tiles[r])&&(n.loaded=+new Date,this._map._fadeAnimated?(St(n.el,0),C(this._fadeFrame),this._fadeFrame=E(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),t||(wt(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),je.ielt9||!this._map._fadeAnimated?E(this._pruneTiles,this):setTimeout(i(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new R(this._wrapX?u(e.x,this._wrapX):e.x,this._wrapY?u(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new j(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Dr(e){return new jr(e)}var Nr=jr.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,(t=h(this,t)).detectRetina&&je.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),"string"===typeof t.subdomains&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&void 0===t&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var n=document.createElement("img");return Dt(n,"load",i(this._tileOnLoad,this,t,n)),Dt(n,"error",i(this._tileOnError,this,t,n)),(this.options.crossOrigin||""===this.options.crossOrigin)&&(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),"string"===typeof this.options.referrerPolicy&&(n.referrerPolicy=this.options.referrerPolicy),n.alt="",n.src=this.getTileUrl(e),n},getTileUrl:function(e){var t={r:je.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var r=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=r),t["-y"]=r}return g(this._url,n(t,this.options))},_tileOnLoad:function(e,t){je.ielt9?setTimeout(i(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,n){var r=this.options.errorTileUrl;r&&t.getAttribute("src")!==r&&(t.src=r),e(n,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom;return this.options.zoomReverse&&(e=t-e),e+this.options.zoomOffset},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&((t=this._tiles[e].el).onload=c,t.onerror=c,!t.complete)){t.src=w;var n=this._tiles[e].coords;pt(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:n})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",w),jr.prototype._removeTile.call(this,e)},_tileReady:function(e,t,n){if(this._map&&(!n||n.getAttribute("src")!==w))return jr.prototype._tileReady.call(this,e,t,n)}});function Ur(e,t){return new Nr(e,t)}var Zr=Nr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var r=n({},this.defaultWmsParams);for(var i in t)i in this.options||(r[i]=t[i]);var o=(t=h(this,t)).detectRetina&&je.retina?2:1,a=this.getTileSize();r.width=a.x*o,r.height=a.y*o,this.wmsParams=r},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,Nr.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),n=this._crs,r=D(n.project(t[0]),n.project(t[1])),i=r.min,o=r.max,a=(this._wmsVersion>=1.3&&this._crs===zn?[i.y,i.x,o.y,o.x]:[i.x,i.y,o.x,o.y]).join(","),s=Nr.prototype.getTileUrl.call(this,e);return s+p(this.wmsParams,s,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+a},setParams:function(e,t){return n(this.wmsParams,e),t||this.redraw(),this}});function Br(e,t){return new Zr(e,t)}Nr.WMS=Zr,Ur.wms=Br;var Hr=Vn.extend({options:{padding:.1},initialize:function(e){h(this,e),a(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&wt(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var n=this._map.getZoomScale(t,this._zoom),r=this._map.getSize().multiplyBy(.5+this.options.padding),i=this._map.project(this._center,t),o=r.multiplyBy(-n).add(i).subtract(this._map._getNewPixelOrigin(e,t));je.any3d?Ct(this._container,o,n):Pt(this._container,o)},_reset:function(){for(var e in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),n=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new j(n,n.add(t.multiplyBy(1+2*e)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),zr=Hr.extend({options:{tolerance:0},getEvents:function(){var e=Hr.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Hr.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");Dt(e,"mousemove",this._onMouseMove,this),Dt(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Dt(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){C(this._redrawRequest),delete this._ctx,pt(this._container),Ut(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var e in this._redrawBounds=null,this._layers)this._layers[e]._update();this._redraw()}},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=this._container,n=e.getSize(),r=je.retina?2:1;Pt(t,e.min),t.width=r*n.x,t.height=r*n.y,t.style.width=n.x+"px",t.style.height=n.y+"px",je.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){Hr.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[a(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,n=t.next,r=t.prev;n?n.prev=r:this._drawLast=r,r?r.next=n:this._drawFirst=n,delete e._order,delete this._layers[a(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if("string"===typeof e.options.dashArray){var t,n,r=e.options.dashArray.split(/[, ]+/),i=[];for(n=0;n<r.length;n++){if(t=Number(r[n]),isNaN(t))return;i.push(t)}e.options._dashArray=i}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||E(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new j,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var n=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,n.x,n.y),this._ctx.clip()}this._drawing=!0;for(var r=this._drawFirst;r;r=r.next)e=r.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var n,r,i,o,a=e._parts,s=a.length,u=this._ctx;if(s){for(u.beginPath(),n=0;n<s;n++){for(r=0,i=a[n].length;r<i;r++)o=a[n][r],u[r?"lineTo":"moveTo"](o.x,o.y);t&&u.closePath()}this._fillStroke(u,e)}}},_updateCircle:function(e){if(this._drawing&&!e._empty()){var t=e._point,n=this._ctx,r=Math.max(Math.round(e._radius),1),i=(Math.max(Math.round(e._radiusY),1)||r)/r;1!==i&&(n.save(),n.scale(1,i)),n.beginPath(),n.arc(t.x,t.y/i,r,0,2*Math.PI,!1),1!==i&&n.restore(),this._fillStroke(n,e)}},_fillStroke:function(e,t){var n=t.options;n.fill&&(e.globalAlpha=n.fillOpacity,e.fillStyle=n.fillColor||n.color,e.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=n.opacity,e.lineWidth=n.weight,e.strokeStyle=n.color,e.lineCap=n.lineCap,e.lineJoin=n.lineJoin,e.stroke())},_onClick:function(e){for(var t,n,r=this._map.mouseEventToLayerPoint(e),i=this._drawFirst;i;i=i.next)(t=i.layer).options.interactive&&t._containsPoint(r)&&("click"!==e.type&&"preclick"!==e.type||!this._map._draggableMoved(t))&&(n=t);this._fireEvent(!!n&&[n],e)},_onMouseMove:function(e){if(this._map&&!this._map.dragging.moving()&&!this._map._animatingZoom){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(_t(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var n,r,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(t)&&(r=n);r!==this._hoveredLayer&&(this._handleMouseOut(e),r&&(wt(this._container,"leaflet-interactive"),this._fireEvent([r],e,"mouseover"),this._hoveredLayer=r)),this._fireEvent(!!this._hoveredLayer&&[this._hoveredLayer],e),this._mouseHoverThrottled=!0,setTimeout(i((function(){this._mouseHoverThrottled=!1}),this),32)}},_fireEvent:function(e,t,n){this._map._fireDOMEvent(t,n||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;n&&(n.prev=r,r?r.next=n:n&&(this._drawFirst=n),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e))}},_bringToBack:function(e){var t=e._order;if(t){var n=t.next,r=t.prev;r&&(r.next=n,n?n.prev=r:r&&(this._drawLast=r),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e))}}});function Kr(e){return je.canvas?new zr(e):null}var Vr=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch(e){}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Wr={_initContainer:function(){this._container=ht("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Hr.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Vr("shape");wt(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Vr("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;pt(t),e.removeInteractiveTarget(t),delete this._layers[a(e)]},_updateStyle:function(e){var t=e._stroke,n=e._fill,r=e.options,i=e._container;i.stroked=!!r.stroke,i.filled=!!r.fill,r.stroke?(t||(t=e._stroke=Vr("stroke")),i.appendChild(t),t.weight=r.weight+"px",t.color=r.color,t.opacity=r.opacity,r.dashArray?t.dashStyle=y(r.dashArray)?r.dashArray.join(" "):r.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=r.lineCap.replace("butt","flat"),t.joinstyle=r.lineJoin):t&&(i.removeChild(t),e._stroke=null),r.fill?(n||(n=e._fill=Vr("fill")),i.appendChild(n),n.color=r.fillColor||r.color,n.opacity=r.fillOpacity):n&&(i.removeChild(n),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),n=Math.round(e._radius),r=Math.round(e._radiusY||n);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+n+","+r+" 0,23592600")},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){gt(e._container)},_bringToBack:function(e){yt(e._container)}},qr=je.vml?Vr:Q,Gr=Hr.extend({_initContainer:function(){this._container=qr("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qr("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){pt(this._container),Ut(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!this._map._animatingZoom||!this._bounds){Hr.prototype._update.call(this);var e=this._bounds,t=e.getSize(),n=this._container;this._svgSize&&this._svgSize.equals(t)||(this._svgSize=t,n.setAttribute("width",t.x),n.setAttribute("height",t.y)),Pt(n,e.min),n.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=qr("path");e.options.className&&wt(t,e.options.className),e.options.interactive&&wt(t,"leaflet-interactive"),this._updateStyle(e),this._layers[a(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){pt(e._path),e.removeInteractiveTarget(e._path),delete this._layers[a(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,n=e.options;t&&(n.stroke?(t.setAttribute("stroke",n.color),t.setAttribute("stroke-opacity",n.opacity),t.setAttribute("stroke-width",n.weight),t.setAttribute("stroke-linecap",n.lineCap),t.setAttribute("stroke-linejoin",n.lineJoin),n.dashArray?t.setAttribute("stroke-dasharray",n.dashArray):t.removeAttribute("stroke-dasharray"),n.dashOffset?t.setAttribute("stroke-dashoffset",n.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),n.fill?(t.setAttribute("fill",n.fillColor||n.color),t.setAttribute("fill-opacity",n.fillOpacity),t.setAttribute("fill-rule",n.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,Y(e._parts,t))},_updateCircle:function(e){var t=e._point,n=Math.max(Math.round(e._radius),1),r="a"+n+","+(Math.max(Math.round(e._radiusY),1)||n)+" 0 1,0 ",i=e._empty()?"M0 0":"M"+(t.x-n)+","+t.y+r+2*n+",0 "+r+2*-n+",0 ";this._setPath(e,i)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){gt(e._path)},_bringToBack:function(e){yt(e._path)}});function Jr(e){return je.svg||je.vml?new Gr(e):null}je.vml&&Gr.include(Wr),nn.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if("overlayPane"===e||void 0===e)return!1;var t=this._paneRenderers[e];return void 0===t&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&Kr(e)||Jr(e)}});var Qr=cr.extend({initialize:function(e,t){cr.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return[(e=U(e)).getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Yr(e,t){return new Qr(e,t)}Gr.create=qr,Gr.pointsToPath=Y,fr.geometryToLayer=dr,fr.coordsToLatLng=pr,fr.coordsToLatLngs=vr,fr.latLngToCoords=gr,fr.latLngsToCoords=yr,fr.getFeature=mr,fr.asFeature=wr,nn.mergeOptions({boxZoom:!0});var Xr=gn.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){Dt(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ut(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){pt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||1!==e.which&&1!==e.button)return!1;this._clearDeferredResetState(),this._resetState(),rt(),Ot(),this._startPoint=this._map.mouseEventToContainerPoint(e),Dt(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=ht("div","leaflet-zoom-box",this._container),wt(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new j(this._point,this._startPoint),n=t.getSize();Pt(this._box,t.min),this._box.style.width=n.x+"px",this._box.style.height=n.y+"px"},_finish:function(){this._moved&&(pt(this._box),_t(this._container,"leaflet-crosshair")),it(),It(),Ut(document,{contextmenu:Gt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if((1===e.which||1===e.button)&&(this._finish(),this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(i(this._resetState,this),0);var t=new N(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){27===e.keyCode&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});nn.addInitHook("addHandler","boxZoom",Xr),nn.mergeOptions({doubleClickZoom:!0});var $r=gn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,n=t.getZoom(),r=t.options.zoomDelta,i=e.originalEvent.shiftKey?n-r:n+r;"center"===t.options.doubleClickZoom?t.setZoom(i):t.setZoomAround(e.containerPoint,i)}});nn.addInitHook("addHandler","doubleClickZoom",$r),nn.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ei=gn.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new _n(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}wt(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){_t(this._map._container,"leaflet-grab"),_t(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=U(this._map.options.maxBounds);this._offsetLimit=D(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(this._viscosity&&this._offsetLimit){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),n=this._initialWorldOffset,r=this._draggable._newPos.x,i=(r-t+n)%e+t-n,o=(r+t+n)%e-t-n,a=Math.abs(i+n)<Math.abs(o+n)?i:o;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=a},_onDragEnd:function(e){var t=this._map,n=t.options,r=!n.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),r)t.fire("moveend");else{this._prunePositions(+new Date);var i=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,a=n.easeLinearity,s=i.multiplyBy(a/o),u=s.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,u),l=s.multiplyBy(c/u),f=c/(n.inertiaDeceleration*a),d=l.multiplyBy(-f/2).round();d.x||d.y?(d=t._limitOffset(d,t.options.maxBounds),E((function(){t.panBy(d,{duration:f,easeLinearity:a,noMoveStart:!0,animate:!0})}))):t.fire("moveend")}}});nn.addInitHook("addHandler","dragging",ei),nn.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ti=gn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),Dt(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ut(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,n=e.scrollTop||t.scrollTop,r=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(r,n)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t,n,r=this._panKeys={},i=this.keyCodes;for(t=0,n=i.left.length;t<n;t++)r[i.left[t]]=[-1*e,0];for(t=0,n=i.right.length;t<n;t++)r[i.right[t]]=[e,0];for(t=0,n=i.down.length;t<n;t++)r[i.down[t]]=[0,e];for(t=0,n=i.up.length;t<n;t++)r[i.up[t]]=[0,-1*e]},_setZoomDelta:function(e){var t,n,r=this._zoomKeys={},i=this.keyCodes;for(t=0,n=i.zoomIn.length;t<n;t++)r[i.zoomIn[t]]=e;for(t=0,n=i.zoomOut.length;t<n;t++)r[i.zoomOut[t]]=-e},_addHooks:function(){Dt(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ut(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t,n=e.keyCode,r=this._map;if(n in this._panKeys){if(!r._panAnim||!r._panAnim._inProgress)if(t=this._panKeys[n],e.shiftKey&&(t=M(t).multiplyBy(3)),r.options.maxBounds&&(t=r._limitOffset(M(t),r.options.maxBounds)),r.options.worldCopyJump){var i=r.wrapLatLng(r.unproject(r.project(r.getCenter()).add(t)));r.panTo(i)}else r.panBy(t)}else if(n in this._zoomKeys)r.setZoom(r.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!r._popup||!r._popup.options.closeOnEscapeKey)return;r.closePopup()}Gt(e)}}});nn.addInitHook("addHandler","keyboard",ti),nn.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ni=gn.extend({addHooks:function(){Dt(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ut(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Xt(e),n=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var r=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i(this._performZoom,this),r),Gt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),n=this._map.options.zoomSnap||0;e._stop();var r=this._delta/(4*this._map.options.wheelPxPerZoomLevel),i=4*Math.log(2/(1+Math.exp(-Math.abs(r))))/Math.LN2,o=n?Math.ceil(i/n)*n:i,a=e._limitZoom(t+(this._delta>0?o:-o))-t;this._delta=0,this._startTime=null,a&&("center"===e.options.scrollWheelZoom?e.setZoom(t+a):e.setZoomAround(this._lastMousePos,t+a))}});nn.addInitHook("addHandler","scrollWheelZoom",ni);var ri=600;nn.mergeOptions({tapHold:je.touchNative&&je.safari&&je.mobile,tapTolerance:15});var ii=gn.extend({addHooks:function(){Dt(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ut(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),1===e.touches.length){var t=e.touches[0];this._startPos=this._newPos=new R(t.clientX,t.clientY),this._holdTimeout=setTimeout(i((function(){this._cancel(),this._isTapValid()&&(Dt(document,"touchend",qt),Dt(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))}),this),ri),Dt(document,"touchend touchcancel contextmenu",this._cancel,this),Dt(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Ut(document,"touchend",qt),Ut(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Ut(document,"touchend touchcancel contextmenu",this._cancel,this),Ut(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new R(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var n=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});n._simulated=!0,t.target.dispatchEvent(n)}});nn.addInitHook("addHandler","tapHold",ii),nn.mergeOptions({touchZoom:je.touch,bounceAtZoomLimits:!0});var oi=gn.extend({addHooks:function(){wt(this._map._container,"leaflet-touch-zoom"),Dt(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){_t(this._map._container,"leaflet-touch-zoom"),Ut(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(e.touches&&2===e.touches.length&&!t._animatingZoom&&!this._zooming){var n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),"center"!==t.options.touchZoom&&(this._pinchStartLatLng=t.containerPointToLatLng(n.add(r)._divideBy(2))),this._startDist=n.distanceTo(r),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),Dt(document,"touchmove",this._onTouchMove,this),Dt(document,"touchend touchcancel",this._onTouchEnd,this),qt(e)}},_onTouchMove:function(e){if(e.touches&&2===e.touches.length&&this._zooming){var t=this._map,n=t.mouseEventToContainerPoint(e.touches[0]),r=t.mouseEventToContainerPoint(e.touches[1]),o=n.distanceTo(r)/this._startDist;if(this._zoom=t.getScaleZoom(o,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&o<1||this._zoom>t.getMaxZoom()&&o>1)&&(this._zoom=t._limitZoom(this._zoom)),"center"===t.options.touchZoom){if(this._center=this._startLatLng,1===o)return}else{var a=n._add(r)._divideBy(2)._subtract(this._centerPoint);if(1===o&&0===a.x&&0===a.y)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(a),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),C(this._animRequest);var s=i(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=E(s,this,!0),qt(e)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,C(this._animRequest),Ut(document,"touchmove",this._onTouchMove,this),Ut(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}});nn.addInitHook("addHandler","touchZoom",oi),nn.BoxZoom=Xr,nn.DoubleClickZoom=$r,nn.Drag=ei,nn.Keyboard=ti,nn.ScrollWheelZoom=ni,nn.TapHold=ii,nn.TouchZoom=oi,e.Bounds=j,e.Browser=je,e.CRS=H,e.Canvas=zr,e.Circle=or,e.CircleMarker=rr,e.Class=A,e.Control=on,e.DivIcon=Fr,e.DivOverlay=Tr,e.DomEvent=en,e.DomUtil=jt,e.Draggable=_n,e.Evented=I,e.FeatureGroup=Gn,e.GeoJSON=fr,e.GridLayer=jr,e.Handler=gn,e.Icon=Qn,e.ImageOverlay=Sr,e.LatLng=Z,e.LatLngBounds=N,e.Layer=Vn,e.LayerGroup=Wn,e.LineUtil=Mn,e.Map=nn,e.Marker=er,e.Mixin=mn,e.Path=nr,e.Point=R,e.PolyUtil=Nn,e.Polygon=cr,e.Polyline=sr,e.Popup=Or,e.PosAnimation=tn,e.Projection=Bn,e.Rectangle=Qr,e.Renderer=Hr,e.SVG=Gr,e.SVGOverlay=Pr,e.TileLayer=Nr,e.Tooltip=Rr,e.Transformation=W,e.Util=P,e.VideoOverlay=Er,e.bind=i,e.bounds=D,e.canvas=Kr,e.circle=ar,e.circleMarker=ir,e.control=an,e.divIcon=Mr,e.extend=n,e.featureGroup=Jn,e.geoJSON=br,e.geoJson=xr,e.gridLayer=Dr,e.icon=Yn,e.imageOverlay=kr,e.latLng=B,e.latLngBounds=U,e.layerGroup=qn,e.map=rn,e.marker=tr,e.point=M,e.polygon=lr,e.polyline=ur,e.popup=Ir,e.rectangle=Yr,e.setOptions=h,e.stamp=a,e.svg=Jr,e.svgOverlay=Ar,e.tileLayer=Ur,e.tooltip=Lr,e.transformation=q,e.version=t,e.videoOverlay=Cr;var ai=window.L;e.noConflict=function(){return window.L=ai,this},window.L=e}(t)},763:function(e,t,n){var r;e=n.nmd(e),function(){var i,o="Expected a function",a="__lodash_hash_undefined__",s="__lodash_placeholder__",u=16,c=32,l=64,f=128,d=256,h=1/0,p=9007199254740991,v=NaN,g=4294967295,y=[["ary",f],["bind",1],["bindKey",2],["curry",8],["curryRight",u],["flip",512],["partial",c],["partialRight",l],["rearg",d]],m="[object Arguments]",w="[object Array]",_="[object Boolean]",b="[object Date]",x="[object Error]",S="[object Function]",k="[object GeneratorFunction]",E="[object Map]",C="[object Number]",P="[object Object]",A="[object Promise]",T="[object RegExp]",O="[object Set]",I="[object String]",R="[object Symbol]",L="[object WeakMap]",F="[object ArrayBuffer]",M="[object DataView]",j="[object Float32Array]",D="[object Float64Array]",N="[object Int8Array]",U="[object Int16Array]",Z="[object Int32Array]",B="[object Uint8Array]",H="[object Uint8ClampedArray]",z="[object Uint16Array]",K="[object Uint32Array]",V=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,q=/(__e\(.*?\)|\b__t\)) \+\n'';/g,G=/&(?:amp|lt|gt|quot|#39);/g,J=/[&<>"']/g,Q=RegExp(G.source),Y=RegExp(J.source),X=/<%-([\s\S]+?)%>/g,$=/<%([\s\S]+?)%>/g,ee=/<%=([\s\S]+?)%>/g,te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ne=/^\w*$/,re=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ie=/[\\^$.*+?()[\]{}|]/g,oe=RegExp(ie.source),ae=/^\s+/,se=/\s/,ue=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ce=/\{\n\/\* \[wrapped with (.+)\] \*/,le=/,? & /,fe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,de=/[()=,{}\[\]\/\s]/,he=/\\(\\)?/g,pe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ve=/\w*$/,ge=/^[-+]0x[0-9a-f]+$/i,ye=/^0b[01]+$/i,me=/^\[object .+?Constructor\]$/,we=/^0o[0-7]+$/i,_e=/^(?:0|[1-9]\d*)$/,be=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,xe=/($^)/,Se=/['\n\r\u2028\u2029\\]/g,ke="\\ud800-\\udfff",Ee="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Ce="\\u2700-\\u27bf",Pe="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Te="\\ufe0e\\ufe0f",Oe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ie="['\u2019]",Re="["+ke+"]",Le="["+Oe+"]",Fe="["+Ee+"]",Me="\\d+",je="["+Ce+"]",De="["+Pe+"]",Ne="[^"+ke+Oe+Me+Ce+Pe+Ae+"]",Ue="\\ud83c[\\udffb-\\udfff]",Ze="[^"+ke+"]",Be="(?:\\ud83c[\\udde6-\\uddff]){2}",He="[\\ud800-\\udbff][\\udc00-\\udfff]",ze="["+Ae+"]",Ke="\\u200d",Ve="(?:"+De+"|"+Ne+")",We="(?:"+ze+"|"+Ne+")",qe="(?:['\u2019](?:d|ll|m|re|s|t|ve))?",Ge="(?:['\u2019](?:D|LL|M|RE|S|T|VE))?",Je="(?:"+Fe+"|"+Ue+")"+"?",Qe="["+Te+"]?",Ye=Qe+Je+("(?:"+Ke+"(?:"+[Ze,Be,He].join("|")+")"+Qe+Je+")*"),Xe="(?:"+[je,Be,He].join("|")+")"+Ye,$e="(?:"+[Ze+Fe+"?",Fe,Be,He,Re].join("|")+")",et=RegExp(Ie,"g"),tt=RegExp(Fe,"g"),nt=RegExp(Ue+"(?="+Ue+")|"+$e+Ye,"g"),rt=RegExp([ze+"?"+De+"+"+qe+"(?="+[Le,ze,"$"].join("|")+")",We+"+"+Ge+"(?="+[Le,ze+Ve,"$"].join("|")+")",ze+"?"+Ve+"+"+qe,ze+"+"+Ge,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Me,Xe].join("|"),"g"),it=RegExp("["+Ke+ke+Ee+Te+"]"),ot=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,at=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],st=-1,ut={};ut[j]=ut[D]=ut[N]=ut[U]=ut[Z]=ut[B]=ut[H]=ut[z]=ut[K]=!0,ut[m]=ut[w]=ut[F]=ut[_]=ut[M]=ut[b]=ut[x]=ut[S]=ut[E]=ut[C]=ut[P]=ut[T]=ut[O]=ut[I]=ut[L]=!1;var ct={};ct[m]=ct[w]=ct[F]=ct[M]=ct[_]=ct[b]=ct[j]=ct[D]=ct[N]=ct[U]=ct[Z]=ct[E]=ct[C]=ct[P]=ct[T]=ct[O]=ct[I]=ct[R]=ct[B]=ct[H]=ct[z]=ct[K]=!0,ct[x]=ct[S]=ct[L]=!1;var lt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ft=parseFloat,dt=parseInt,ht="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,pt="object"==typeof self&&self&&self.Object===Object&&self,vt=ht||pt||Function("return this")(),gt=t&&!t.nodeType&&t,yt=gt&&e&&!e.nodeType&&e,mt=yt&&yt.exports===gt,wt=mt&&ht.process,_t=function(){try{var e=yt&&yt.require&&yt.require("util").types;return e||wt&&wt.binding&&wt.binding("util")}catch(t){}}(),bt=_t&&_t.isArrayBuffer,xt=_t&&_t.isDate,St=_t&&_t.isMap,kt=_t&&_t.isRegExp,Et=_t&&_t.isSet,Ct=_t&&_t.isTypedArray;function Pt(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function At(e,t,n,r){for(var i=-1,o=null==e?0:e.length;++i<o;){var a=e[i];t(r,a,n(a),e)}return r}function Tt(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}function Ot(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function It(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function Rt(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}function Lt(e,t){return!!(null==e?0:e.length)&&zt(e,t,0)>-1}function Ft(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}function Mt(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}function jt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function Dt(e,t,n,r){var i=-1,o=null==e?0:e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function Nt(e,t,n,r){var i=null==e?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function Ut(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Zt=qt("length");function Bt(e,t,n){var r;return n(e,(function(e,n,i){if(t(e,n,i))return r=n,!1})),r}function Ht(e,t,n,r){for(var i=e.length,o=n+(r?1:-1);r?o--:++o<i;)if(t(e[o],o,e))return o;return-1}function zt(e,t,n){return t===t?function(e,t,n){var r=n-1,i=e.length;for(;++r<i;)if(e[r]===t)return r;return-1}(e,t,n):Ht(e,Vt,n)}function Kt(e,t,n,r){for(var i=n-1,o=e.length;++i<o;)if(r(e[i],t))return i;return-1}function Vt(e){return e!==e}function Wt(e,t){var n=null==e?0:e.length;return n?Qt(e,t)/n:v}function qt(e){return function(t){return null==t?i:t[e]}}function Gt(e){return function(t){return null==e?i:e[t]}}function Jt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function Qt(e,t){for(var n,r=-1,o=e.length;++r<o;){var a=t(e[r]);a!==i&&(n=n===i?a:n+a)}return n}function Yt(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}function Xt(e){return e?e.slice(0,yn(e)+1).replace(ae,""):e}function $t(e){return function(t){return e(t)}}function en(e,t){return Mt(t,(function(t){return e[t]}))}function tn(e,t){return e.has(t)}function nn(e,t){for(var n=-1,r=e.length;++n<r&&zt(t,e[n],0)>-1;);return n}function rn(e,t){for(var n=e.length;n--&&zt(t,e[n],0)>-1;);return n}function on(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}var an=Gt({"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),sn=Gt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function un(e){return"\\"+lt[e]}function cn(e){return it.test(e)}function ln(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function fn(e,t){return function(n){return e(t(n))}}function dn(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n];a!==t&&a!==s||(e[n]=s,o[i++]=n)}return o}function hn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function pn(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function vn(e){return cn(e)?function(e){var t=nt.lastIndex=0;for(;nt.test(e);)++t;return t}(e):Zt(e)}function gn(e){return cn(e)?function(e){return e.match(nt)||[]}(e):function(e){return e.split("")}(e)}function yn(e){for(var t=e.length;t--&&se.test(e.charAt(t)););return t}var mn=Gt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var wn=function e(t){var n=(t=null==t?vt:wn.defaults(vt.Object(),t,wn.pick(vt,at))).Array,r=t.Date,se=t.Error,ke=t.Function,Ee=t.Math,Ce=t.Object,Pe=t.RegExp,Ae=t.String,Te=t.TypeError,Oe=n.prototype,Ie=ke.prototype,Re=Ce.prototype,Le=t["__core-js_shared__"],Fe=Ie.toString,Me=Re.hasOwnProperty,je=0,De=function(){var e=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Ne=Re.toString,Ue=Fe.call(Ce),Ze=vt._,Be=Pe("^"+Fe.call(Me).replace(ie,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),He=mt?t.Buffer:i,ze=t.Symbol,Ke=t.Uint8Array,Ve=He?He.allocUnsafe:i,We=fn(Ce.getPrototypeOf,Ce),qe=Ce.create,Ge=Re.propertyIsEnumerable,Je=Oe.splice,Qe=ze?ze.isConcatSpreadable:i,Ye=ze?ze.iterator:i,Xe=ze?ze.toStringTag:i,$e=function(){try{var e=ho(Ce,"defineProperty");return e({},"",{}),e}catch(t){}}(),nt=t.clearTimeout!==vt.clearTimeout&&t.clearTimeout,it=r&&r.now!==vt.Date.now&&r.now,lt=t.setTimeout!==vt.setTimeout&&t.setTimeout,ht=Ee.ceil,pt=Ee.floor,gt=Ce.getOwnPropertySymbols,yt=He?He.isBuffer:i,wt=t.isFinite,_t=Oe.join,Zt=fn(Ce.keys,Ce),Gt=Ee.max,_n=Ee.min,bn=r.now,xn=t.parseInt,Sn=Ee.random,kn=Oe.reverse,En=ho(t,"DataView"),Cn=ho(t,"Map"),Pn=ho(t,"Promise"),An=ho(t,"Set"),Tn=ho(t,"WeakMap"),On=ho(Ce,"create"),In=Tn&&new Tn,Rn={},Ln=Zo(En),Fn=Zo(Cn),Mn=Zo(Pn),jn=Zo(An),Dn=Zo(Tn),Nn=ze?ze.prototype:i,Un=Nn?Nn.valueOf:i,Zn=Nn?Nn.toString:i;function Bn(e){if(rs(e)&&!Wa(e)&&!(e instanceof Vn)){if(e instanceof Kn)return e;if(Me.call(e,"__wrapped__"))return Bo(e)}return new Kn(e)}var Hn=function(){function e(){}return function(t){if(!ns(t))return{};if(qe)return qe(t);e.prototype=t;var n=new e;return e.prototype=i,n}}();function zn(){}function Kn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function Vn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=g,this.__views__=[]}function Wn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Gn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new Gn;++t<n;)this.add(e[t])}function Qn(e){var t=this.__data__=new qn(e);this.size=t.size}function Yn(e,t){var n=Wa(e),r=!n&&Va(e),i=!n&&!r&&Qa(e),o=!n&&!r&&!i&&fs(e),a=n||r||i||o,s=a?Yt(e.length,Ae):[],u=s.length;for(var c in e)!t&&!Me.call(e,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||_o(c,u))||s.push(c);return s}function Xn(e){var t=e.length;return t?e[Jr(0,t-1)]:i}function $n(e,t){return Do(Oi(e),ur(t,0,e.length))}function er(e){return Do(Oi(e))}function tr(e,t,n){(n!==i&&!Ha(e[t],n)||n===i&&!(t in e))&&ar(e,t,n)}function nr(e,t,n){var r=e[t];Me.call(e,t)&&Ha(r,n)&&(n!==i||t in e)||ar(e,t,n)}function rr(e,t){for(var n=e.length;n--;)if(Ha(e[n][0],t))return n;return-1}function ir(e,t,n,r){return hr(e,(function(e,i,o){t(r,e,n(e),o)})),r}function or(e,t){return e&&Ii(t,Ls(t),e)}function ar(e,t,n){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function sr(e,t){for(var r=-1,o=t.length,a=n(o),s=null==e;++r<o;)a[r]=s?i:As(e,t[r]);return a}function ur(e,t,n){return e===e&&(n!==i&&(e=e<=n?e:n),t!==i&&(e=e>=t?e:t)),e}function cr(e,t,n,r,o,a){var s,u=1&t,c=2&t,l=4&t;if(n&&(s=o?n(e,r,o,a):n(e)),s!==i)return s;if(!ns(e))return e;var f=Wa(e);if(f){if(s=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Me.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!u)return Oi(e,s)}else{var d=go(e),h=d==S||d==k;if(Qa(e))return ki(e,u);if(d==P||d==m||h&&!o){if(s=c||h?{}:mo(e),!u)return c?function(e,t){return Ii(e,vo(e),t)}(e,function(e,t){return e&&Ii(t,Fs(t),e)}(s,e)):function(e,t){return Ii(e,po(e),t)}(e,or(s,e))}else{if(!ct[d])return o?e:{};s=function(e,t,n){var r=e.constructor;switch(t){case F:return Ei(e);case _:case b:return new r(+e);case M:return function(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case j:case D:case N:case U:case Z:case B:case H:case z:case K:return Ci(e,n);case E:return new r;case C:case I:return new r(e);case T:return function(e){var t=new e.constructor(e.source,ve.exec(e));return t.lastIndex=e.lastIndex,t}(e);case O:return new r;case R:return i=e,Un?Ce(Un.call(i)):{}}var i}(e,d,u)}}a||(a=new Qn);var p=a.get(e);if(p)return p;a.set(e,s),us(e)?e.forEach((function(r){s.add(cr(r,t,n,r,e,a))})):is(e)&&e.forEach((function(r,i){s.set(i,cr(r,t,n,i,e,a))}));var v=f?i:(l?c?oo:io:c?Fs:Ls)(e);return Tt(v||e,(function(r,i){v&&(r=e[i=r]),nr(s,i,cr(r,t,n,i,e,a))})),s}function lr(e,t,n){var r=n.length;if(null==e)return!r;for(e=Ce(e);r--;){var o=n[r],a=t[o],s=e[o];if(s===i&&!(o in e)||!a(s))return!1}return!0}function fr(e,t,n){if("function"!=typeof e)throw new Te(o);return Lo((function(){e.apply(i,n)}),t)}function dr(e,t,n,r){var i=-1,o=Lt,a=!0,s=e.length,u=[],c=t.length;if(!s)return u;n&&(t=Mt(t,$t(n))),r?(o=Ft,a=!1):t.length>=200&&(o=tn,a=!1,t=new Jn(t));e:for(;++i<s;){var l=e[i],f=null==n?l:n(l);if(l=r||0!==l?l:0,a&&f===f){for(var d=c;d--;)if(t[d]===f)continue e;u.push(l)}else o(t,f,r)||u.push(l)}return u}Bn.templateSettings={escape:X,evaluate:$,interpolate:ee,variable:"",imports:{_:Bn}},Bn.prototype=zn.prototype,Bn.prototype.constructor=Bn,Kn.prototype=Hn(zn.prototype),Kn.prototype.constructor=Kn,Vn.prototype=Hn(zn.prototype),Vn.prototype.constructor=Vn,Wn.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Wn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Wn.prototype.get=function(e){var t=this.__data__;if(On){var n=t[e];return n===a?i:n}return Me.call(t,e)?t[e]:i},Wn.prototype.has=function(e){var t=this.__data__;return On?t[e]!==i:Me.call(t,e)},Wn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=On&&t===i?a:t,this},qn.prototype.clear=function(){this.__data__=[],this.size=0},qn.prototype.delete=function(e){var t=this.__data__,n=rr(t,e);return!(n<0)&&(n==t.length-1?t.pop():Je.call(t,n,1),--this.size,!0)},qn.prototype.get=function(e){var t=this.__data__,n=rr(t,e);return n<0?i:t[n][1]},qn.prototype.has=function(e){return rr(this.__data__,e)>-1},qn.prototype.set=function(e,t){var n=this.__data__,r=rr(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Wn,map:new(Cn||qn),string:new Wn}},Gn.prototype.delete=function(e){var t=lo(this,e).delete(e);return this.size-=t?1:0,t},Gn.prototype.get=function(e){return lo(this,e).get(e)},Gn.prototype.has=function(e){return lo(this,e).has(e)},Gn.prototype.set=function(e,t){var n=lo(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this},Jn.prototype.add=Jn.prototype.push=function(e){return this.__data__.set(e,a),this},Jn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.clear=function(){this.__data__=new qn,this.size=0},Qn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Qn.prototype.get=function(e){return this.__data__.get(e)},Qn.prototype.has=function(e){return this.__data__.has(e)},Qn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof qn){var r=n.__data__;if(!Cn||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(e,t),this.size=n.size,this};var hr=Fi(br),pr=Fi(xr,!0);function vr(e,t){var n=!0;return hr(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function gr(e,t,n){for(var r=-1,o=e.length;++r<o;){var a=e[r],s=t(a);if(null!=s&&(u===i?s===s&&!ls(s):n(s,u)))var u=s,c=a}return c}function yr(e,t){var n=[];return hr(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function mr(e,t,n,r,i){var o=-1,a=e.length;for(n||(n=wo),i||(i=[]);++o<a;){var s=e[o];t>0&&n(s)?t>1?mr(s,t-1,n,r,i):jt(i,s):r||(i[i.length]=s)}return i}var wr=Mi(),_r=Mi(!0);function br(e,t){return e&&wr(e,t,Ls)}function xr(e,t){return e&&_r(e,t,Ls)}function Sr(e,t){return Rt(t,(function(t){return $a(e[t])}))}function kr(e,t){for(var n=0,r=(t=_i(t,e)).length;null!=e&&n<r;)e=e[Uo(t[n++])];return n&&n==r?e:i}function Er(e,t,n){var r=t(e);return Wa(e)?r:jt(r,n(e))}function Cr(e){return null==e?e===i?"[object Undefined]":"[object Null]":Xe&&Xe in Ce(e)?function(e){var t=Me.call(e,Xe),n=e[Xe];try{e[Xe]=i;var r=!0}catch(a){}var o=Ne.call(e);r&&(t?e[Xe]=n:delete e[Xe]);return o}(e):function(e){return Ne.call(e)}(e)}function Pr(e,t){return e>t}function Ar(e,t){return null!=e&&Me.call(e,t)}function Tr(e,t){return null!=e&&t in Ce(e)}function Or(e,t,r){for(var o=r?Ft:Lt,a=e[0].length,s=e.length,u=s,c=n(s),l=1/0,f=[];u--;){var d=e[u];u&&t&&(d=Mt(d,$t(t))),l=_n(d.length,l),c[u]=!r&&(t||a>=120&&d.length>=120)?new Jn(u&&d):i}d=e[0];var h=-1,p=c[0];e:for(;++h<a&&f.length<l;){var v=d[h],g=t?t(v):v;if(v=r||0!==v?v:0,!(p?tn(p,g):o(f,g,r))){for(u=s;--u;){var y=c[u];if(!(y?tn(y,g):o(e[u],g,r)))continue e}p&&p.push(g),f.push(v)}}return f}function Ir(e,t,n){var r=null==(e=To(e,t=_i(t,e)))?e:e[Uo(Xo(t))];return null==r?i:Pt(r,e,n)}function Rr(e){return rs(e)&&Cr(e)==m}function Lr(e,t,n,r,o){return e===t||(null==e||null==t||!rs(e)&&!rs(t)?e!==e&&t!==t:function(e,t,n,r,o,a){var s=Wa(e),u=Wa(t),c=s?w:go(e),l=u?w:go(t),f=(c=c==m?P:c)==P,d=(l=l==m?P:l)==P,h=c==l;if(h&&Qa(e)){if(!Qa(t))return!1;s=!0,f=!1}if(h&&!f)return a||(a=new Qn),s||fs(e)?no(e,t,n,r,o,a):function(e,t,n,r,i,o,a){switch(n){case M:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case F:return!(e.byteLength!=t.byteLength||!o(new Ke(e),new Ke(t)));case _:case b:case C:return Ha(+e,+t);case x:return e.name==t.name&&e.message==t.message;case T:case I:return e==t+"";case E:var s=ln;case O:var u=1&r;if(s||(s=hn),e.size!=t.size&&!u)return!1;var c=a.get(e);if(c)return c==t;r|=2,a.set(e,t);var l=no(s(e),s(t),r,i,o,a);return a.delete(e),l;case R:if(Un)return Un.call(e)==Un.call(t)}return!1}(e,t,c,n,r,o,a);if(!(1&n)){var p=f&&Me.call(e,"__wrapped__"),v=d&&Me.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,y=v?t.value():t;return a||(a=new Qn),o(g,y,n,r,a)}}if(!h)return!1;return a||(a=new Qn),function(e,t,n,r,o,a){var s=1&n,u=io(e),c=u.length,l=io(t),f=l.length;if(c!=f&&!s)return!1;var d=c;for(;d--;){var h=u[d];if(!(s?h in t:Me.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var g=!0;a.set(e,t),a.set(t,e);var y=s;for(;++d<c;){var m=e[h=u[d]],w=t[h];if(r)var _=s?r(w,m,h,t,e,a):r(m,w,h,e,t,a);if(!(_===i?m===w||o(m,w,n,r,a):_)){g=!1;break}y||(y="constructor"==h)}if(g&&!y){var b=e.constructor,x=t.constructor;b==x||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x||(g=!1)}return a.delete(e),a.delete(t),g}(e,t,n,r,o,a)}(e,t,n,r,Lr,o))}function Fr(e,t,n,r){var o=n.length,a=o,s=!r;if(null==e)return!a;for(e=Ce(e);o--;){var u=n[o];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<a;){var c=(u=n[o])[0],l=e[c],f=u[1];if(s&&u[2]){if(l===i&&!(c in e))return!1}else{var d=new Qn;if(r)var h=r(l,f,c,e,t,d);if(!(h===i?Lr(f,l,3,r,d):h))return!1}}return!0}function Mr(e){return!(!ns(e)||(t=e,De&&De in t))&&($a(e)?Be:me).test(Zo(e));var t}function jr(e){return"function"==typeof e?e:null==e?ou:"object"==typeof e?Wa(e)?Hr(e[0],e[1]):Br(e):pu(e)}function Dr(e){if(!Eo(e))return Zt(e);var t=[];for(var n in Ce(e))Me.call(e,n)&&"constructor"!=n&&t.push(n);return t}function Nr(e){if(!ns(e))return function(e){var t=[];if(null!=e)for(var n in Ce(e))t.push(n);return t}(e);var t=Eo(e),n=[];for(var r in e)("constructor"!=r||!t&&Me.call(e,r))&&n.push(r);return n}function Ur(e,t){return e<t}function Zr(e,t){var r=-1,i=Ga(e)?n(e.length):[];return hr(e,(function(e,n,o){i[++r]=t(e,n,o)})),i}function Br(e){var t=fo(e);return 1==t.length&&t[0][2]?Po(t[0][0],t[0][1]):function(n){return n===e||Fr(n,e,t)}}function Hr(e,t){return xo(e)&&Co(t)?Po(Uo(e),t):function(n){var r=As(n,e);return r===i&&r===t?Ts(n,e):Lr(t,r,3)}}function zr(e,t,n,r,o){e!==t&&wr(t,(function(a,s){if(o||(o=new Qn),ns(a))!function(e,t,n,r,o,a,s){var u=Io(e,n),c=Io(t,n),l=s.get(c);if(l)return void tr(e,n,l);var f=a?a(u,c,n+"",e,t,s):i,d=f===i;if(d){var h=Wa(c),p=!h&&Qa(c),v=!h&&!p&&fs(c);f=c,h||p||v?Wa(u)?f=u:Ja(u)?f=Oi(u):p?(d=!1,f=ki(c,!0)):v?(d=!1,f=Ci(c,!0)):f=[]:as(c)||Va(c)?(f=u,Va(u)?f=ws(u):ns(u)&&!$a(u)||(f=mo(c))):d=!1}d&&(s.set(c,f),o(f,c,r,a,s),s.delete(c));tr(e,n,f)}(e,t,s,n,zr,r,o);else{var u=r?r(Io(e,s),a,s+"",e,t,o):i;u===i&&(u=a),tr(e,s,u)}}),Fs)}function Kr(e,t){var n=e.length;if(n)return _o(t+=t<0?n:0,n)?e[t]:i}function Vr(e,t,n){t=t.length?Mt(t,(function(e){return Wa(e)?function(t){return kr(t,1===e.length?e[0]:e)}:e})):[ou];var r=-1;t=Mt(t,$t(co()));var i=Zr(e,(function(e,n,i){var o=Mt(t,(function(t){return t(e)}));return{criteria:o,index:++r,value:e}}));return function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(i,(function(e,t){return function(e,t,n){var r=-1,i=e.criteria,o=t.criteria,a=i.length,s=n.length;for(;++r<a;){var u=Pi(i[r],o[r]);if(u)return r>=s?u:u*("desc"==n[r]?-1:1)}return e.index-t.index}(e,t,n)}))}function Wr(e,t,n){for(var r=-1,i=t.length,o={};++r<i;){var a=t[r],s=kr(e,a);n(s,a)&&ei(o,_i(a,e),s)}return o}function qr(e,t,n,r){var i=r?Kt:zt,o=-1,a=t.length,s=e;for(e===t&&(t=Oi(t)),n&&(s=Mt(e,$t(n)));++o<a;)for(var u=0,c=t[o],l=n?n(c):c;(u=i(s,l,u,r))>-1;)s!==e&&Je.call(s,u,1),Je.call(e,u,1);return e}function Gr(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==o){var o=i;_o(i)?Je.call(e,i,1):di(e,i)}}return e}function Jr(e,t){return e+pt(Sn()*(t-e+1))}function Qr(e,t){var n="";if(!e||t<1||t>p)return n;do{t%2&&(n+=e),(t=pt(t/2))&&(e+=e)}while(t);return n}function Yr(e,t){return Fo(Ao(e,t,ou),e+"")}function Xr(e){return Xn(Hs(e))}function $r(e,t){var n=Hs(e);return Do(n,ur(t,0,n.length))}function ei(e,t,n,r){if(!ns(e))return e;for(var o=-1,a=(t=_i(t,e)).length,s=a-1,u=e;null!=u&&++o<a;){var c=Uo(t[o]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(o!=s){var f=u[c];(l=r?r(f,c,u):i)===i&&(l=ns(f)?f:_o(t[o+1])?[]:{})}nr(u,c,l),u=u[c]}return e}var ti=In?function(e,t){return In.set(e,t),e}:ou,ni=$e?function(e,t){return $e(e,"toString",{configurable:!0,enumerable:!1,value:nu(t),writable:!0})}:ou;function ri(e){return Do(Hs(e))}function ii(e,t,r){var i=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(r=r>o?o:r)<0&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var a=n(o);++i<o;)a[i]=e[i+t];return a}function oi(e,t){var n;return hr(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function ai(e,t,n){var r=0,i=null==e?r:e.length;if("number"==typeof t&&t===t&&i<=2147483647){for(;r<i;){var o=r+i>>>1,a=e[o];null!==a&&!ls(a)&&(n?a<=t:a<t)?r=o+1:i=o}return i}return si(e,t,ou,n)}function si(e,t,n,r){var o=0,a=null==e?0:e.length;if(0===a)return 0;for(var s=(t=n(t))!==t,u=null===t,c=ls(t),l=t===i;o<a;){var f=pt((o+a)/2),d=n(e[f]),h=d!==i,p=null===d,v=d===d,g=ls(d);if(s)var y=r||v;else y=l?v&&(r||h):u?v&&h&&(r||!p):c?v&&h&&!p&&(r||!g):!p&&!g&&(r?d<=t:d<t);y?o=f+1:a=f}return _n(a,4294967294)}function ui(e,t){for(var n=-1,r=e.length,i=0,o=[];++n<r;){var a=e[n],s=t?t(a):a;if(!n||!Ha(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(e){return"number"==typeof e?e:ls(e)?v:+e}function li(e){if("string"==typeof e)return e;if(Wa(e))return Mt(e,li)+"";if(ls(e))return Zn?Zn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function fi(e,t,n){var r=-1,i=Lt,o=e.length,a=!0,s=[],u=s;if(n)a=!1,i=Ft;else if(o>=200){var c=t?null:Qi(e);if(c)return hn(c);a=!1,i=tn,u=new Jn}else u=t?[]:s;e:for(;++r<o;){var l=e[r],f=t?t(l):l;if(l=n||0!==l?l:0,a&&f===f){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),s.push(l)}else i(u,f,n)||(u!==s&&u.push(f),s.push(l))}return s}function di(e,t){return null==(e=To(e,t=_i(t,e)))||delete e[Uo(Xo(t))]}function hi(e,t,n,r){return ei(e,t,n(kr(e,t)),r)}function pi(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?ii(e,r?0:o,r?o+1:i):ii(e,r?o+1:0,r?i:o)}function vi(e,t){var n=e;return n instanceof Vn&&(n=n.value()),Dt(t,(function(e,t){return t.func.apply(t.thisArg,jt([e],t.args))}),n)}function gi(e,t,r){var i=e.length;if(i<2)return i?fi(e[0]):[];for(var o=-1,a=n(i);++o<i;)for(var s=e[o],u=-1;++u<i;)u!=o&&(a[o]=dr(a[o]||s,e[u],t,r));return fi(mr(a,1),t,r)}function yi(e,t,n){for(var r=-1,o=e.length,a=t.length,s={};++r<o;){var u=r<a?t[r]:i;n(s,e[r],u)}return s}function mi(e){return Ja(e)?e:[]}function wi(e){return"function"==typeof e?e:ou}function _i(e,t){return Wa(e)?e:xo(e,t)?[e]:No(_s(e))}var bi=Yr;function xi(e,t,n){var r=e.length;return n=n===i?r:n,!t&&n>=r?e:ii(e,t,n)}var Si=nt||function(e){return vt.clearTimeout(e)};function ki(e,t){if(t)return e.slice();var n=e.length,r=Ve?Ve(n):new e.constructor(n);return e.copy(r),r}function Ei(e){var t=new e.constructor(e.byteLength);return new Ke(t).set(new Ke(e)),t}function Ci(e,t){var n=t?Ei(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function Pi(e,t){if(e!==t){var n=e!==i,r=null===e,o=e===e,a=ls(e),s=t!==i,u=null===t,c=t===t,l=ls(t);if(!u&&!l&&!a&&e>t||a&&s&&c&&!u&&!l||r&&s&&c||!n&&c||!o)return 1;if(!r&&!a&&!l&&e<t||l&&n&&o&&!r&&!a||u&&n&&o||!s&&o||!c)return-1}return 0}function Ai(e,t,r,i){for(var o=-1,a=e.length,s=r.length,u=-1,c=t.length,l=Gt(a-s,0),f=n(c+l),d=!i;++u<c;)f[u]=t[u];for(;++o<s;)(d||o<a)&&(f[r[o]]=e[o]);for(;l--;)f[u++]=e[o++];return f}function Ti(e,t,r,i){for(var o=-1,a=e.length,s=-1,u=r.length,c=-1,l=t.length,f=Gt(a-u,0),d=n(f+l),h=!i;++o<f;)d[o]=e[o];for(var p=o;++c<l;)d[p+c]=t[c];for(;++s<u;)(h||o<a)&&(d[p+r[s]]=e[o++]);return d}function Oi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ii(e,t,n,r){var o=!n;n||(n={});for(var a=-1,s=t.length;++a<s;){var u=t[a],c=r?r(n[u],e[u],u,n,e):i;c===i&&(c=e[u]),o?ar(n,u,c):nr(n,u,c)}return n}function Ri(e,t){return function(n,r){var i=Wa(n)?At:ir,o=t?t():{};return i(n,e,co(r,2),o)}}function Li(e){return Yr((function(t,n){var r=-1,o=n.length,a=o>1?n[o-1]:i,s=o>2?n[2]:i;for(a=e.length>3&&"function"==typeof a?(o--,a):i,s&&bo(n[0],n[1],s)&&(a=o<3?i:a,o=1),t=Ce(t);++r<o;){var u=n[r];u&&e(t,u,r,a)}return t}))}function Fi(e,t){return function(n,r){if(null==n)return n;if(!Ga(n))return e(n,r);for(var i=n.length,o=t?i:-1,a=Ce(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Mi(e){return function(t,n,r){for(var i=-1,o=Ce(t),a=r(t),s=a.length;s--;){var u=a[e?s:++i];if(!1===n(o[u],u,o))break}return t}}function ji(e){return function(t){var n=cn(t=_s(t))?gn(t):i,r=n?n[0]:t.charAt(0),o=n?xi(n,1).join(""):t.slice(1);return r[e]()+o}}function Di(e){return function(t){return Dt($s(Vs(t).replace(et,"")),e,"")}}function Ni(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Hn(e.prototype),r=e.apply(n,t);return ns(r)?r:n}}function Ui(e){return function(t,n,r){var o=Ce(t);if(!Ga(t)){var a=co(n,3);t=Ls(t),n=function(e){return a(o[e],e,o)}}var s=e(t,n,r);return s>-1?o[a?t[s]:s]:i}}function Zi(e){return ro((function(t){var n=t.length,r=n,a=Kn.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if("function"!=typeof s)throw new Te(o);if(a&&!u&&"wrapper"==so(s))var u=new Kn([],!0)}for(r=u?r:n;++r<n;){var c=so(s=t[r]),l="wrapper"==c?ao(s):i;u=l&&So(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?u[so(l[0])].apply(u,l[3]):1==s.length&&So(s)?u[c]():u.thru(s)}return function(){var e=arguments,r=e[0];if(u&&1==e.length&&Wa(r))return u.plant(r).value();for(var i=0,o=n?t[i].apply(this,e):r;++i<n;)o=t[i].call(this,o);return o}}))}function Bi(e,t,r,o,a,s,u,c,l,d){var h=t&f,p=1&t,v=2&t,g=24&t,y=512&t,m=v?i:Ni(e);return function i(){for(var f=arguments.length,w=n(f),_=f;_--;)w[_]=arguments[_];if(g)var b=uo(i),x=on(w,b);if(o&&(w=Ai(w,o,a,g)),s&&(w=Ti(w,s,u,g)),f-=x,g&&f<d){var S=dn(w,b);return Gi(e,t,Bi,i.placeholder,r,w,S,c,l,d-f)}var k=p?r:this,E=v?k[e]:e;return f=w.length,c?w=Oo(w,c):y&&f>1&&w.reverse(),h&&l<f&&(w.length=l),this&&this!==vt&&this instanceof i&&(E=m||Ni(E)),E.apply(k,w)}}function Hi(e,t){return function(n,r){return function(e,t,n,r){return br(e,(function(e,i,o){t(r,n(e),i,o)})),r}(n,e,t(r),{})}}function zi(e,t){return function(n,r){var o;if(n===i&&r===i)return t;if(n!==i&&(o=n),r!==i){if(o===i)return r;"string"==typeof n||"string"==typeof r?(n=li(n),r=li(r)):(n=ci(n),r=ci(r)),o=e(n,r)}return o}}function Ki(e){return ro((function(t){return t=Mt(t,$t(co())),Yr((function(n){var r=this;return e(t,(function(e){return Pt(e,r,n)}))}))}))}function Vi(e,t){var n=(t=t===i?" ":li(t)).length;if(n<2)return n?Qr(t,e):t;var r=Qr(t,ht(e/vn(t)));return cn(t)?xi(gn(r),0,e).join(""):r.slice(0,e)}function Wi(e){return function(t,r,o){return o&&"number"!=typeof o&&bo(t,r,o)&&(r=o=i),t=vs(t),r===i?(r=t,t=0):r=vs(r),function(e,t,r,i){for(var o=-1,a=Gt(ht((t-e)/(r||1)),0),s=n(a);a--;)s[i?a:++o]=e,e+=r;return s}(t,r,o=o===i?t<r?1:-1:vs(o),e)}}function qi(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=ms(t),n=ms(n)),e(t,n)}}function Gi(e,t,n,r,o,a,s,u,f,d){var h=8&t;t|=h?c:l,4&(t&=~(h?l:c))||(t&=-4);var p=[e,t,o,h?a:i,h?s:i,h?i:a,h?i:s,u,f,d],v=n.apply(i,p);return So(e)&&Ro(v,p),v.placeholder=r,Mo(v,e,t)}function Ji(e){var t=Ee[e];return function(e,n){if(e=ms(e),(n=null==n?0:_n(gs(n),292))&&wt(e)){var r=(_s(e)+"e").split("e");return+((r=(_s(t(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return t(e)}}var Qi=An&&1/hn(new An([,-0]))[1]==h?function(e){return new An(e)}:lu;function Yi(e){return function(t){var n=go(t);return n==E?ln(t):n==O?pn(t):function(e,t){return Mt(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Xi(e,t,r,a,h,p,v,g){var y=2&t;if(!y&&"function"!=typeof e)throw new Te(o);var m=a?a.length:0;if(m||(t&=-97,a=h=i),v=v===i?v:Gt(gs(v),0),g=g===i?g:gs(g),m-=h?h.length:0,t&l){var w=a,_=h;a=h=i}var b=y?i:ao(e),x=[e,t,r,a,h,w,_,p,v,g];if(b&&function(e,t){var n=e[1],r=t[1],i=n|r,o=i<131,a=r==f&&8==n||r==f&&n==d&&e[7].length<=t[8]||384==r&&t[7].length<=t[8]&&8==n;if(!o&&!a)return e;1&r&&(e[2]=t[2],i|=1&n?0:4);var u=t[3];if(u){var c=e[3];e[3]=c?Ai(c,u,t[4]):u,e[4]=c?dn(e[3],s):t[4]}(u=t[5])&&(c=e[5],e[5]=c?Ti(c,u,t[6]):u,e[6]=c?dn(e[5],s):t[6]);(u=t[7])&&(e[7]=u);r&f&&(e[8]=null==e[8]?t[8]:_n(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=i}(x,b),e=x[0],t=x[1],r=x[2],a=x[3],h=x[4],!(g=x[9]=x[9]===i?y?0:e.length:Gt(x[9]-m,0))&&24&t&&(t&=-25),t&&1!=t)S=8==t||t==u?function(e,t,r){var o=Ni(e);return function a(){for(var s=arguments.length,u=n(s),c=s,l=uo(a);c--;)u[c]=arguments[c];var f=s<3&&u[0]!==l&&u[s-1]!==l?[]:dn(u,l);return(s-=f.length)<r?Gi(e,t,Bi,a.placeholder,i,u,f,i,i,r-s):Pt(this&&this!==vt&&this instanceof a?o:e,this,u)}}(e,t,g):t!=c&&33!=t||h.length?Bi.apply(i,x):function(e,t,r,i){var o=1&t,a=Ni(e);return function t(){for(var s=-1,u=arguments.length,c=-1,l=i.length,f=n(l+u),d=this&&this!==vt&&this instanceof t?a:e;++c<l;)f[c]=i[c];for(;u--;)f[c++]=arguments[++s];return Pt(d,o?r:this,f)}}(e,t,r,a);else var S=function(e,t,n){var r=1&t,i=Ni(e);return function t(){return(this&&this!==vt&&this instanceof t?i:e).apply(r?n:this,arguments)}}(e,t,r);return Mo((b?ti:Ro)(S,x),e,t)}function $i(e,t,n,r){return e===i||Ha(e,Re[n])&&!Me.call(r,n)?t:e}function eo(e,t,n,r,o,a){return ns(e)&&ns(t)&&(a.set(t,e),zr(e,t,i,eo,a),a.delete(t)),e}function to(e){return as(e)?i:e}function no(e,t,n,r,o,a){var s=1&n,u=e.length,c=t.length;if(u!=c&&!(s&&c>u))return!1;var l=a.get(e),f=a.get(t);if(l&&f)return l==t&&f==e;var d=-1,h=!0,p=2&n?new Jn:i;for(a.set(e,t),a.set(t,e);++d<u;){var v=e[d],g=t[d];if(r)var y=s?r(g,v,d,t,e,a):r(v,g,d,e,t,a);if(y!==i){if(y)continue;h=!1;break}if(p){if(!Ut(t,(function(e,t){if(!tn(p,t)&&(v===e||o(v,e,n,r,a)))return p.push(t)}))){h=!1;break}}else if(v!==g&&!o(v,g,n,r,a)){h=!1;break}}return a.delete(e),a.delete(t),h}function ro(e){return Fo(Ao(e,i,qo),e+"")}function io(e){return Er(e,Ls,po)}function oo(e){return Er(e,Fs,vo)}var ao=In?function(e){return In.get(e)}:lu;function so(e){for(var t=e.name+"",n=Rn[t],r=Me.call(Rn,t)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function uo(e){return(Me.call(Bn,"placeholder")?Bn:e).placeholder}function co(){var e=Bn.iteratee||au;return e=e===au?jr:e,arguments.length?e(arguments[0],arguments[1]):e}function lo(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function fo(e){for(var t=Ls(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,Co(i)]}return t}function ho(e,t){var n=function(e,t){return null==e?i:e[t]}(e,t);return Mr(n)?n:i}var po=gt?function(e){return null==e?[]:(e=Ce(e),Rt(gt(e),(function(t){return Ge.call(e,t)})))}:yu,vo=gt?function(e){for(var t=[];e;)jt(t,po(e)),e=We(e);return t}:yu,go=Cr;function yo(e,t,n){for(var r=-1,i=(t=_i(t,e)).length,o=!1;++r<i;){var a=Uo(t[r]);if(!(o=null!=e&&n(e,a)))break;e=e[a]}return o||++r!=i?o:!!(i=null==e?0:e.length)&&ts(i)&&_o(a,i)&&(Wa(e)||Va(e))}function mo(e){return"function"!=typeof e.constructor||Eo(e)?{}:Hn(We(e))}function wo(e){return Wa(e)||Va(e)||!!(Qe&&e&&e[Qe])}function _o(e,t){var n=typeof e;return!!(t=null==t?p:t)&&("number"==n||"symbol"!=n&&_e.test(e))&&e>-1&&e%1==0&&e<t}function bo(e,t,n){if(!ns(n))return!1;var r=typeof t;return!!("number"==r?Ga(n)&&_o(t,n.length):"string"==r&&t in n)&&Ha(n[t],e)}function xo(e,t){if(Wa(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!ls(e))||(ne.test(e)||!te.test(e)||null!=t&&e in Ce(t))}function So(e){var t=so(e),n=Bn[t];if("function"!=typeof n||!(t in Vn.prototype))return!1;if(e===n)return!0;var r=ao(n);return!!r&&e===r[0]}(En&&go(new En(new ArrayBuffer(1)))!=M||Cn&&go(new Cn)!=E||Pn&&go(Pn.resolve())!=A||An&&go(new An)!=O||Tn&&go(new Tn)!=L)&&(go=function(e){var t=Cr(e),n=t==P?e.constructor:i,r=n?Zo(n):"";if(r)switch(r){case Ln:return M;case Fn:return E;case Mn:return A;case jn:return O;case Dn:return L}return t});var ko=Le?$a:mu;function Eo(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Re)}function Co(e){return e===e&&!ns(e)}function Po(e,t){return function(n){return null!=n&&(n[e]===t&&(t!==i||e in Ce(n)))}}function Ao(e,t,r){return t=Gt(t===i?e.length-1:t,0),function(){for(var i=arguments,o=-1,a=Gt(i.length-t,0),s=n(a);++o<a;)s[o]=i[t+o];o=-1;for(var u=n(t+1);++o<t;)u[o]=i[o];return u[t]=r(s),Pt(e,this,u)}}function To(e,t){return t.length<2?e:kr(e,ii(t,0,-1))}function Oo(e,t){for(var n=e.length,r=_n(t.length,n),o=Oi(e);r--;){var a=t[r];e[r]=_o(a,n)?o[a]:i}return e}function Io(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var Ro=jo(ti),Lo=lt||function(e,t){return vt.setTimeout(e,t)},Fo=jo(ni);function Mo(e,t,n){var r=t+"";return Fo(e,function(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace(ue,"{\n/* [wrapped with "+t+"] */\n")}(r,function(e,t){return Tt(y,(function(n){var r="_."+n[0];t&n[1]&&!Lt(e,r)&&e.push(r)})),e.sort()}(function(e){var t=e.match(ce);return t?t[1].split(le):[]}(r),n)))}function jo(e){var t=0,n=0;return function(){var r=bn(),o=16-(r-n);if(n=r,o>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Do(e,t){var n=-1,r=e.length,o=r-1;for(t=t===i?r:t;++n<t;){var a=Jr(n,o),s=e[a];e[a]=e[n],e[n]=s}return e.length=t,e}var No=function(e){var t=ja(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(re,(function(e,n,r,i){t.push(r?i.replace(he,"$1"):n||e)})),t}));function Uo(e){if("string"==typeof e||ls(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Zo(e){if(null!=e){try{return Fe.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Bo(e){if(e instanceof Vn)return e.clone();var t=new Kn(e.__wrapped__,e.__chain__);return t.__actions__=Oi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Ho=Yr((function(e,t){return Ja(e)?dr(e,mr(t,1,Ja,!0)):[]})),zo=Yr((function(e,t){var n=Xo(t);return Ja(n)&&(n=i),Ja(e)?dr(e,mr(t,1,Ja,!0),co(n,2)):[]})),Ko=Yr((function(e,t){var n=Xo(t);return Ja(n)&&(n=i),Ja(e)?dr(e,mr(t,1,Ja,!0),i,n):[]}));function Vo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=Gt(r+i,0)),Ht(e,co(t,3),i)}function Wo(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r-1;return n!==i&&(o=gs(n),o=n<0?Gt(r+o,0):_n(o,r-1)),Ht(e,co(t,3),o,!0)}function qo(e){return(null==e?0:e.length)?mr(e,1):[]}function Go(e){return e&&e.length?e[0]:i}var Jo=Yr((function(e){var t=Mt(e,mi);return t.length&&t[0]===e[0]?Or(t):[]})),Qo=Yr((function(e){var t=Xo(e),n=Mt(e,mi);return t===Xo(n)?t=i:n.pop(),n.length&&n[0]===e[0]?Or(n,co(t,2)):[]})),Yo=Yr((function(e){var t=Xo(e),n=Mt(e,mi);return(t="function"==typeof t?t:i)&&n.pop(),n.length&&n[0]===e[0]?Or(n,i,t):[]}));function Xo(e){var t=null==e?0:e.length;return t?e[t-1]:i}var $o=Yr(ea);function ea(e,t){return e&&e.length&&t&&t.length?qr(e,t):e}var ta=ro((function(e,t){var n=null==e?0:e.length,r=sr(e,t);return Gr(e,Mt(t,(function(e){return _o(e,n)?+e:e})).sort(Pi)),r}));function na(e){return null==e?e:kn.call(e)}var ra=Yr((function(e){return fi(mr(e,1,Ja,!0))})),ia=Yr((function(e){var t=Xo(e);return Ja(t)&&(t=i),fi(mr(e,1,Ja,!0),co(t,2))})),oa=Yr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,fi(mr(e,1,Ja,!0),i,t)}));function aa(e){if(!e||!e.length)return[];var t=0;return e=Rt(e,(function(e){if(Ja(e))return t=Gt(e.length,t),!0})),Yt(t,(function(t){return Mt(e,qt(t))}))}function sa(e,t){if(!e||!e.length)return[];var n=aa(e);return null==t?n:Mt(n,(function(e){return Pt(t,i,e)}))}var ua=Yr((function(e,t){return Ja(e)?dr(e,t):[]})),ca=Yr((function(e){return gi(Rt(e,Ja))})),la=Yr((function(e){var t=Xo(e);return Ja(t)&&(t=i),gi(Rt(e,Ja),co(t,2))})),fa=Yr((function(e){var t=Xo(e);return t="function"==typeof t?t:i,gi(Rt(e,Ja),i,t)})),da=Yr(aa);var ha=Yr((function(e){var t=e.length,n=t>1?e[t-1]:i;return n="function"==typeof n?(e.pop(),n):i,sa(e,n)}));function pa(e){var t=Bn(e);return t.__chain__=!0,t}function va(e,t){return t(e)}var ga=ro((function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,o=function(t){return sr(t,e)};return!(t>1||this.__actions__.length)&&r instanceof Vn&&_o(n)?((r=r.slice(n,+n+(t?1:0))).__actions__.push({func:va,args:[o],thisArg:i}),new Kn(r,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(o)}));var ya=Ri((function(e,t,n){Me.call(e,n)?++e[n]:ar(e,n,1)}));var ma=Ui(Vo),wa=Ui(Wo);function _a(e,t){return(Wa(e)?Tt:hr)(e,co(t,3))}function ba(e,t){return(Wa(e)?Ot:pr)(e,co(t,3))}var xa=Ri((function(e,t,n){Me.call(e,n)?e[n].push(t):ar(e,n,[t])}));var Sa=Yr((function(e,t,r){var i=-1,o="function"==typeof t,a=Ga(e)?n(e.length):[];return hr(e,(function(e){a[++i]=o?Pt(t,e,r):Ir(e,t,r)})),a})),ka=Ri((function(e,t,n){ar(e,n,t)}));function Ea(e,t){return(Wa(e)?Mt:Zr)(e,co(t,3))}var Ca=Ri((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var Pa=Yr((function(e,t){if(null==e)return[];var n=t.length;return n>1&&bo(e,t[0],t[1])?t=[]:n>2&&bo(t[0],t[1],t[2])&&(t=[t[0]]),Vr(e,mr(t,1),[])})),Aa=it||function(){return vt.Date.now()};function Ta(e,t,n){return t=n?i:t,t=e&&null==t?e.length:t,Xi(e,f,i,i,i,i,t)}function Oa(e,t){var n;if("function"!=typeof t)throw new Te(o);return e=gs(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=i),n}}var Ia=Yr((function(e,t,n){var r=1;if(n.length){var i=dn(n,uo(Ia));r|=c}return Xi(e,r,t,n,i)})),Ra=Yr((function(e,t,n){var r=3;if(n.length){var i=dn(n,uo(Ra));r|=c}return Xi(t,r,e,n,i)}));function La(e,t,n){var r,a,s,u,c,l,f=0,d=!1,h=!1,p=!0;if("function"!=typeof e)throw new Te(o);function v(t){var n=r,o=a;return r=a=i,f=t,u=e.apply(o,n)}function g(e){return f=e,c=Lo(m,t),d?v(e):u}function y(e){var n=e-l;return l===i||n>=t||n<0||h&&e-f>=s}function m(){var e=Aa();if(y(e))return w(e);c=Lo(m,function(e){var n=t-(e-l);return h?_n(n,s-(e-f)):n}(e))}function w(e){return c=i,p&&r?v(e):(r=a=i,u)}function _(){var e=Aa(),n=y(e);if(r=arguments,a=this,l=e,n){if(c===i)return g(l);if(h)return Si(c),c=Lo(m,t),v(l)}return c===i&&(c=Lo(m,t)),u}return t=ms(t)||0,ns(n)&&(d=!!n.leading,s=(h="maxWait"in n)?Gt(ms(n.maxWait)||0,t):s,p="trailing"in n?!!n.trailing:p),_.cancel=function(){c!==i&&Si(c),f=0,r=l=a=c=i},_.flush=function(){return c===i?u:w(Aa())},_}var Fa=Yr((function(e,t){return fr(e,1,t)})),Ma=Yr((function(e,t,n){return fr(e,ms(t)||0,n)}));function ja(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Te(o);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(ja.Cache||Gn),n}function Da(e){if("function"!=typeof e)throw new Te(o);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}ja.Cache=Gn;var Na=bi((function(e,t){var n=(t=1==t.length&&Wa(t[0])?Mt(t[0],$t(co())):Mt(mr(t,1),$t(co()))).length;return Yr((function(r){for(var i=-1,o=_n(r.length,n);++i<o;)r[i]=t[i].call(this,r[i]);return Pt(e,this,r)}))})),Ua=Yr((function(e,t){var n=dn(t,uo(Ua));return Xi(e,c,i,t,n)})),Za=Yr((function(e,t){var n=dn(t,uo(Za));return Xi(e,l,i,t,n)})),Ba=ro((function(e,t){return Xi(e,d,i,i,i,t)}));function Ha(e,t){return e===t||e!==e&&t!==t}var za=qi(Pr),Ka=qi((function(e,t){return e>=t})),Va=Rr(function(){return arguments}())?Rr:function(e){return rs(e)&&Me.call(e,"callee")&&!Ge.call(e,"callee")},Wa=n.isArray,qa=bt?$t(bt):function(e){return rs(e)&&Cr(e)==F};function Ga(e){return null!=e&&ts(e.length)&&!$a(e)}function Ja(e){return rs(e)&&Ga(e)}var Qa=yt||mu,Ya=xt?$t(xt):function(e){return rs(e)&&Cr(e)==b};function Xa(e){if(!rs(e))return!1;var t=Cr(e);return t==x||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!as(e)}function $a(e){if(!ns(e))return!1;var t=Cr(e);return t==S||t==k||"[object AsyncFunction]"==t||"[object Proxy]"==t}function es(e){return"number"==typeof e&&e==gs(e)}function ts(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=p}function ns(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function rs(e){return null!=e&&"object"==typeof e}var is=St?$t(St):function(e){return rs(e)&&go(e)==E};function os(e){return"number"==typeof e||rs(e)&&Cr(e)==C}function as(e){if(!rs(e)||Cr(e)!=P)return!1;var t=We(e);if(null===t)return!0;var n=Me.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Fe.call(n)==Ue}var ss=kt?$t(kt):function(e){return rs(e)&&Cr(e)==T};var us=Et?$t(Et):function(e){return rs(e)&&go(e)==O};function cs(e){return"string"==typeof e||!Wa(e)&&rs(e)&&Cr(e)==I}function ls(e){return"symbol"==typeof e||rs(e)&&Cr(e)==R}var fs=Ct?$t(Ct):function(e){return rs(e)&&ts(e.length)&&!!ut[Cr(e)]};var ds=qi(Ur),hs=qi((function(e,t){return e<=t}));function ps(e){if(!e)return[];if(Ga(e))return cs(e)?gn(e):Oi(e);if(Ye&&e[Ye])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Ye]());var t=go(e);return(t==E?ln:t==O?hn:Hs)(e)}function vs(e){return e?(e=ms(e))===h||e===-1/0?17976931348623157e292*(e<0?-1:1):e===e?e:0:0===e?e:0}function gs(e){var t=vs(e),n=t%1;return t===t?n?t-n:t:0}function ys(e){return e?ur(gs(e),0,g):0}function ms(e){if("number"==typeof e)return e;if(ls(e))return v;if(ns(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=ns(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Xt(e);var n=ye.test(e);return n||we.test(e)?dt(e.slice(2),n?2:8):ge.test(e)?v:+e}function ws(e){return Ii(e,Fs(e))}function _s(e){return null==e?"":li(e)}var bs=Li((function(e,t){if(Eo(t)||Ga(t))Ii(t,Ls(t),e);else for(var n in t)Me.call(t,n)&&nr(e,n,t[n])})),xs=Li((function(e,t){Ii(t,Fs(t),e)})),Ss=Li((function(e,t,n,r){Ii(t,Fs(t),e,r)})),ks=Li((function(e,t,n,r){Ii(t,Ls(t),e,r)})),Es=ro(sr);var Cs=Yr((function(e,t){e=Ce(e);var n=-1,r=t.length,o=r>2?t[2]:i;for(o&&bo(t[0],t[1],o)&&(r=1);++n<r;)for(var a=t[n],s=Fs(a),u=-1,c=s.length;++u<c;){var l=s[u],f=e[l];(f===i||Ha(f,Re[l])&&!Me.call(e,l))&&(e[l]=a[l])}return e})),Ps=Yr((function(e){return e.push(i,eo),Pt(js,i,e)}));function As(e,t,n){var r=null==e?i:kr(e,t);return r===i?n:r}function Ts(e,t){return null!=e&&yo(e,t,Tr)}var Os=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),e[t]=n}),nu(ou)),Is=Hi((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=Ne.call(t)),Me.call(e,t)?e[t].push(n):e[t]=[n]}),co),Rs=Yr(Ir);function Ls(e){return Ga(e)?Yn(e):Dr(e)}function Fs(e){return Ga(e)?Yn(e,!0):Nr(e)}var Ms=Li((function(e,t,n){zr(e,t,n)})),js=Li((function(e,t,n,r){zr(e,t,n,r)})),Ds=ro((function(e,t){var n={};if(null==e)return n;var r=!1;t=Mt(t,(function(t){return t=_i(t,e),r||(r=t.length>1),t})),Ii(e,oo(e),n),r&&(n=cr(n,7,to));for(var i=t.length;i--;)di(n,t[i]);return n}));var Ns=ro((function(e,t){return null==e?{}:function(e,t){return Wr(e,t,(function(t,n){return Ts(e,n)}))}(e,t)}));function Us(e,t){if(null==e)return{};var n=Mt(oo(e),(function(e){return[e]}));return t=co(t),Wr(e,n,(function(e,n){return t(e,n[0])}))}var Zs=Yi(Ls),Bs=Yi(Fs);function Hs(e){return null==e?[]:en(e,Ls(e))}var zs=Di((function(e,t,n){return t=t.toLowerCase(),e+(n?Ks(t):t)}));function Ks(e){return Xs(_s(e).toLowerCase())}function Vs(e){return(e=_s(e))&&e.replace(be,an).replace(tt,"")}var Ws=Di((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),qs=Di((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),Gs=ji("toLowerCase");var Js=Di((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Qs=Di((function(e,t,n){return e+(n?" ":"")+Xs(t)}));var Ys=Di((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Xs=ji("toUpperCase");function $s(e,t,n){return e=_s(e),(t=n?i:t)===i?function(e){return ot.test(e)}(e)?function(e){return e.match(rt)||[]}(e):function(e){return e.match(fe)||[]}(e):e.match(t)||[]}var eu=Yr((function(e,t){try{return Pt(e,i,t)}catch(n){return Xa(n)?n:new se(n)}})),tu=ro((function(e,t){return Tt(t,(function(t){t=Uo(t),ar(e,t,Ia(e[t],e))})),e}));function nu(e){return function(){return e}}var ru=Zi(),iu=Zi(!0);function ou(e){return e}function au(e){return jr("function"==typeof e?e:cr(e,1))}var su=Yr((function(e,t){return function(n){return Ir(n,e,t)}})),uu=Yr((function(e,t){return function(n){return Ir(e,n,t)}}));function cu(e,t,n){var r=Ls(t),i=Sr(t,r);null!=n||ns(t)&&(i.length||!r.length)||(n=t,t=e,e=this,i=Sr(t,Ls(t)));var o=!(ns(n)&&"chain"in n)||!!n.chain,a=$a(e);return Tt(i,(function(n){var r=t[n];e[n]=r,a&&(e.prototype[n]=function(){var t=this.__chain__;if(o||t){var n=e(this.__wrapped__),i=n.__actions__=Oi(this.__actions__);return i.push({func:r,args:arguments,thisArg:e}),n.__chain__=t,n}return r.apply(e,jt([this.value()],arguments))})})),e}function lu(){}var fu=Ki(Mt),du=Ki(It),hu=Ki(Ut);function pu(e){return xo(e)?qt(Uo(e)):function(e){return function(t){return kr(t,e)}}(e)}var vu=Wi(),gu=Wi(!0);function yu(){return[]}function mu(){return!1}var wu=zi((function(e,t){return e+t}),0),_u=Ji("ceil"),bu=zi((function(e,t){return e/t}),1),xu=Ji("floor");var Su=zi((function(e,t){return e*t}),1),ku=Ji("round"),Eu=zi((function(e,t){return e-t}),0);return Bn.after=function(e,t){if("function"!=typeof t)throw new Te(o);return e=gs(e),function(){if(--e<1)return t.apply(this,arguments)}},Bn.ary=Ta,Bn.assign=bs,Bn.assignIn=xs,Bn.assignInWith=Ss,Bn.assignWith=ks,Bn.at=Es,Bn.before=Oa,Bn.bind=Ia,Bn.bindAll=tu,Bn.bindKey=Ra,Bn.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Wa(e)?e:[e]},Bn.chain=pa,Bn.chunk=function(e,t,r){t=(r?bo(e,t,r):t===i)?1:Gt(gs(t),0);var o=null==e?0:e.length;if(!o||t<1)return[];for(var a=0,s=0,u=n(ht(o/t));a<o;)u[s++]=ii(e,a,a+=t);return u},Bn.compact=function(e){for(var t=-1,n=null==e?0:e.length,r=0,i=[];++t<n;){var o=e[t];o&&(i[r++]=o)}return i},Bn.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return jt(Wa(r)?Oi(r):[r],mr(t,1))},Bn.cond=function(e){var t=null==e?0:e.length,n=co();return e=t?Mt(e,(function(e){if("function"!=typeof e[1])throw new Te(o);return[n(e[0]),e[1]]})):[],Yr((function(n){for(var r=-1;++r<t;){var i=e[r];if(Pt(i[0],this,n))return Pt(i[1],this,n)}}))},Bn.conforms=function(e){return function(e){var t=Ls(e);return function(n){return lr(n,e,t)}}(cr(e,1))},Bn.constant=nu,Bn.countBy=ya,Bn.create=function(e,t){var n=Hn(e);return null==t?n:or(n,t)},Bn.curry=function e(t,n,r){var o=Xi(t,8,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.curryRight=function e(t,n,r){var o=Xi(t,u,i,i,i,i,i,n=r?i:n);return o.placeholder=e.placeholder,o},Bn.debounce=La,Bn.defaults=Cs,Bn.defaultsDeep=Ps,Bn.defer=Fa,Bn.delay=Ma,Bn.difference=Ho,Bn.differenceBy=zo,Bn.differenceWith=Ko,Bn.drop=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=n||t===i?1:gs(t))<0?0:t,r):[]},Bn.dropRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,0,(t=r-(t=n||t===i?1:gs(t)))<0?0:t):[]},Bn.dropRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0,!0):[]},Bn.dropWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!0):[]},Bn.fill=function(e,t,n,r){var o=null==e?0:e.length;return o?(n&&"number"!=typeof n&&bo(e,t,n)&&(n=0,r=o),function(e,t,n,r){var o=e.length;for((n=gs(n))<0&&(n=-n>o?0:o+n),(r=r===i||r>o?o:gs(r))<0&&(r+=o),r=n>r?0:ys(r);n<r;)e[n++]=t;return e}(e,t,n,r)):[]},Bn.filter=function(e,t){return(Wa(e)?Rt:yr)(e,co(t,3))},Bn.flatMap=function(e,t){return mr(Ea(e,t),1)},Bn.flatMapDeep=function(e,t){return mr(Ea(e,t),h)},Bn.flatMapDepth=function(e,t,n){return n=n===i?1:gs(n),mr(Ea(e,t),n)},Bn.flatten=qo,Bn.flattenDeep=function(e){return(null==e?0:e.length)?mr(e,h):[]},Bn.flattenDepth=function(e,t){return(null==e?0:e.length)?mr(e,t=t===i?1:gs(t)):[]},Bn.flip=function(e){return Xi(e,512)},Bn.flow=ru,Bn.flowRight=iu,Bn.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r},Bn.functions=function(e){return null==e?[]:Sr(e,Ls(e))},Bn.functionsIn=function(e){return null==e?[]:Sr(e,Fs(e))},Bn.groupBy=xa,Bn.initial=function(e){return(null==e?0:e.length)?ii(e,0,-1):[]},Bn.intersection=Jo,Bn.intersectionBy=Qo,Bn.intersectionWith=Yo,Bn.invert=Os,Bn.invertBy=Is,Bn.invokeMap=Sa,Bn.iteratee=au,Bn.keyBy=ka,Bn.keys=Ls,Bn.keysIn=Fs,Bn.map=Ea,Bn.mapKeys=function(e,t){var n={};return t=co(t,3),br(e,(function(e,r,i){ar(n,t(e,r,i),e)})),n},Bn.mapValues=function(e,t){var n={};return t=co(t,3),br(e,(function(e,r,i){ar(n,r,t(e,r,i))})),n},Bn.matches=function(e){return Br(cr(e,1))},Bn.matchesProperty=function(e,t){return Hr(e,cr(t,1))},Bn.memoize=ja,Bn.merge=Ms,Bn.mergeWith=js,Bn.method=su,Bn.methodOf=uu,Bn.mixin=cu,Bn.negate=Da,Bn.nthArg=function(e){return e=gs(e),Yr((function(t){return Kr(t,e)}))},Bn.omit=Ds,Bn.omitBy=function(e,t){return Us(e,Da(co(t)))},Bn.once=function(e){return Oa(2,e)},Bn.orderBy=function(e,t,n,r){return null==e?[]:(Wa(t)||(t=null==t?[]:[t]),Wa(n=r?i:n)||(n=null==n?[]:[n]),Vr(e,t,n))},Bn.over=fu,Bn.overArgs=Na,Bn.overEvery=du,Bn.overSome=hu,Bn.partial=Ua,Bn.partialRight=Za,Bn.partition=Ca,Bn.pick=Ns,Bn.pickBy=Us,Bn.property=pu,Bn.propertyOf=function(e){return function(t){return null==e?i:kr(e,t)}},Bn.pull=$o,Bn.pullAll=ea,Bn.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,co(n,2)):e},Bn.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?qr(e,t,i,n):e},Bn.pullAt=ta,Bn.range=vu,Bn.rangeRight=gu,Bn.rearg=Ba,Bn.reject=function(e,t){return(Wa(e)?Rt:yr)(e,Da(co(t,3)))},Bn.remove=function(e,t){var n=[];if(!e||!e.length)return n;var r=-1,i=[],o=e.length;for(t=co(t,3);++r<o;){var a=e[r];t(a,r,e)&&(n.push(a),i.push(r))}return Gr(e,i),n},Bn.rest=function(e,t){if("function"!=typeof e)throw new Te(o);return Yr(e,t=t===i?t:gs(t))},Bn.reverse=na,Bn.sampleSize=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:gs(t),(Wa(e)?$n:$r)(e,t)},Bn.set=function(e,t,n){return null==e?e:ei(e,t,n)},Bn.setWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:ei(e,t,n,r)},Bn.shuffle=function(e){return(Wa(e)?er:ri)(e)},Bn.slice=function(e,t,n){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&bo(e,t,n)?(t=0,n=r):(t=null==t?0:gs(t),n=n===i?r:gs(n)),ii(e,t,n)):[]},Bn.sortBy=Pa,Bn.sortedUniq=function(e){return e&&e.length?ui(e):[]},Bn.sortedUniqBy=function(e,t){return e&&e.length?ui(e,co(t,2)):[]},Bn.split=function(e,t,n){return n&&"number"!=typeof n&&bo(e,t,n)&&(t=n=i),(n=n===i?g:n>>>0)?(e=_s(e))&&("string"==typeof t||null!=t&&!ss(t))&&!(t=li(t))&&cn(e)?xi(gn(e),0,n):e.split(t,n):[]},Bn.spread=function(e,t){if("function"!=typeof e)throw new Te(o);return t=null==t?0:Gt(gs(t),0),Yr((function(n){var r=n[t],i=xi(n,0,t);return r&&jt(i,r),Pt(e,this,i)}))},Bn.tail=function(e){var t=null==e?0:e.length;return t?ii(e,1,t):[]},Bn.take=function(e,t,n){return e&&e.length?ii(e,0,(t=n||t===i?1:gs(t))<0?0:t):[]},Bn.takeRight=function(e,t,n){var r=null==e?0:e.length;return r?ii(e,(t=r-(t=n||t===i?1:gs(t)))<0?0:t,r):[]},Bn.takeRightWhile=function(e,t){return e&&e.length?pi(e,co(t,3),!1,!0):[]},Bn.takeWhile=function(e,t){return e&&e.length?pi(e,co(t,3)):[]},Bn.tap=function(e,t){return t(e),e},Bn.throttle=function(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Te(o);return ns(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),La(e,t,{leading:r,maxWait:t,trailing:i})},Bn.thru=va,Bn.toArray=ps,Bn.toPairs=Zs,Bn.toPairsIn=Bs,Bn.toPath=function(e){return Wa(e)?Mt(e,Uo):ls(e)?[e]:Oi(No(_s(e)))},Bn.toPlainObject=ws,Bn.transform=function(e,t,n){var r=Wa(e),i=r||Qa(e)||fs(e);if(t=co(t,4),null==n){var o=e&&e.constructor;n=i?r?new o:[]:ns(e)&&$a(o)?Hn(We(e)):{}}return(i?Tt:br)(e,(function(e,r,i){return t(n,e,r,i)})),n},Bn.unary=function(e){return Ta(e,1)},Bn.union=ra,Bn.unionBy=ia,Bn.unionWith=oa,Bn.uniq=function(e){return e&&e.length?fi(e):[]},Bn.uniqBy=function(e,t){return e&&e.length?fi(e,co(t,2)):[]},Bn.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?fi(e,i,t):[]},Bn.unset=function(e,t){return null==e||di(e,t)},Bn.unzip=aa,Bn.unzipWith=sa,Bn.update=function(e,t,n){return null==e?e:hi(e,t,wi(n))},Bn.updateWith=function(e,t,n,r){return r="function"==typeof r?r:i,null==e?e:hi(e,t,wi(n),r)},Bn.values=Hs,Bn.valuesIn=function(e){return null==e?[]:en(e,Fs(e))},Bn.without=ua,Bn.words=$s,Bn.wrap=function(e,t){return Ua(wi(t),e)},Bn.xor=ca,Bn.xorBy=la,Bn.xorWith=fa,Bn.zip=da,Bn.zipObject=function(e,t){return yi(e||[],t||[],nr)},Bn.zipObjectDeep=function(e,t){return yi(e||[],t||[],ei)},Bn.zipWith=ha,Bn.entries=Zs,Bn.entriesIn=Bs,Bn.extend=xs,Bn.extendWith=Ss,cu(Bn,Bn),Bn.add=wu,Bn.attempt=eu,Bn.camelCase=zs,Bn.capitalize=Ks,Bn.ceil=_u,Bn.clamp=function(e,t,n){return n===i&&(n=t,t=i),n!==i&&(n=(n=ms(n))===n?n:0),t!==i&&(t=(t=ms(t))===t?t:0),ur(ms(e),t,n)},Bn.clone=function(e){return cr(e,4)},Bn.cloneDeep=function(e){return cr(e,5)},Bn.cloneDeepWith=function(e,t){return cr(e,5,t="function"==typeof t?t:i)},Bn.cloneWith=function(e,t){return cr(e,4,t="function"==typeof t?t:i)},Bn.conformsTo=function(e,t){return null==t||lr(e,t,Ls(t))},Bn.deburr=Vs,Bn.defaultTo=function(e,t){return null==e||e!==e?t:e},Bn.divide=bu,Bn.endsWith=function(e,t,n){e=_s(e),t=li(t);var r=e.length,o=n=n===i?r:ur(gs(n),0,r);return(n-=t.length)>=0&&e.slice(n,o)==t},Bn.eq=Ha,Bn.escape=function(e){return(e=_s(e))&&Y.test(e)?e.replace(J,sn):e},Bn.escapeRegExp=function(e){return(e=_s(e))&&oe.test(e)?e.replace(ie,"\\$&"):e},Bn.every=function(e,t,n){var r=Wa(e)?It:vr;return n&&bo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.find=ma,Bn.findIndex=Vo,Bn.findKey=function(e,t){return Bt(e,co(t,3),br)},Bn.findLast=wa,Bn.findLastIndex=Wo,Bn.findLastKey=function(e,t){return Bt(e,co(t,3),xr)},Bn.floor=xu,Bn.forEach=_a,Bn.forEachRight=ba,Bn.forIn=function(e,t){return null==e?e:wr(e,co(t,3),Fs)},Bn.forInRight=function(e,t){return null==e?e:_r(e,co(t,3),Fs)},Bn.forOwn=function(e,t){return e&&br(e,co(t,3))},Bn.forOwnRight=function(e,t){return e&&xr(e,co(t,3))},Bn.get=As,Bn.gt=za,Bn.gte=Ka,Bn.has=function(e,t){return null!=e&&yo(e,t,Ar)},Bn.hasIn=Ts,Bn.head=Go,Bn.identity=ou,Bn.includes=function(e,t,n,r){e=Ga(e)?e:Hs(e),n=n&&!r?gs(n):0;var i=e.length;return n<0&&(n=Gt(i+n,0)),cs(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&zt(e,t,n)>-1},Bn.indexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var i=null==n?0:gs(n);return i<0&&(i=Gt(r+i,0)),zt(e,t,i)},Bn.inRange=function(e,t,n){return t=vs(t),n===i?(n=t,t=0):n=vs(n),function(e,t,n){return e>=_n(t,n)&&e<Gt(t,n)}(e=ms(e),t,n)},Bn.invoke=Rs,Bn.isArguments=Va,Bn.isArray=Wa,Bn.isArrayBuffer=qa,Bn.isArrayLike=Ga,Bn.isArrayLikeObject=Ja,Bn.isBoolean=function(e){return!0===e||!1===e||rs(e)&&Cr(e)==_},Bn.isBuffer=Qa,Bn.isDate=Ya,Bn.isElement=function(e){return rs(e)&&1===e.nodeType&&!as(e)},Bn.isEmpty=function(e){if(null==e)return!0;if(Ga(e)&&(Wa(e)||"string"==typeof e||"function"==typeof e.splice||Qa(e)||fs(e)||Va(e)))return!e.length;var t=go(e);if(t==E||t==O)return!e.size;if(Eo(e))return!Dr(e).length;for(var n in e)if(Me.call(e,n))return!1;return!0},Bn.isEqual=function(e,t){return Lr(e,t)},Bn.isEqualWith=function(e,t,n){var r=(n="function"==typeof n?n:i)?n(e,t):i;return r===i?Lr(e,t,i,n):!!r},Bn.isError=Xa,Bn.isFinite=function(e){return"number"==typeof e&&wt(e)},Bn.isFunction=$a,Bn.isInteger=es,Bn.isLength=ts,Bn.isMap=is,Bn.isMatch=function(e,t){return e===t||Fr(e,t,fo(t))},Bn.isMatchWith=function(e,t,n){return n="function"==typeof n?n:i,Fr(e,t,fo(t),n)},Bn.isNaN=function(e){return os(e)&&e!=+e},Bn.isNative=function(e){if(ko(e))throw new se("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Mr(e)},Bn.isNil=function(e){return null==e},Bn.isNull=function(e){return null===e},Bn.isNumber=os,Bn.isObject=ns,Bn.isObjectLike=rs,Bn.isPlainObject=as,Bn.isRegExp=ss,Bn.isSafeInteger=function(e){return es(e)&&e>=-9007199254740991&&e<=p},Bn.isSet=us,Bn.isString=cs,Bn.isSymbol=ls,Bn.isTypedArray=fs,Bn.isUndefined=function(e){return e===i},Bn.isWeakMap=function(e){return rs(e)&&go(e)==L},Bn.isWeakSet=function(e){return rs(e)&&"[object WeakSet]"==Cr(e)},Bn.join=function(e,t){return null==e?"":_t.call(e,t)},Bn.kebabCase=Ws,Bn.last=Xo,Bn.lastIndexOf=function(e,t,n){var r=null==e?0:e.length;if(!r)return-1;var o=r;return n!==i&&(o=(o=gs(n))<0?Gt(r+o,0):_n(o,r-1)),t===t?function(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}(e,t,o):Ht(e,Vt,o,!0)},Bn.lowerCase=qs,Bn.lowerFirst=Gs,Bn.lt=ds,Bn.lte=hs,Bn.max=function(e){return e&&e.length?gr(e,ou,Pr):i},Bn.maxBy=function(e,t){return e&&e.length?gr(e,co(t,2),Pr):i},Bn.mean=function(e){return Wt(e,ou)},Bn.meanBy=function(e,t){return Wt(e,co(t,2))},Bn.min=function(e){return e&&e.length?gr(e,ou,Ur):i},Bn.minBy=function(e,t){return e&&e.length?gr(e,co(t,2),Ur):i},Bn.stubArray=yu,Bn.stubFalse=mu,Bn.stubObject=function(){return{}},Bn.stubString=function(){return""},Bn.stubTrue=function(){return!0},Bn.multiply=Su,Bn.nth=function(e,t){return e&&e.length?Kr(e,gs(t)):i},Bn.noConflict=function(){return vt._===this&&(vt._=Ze),this},Bn.noop=lu,Bn.now=Aa,Bn.pad=function(e,t,n){e=_s(e);var r=(t=gs(t))?vn(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return Vi(pt(i),n)+e+Vi(ht(i),n)},Bn.padEnd=function(e,t,n){e=_s(e);var r=(t=gs(t))?vn(e):0;return t&&r<t?e+Vi(t-r,n):e},Bn.padStart=function(e,t,n){e=_s(e);var r=(t=gs(t))?vn(e):0;return t&&r<t?Vi(t-r,n)+e:e},Bn.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),xn(_s(e).replace(ae,""),t||0)},Bn.random=function(e,t,n){if(n&&"boolean"!=typeof n&&bo(e,t,n)&&(t=n=i),n===i&&("boolean"==typeof t?(n=t,t=i):"boolean"==typeof e&&(n=e,e=i)),e===i&&t===i?(e=0,t=1):(e=vs(e),t===i?(t=e,e=0):t=vs(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var o=Sn();return _n(e+o*(t-e+ft("1e-"+((o+"").length-1))),t)}return Jr(e,t)},Bn.reduce=function(e,t,n){var r=Wa(e)?Dt:Jt,i=arguments.length<3;return r(e,co(t,4),n,i,hr)},Bn.reduceRight=function(e,t,n){var r=Wa(e)?Nt:Jt,i=arguments.length<3;return r(e,co(t,4),n,i,pr)},Bn.repeat=function(e,t,n){return t=(n?bo(e,t,n):t===i)?1:gs(t),Qr(_s(e),t)},Bn.replace=function(){var e=arguments,t=_s(e[0]);return e.length<3?t:t.replace(e[1],e[2])},Bn.result=function(e,t,n){var r=-1,o=(t=_i(t,e)).length;for(o||(o=1,e=i);++r<o;){var a=null==e?i:e[Uo(t[r])];a===i&&(r=o,a=n),e=$a(a)?a.call(e):a}return e},Bn.round=ku,Bn.runInContext=e,Bn.sample=function(e){return(Wa(e)?Xn:Xr)(e)},Bn.size=function(e){if(null==e)return 0;if(Ga(e))return cs(e)?vn(e):e.length;var t=go(e);return t==E||t==O?e.size:Dr(e).length},Bn.snakeCase=Js,Bn.some=function(e,t,n){var r=Wa(e)?Ut:oi;return n&&bo(e,t,n)&&(t=i),r(e,co(t,3))},Bn.sortedIndex=function(e,t){return ai(e,t)},Bn.sortedIndexBy=function(e,t,n){return si(e,t,co(n,2))},Bn.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var r=ai(e,t);if(r<n&&Ha(e[r],t))return r}return-1},Bn.sortedLastIndex=function(e,t){return ai(e,t,!0)},Bn.sortedLastIndexBy=function(e,t,n){return si(e,t,co(n,2),!0)},Bn.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=ai(e,t,!0)-1;if(Ha(e[n],t))return n}return-1},Bn.startCase=Qs,Bn.startsWith=function(e,t,n){return e=_s(e),n=null==n?0:ur(gs(n),0,e.length),t=li(t),e.slice(n,n+t.length)==t},Bn.subtract=Eu,Bn.sum=function(e){return e&&e.length?Qt(e,ou):0},Bn.sumBy=function(e,t){return e&&e.length?Qt(e,co(t,2)):0},Bn.template=function(e,t,n){var r=Bn.templateSettings;n&&bo(e,t,n)&&(t=i),e=_s(e),t=Ss({},t,r,$i);var o,a,s=Ss({},t.imports,r.imports,$i),u=Ls(s),c=en(s,u),l=0,f=t.interpolate||xe,d="__p += '",h=Pe((t.escape||xe).source+"|"+f.source+"|"+(f===ee?pe:xe).source+"|"+(t.evaluate||xe).source+"|$","g"),p="//# sourceURL="+(Me.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++st+"]")+"\n";e.replace(h,(function(t,n,r,i,s,u){return r||(r=i),d+=e.slice(l,u).replace(Se,un),n&&(o=!0,d+="' +\n__e("+n+") +\n'"),s&&(a=!0,d+="';\n"+s+";\n__p += '"),r&&(d+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),l=u+t.length,t})),d+="';\n";var v=Me.call(t,"variable")&&t.variable;if(v){if(de.test(v))throw new se("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(a?d.replace(V,""):d).replace(W,"$1").replace(q,"$1;"),d="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=eu((function(){return ke(u,p+"return "+d).apply(i,c)}));if(g.source=d,Xa(g))throw g;return g},Bn.times=function(e,t){if((e=gs(e))<1||e>p)return[];var n=g,r=_n(e,g);t=co(t),e-=g;for(var i=Yt(r,t);++n<e;)t(n);return i},Bn.toFinite=vs,Bn.toInteger=gs,Bn.toLength=ys,Bn.toLower=function(e){return _s(e).toLowerCase()},Bn.toNumber=ms,Bn.toSafeInteger=function(e){return e?ur(gs(e),-9007199254740991,p):0===e?e:0},Bn.toString=_s,Bn.toUpper=function(e){return _s(e).toUpperCase()},Bn.trim=function(e,t,n){if((e=_s(e))&&(n||t===i))return Xt(e);if(!e||!(t=li(t)))return e;var r=gn(e),o=gn(t);return xi(r,nn(r,o),rn(r,o)+1).join("")},Bn.trimEnd=function(e,t,n){if((e=_s(e))&&(n||t===i))return e.slice(0,yn(e)+1);if(!e||!(t=li(t)))return e;var r=gn(e);return xi(r,0,rn(r,gn(t))+1).join("")},Bn.trimStart=function(e,t,n){if((e=_s(e))&&(n||t===i))return e.replace(ae,"");if(!e||!(t=li(t)))return e;var r=gn(e);return xi(r,nn(r,gn(t))).join("")},Bn.truncate=function(e,t){var n=30,r="...";if(ns(t)){var o="separator"in t?t.separator:o;n="length"in t?gs(t.length):n,r="omission"in t?li(t.omission):r}var a=(e=_s(e)).length;if(cn(e)){var s=gn(e);a=s.length}if(n>=a)return e;var u=n-vn(r);if(u<1)return r;var c=s?xi(s,0,u).join(""):e.slice(0,u);if(o===i)return c+r;if(s&&(u+=c.length-u),ss(o)){if(e.slice(u).search(o)){var l,f=c;for(o.global||(o=Pe(o.source,_s(ve.exec(o))+"g")),o.lastIndex=0;l=o.exec(f);)var d=l.index;c=c.slice(0,d===i?u:d)}}else if(e.indexOf(li(o),u)!=u){var h=c.lastIndexOf(o);h>-1&&(c=c.slice(0,h))}return c+r},Bn.unescape=function(e){return(e=_s(e))&&Q.test(e)?e.replace(G,mn):e},Bn.uniqueId=function(e){var t=++je;return _s(e)+t},Bn.upperCase=Ys,Bn.upperFirst=Xs,Bn.each=_a,Bn.eachRight=ba,Bn.first=Go,cu(Bn,function(){var e={};return br(Bn,(function(t,n){Me.call(Bn.prototype,n)||(e[n]=t)})),e}(),{chain:!1}),Bn.VERSION="4.17.21",Tt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){Bn[e].placeholder=Bn})),Tt(["drop","take"],(function(e,t){Vn.prototype[e]=function(n){n=n===i?1:Gt(gs(n),0);var r=this.__filtered__&&!t?new Vn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,g),type:e+(r.__dir__<0?"Right":"")}),r},Vn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),Tt(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=1==n||3==n;Vn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:co(e,3),type:n}),t.__filtered__=t.__filtered__||r,t}})),Tt(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Vn.prototype[e]=function(){return this[n](1).value()[0]}})),Tt(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Vn.prototype[e]=function(){return this.__filtered__?new Vn(this):this[n](1)}})),Vn.prototype.compact=function(){return this.filter(ou)},Vn.prototype.find=function(e){return this.filter(e).head()},Vn.prototype.findLast=function(e){return this.reverse().find(e)},Vn.prototype.invokeMap=Yr((function(e,t){return"function"==typeof e?new Vn(this):this.map((function(n){return Ir(n,e,t)}))})),Vn.prototype.reject=function(e){return this.filter(Da(co(e)))},Vn.prototype.slice=function(e,t){e=gs(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Vn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==i&&(n=(t=gs(t))<0?n.dropRight(-t):n.take(t-e)),n)},Vn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Vn.prototype.toArray=function(){return this.take(g)},br(Vn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),o=Bn[r?"take"+("last"==t?"Right":""):t],a=r||/^find/.test(t);o&&(Bn.prototype[t]=function(){var t=this.__wrapped__,s=r?[1]:arguments,u=t instanceof Vn,c=s[0],l=u||Wa(t),f=function(e){var t=o.apply(Bn,jt([e],s));return r&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(u=l=!1);var d=this.__chain__,h=!!this.__actions__.length,p=a&&!d,v=u&&!h;if(!a&&l){t=v?t:new Vn(this);var g=e.apply(t,s);return g.__actions__.push({func:va,args:[f],thisArg:i}),new Kn(g,d)}return p&&v?e.apply(this,s):(g=this.thru(f),p?r?g.value()[0]:g.value():g)})})),Tt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Oe[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);Bn.prototype[e]=function(){var e=arguments;if(r&&!this.__chain__){var i=this.value();return t.apply(Wa(i)?i:[],e)}return this[n]((function(n){return t.apply(Wa(n)?n:[],e)}))}})),br(Vn.prototype,(function(e,t){var n=Bn[t];if(n){var r=n.name+"";Me.call(Rn,r)||(Rn[r]=[]),Rn[r].push({name:t,func:n})}})),Rn[Bi(i,2).name]=[{name:"wrapper",func:i}],Vn.prototype.clone=function(){var e=new Vn(this.__wrapped__);return e.__actions__=Oi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Oi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Oi(this.__views__),e},Vn.prototype.reverse=function(){if(this.__filtered__){var e=new Vn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Vn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=Wa(e),r=t<0,i=n?e.length:0,o=function(e,t,n){var r=-1,i=n.length;for(;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=_n(t,e+a);break;case"takeRight":e=Gt(e,t-a)}}return{start:e,end:t}}(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=_n(u,this.__takeCount__);if(!n||!r&&i==u&&h==u)return vi(e,this.__actions__);var p=[];e:for(;u--&&d<h;){for(var v=-1,g=e[c+=t];++v<f;){var y=l[v],m=y.iteratee,w=y.type,_=m(g);if(2==w)g=_;else if(!_){if(1==w)continue e;break e}}p[d++]=g}return p},Bn.prototype.at=ga,Bn.prototype.chain=function(){return pa(this)},Bn.prototype.commit=function(){return new Kn(this.value(),this.__chain__)},Bn.prototype.next=function(){this.__values__===i&&(this.__values__=ps(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},Bn.prototype.plant=function(e){for(var t,n=this;n instanceof zn;){var r=Bo(n);r.__index__=0,r.__values__=i,t?o.__wrapped__=r:t=r;var o=r;n=n.__wrapped__}return o.__wrapped__=e,t},Bn.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Vn){var t=e;return this.__actions__.length&&(t=new Vn(this)),(t=t.reverse()).__actions__.push({func:va,args:[na],thisArg:i}),new Kn(t,this.__chain__)}return this.thru(na)},Bn.prototype.toJSON=Bn.prototype.valueOf=Bn.prototype.value=function(){return vi(this.__wrapped__,this.__actions__)},Bn.prototype.first=Bn.prototype.head,Ye&&(Bn.prototype[Ye]=function(){return this}),Bn}();vt._=wn,(r=function(){return wn}.call(t,n,t,e))===i||(e.exports=r)}.call(this)},1975:function(e,t){"use strict";var n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",r="http://www.w3.org/2001/XMLSchema#",i="http://www.w3.org/2000/10/swap/";t.Z={xsd:{decimal:"".concat(r,"decimal"),boolean:"".concat(r,"boolean"),double:"".concat(r,"double"),integer:"".concat(r,"integer"),string:"".concat(r,"string")},rdf:{type:"".concat(n,"type"),nil:"".concat(n,"nil"),first:"".concat(n,"first"),rest:"".concat(n,"rest"),langString:"".concat(n,"langString")},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:"".concat(i,"reify#forSome"),forAll:"".concat(i,"reify#forAll")},log:{implies:"".concat(i,"log#implies")}}},1645:function(e,t,n){"use strict";n.d(t,{DP:function(){return b},LQ:function(){return k},PL:function(){return C},Rh:function(){return m},Xy:function(){return S},_w:function(){return x},dW:function(){return E},jJ:function(){return w},lD:function(){return C},t$:function(){return _}});var r,i=n(2963),o=n(7326),a=n(136),s=n(9388),u=n(5671),c=n(3144),l=n(1975),f=n(2065),d=l.Z.rdf,h=l.Z.xsd,p=0,v=/^"(.*".*)(?="[^"]*$)/,g=/^<<("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ("(?:""|[^"])*"[^ ]*|[^ ]+) ?("(?:""|[^"])*"[^ ]*|[^ ]+)?>>$/,y={namedNode:function(e){return new w(e)},blankNode:function(e){return new b(e||"n3-".concat(p++))},variable:function(e){return new x(e)},literal:function(e,t){if("string"===typeof t)return new _('"'.concat(e,'"@').concat(t.toLowerCase()));var n=t?t.value:"";""===n&&("boolean"===typeof e?n=h.boolean:"number"===typeof e&&(Number.isFinite(e)?n=Number.isInteger(e)?h.integer:h.double:(n=h.double,Number.isNaN(e)||(e=e>0?"INF":"-INF"))));return""===n||n===h.string?new _('"'.concat(e,'"')):new _('"'.concat(e,'"^^').concat(n))},defaultGraph:function(){return r},quad:T,triple:T};t.ZP=y;var m=function(){function e(t){(0,u.Z)(this,e),this.id=t}return(0,c.Z)(e,[{key:"value",get:function(){return this.id}},{key:"equals",value:function(t){return t instanceof e?this.id===t.id:!!t&&this.termType===t.termType&&this.value===t.value}},{key:"hashCode",value:function(){return 0}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value}}}]),e}(),w=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"termType",get:function(){return"NamedNode"}}]),n}(m),_=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){return(0,u.Z)(this,n),t.apply(this,arguments)}return(0,c.Z)(n,[{key:"termType",get:function(){return"Literal"}},{key:"value",get:function(){return this.id.substring(1,this.id.lastIndexOf('"'))}},{key:"language",get:function(){var e=this.id,t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}},{key:"datatype",get:function(){return new w(this.datatypeString)}},{key:"datatypeString",get:function(){var e=this.id,t=e.lastIndexOf('"')+1,n=t<e.length?e[t]:"";return"^"===n?e.substr(t+2):"@"!==n?h.string:d.langString}},{key:"equals",value:function(e){return e instanceof n?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}},{key:"toJSON",value:function(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}]),n}(m),b=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,"_:".concat(e))}return(0,c.Z)(n,[{key:"termType",get:function(){return"BlankNode"}},{key:"value",get:function(){return this.id.substr(2)}}]),n}(m),x=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e){return(0,u.Z)(this,n),t.call(this,"?".concat(e))}return(0,c.Z)(n,[{key:"termType",get:function(){return"Variable"}},{key:"value",get:function(){return this.id.substr(1)}}]),n}(m),S=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(){var e;return(0,u.Z)(this,n),e=t.call(this,""),(0,i.Z)(e,r||(0,o.Z)(e))}return(0,c.Z)(n,[{key:"termType",get:function(){return"DefaultGraph"}},{key:"equals",value:function(e){return this===e||!!e&&this.termType===e.termType}}]),n}(m);function k(e,t){if(t=t||y,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===y)return new _(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));var n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));case"<":var r=g.exec(e);return t.quad(k(A(r[1]),t),k(A(r[2]),t),k(A(r[3]),t),r[4]&&k(A(r[4]),t));default:return t.namedNode(e)}}function E(e){if("string"===typeof e)return e;if(e instanceof m&&"Quad"!==e.termType)return e.id;if(!e)return r.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return'"'.concat(e.value,'"').concat(e.language?"@".concat(e.language):e.datatype&&e.datatype.value!==h.string?"^^".concat(e.datatype.value):"");case"Quad":return"<<".concat(P(E(e.subject))," ").concat(P(E(e.predicate))," ").concat(P(E(e.object))).concat((0,f.isDefaultGraph)(e.graph)?"":" ".concat(E(e.graph)),">>");default:throw new Error("Unexpected termType: ".concat(e.termType))}}r=new S;var C=function(e){(0,a.Z)(n,e);var t=(0,s.Z)(n);function n(e,i,o,a){var s;return(0,u.Z)(this,n),(s=t.call(this,""))._subject=e,s._predicate=i,s._object=o,s._graph=a||r,s}return(0,c.Z)(n,[{key:"termType",get:function(){return"Quad"}},{key:"subject",get:function(){return this._subject}},{key:"predicate",get:function(){return this._predicate}},{key:"object",get:function(){return this._object}},{key:"graph",get:function(){return this._graph}},{key:"toJSON",value:function(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}},{key:"equals",value:function(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}]),n}(m);function P(e){return e.replace(v,(function(e,t){return'"'.concat(t.replace(/"/g,'""'))}))}function A(e){return e.replace(v,(function(e,t){return'"'.concat(t.replace(/""/g,'"'))}))}function T(e,t,n,r){return new C(e,t,n,r)}},8678:function(e,t,n){"use strict";n.d(t,{Z:function(){return p}});var r=n(5671),i=n(3144),o=n(1975),a=n(4183),s=n.n(a),u=o.Z.xsd,c=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,l={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},f=/[\x00-\x20<>\\"\{\}\|\^\`]/,d={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},h=/$0^/,p=function(){function e(t){if((0,r.Z)(this,e),this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,t=t||{},this._lineMode=!!t.lineMode)for(var n in this._n3Mode=!1,this)!(n in d)&&this[n]instanceof RegExp&&(this[n]=h);else this._n3Mode=!1!==t.n3;this._comments=!!t.comments,this._literalClosingPos=0}return(0,i.Z)(e,[{key:"_tokenizeToEnd",value:function(e,t){for(var n=this._input,r=n.length;;){for(var i=void 0,o=void 0;i=this._newline.exec(n);)this._comments&&(o=this._comment.exec(i[0]))&&_("comment",o[1],"",this._line,i[0].length),n=n.substr(i[0].length,n.length),r=n.length,this._line++;if(!i&&(i=this._whitespace.exec(n))&&(n=n.substr(i[0].length,n.length)),this._endOfFile.test(n))return t&&(this._comments&&(o=this._comment.exec(n))&&_("comment",o[1],"",this._line,n.length),n=null,_("eof","","",this._line,0)),this._input=n;var a=this._line,s=n[0],c="",l="",d="",h=null,p=0,v=!1;switch(s){case"^":if(n.length<3)break;if("^"!==n[1]){this._n3Mode&&(p=1,c="^");break}if(this._previousMarker="^^","<"!==(n=n.substr(2))[0]){v=!0;break}case"<":if(h=this._unescapedIri.exec(n))c="IRI",l=h[1];else if(h=this._iri.exec(n)){if(null===(l=this._unescape(h[1]))||f.test(l))return b(this);c="IRI"}else n.length>1&&"<"===n[1]?(c="<<",p=2):this._n3Mode&&n.length>1&&"="===n[1]&&(c="inverse",p=2,l=">");break;case">":n.length>1&&">"===n[1]&&(c=">>",p=2);break;case"_":((h=this._blank.exec(n))||t&&(h=this._blank.exec("".concat(n," "))))&&(c="blank",d="_",l=h[1]);break;case'"':if(h=this._simpleQuotedString.exec(n))l=h[1];else{var g=this._parseLiteral(n);if(l=g.value,p=g.matchLength,null===l)return b(this)}null===h&&0===p||(c="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(h=this._simpleApostropheString.exec(n))l=h[1];else{var y=this._parseLiteral(n);if(l=y.value,p=y.matchLength,null===l)return b(this)}null===h&&0===p||(c="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(h=this._variable.exec(n))&&(c="var",l=h[0]);break;case"@":"literal"===this._previousMarker&&(h=this._langcode.exec(n))?(c="langcode",l=h[1]):(h=this._keyword.exec(n))&&(c=h[0]);break;case".":if(1===n.length?t:n[1]<"0"||n[1]>"9"){c=".",p=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(h=this._number.exec(n)||t&&(h=this._number.exec("".concat(n," "))))&&(c="literal",l=h[0],d="string"===typeof h[1]?u.double:"string"===typeof h[2]?u.decimal:u.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(h=this._sparqlKeyword.exec(n))?c=h[0].toUpperCase():v=!0;break;case"f":case"t":(h=this._boolean.exec(n))?(c="literal",l=h[0],d=u.boolean):v=!0;break;case"a":(h=this._shortPredicates.exec(n))?(c="abbreviation",l="a"):v=!0;break;case"=":this._n3Mode&&n.length>1&&(c="abbreviation",">"!==n[1]?(p=1,l="="):(p=2,l=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"{":case"}":this._lineMode||(p=1,c=s);break;default:v=!0}if(v&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(h=this._prefix.exec(n))?((h=this._prefixed.exec(n))||t&&(h=this._prefixed.exec("".concat(n," "))))&&(c="prefixed",d=h[1]||"",l=this._unescape(h[2])):(c="prefix",l=h[1]||"")),"^^"===this._previousMarker)switch(c){case"prefixed":c="type";break;case"IRI":c="typeIRI";break;default:c=""}if(!c)return t||!/^'''|^"""/.test(n)&&/\n|\r/.test(n)?b(this):this._input=n;var m=p||h[0].length,w=_(c,l,d,a,m);this.previousToken=w,this._previousMarker=c,n=n.substr(m,n.length)}function _(t,i,o,a,s){var u=n?r-n.length:r,c={type:t,value:i,prefix:o,line:a,start:u,end:u+s};return e(null,c),c}function b(t){e(t._syntaxError(/^\S*/.exec(n)[0]))}}},{key:"_unescape",value:function(e){var t=!1,n=e.replace(c,(function(e,n,r,i){if("string"===typeof n)return String.fromCharCode(Number.parseInt(n,16));if("string"===typeof r){var o=Number.parseInt(r,16);return o<=65535?String.fromCharCode(Number.parseInt(r,16)):String.fromCharCode(55296+((o-=65536)>>10),56320+(1023&o))}return i in l?l[i]:(t=!0,"")}));return t?null:n}},{key:"_parseLiteral",value:function(e){if(e.length>=3){for(var t=e.match(/^(?:"""|"|'''|'|)/)[0],n=t.length,r=Math.max(this._literalClosingPos,n);(r=e.indexOf(t,r))>0;){for(var i=0;"\\"===e[r-i-1];)i++;if(i%2===0){var o=e.substring(n,r),a=o.split(/\r\n|\r|\n/).length-1,s=r+n;if(1===n&&0!==a||3===n&&this._lineMode)break;return this._line+=a,{value:this._unescape(o),matchLength:s}}r++}this._literalClosingPos=e.length-n+1}return{value:"",matchLength:0}}},{key:"_syntaxError",value:function(e){this._input=null;var t=new Error('Unexpected "'.concat(e,'" on line ').concat(this._line,"."));return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}},{key:"_readStartingBom",value:function(e){return e.startsWith("\ufeff")?e.substr(1):e}},{key:"tokenize",value:function(e,t){var n=this;if(this._line=1,"string"===typeof e){if(this._input=this._readStartingBom(e),"function"!==typeof t){var r,i=[];if(this._tokenizeToEnd((function(e,t){return e?r=e:i.push(t)}),!0),r)throw r;return i}s()((function(){return n._tokenizeToEnd(t,!0)}))}else this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",(function(e){null!==n._input&&0!==e.length&&(n._pendingBuffer&&(e=Buffer.concat([n._pendingBuffer,e]),n._pendingBuffer=null),128&e[e.length-1]?n._pendingBuffer=e:("undefined"===typeof n._input?n._input=n._readStartingBom("string"===typeof e?e:e.toString()):n._input+=e,n._tokenizeToEnd(t,!1)))})),e.on("end",(function(){"string"===typeof n._input&&n._tokenizeToEnd(t,!0)})),e.on("error",t)}}]),e}()},1543:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5671),i=n(3144),o=n(8678),a=n(1645),s=n(1975),u=0,c=function(){function e(t){(0,r.Z)(this,e),this._contextStack=[],this._graph=null,t=t||{},this._setBase(t.baseIRI),t.factory&&f(this,t.factory);var n="string"===typeof t.format?t.format.match(/\w*$/)[0].toLowerCase():"",i=/turtle/.test(n),a=/trig/.test(n),s=/triple/.test(n),u=/quad/.test(n),c=this._n3Mode=/n3/.test(n),l=s||u;(this._supportsNamedGraphs=!(i||c))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(i||a||s||c),this._supportsRDFStar=""===n||/star|\*$/.test(n),l&&(this._resolveRelativeIRI=function(e){return null}),this._blankNodePrefix="string"!==typeof t.blankNodePrefix?"":t.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=t.lexer||new o.Z({lineMode:l,n3:c}),this._explicitQuantifiers=!!t.explicitQuantifiers}return(0,i.Z)(e,[{key:"_setBase",value:function(e){if(e){var t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}},{key:"_saveContext",value:function(e,t,n,r,i){var o=this._n3Mode;this._contextStack.push({type:e,subject:n,predicate:r,object:i,graph:t,inverse:!!o&&this._inversePredicate,blankPrefix:o?this._prefixes._:"",quantified:o?this._quantified:null}),o&&(this._inversePredicate=!1,this._prefixes._=this._graph?"".concat(this._graph.id.substr(2),"."):".",this._quantified=Object.create(this._quantified))}},{key:"_restoreContext",value:function(e,t){var n=this._contextStack.pop();if(!n||n.type!==e)return this._error("Unexpected ".concat(t.type),t);this._subject=n.subject,this._predicate=n.predicate,this._object=n.object,this._graph=n.graph,this._n3Mode&&(this._inversePredicate=n.inverse,this._prefixes._=n.blankPrefix,this._quantified=n.quantified)}},{key:"_readInTopContext",value:function(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}},{key:"_readEntity",value:function(e,t){var n;switch(e.type){case"IRI":case"typeIRI":var r=this._resolveIRI(e.value);if(null===r)return this._error("Invalid IRI",e);n=this._namedNode(r);break;case"type":case"prefixed":var i=this._prefixes[e.prefix];if(void 0===i)return this._error('Undefined prefix "'.concat(e.prefix,':"'),e);n=this._namedNode(i+e.value);break;case"blank":n=this._blankNode(this._prefixes[e.prefix]+e.value);break;case"var":n=this._variable(e.value.substr(1));break;default:return this._error("Expected entity but got ".concat(e.type),e)}return!t&&this._n3Mode&&n.id in this._quantified&&(n=this._quantified[n.id]),n}},{key:"_readSubject",value:function(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier=this._blankNode,this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier=this._variable,this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._literal(e.value,this._namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}},{key:"_readPredicate",value:function(e){var t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected ".concat(t),e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}},{key:"_readObject",value:function(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._literal(e.value,this._namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF* syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}},{key:"_readPredicateOrNamedGraph",value:function(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}},{key:"_readGraph",value:function(e){return"{"!==e.type?this._error("Expected graph but got ".concat(e.type),e):(this._graph=this._subject,this._subject=null,this._readSubject)}},{key:"_readBlankNodeHead",value:function(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}},{key:"_readBlankNodeTail",value:function(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);var t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}},{key:"_readPredicateAfterBlank",value:function(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}},{key:"_readListItem",value:function(e){var t=null,n=null,r=this._readListItem,i=this._subject,o=this._contextStack,a=o[o.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,n=this._blankNode(),this.RDF_FIRST,this._subject=t=this._blankNode()),r=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,n=this._blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==o.length&&"list"===o[o.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(r=this._readPredicate,this._subject===this.RDF_NIL)return r}else if(r=this._getContextEndReader(),this._object===this.RDF_NIL)return r;n=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,r=this._readListItemDataTypeOrLang):(t=this._literal(e.value,this._namedNode(e.prefix)),r=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===n&&(this._subject=n=this._blankNode()),null===i?null===a.predicate?a.subject=n:a.object=n:this._emit(i,this.RDF_REST,n,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,n,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(n,this.RDF_FIRST,t,this._graph)}return r}},{key:"_readDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!1)}},{key:"_readListItemDataTypeOrLang",value:function(e){return this._completeObjectLiteral(e,!0)}},{key:"_completeLiteral",value:function(e){var t=this._literal(this._literalValue);switch(e.type){case"type":case"typeIRI":var n=this._readEntity(e);if(void 0===n)return;t=this._literal(this._literalValue,n),e=null;break;case"langcode":t=this._literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}},{key:"_completeSubjectLiteral",value:function(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}},{key:"_completeObjectLiteral",value:function(e,t){var n=this._completeLiteral(e);if(n)return this._object=n.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===n.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(n.token))}},{key:"_readFormulaTail",value:function(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}},{key:"_readPunctuation",value:function(e){var t,n=this._graph,r=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(n=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}if(null!==r){var o=this._predicate,a=this._object;i?this._emit(a,o,r,n):this._emit(r,o,a,n)}return t}},{key:"_readBlankNodePunctuation",value:function(e){var t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}},{key:"_readQuadPunctuation",value:function(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}},{key:"_readPrefix",value:function(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}},{key:"_readPrefixIRI",value:function(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'.concat(this._prefix,':"'),e);var t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}},{key:"_readBaseIRI",value:function(e){var t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}},{key:"_readNamedGraphLabel",value:function(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}},{key:"_readNamedGraphBlankLabel",value:function(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._blankNode(),this._readGraph)}},{key:"_readDeclarationPunctuation",value:function(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}},{key:"_readQuantifierList",value:function(e){var t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected ".concat(e.type),e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._quantifier(this._blankNode().value),this._readQuantifierPunctuation}},{key:"_readQuantifierPunctuation",value:function(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}},{key:"_getPathReader",value:function(e){return this._afterPath=e,this._readPath}},{key:"_readPath",value:function(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:var t=this._contextStack,n=t.length&&t[t.length-1];if(n&&"item"===n.type){var r=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,r,this._graph)}return this._afterPath(e)}}},{key:"_readForwardPath",value:function(e){var t,n,r=this._blankNode();if(void 0!==(n=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=r):(t=this._object,this._object=r),this._emit(t,n,r,this._graph),this._readPath}},{key:"_readBackwardPath",value:function(e){var t,n,r=this._blankNode();if(void 0!==(t=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=r):(n=this._object,this._object=r),this._emit(r,t,n,this._graph),this._readPath}},{key:"_readRDFStarTailOrGraph",value:function(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'.concat(this._object.id,'"'),e):this._readRDFStarTail(e)}},{key:"_readRDFStarTail",value:function(e){if(">>"!==e.type)return this._error("Expected >> but got ".concat(e.type),e);var t=this._quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}},{key:"_getContextEndReader",value:function(){var e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}},{key:"_emit",value:function(e,t,n,r){this._callback(null,this._quad(e,t,n,r||this.DEFAULTGRAPH))}},{key:"_error",value:function(e,t){var n=new Error("".concat(e," on line ").concat(t.line,"."));n.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(n),this._callback=l}},{key:"_resolveIRI",value:function(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}},{key:"_resolveRelativeIRI",value:function(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}},{key:"_removeDotSegments",value:function(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;for(var t=e.length,n="",r=-1,i=-1,o=0,a="/";r<t;){switch(a){case":":if(i<0&&"/"===e[++r]&&"/"===e[++r])for(;(i=r+1)<t&&"/"!==e[i];)r=i;break;case"?":case"#":r=t;break;case"/":if("."===e[r+1])switch(a=e[1+ ++r]){case"/":n+=e.substring(o,r-1),o=r+1;break;case void 0:case"?":case"#":return n+e.substring(o,r)+e.substr(r+1);case".":if(void 0===(a=e[1+ ++r])||"/"===a||"?"===a||"#"===a){if((o=(n+=e.substring(o,r-2)).lastIndexOf("/"))>=i&&(n=n.substr(0,o)),"/"!==a)return"".concat(n,"/").concat(e.substr(r+1));o=r+1}}}a=e[++r]}return n+e.substring(o)}},{key:"parse",value:function(e,t,n){var r=this;if(this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b".concat(u++,"_"),this._prefixCallback=n||l,this._inversePredicate=!1,this._quantified=Object.create(null),!t){var i,o=[];if(this._callback=function(e,t){e?i=e:t&&o.push(t)},this._lexer.tokenize(e).every((function(e){return r._readCallback=r._readCallback(e)})),i)throw i;return o}this._callback=t,this._lexer.tokenize(e,(function(e,t){null!==e?(r._callback(e),r._callback=l):r._readCallback&&(r._readCallback=r._readCallback(t))}))}}],[{key:"_resetBlankNodePrefix",value:function(){u=0}}]),e}();function l(){}function f(e,t){var n=t.namedNode;e._namedNode=n,e._blankNode=t.blankNode,e._literal=t.literal,e._variable=t.variable,e._quad=t.quad,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=n(s.Z.rdf.first),e.RDF_REST=n(s.Z.rdf.rest),e.RDF_NIL=n(s.Z.rdf.nil),e.N3_FORALL=n(s.Z.r.forAll),e.N3_FORSOME=n(s.Z.r.forSome),e.ABBREVIATIONS={a:n(s.Z.rdf.type),"=":n(s.Z.owl.sameAs),">":n(s.Z.log.implies)},e.QUANTIFIERS_GRAPH=n("urn:n3:quantifiers")}f(c.prototype,a.ZP)},2065:function(e,t,n){"use strict";n.r(t),n.d(t,{inDefaultGraph:function(){return c},isBlankNode:function(){return o},isDefaultGraph:function(){return u},isLiteral:function(){return a},isNamedNode:function(){return i},isVariable:function(){return s},prefix:function(){return l},prefixes:function(){return f}});var r=n(1645);function i(e){return!!e&&"NamedNode"===e.termType}function o(e){return!!e&&"BlankNode"===e.termType}function a(e){return!!e&&"Literal"===e.termType}function s(e){return!!e&&"Variable"===e.termType}function u(e){return!!e&&"DefaultGraph"===e.termType}function c(e){return u(e.graph)}function l(e,t){return f({"":e.value||e},t)("")}function f(e,t){var n=Object.create(null);for(var i in e)o(i,e[i]);function o(e,r){if("string"===typeof r){var i=Object.create(null);n[e]=function(e){return i[e]||(i[e]=t.namedNode(r+e))}}else if(!(e in n))throw new Error("Unknown prefix: ".concat(e));return n[e]}return t=t||r.ZP,o}},4816:function(e,t,n){"use strict";n.r(t),n.d(t,{BlankNode:function(){return l.DP},DataFactory:function(){return l.ZP},DefaultGraph:function(){return l.Xy},Lexer:function(){return r.Z},Literal:function(){return l.t$},NamedNode:function(){return l.jJ},Parser:function(){return i.Z},Quad:function(){return l.lD},Store:function(){return P},StreamParser:function(){return O},StreamWriter:function(){return I},Term:function(){return l.Rh},Triple:function(){return l.PL},Util:function(){return f},Variable:function(){return l._w},Writer:function(){return w},default:function(){return R},termFromId:function(){return l.LQ},termToId:function(){return l.dW}});var r=n(8678),i=n(1543),o=n(5671),a=n(3144),s=n(136),u=n(9388),c=n(1975),l=n(1645),f=n(2065),d=l.ZP.defaultGraph(),h=c.Z.rdf,p=c.Z.xsd,v=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,g=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,y={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"},m=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(){return(0,o.Z)(this,n),t.apply(this,arguments)}return(0,a.Z)(n,[{key:"equals",value:function(){return!1}}]),n}(l.Rh),w=function(){function e(t,n){if((0,o.Z)(this,e),this._prefixRegex=/$0^/,t&&"function"!==typeof t.write&&(n=t,t=null),n=n||{},this._lists=n.lists,t)this._outputStream=t,this._endStream=void 0===n.end||!!n.end;else{var r="";this._outputStream={write:function(e,t,n){r+=e,n&&n()},end:function(e){e&&e(null,r)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(n.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=d,this._prefixIRIs=Object.create(null),n.prefixes&&this.addPrefixes(n.prefixes),n.baseIRI&&(this._baseMatcher=new RegExp("^".concat(b(n.baseIRI)).concat(n.baseIRI.endsWith("/")?"":"[#?]")),this._baseLength=n.baseIRI.length))}return(0,a.Z)(e,[{key:"_inDefaultGraph",get:function(){return d.equals(this._graph)}},{key:"_write",value:function(e,t){this._outputStream.write(e,"utf8",t)}},{key:"_writeQuad",value:function(e,t,n,r,i){try{r.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(d.equals(r)?"":"".concat(this._encodeIriOrBlank(r)," {\n"))),this._graph=r,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", ".concat(this._encodeObject(n)),i):this._write(";\n    ".concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(n)),i):this._write("".concat((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)," ").concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(n)),i)}catch(o){i&&i(o)}}},{key:"_writeQuadLine",value:function(e,t,n,r,i){delete this._prefixMatch,this._write(this.quadToString(e,t,n,r),i)}},{key:"quadToString",value:function(e,t,n,r){return"".concat(this._encodeSubject(e)," ").concat(this._encodeIriOrBlank(t)," ").concat(this._encodeObject(n)).concat(r&&r.value?" ".concat(this._encodeIriOrBlank(r)," .\n"):" .\n")}},{key:"quadsToString",value:function(e){var t=this;return e.map((function(e){return t.quadToString(e.subject,e.predicate,e.object,e.graph)})).join("")}},{key:"_encodeSubject",value:function(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}},{key:"_encodeIriOrBlank",value:function(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:".concat(e.value);var t=e.value;this._baseMatcher&&this._baseMatcher.test(t)&&(t=t.substr(this._baseLength)),v.test(t)&&(t=t.replace(g,_));var n=this._prefixRegex.exec(t);return n?n[1]?this._prefixIRIs[n[1]]+n[2]:t:"<".concat(t,">")}},{key:"_encodeLiteral",value:function(e){var t=e.value;if(v.test(t)&&(t=t.replace(g,_)),e.language)return'"'.concat(t,'"@').concat(e.language);if(this._lineMode){if(e.datatype.value===p.string)return'"'.concat(t,'"')}else switch(e.datatype.value){case p.string:return'"'.concat(t,'"');case p.boolean:if("true"===t||"false"===t)return t;break;case p.integer:if(/^[+-]?\d+$/.test(t))return t;break;case p.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case p.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return'"'.concat(t,'"^^').concat(this._encodeIriOrBlank(e.datatype))}},{key:"_encodePredicate",value:function(e){return e.value===h.type?"a":this._encodeIriOrBlank(e)}},{key:"_encodeObject",value:function(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}},{key:"_encodeQuad",value:function(e){var t=e.subject,n=e.predicate,r=e.object,i=e.graph;return"<<".concat(this._encodeSubject(t)," ").concat(this._encodePredicate(n)," ").concat(this._encodeObject(r)).concat((0,f.isDefaultGraph)(i)?"":" ".concat(this._encodeIriOrBlank(i)),">>")}},{key:"_blockedWrite",value:function(){throw new Error("Cannot write because the writer has been closed.")}},{key:"addQuad",value:function(e,t,n,r,i){void 0===n?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof r?this._writeQuad(e,t,n,d,r):this._writeQuad(e,t,n,r||d,i)}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"addPrefix",value:function(e,t,n){var r={};r[e]=t,this.addPrefixes(r,n)}},{key:"addPrefixes",value:function(e,t){if(!this._prefixIRIs)return t&&t();var n=!1;for(var r in e){var i=e[r];"string"!==typeof i&&(i=i.value),n=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[i]=r+=":",this._write("@prefix ".concat(r," <").concat(i,">.\n"))}if(n){var o="",a="";for(var s in this._prefixIRIs)o+=o?"|".concat(s):s,a+=(a?"|":"")+this._prefixIRIs[s];o=b(o),this._prefixRegex=new RegExp("^(?:".concat(a,")[^/]*$|")+"^(".concat(o,")([_a-zA-Z][\\-_a-zA-Z0-9]*)$"))}this._write(n?"\n":"",t)}},{key:"blank",value:function(e,t){var n,r,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),r=i.length){case 0:return new m("[]");case 1:if(!((n=i[0]).object instanceof m))return new m("[ ".concat(this._encodePredicate(n.predicate)," ").concat(this._encodeObject(n.object)," ]"));default:for(var o="[",a=0;a<r;a++)(n=i[a]).predicate.equals(e)?o+=", ".concat(this._encodeObject(n.object)):(o+="".concat((a?";\n  ":"\n  ")+this._encodePredicate(n.predicate)," ").concat(this._encodeObject(n.object)),e=n.predicate);return new m("".concat(o,"\n]"))}}},{key:"list",value:function(e){for(var t=e&&e.length||0,n=new Array(t),r=0;r<t;r++)n[r]=this._encodeObject(e[r]);return new m("(".concat(n.join(" "),")"))}},{key:"end",value:function(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;var t=e&&function(n,r){t=null,e(n,r)};if(this._endStream)try{return this._outputStream.end(t)}catch(n){}t&&t()}}]),e}();function _(e){var t=y[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}function b(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}var x=n(7326),S=n(3433),k=n(7762),E=n(4165),C=n(422),P=function(e){function t(e,n){(0,o.Z)(this,t),this._size=0,this._graphs=Object.create(null),this._id=0,this._ids=Object.create(null),this._ids["><"]=0,this._entities=Object.create(null),this._blankNodeIndex=0,n||!e||e[0]||(n=e,e=null),n=n||{},this._factory=n.factory||l.ZP,e&&this.addQuads(e)}return(0,a.Z)(t,[{key:"size",get:function(){var e=this._size;if(null!==e)return e;e=0;var t,n,r=this._graphs;for(var i in r)for(var o in t=r[i].subjects)for(var a in n=t[o])e+=Object.keys(n[a]).length;return this._size=e}},{key:"_addToIndex",value:function(e,t,n,r){var i=e[t]||(e[t]={}),o=i[n]||(i[n]={}),a=r in o;return a||(o[r]=null),!a}},{key:"_removeFromIndex",value:function(e,t,n,r){var i=e[t],o=i[n];for(var a in delete o[r],o)return;for(var s in delete i[n],i)return;delete e[t]}},{key:"_findInIndex",value:(0,E.Z)().mark((function e(t,n,r,i,o,a,s,u){var c,f,d,h,p,v,g,y,m,w;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h=this._entities,p=(0,l.LQ)(u,this._factory),v={subject:null,predicate:null,object:null},n&&((c=t,t={})[n]=c[n]),e.t0=(0,E.Z)().keys(t);case 5:if((e.t1=e.t0()).done){e.next=28;break}if(g=e.t1.value,!(f=t[g])){e.next=26;break}v[o]=(0,l.LQ)(h[g],this._factory),r&&((c=f,f={})[r]=c[r]),e.t2=(0,E.Z)().keys(f);case 11:if((e.t3=e.t2()).done){e.next=26;break}if(y=e.t3.value,!(d=f[y])){e.next=24;break}v[a]=(0,l.LQ)(h[y],this._factory),m=i?i in d?[i]:[]:Object.keys(d),w=0;case 17:if(!(w<m.length)){e.next=24;break}return v[s]=(0,l.LQ)(h[m[w]],this._factory),e.next=21,this._factory.quad(v.subject,v.predicate,v.object,p);case 21:w++,e.next=17;break;case 24:e.next=11;break;case 26:e.next=5;break;case 28:case"end":return e.stop()}}),e,this)}))},{key:"_loop",value:function(e,t){for(var n in e)t(n)}},{key:"_loopByKey0",value:function(e,t,n){var r,i;if(r=e[t])for(i in r)n(i)}},{key:"_loopByKey1",value:function(e,t,n){var r;for(r in e)e[r][t]&&n(r)}},{key:"_loopBy2Keys",value:function(e,t,n,r){var i,o,a;if((i=e[t])&&(o=i[n]))for(a in o)r(a)}},{key:"_countInIndex",value:function(e,t,n,r){var i,o,a,s=0;for(var u in t&&((i=e,e={})[t]=i[t]),e)if(o=e[u])for(var c in n&&((i=o,o={})[n]=i[n]),o)(a=o[c])&&(r?r in a&&s++:s+=Object.keys(a).length);return s}},{key:"_getGraphs",value:function(e){if(!A(e))return this._graphs;var t={};return t[e]=this._graphs[e],t}},{key:"_uniqueEntities",value:function(e){var t=this,n=Object.create(null);return function(r){r in n||(n[r]=!0,e((0,l.LQ)(t._entities[r],t._factory)))}}},{key:"add",value:function(e){return this.addQuad(e),this}},{key:"addQuad",value:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,l.dW)(e),t=(0,l.dW)(t),n=(0,l.dW)(n),r=(0,l.dW)(r);var i=this._graphs[r];i||(i=this._graphs[r]={subjects:{},predicates:{},objects:{}},Object.freeze(i));var o=this._ids,a=this._entities;e=o[e]||(o[a[++this._id]=e]=this._id),t=o[t]||(o[a[++this._id]=t]=this._id),n=o[n]||(o[a[++this._id]=n]=this._id);var s=this._addToIndex(i.subjects,e,t,n);return this._addToIndex(i.predicates,t,n,e),this._addToIndex(i.objects,n,e,t),this._size=null,s}},{key:"addQuads",value:function(e){for(var t=0;t<e.length;t++)this.addQuad(e[t])}},{key:"delete",value:function(e){return this.removeQuad(e),this}},{key:"has",value:function(e,t,n,r){if(e&&e.subject){var i=e;e=i.subject,t=i.predicate,n=i.object,r=i.graph}return!this.readQuads(e,t,n,r).next().done}},{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.addQuad(e)})),e}},{key:"removeQuad",value:function(e,t,n,r){t||(r=e.graph,n=e.object,t=e.predicate,e=e.subject),e=(0,l.dW)(e),t=(0,l.dW)(t),n=(0,l.dW)(n),r=(0,l.dW)(r);var i,o,a,s=this._ids,u=this._graphs;if(!(e=s[e])||!(t=s[t])||!(n=s[n])||!(i=u[r])||!(o=i.subjects[e])||!(a=o[t])||!(n in a))return!1;for(e in this._removeFromIndex(i.subjects,e,t,n),this._removeFromIndex(i.predicates,t,n,e),this._removeFromIndex(i.objects,n,e,t),null!==this._size&&this._size--,i.subjects)return!0;return delete u[r],!0}},{key:"removeQuads",value:function(e){for(var t=0;t<e.length;t++)this.removeQuad(e[t])}},{key:"remove",value:function(e){var t=this;return e.on("data",(function(e){t.removeQuad(e)})),e}},{key:"removeMatches",value:function(e,t,n,r){var i=this,o=new C.Readable({objectMode:!0});return o._read=function(){var a,s=(0,k.Z)(i.readQuads(e,t,n,r));try{for(s.s();!(a=s.n()).done;){var u=a.value;o.push(u)}}catch(c){s.e(c)}finally{s.f()}o.push(null)},this.remove(o)}},{key:"deleteGraph",value:function(e){return this.removeMatches(null,null,null,e)}},{key:"getQuads",value:function(e,t,n,r){return(0,S.Z)(this.readQuads(e,t,n,r))}},{key:"readQuads",value:(0,E.Z)().mark((function e(t,n,r,i){var o,a,s,u,c,f,d;return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=t&&(0,l.dW)(t),n=n&&(0,l.dW)(n),r=r&&(0,l.dW)(r),i=i&&(0,l.dW)(i),o=this._getGraphs(i),a=this._ids,!(A(t)&&!(u=a[t])||A(n)&&!(c=a[n])||A(r)&&!(f=a[r]))){e.next=7;break}return e.abrupt("return");case 7:e.t0=(0,E.Z)().keys(o);case 8:if((e.t1=e.t0()).done){e.next=30;break}if(d=e.t1.value,!(s=o[d])){e.next=28;break}if(!u){e.next=19;break}if(!f){e.next=16;break}return e.delegateYield(this._findInIndex(s.objects,f,u,c,"object","subject","predicate",d),"t2",14);case 14:e.next=17;break;case 16:return e.delegateYield(this._findInIndex(s.subjects,u,c,null,"subject","predicate","object",d),"t3",17);case 17:e.next=28;break;case 19:if(!c){e.next=23;break}return e.delegateYield(this._findInIndex(s.predicates,c,f,null,"predicate","object","subject",d),"t4",21);case 21:e.next=28;break;case 23:if(!f){e.next=27;break}return e.delegateYield(this._findInIndex(s.objects,f,null,null,"object","subject","predicate",d),"t5",25);case 25:e.next=28;break;case 27:return e.delegateYield(this._findInIndex(s.subjects,null,null,null,"subject","predicate","object",d),"t6",28);case 28:e.next=8;break;case 30:case"end":return e.stop()}}),e,this)}))},{key:"match",value:function(e,t,n,r){return new T(this,e,t,n,r)}},{key:"countQuads",value:function(e,t,n,r){e=e&&(0,l.dW)(e),t=t&&(0,l.dW)(t),n=n&&(0,l.dW)(n),r=r&&(0,l.dW)(r);var i,o,a,s,u=this._getGraphs(r),c=this._ids,f=0;if(A(e)&&!(o=c[e])||A(t)&&!(a=c[t])||A(n)&&!(s=c[n]))return 0;for(var d in u)(i=u[d])&&(f+=e?n?this._countInIndex(i.objects,s,o,a):this._countInIndex(i.subjects,o,a,s):t?this._countInIndex(i.predicates,a,s,o):this._countInIndex(i.objects,s,o,a));return f}},{key:"forEach",value:function(e,t,n,r,i){this.some((function(t){return e(t),!1}),t,n,r,i)}},{key:"every",value:function(e,t,n,r,i){var o=!1,a=!this.some((function(t){return o=!0,!e(t)}),t,n,r,i);return o&&a}},{key:"some",value:function(e,t,n,r,i){var o,a=(0,k.Z)(this.readQuads(t,n,r,i));try{for(a.s();!(o=a.n()).done;){if(e(o.value))return!0}}catch(s){a.e(s)}finally{a.f()}return!1}},{key:"getSubjects",value:function(e,t,n){var r=[];return this.forSubjects((function(e){r.push(e)}),e,t,n),r}},{key:"forSubjects",value:function(e,t,n,r){t=t&&(0,l.dW)(t),n=n&&(0,l.dW)(n),r=r&&(0,l.dW)(r);var i,o,a,s=this._ids,u=this._getGraphs(r);if(e=this._uniqueEntities(e),!(A(t)&&!(o=s[t])||A(n)&&!(a=s[n])))for(r in u)(i=u[r])&&(o?a?this._loopBy2Keys(i.predicates,o,a,e):this._loopByKey1(i.subjects,o,e):a?this._loopByKey0(i.objects,a,e):this._loop(i.subjects,e))}},{key:"getPredicates",value:function(e,t,n){var r=[];return this.forPredicates((function(e){r.push(e)}),e,t,n),r}},{key:"forPredicates",value:function(e,t,n,r){t=t&&(0,l.dW)(t),n=n&&(0,l.dW)(n),r=r&&(0,l.dW)(r);var i,o,a,s=this._ids,u=this._getGraphs(r);if(e=this._uniqueEntities(e),!(A(t)&&!(o=s[t])||A(n)&&!(a=s[n])))for(r in u)(i=u[r])&&(o?a?this._loopBy2Keys(i.objects,a,o,e):this._loopByKey0(i.subjects,o,e):a?this._loopByKey1(i.predicates,a,e):this._loop(i.predicates,e))}},{key:"getObjects",value:function(e,t,n){var r=[];return this.forObjects((function(e){r.push(e)}),e,t,n),r}},{key:"forObjects",value:function(e,t,n,r){t=t&&(0,l.dW)(t),n=n&&(0,l.dW)(n),r=r&&(0,l.dW)(r);var i,o,a,s=this._ids,u=this._getGraphs(r);if(e=this._uniqueEntities(e),!(A(t)&&!(o=s[t])||A(n)&&!(a=s[n])))for(r in u)(i=u[r])&&(o?a?this._loopBy2Keys(i.subjects,o,a,e):this._loopByKey1(i.objects,o,e):a?this._loopByKey0(i.predicates,a,e):this._loop(i.objects,e))}},{key:"getGraphs",value:function(e,t,n){var r=[];return this.forGraphs((function(e){r.push(e)}),e,t,n),r}},{key:"forGraphs",value:function(e,t,n,r){for(var i in this._graphs)this.some((function(t){return e(t.graph),!0}),t,n,r,i)}},{key:"createBlankNode",value:function(e){var t,n;if(e)for(t=e="_:".concat(e),n=1;this._ids[t];)t=e+n++;else do{t="_:b".concat(this._blankNodeIndex++)}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}},{key:"extractLists",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.remove,r=void 0!==n&&n,i=t.ignoreErrors,o=void 0!==i&&i,a={},s=o?function(){return!0}:function(e,t){throw new Error("".concat(e.value," ").concat(t))},u=this.getQuads(null,c.Z.rdf.rest,c.Z.rdf.nil,null),l=r?(0,S.Z)(u):[];return u.forEach((function(t){for(var n,i,o=[],u=!1,f=t.graph,d=t.subject;d&&!u;){for(var h=e.getQuads(null,null,d,null),p=e.getQuads(d,null,null,null),v=void 0,g=null,y=null,m=null,w=0;w<p.length&&!u;w++)(v=p[w]).graph.equals(f)?n?u=s(d,"has non-list arcs out"):v.predicate.value===c.Z.rdf.first?g?u=s(d,"has multiple rdf:first arcs"):l.push(g=v):v.predicate.value===c.Z.rdf.rest?y?u=s(d,"has multiple rdf:rest arcs"):l.push(y=v):h.length?u=s(d,"can't be subject and object"):(n=v,i="subject"):u=s(d,"not confined to single graph");for(var _=0;_<h.length&&!u;++_)v=h[_],n?u=s(d,"can't have coreferences"):v.predicate.value===c.Z.rdf.rest?m?u=s(d,"has incoming rdf:rest arcs"):m=v:(n=v,i="object");g?o.unshift(g.object):u=s(d,"has no list head"),d=m&&m.subject}u?r=!1:n&&(a[n[i].value]=o)})),r&&this.removeQuads(l),a}},{key:e,value:(0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.readQuads(),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),t}(Symbol.iterator);function A(e){return"string"===typeof e||e instanceof String}var T=function(e,t){(0,s.Z)(r,e);var n=(0,u.Z)(r);function r(e,t,i,a,s){var u;return(0,o.Z)(this,r),u=n.call(this,{objectMode:!0}),Object.assign((0,x.Z)(u),{n3Store:e,subject:t,predicate:i,object:a,graph:s}),u}return(0,a.Z)(r,[{key:"filtered",get:function(){if(!this._filtered){var e,t=this.n3Store,n=this.graph,r=this.object,i=this.predicate,o=this.subject,a=this._filtered=new P({factory:t._factory}),s=(0,k.Z)(t.readQuads(o,i,r,n));try{for(s.s();!(e=s.n()).done;){var u=e.value;a.addQuad(u)}}catch(c){s.e(c)}finally{s.f()}}return this._filtered}},{key:"size",get:function(){return this.filtered.size}},{key:"_read",value:function(){var e,t=(0,k.Z)(this);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.push(n)}}catch(r){t.e(r)}finally{t.f()}this.push(null)}},{key:"add",value:function(e){return this.filtered.add(e)}},{key:"delete",value:function(e){return this.filtered.delete(e)}},{key:"has",value:function(e){return this.filtered.has(e)}},{key:"match",value:function(e,t,n,i){return new r(this.filtered,e,t,n,i)}},{key:t,value:(0,E.Z)().mark((function e(){return(0,E.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph),"t0",1);case 1:case"end":return e.stop()}}),e,this)}))}]),r}(C.Readable,Symbol.iterator),O=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r,a,s;return(0,o.Z)(this,n),(r=t.call(this,{decodeStrings:!0}))._readableState.objectMode=!0,new i.Z(e).parse({on:function(e,t){switch(e){case"data":a=t;break;case"end":s=t}}},(function(e,t){e&&r.emit("error",e)||t&&r.push(t)}),(function(e,t){r.emit("prefix",e,t)})),r._transform=function(e,t,n){a(e),n()},r._flush=function(e){s(),e()},r}return(0,a.Z)(n,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),this}}]),n}(C.Transform),I=function(e){(0,s.Z)(n,e);var t=(0,u.Z)(n);function n(e){var r;(0,o.Z)(this,n);var i=(r=t.call(this,{encoding:"utf8",writableObjectMode:!0}))._writer=new w({write:function(e,t,n){r.push(e),n&&n()},end:function(e){r.push(null),e&&e()}},e);return r._transform=function(e,t,n){i.addQuad(e,n)},r._flush=function(e){i.end(e)},r}return(0,a.Z)(n,[{key:"import",value:function(e){var t=this;return e.on("data",(function(e){t.write(e)})),e.on("end",(function(){t.end()})),e.on("error",(function(e){t.emit("error",e)})),e.on("prefix",(function(e,n){t._writer.addPrefix(e,n)})),this}}]),n}(C.Transform),R={Lexer:r.Z,Parser:i.Z,Writer:w,Store:P,StreamParser:O,StreamWriter:I,Util:f,DataFactory:l.ZP,Term:l.Rh,NamedNode:l.jJ,Literal:l.t$,BlankNode:l.DP,Variable:l._w,DefaultGraph:l.Xy,Quad:l.lD,Triple:l.PL,termFromId:l.LQ,termToId:l.dW}},4524:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var i=n(4816),o=n(422),a=function(){function e(e,t){this.dataset=e,this.datasetCoreFactory=t}return e.prototype.createBlankDataset=function(){return new e(this.datasetCoreFactory.dataset(),this.datasetCoreFactory)},e.prototype.addAll=function(e){var t,n;try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var a=o.value;this.add(a)}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return this},e.prototype.contains=function(e){var t,n;if(e.size>this.size)return!1;try{for(var i=r(e),o=i.next();!o.done;o=i.next()){var a=o.value;if(!this.has(a))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.deleteMatches=function(e,t,n,i){var o,a,s=this.match(e,t,n,i);try{for(var u=r(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.dataset.delete(l)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return this},e.prototype.difference=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;e.has(s)||i.add(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.equals=function(e){var t,n;if(this.size!==e.size)return!1;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){var a=o.value;if(!e.has(a))return!1}}catch(s){t={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.every=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){if(!e(o.value,this))return!1}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!0},e.prototype.filter=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;e(s,this)&&i.add(s)}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.forEach=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){e(o.value,this)}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}},e.prototype.import=function(e){var t=this;return new Promise((function(n,r){e.on("data",(function(e){t.add(e)})).on("end",(function(){n(t)})).on("error",(function(e){return r(e)}))}))},e.prototype.intersection=function(e){var t,n,i=this.createBlankDataset(),o=this.size<e.size?this:e,a=this.size<e.size?e:this;try{for(var s=r(o),u=s.next();!u.done;u=s.next()){var c=u.value;a.has(c)&&i.add(c)}}catch(l){t={error:l}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}return i},e.prototype.map=function(e){var t,n,i=this.createBlankDataset();try{for(var o=r(this),a=o.next();!a.done;a=o.next()){var s=a.value;i.add(e(s,this))}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return i},e.prototype.reduce=function(e,t){if(0===this.size&&void 0==t)throw new Error("Cannot reduce an empty Dataset without an initial value.");for(var n=this[Symbol.iterator](),r=n.next(),i=t;!r.done;)i=e(i,r.value,this),r=n.next();return i},e.prototype.some=function(e){var t,n;try{for(var i=r(this),o=i.next();!o.done;o=i.next()){if(e(o.value,this))return!0}}catch(a){t={error:a}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return!1},e.prototype.toArray=function(){var e,t,n=[];try{for(var i=r(this),o=i.next();!o.done;o=i.next()){var a=o.value;n.push(a)}}catch(s){e={error:s}}finally{try{o&&!o.done&&(t=i.return)&&t.call(i)}finally{if(e)throw e.error}}return n},e.prototype.toCanonical=function(){throw new Error("Method not implemented.")},e.prototype.toStream=function(){var e=this[Symbol.iterator](),t=e.next();return new o.Readable({objectMode:!0,read:function(){!t.done&&t.value?(this.push(t.value),t=e.next()):this.push(null)}})},e.prototype.toString=function(){return new i.Writer({format:"N-Triples"}).quadsToString(this.toArray())},e.prototype.union=function(e){var t,n,i,o,a=this.createBlankDataset();try{for(var s=r(this),u=s.next();!u.done;u=s.next()){var c=u.value;a.add(c)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(t)throw t.error}}try{for(var l=r(e),f=l.next();!f.done;f=l.next()){c=f.value;a.add(c)}}catch(h){i={error:h}}finally{try{f&&!f.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}return a},e.prototype.match=function(t,n,r,i){return new e(this.dataset.match(t,n,r,i),this.datasetCoreFactory)},Object.defineProperty(e.prototype,"size",{get:function(){return this.dataset.size},enumerable:!1,configurable:!0}),e.prototype.add=function(e){return this.dataset.add(e),this},e.prototype.delete=function(e){return this.dataset.delete(e),this},e.prototype.has=function(e){return Boolean(this.dataset.has(e))},e.prototype[Symbol.iterator]=function(){return this.dataset[Symbol.iterator]()},e}();t.default=a},6752:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(4524)),o=function(){function e(e){this.datasetCoreFactory=e}return e.prototype.dataset=function(e){return new i.default(this.datasetCoreFactory.dataset(e),this.datasetCoreFactory)},e}();t.default=o},4631:function(e,t,n){"use strict";var r=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=function(e){function t(t,n){var r=e.call(this,n.dataset(),n)||this;return r.parentDataset=t,r.datasetFactory=n,r.datasetChanges={},r}return r(t,e),t.prototype.addAll=function(e){return this.updateDatasetChanges({added:e}),this},t.prototype.bulk=function(e){return this.updateDatasetChanges(e),this},t.prototype.deleteMatches=function(e,t,n,r){var o,a;this.checkIfTransactionCommitted();var s=this.match(e,t,n,r);try{for(var u=i(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.delete(l)}}catch(f){o={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return this},t.prototype.match=function(e,t,n,r){var i=this.parentDataset.match(e,t,n,r);return this.datasetChanges.removed&&(i=i.difference(this.datasetChanges.removed)),this.datasetChanges.added&&(i=i.union(this.datasetChanges.added.match(e,t,n,r))),i},Object.defineProperty(t.prototype,"size",{get:function(){var e,t;return this.parentDataset.size+((null===(e=this.datasetChanges.added)||void 0===e?void 0:e.difference(this.parentDataset).size)||0)-((null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.intersection(this.parentDataset).size)||0)},enumerable:!1,configurable:!0}),t.prototype.add=function(e){return this.updateDatasetChanges({added:[e]}),this},t.prototype.delete=function(e){return this.updateDatasetChanges({removed:[e]}),this},t.prototype.has=function(e){var t,n;return!(null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.has(e))&&((null===(n=this.datasetChanges.added)||void 0===n?void 0:n.has(e))||this.parentDataset.has(e))},t.prototype[Symbol.iterator]=function(){var e=this,t=(this.datasetChanges.added||[])[Symbol.iterator](),n=t.next(),r=this.parentDataset[Symbol.iterator](),i=r.next();return{next:function(){if(!n||!n.done){var o=n;return n=t.next(),o}for(;!i.done;){o=i;if(i=r.next(),(!e.datasetChanges.added||!e.datasetChanges.added.has(o.value))&&(!e.datasetChanges.removed||!e.datasetChanges.removed.has(o.value)))return o}return{value:void 0,done:!0}}}},t.prototype.checkIfTransactionCommitted=function(){if(this.committedDatasetChanges)throw new Error("Transaction has already committed")},t.prototype.updateDatasetChanges=function(e){if(this.checkIfTransactionCommitted(),e.added&&(this.datasetChanges.added?this.datasetChanges.added.addAll(e.added):this.datasetChanges.added=this.datasetFactory.dataset(e.added)),e.removed&&(this.datasetChanges.removed?this.datasetChanges.removed.addAll(e.removed):this.datasetChanges.removed=this.datasetFactory.dataset(e.removed)),this.datasetChanges.added&&this.datasetChanges.removed){var t=this.datasetChanges.added.intersection(this.datasetChanges.removed);t.size>0&&(this.datasetChanges.added=this.datasetChanges.added.difference(t),this.datasetChanges.removed=this.datasetChanges.removed.difference(t))}this.datasetChanges.added&&0===this.datasetChanges.added.size&&(this.datasetChanges.added=void 0),this.datasetChanges.removed&&0===this.datasetChanges.removed.size&&(this.datasetChanges.removed=void 0)},t.prototype.updateParentDataset=function(e){var t=this;this.parentDataset.bulk?this.parentDataset.bulk(e):(e.added&&this.parentDataset.addAll(e.added),e.removed&&e.removed.forEach((function(e){t.parentDataset.delete(e)})))},t.prototype.commit=function(){var e,t;this.checkIfTransactionCommitted(),this.committedDatasetChanges={added:null===(e=this.datasetChanges.added)||void 0===e?void 0:e.difference(this.parentDataset),removed:null===(t=this.datasetChanges.removed)||void 0===t?void 0:t.intersection(this.parentDataset)},this.updateParentDataset(this.committedDatasetChanges)},t.prototype.rollback=function(){if(!this.committedDatasetChanges)throw new Error("Cannot rollback. Transaction has not yet been committed");this.updateParentDataset({added:this.committedDatasetChanges.removed,removed:this.committedDatasetChanges.added}),this.committedDatasetChanges=void 0},t.prototype.startTransaction=function(){return new t(this,this.datasetFactory)},t.prototype.getChanges=function(){return this.datasetChanges},t}(o(n(4524)).default);t.default=a},3065:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(7465),u=n(7478),c=a(n(4631)),l=function(){function e(e,t){this.NAMED_NODE_KEY_PREFIX="NamedNode",this.BLANK_NODE_KEY_PREFIX="BlankNode",this.DEFAULT_GRAPH_KEY_PREFIX="DefaultGraph",this.SUBSCRIBABLE_TERMS=[this.NAMED_NODE_KEY_PREFIX,this.BLANK_NODE_KEY_PREFIX,this.DEFAULT_GRAPH_KEY_PREFIX],this.datasetFactory=e,this.dataset=t||this.datasetFactory.dataset(),this.eventEmitter=new s.EventEmitter}return e.prototype.addAll=function(e){return this.dataset.addAll(e),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset(e)}),this},e.prototype.bulk=function(e){var t=this;return e.added&&this.dataset.addAll(e.added),e.removed&&e.removed.forEach((function(e){t.dataset.delete(e)})),this.triggerSubscriptionForQuads(e),this},e.prototype.contains=function(e){return this.dataset.contains(e)},e.prototype.deleteMatches=function(e,t,n,r){var i,a,s=this.dataset.match(e,t,n,r);try{for(var u=o(s),c=u.next();!c.done;c=u.next()){var l=c.value;this.dataset.delete(l)}}catch(f){i={error:f}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(i)throw i.error}}return this.triggerSubscriptionForQuads({removed:s}),this},e.prototype.difference=function(e){return this.dataset.difference(e)},e.prototype.equals=function(e){return this.dataset.equals(e)},e.prototype.every=function(e){var t=this;return this.dataset.every((function(n){return e(n,t)}))},e.prototype.filter=function(e){var t=this;return this.dataset.filter((function(n){return e(n,t)}))},e.prototype.forEach=function(e){var t=this;return this.dataset.forEach((function(n){return e(n,t)}))},e.prototype.import=function(e){return r(this,void 0,void 0,(function(){return i(this,(function(t){switch(t.label){case 0:return[4,this.dataset.import(e)];case 1:return t.sent(),[2,this]}}))}))},e.prototype.intersection=function(e){return this.dataset.intersection(e)},e.prototype.map=function(e){var t=this;return this.dataset.map((function(n){return e(n,t)}))},e.prototype.reduce=function(e,t){var n=this;return this.dataset.reduce((function(t,r){return e(t,r,n)}),t)},e.prototype.some=function(e){var t=this;return this.dataset.some((function(n){return e(n,t)}))},e.prototype.toArray=function(){return this.dataset.toArray()},e.prototype.toCanonical=function(){return this.dataset.toCanonical()},e.prototype.toStream=function(){return this.dataset.toStream()},e.prototype.toString=function(){return this.dataset.toString()},e.prototype.union=function(e){return this.dataset.union(e)},e.prototype.match=function(e,t,n,r){return this.dataset.match(e,t,n,r)},Object.defineProperty(e.prototype,"size",{get:function(){return this.dataset.size},enumerable:!1,configurable:!0}),e.prototype.add=function(e){return this.dataset.add(e),this.triggerSubscriptionForQuads({added:this.datasetFactory.dataset([e])}),this},e.prototype.delete=function(e){return this.dataset.delete(e),this.triggerSubscriptionForQuads({removed:this.datasetFactory.dataset([e])}),this},e.prototype.has=function(e){return this.dataset.has(e)},e.prototype[Symbol.iterator]=function(){return this.dataset[Symbol.iterator]()},e.prototype.getKeyFromNode=function(e){if("NamedNode"===e.termType)return"".concat(this.NAMED_NODE_KEY_PREFIX).concat(e.value);if("BlankNode"===e.termType)return"".concat(this.BLANK_NODE_KEY_PREFIX).concat(e.value);if("DefaultGraph"===e.termType)return"".concat(this.DEFAULT_GRAPH_KEY_PREFIX).concat(e.value);throw new Error("Invalid term type for subscription")},e.prototype.getNodeFromKey=function(e){if(e.startsWith(this.NAMED_NODE_KEY_PREFIX))return(0,u.namedNode)(e.slice(this.NAMED_NODE_KEY_PREFIX.length));if(e.startsWith(this.BLANK_NODE_KEY_PREFIX))return(0,u.blankNode)(e.slice(this.BLANK_NODE_KEY_PREFIX.length));if(e.startsWith(this.DEFAULT_GRAPH_KEY_PREFIX))return(0,u.defaultGraph)();throw Error("Invalid Subscription Key")},e.prototype.triggerSubscriptionForQuads=function(e){var t,n,r=this,i={},o=function(e){[e.subject,e.predicate,e.object,e.graph].forEach((function(e){r.SUBSCRIBABLE_TERMS.includes(e.termType)&&(i["".concat(e.termType).concat(e.value)]=e)}))};null===(t=e.added)||void 0===t||t.forEach(o),null===(n=e.removed)||void 0===n||n.forEach(o),Object.values(i).forEach((function(t){r.triggerSubscriptionForNode(t,e)}))},e.prototype.triggerSubscriptionForNode=function(e,t){if(this.listenerCount(e)>0){var n=this.datasetFactory.dataset();"DefaultGraph"!==e.termType?(n=(n=n.union(this.match(e,null,null,null))).union(this.match(null,null,e,null)),"BlankNode"!==e.termType&&(n=(n=n.union(this.match(null,e,null,null))).union(this.match(null,null,null,e)))):n=n.union(this.match(null,null,null,e));var r={added:t.added?t.added.filter((function(t){return t.subject.equals(e)||t.predicate.equals(e)||t.object.equals(e)||t.graph.equals(e)})):void 0,removed:t.removed?t.removed.filter((function(t){return t.subject.equals(e)||t.predicate.equals(e)||t.object.equals(e)||t.graph.equals(e)})):void 0};r={added:r.added&&r.added.size>0?r.added:void 0,removed:r.removed&&r.removed.size>0?r.removed:void 0},this.emit(e,n,r)}},e.prototype.addListener=function(e,t){return this.on(e,t)},e.prototype.emit=function(e,t,n){return this.eventEmitter.emit(this.getKeyFromNode(e),t,n)},e.prototype.eventNames=function(){var e=this;return this.eventEmitter.eventNames().map((function(t){return e.getNodeFromKey(t)}))},e.prototype.getMaxListeners=function(){return this.eventEmitter.getMaxListeners()},e.prototype.listenerCount=function(e){return this.eventEmitter.listenerCount(this.getKeyFromNode(e))},e.prototype.listeners=function(e){return this.eventEmitter.listeners(this.getKeyFromNode(e))},e.prototype.off=function(e,t){this.removeListener(e,t)},e.prototype.on=function(e,t){return this.eventEmitter.on(this.getKeyFromNode(e),t),this},e.prototype.once=function(e,t){return this.eventEmitter.once(this.getKeyFromNode(e),t),this},e.prototype.prependListener=function(e,t){return this.eventEmitter.prependListener(this.getKeyFromNode(e),t),this},e.prototype.prependOnceListener=function(e,t){return this.eventEmitter.prependOnceListener(this.getKeyFromNode(e),t),this},e.prototype.removeAllListeners=function(e){return this.eventEmitter.removeAllListeners(this.getKeyFromNode(e)),this},e.prototype.removeListener=function(e,t){return this.eventEmitter.removeListener(this.getKeyFromNode(e),t),this},e.prototype.setMaxListeners=function(e){return this.eventEmitter.setMaxListeners(e),this},e.prototype.rawListeners=function(e){return this.eventEmitter.rawListeners(this.getKeyFromNode(e))},e.prototype.startTransaction=function(){return new c.default(this,this.datasetFactory)},e}();t.default=l},5141:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3065)),o=function(){function e(e){this.datasetFactory=e}return e.prototype.dataset=function(e){return new i.default(this.datasetFactory,e?this.datasetFactory.dataset(e):void 0)},e}();t.default=o},206:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=n(4816);t.default=function(e,t,n){return r(this,void 0,void 0,(function(){var r,a;return i(this,(function(i){if(n&&"application/json-ld"===n.format)throw new Error("Not Implemented");return r=new o.Parser(n),a=r.parse(t),[2,e.dataset(a)]}))}))}},9754:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createExtendedDatasetFactory=void 0;var i=r(n(6752)),o=n(4533);function a(){var e={dataset:function(e){return(0,o.dataset)(Array.isArray(e)?e:null===e||void 0===e?void 0:e.toArray())}};return new i.default(e)}t.createExtendedDatasetFactory=a,t.default=function(e){return a().dataset(e)}},6089:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(206)),s=n(9754);t.default=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=(0,s.createExtendedDatasetFactory)(),[2,(0,a.default)(n,e,t)]}))}))}},9649:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.createWrapperSubscribableDatasetFactory=void 0;var i=r(n(9754)),o=r(n(5141));function a(){var e={dataset:function(e){return(0,i.default)(e)}};return new o.default(e)}t.createWrapperSubscribableDatasetFactory=a,t.default=function(e){return a().dataset(e)}},4730:function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(206)),s=n(9649);t.default=function(e,t){return r(this,void 0,void 0,(function(){var n;return i(this,(function(r){return n=(0,s.createWrapperSubscribableDatasetFactory)(),[2,(0,a.default)(n,e,t)]}))}))}},3467:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WrapperSubscribableDatasetFactory=t.WrapperSubscribableDataset=t.ProxyTransactionalDataset=t.ExtendedDatasetFactory=t.ExtendedDataset=t.serializedToSubscribableDataset=t.serializedToDataset=t.createDatasetFromSerializedInput=t.createSubscribableDatasetFactory=t.createSubscribableDataset=t.createDatasetFactory=t.createDataset=void 0;var a=n(9754);Object.defineProperty(t,"createDataset",{enumerable:!0,get:function(){return o(a).default}}),Object.defineProperty(t,"createDatasetFactory",{enumerable:!0,get:function(){return a.createExtendedDatasetFactory}});var s=n(9649);Object.defineProperty(t,"createSubscribableDataset",{enumerable:!0,get:function(){return o(s).default}}),Object.defineProperty(t,"createSubscribableDatasetFactory",{enumerable:!0,get:function(){return s.createWrapperSubscribableDatasetFactory}});var u=n(206);Object.defineProperty(t,"createDatasetFromSerializedInput",{enumerable:!0,get:function(){return o(u).default}});var c=n(6089);Object.defineProperty(t,"serializedToDataset",{enumerable:!0,get:function(){return o(c).default}});var l=n(4730);Object.defineProperty(t,"serializedToSubscribableDataset",{enumerable:!0,get:function(){return o(l).default}});var f=n(4524);Object.defineProperty(t,"ExtendedDataset",{enumerable:!0,get:function(){return o(f).default}});var d=n(6752);Object.defineProperty(t,"ExtendedDatasetFactory",{enumerable:!0,get:function(){return o(d).default}});var h=n(4631);Object.defineProperty(t,"ProxyTransactionalDataset",{enumerable:!0,get:function(){return o(h).default}});var p=n(3065);Object.defineProperty(t,"WrapperSubscribableDataset",{enumerable:!0,get:function(){return o(p).default}});var v=n(5141);Object.defineProperty(t,"WrapperSubscribableDatasetFactory",{enumerable:!0,get:function(){return o(v).default}}),i(n(637),t)},637:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2159:function(e,t,n){"use strict";var r=n(863),i=n(2114),o=n(5887),a=parseInt({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.PARSE_LINK_HEADER_MAXLEN)||2e3,s=null!={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.PARSE_LINK_HEADER_THROW_ON_MAXLEN_EXCEEDED;function u(e){return e&&e.rel}function c(e,t){return t.rel.split(/\s+/).forEach((function(n){e[n]=o(t,{rel:n})})),e}function l(e,t){var n=t.match(/\s*(.+)\s*=\s*"?([^"]+)"?/);return n&&(e[n[1]]=n[2]),e}function f(e){try{var t=e.match(/<?([^>]*)>(.*)/),n=t[1],a=t[2].split(";"),s=i.parse(n),u=r.parse(s.query);a.shift();var c=a.reduce(l,{});return(c=o(u,c)).url=n,c}catch(f){return null}}e.exports=function(e){return function(e){if(!e)return!1;if(e.length>a){if(s)throw new Error("Input string too long, it should be under "+a+" characters.");return!1}return!0}(e)?e.split(/,\s*</).map(f).filter(u).reduce(c,{}):null}},1426:function(e){var t,n,r=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(n){try{return t.call(null,e,0)}catch(n){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{n="function"===typeof clearTimeout?clearTimeout:o}catch(e){n=o}}();var s,u=[],c=!1,l=-1;function f(){c&&s&&(c=!1,s.length?u=s.concat(u):l=-1,u.length&&d())}function d(){if(!c){var e=a(f);c=!0;for(var t=u.length;t;){for(s=u,u=[];++l<t;)s&&s[l].run();l=-1,t=u.length}s=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===o||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function p(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new h(e,t)),1!==u.length||c||a(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=p,r.addListener=p,r.once=p,r.off=p,r.removeListener=p,r.removeAllListeners=p,r.emit=p,r.prependListener=p,r.prependOnceListener=p,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var c=0;c<u;++c){var l,f,d,h,p=e[c].replace(a,"%20"),v=p.indexOf(r);v>=0?(l=p.substr(0,v),f=p.substr(v+1)):(l=p,f=""),d=decodeURIComponent(l),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4183:function(e,t,n){var r;e.exports="function"===typeof queueMicrotask?queueMicrotask.bind("undefined"!==typeof window?window:n.g):function(e){return(r||(r=Promise.resolve())).then(e).catch((function(e){return setTimeout((function(){throw e}),0)}))}},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function m(e){return e[1].toUpperCase()}function w(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,m);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),P=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var F=Symbol.iterator;function M(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=F&&e[F]||e["@@iterator"])?e:null}var j,D=Object.assign;function N(e){if(void 0===j)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);j=t&&t[1]||""}return"\n"+j+e}var U=!1;function Z(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function B(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=Z(e.type,!1);case 11:return e=Z(e.type.render,!1);case 1:return e=Z(e.type,!0);default:return""}}function H(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case x:return"Portal";case E:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case P:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case I:return null!==(t=e.displayName||null)?t:H(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return H(e(t))}catch(n){}}return null}function z(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=V(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&w(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function oe(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ye=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function me(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function we(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Se=null,ke=null;function Ee(e){if(e=wi(e)){if("function"!==typeof xe)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ce(e){Se?ke?ke.push(e):ke=[e]:Se=e}function Pe(){if(Se){var e=Se,t=ke;if(ke=Se=null,Ee(e),t)for(e=0;e<t.length;e++)Ee(t[e])}}function Ae(e,t){return e(t)}function Te(){}var Oe=!1;function Ie(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ae(e,t,n)}finally{Oe=!1,(null!==Se||null!==ke)&&(Te(),Pe())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(l)try{var Fe={};Object.defineProperty(Fe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Fe,Fe),window.removeEventListener("test",Fe,Fe)}catch(le){Le=!1}function Me(e,t,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var je=!1,De=null,Ne=!1,Ue=null,Ze={onError:function(e){je=!0,De=e}};function Be(e,t,n,r,i,o,a,s,u){je=!1,De=null,Me.apply(Ze,arguments)}function He(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function ze(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(He(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=He(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Ke(i),e;if(a===r)return Ke(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ge=i.unstable_cancelCallback,Je=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,$e=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function mt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var wt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,St,kt,Et,Ct=!1,Pt=[],At=null,Tt=null,Ot=null,It=new Map,Rt=new Map,Lt=[],Ft="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mt(e,t){switch(e){case"focusin":case"focusout":At=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":It.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function jt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=wi(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Dt(e){var t=mi(e.target);if(null!==t){var n=He(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=ze(n)))return e.blockedOn=t,void Et(e.priority,(function(){St(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Nt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wi(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ut(e,t,n){Nt(e)&&n.delete(t)}function Zt(){Ct=!1,null!==At&&Nt(At)&&(At=null),null!==Tt&&Nt(Tt)&&(Tt=null),null!==Ot&&Nt(Ot)&&(Ot=null),It.forEach(Ut),Rt.forEach(Ut)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Zt)))}function Ht(e){function t(t){return Bt(t,e)}if(0<Pt.length){Bt(Pt[0],e);for(var n=1;n<Pt.length;n++){var r=Pt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==At&&Bt(At,e),null!==Tt&&Bt(Tt,e),null!==Ot&&Bt(Ot,e),It.forEach(t),Rt.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)Dt(n),null===n.blockedOn&&Lt.shift()}var zt=_.ReactCurrentBatchConfig,Kt=!0;function Vt(e,t,n,r){var i=wt,o=zt.transition;zt.transition=null;try{wt=1,qt(e,t,n,r)}finally{wt=i,zt.transition=o}}function Wt(e,t,n,r){var i=wt,o=zt.transition;zt.transition=null;try{wt=4,qt(e,t,n,r)}finally{wt=i,zt.transition=o}}function qt(e,t,n,r){if(Kt){var i=Jt(e,t,n,r);if(null===i)Kr(e,t,r,Gt,n),Mt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return At=jt(At,e,t,n,r,i),!0;case"dragenter":return Tt=jt(Tt,e,t,n,r,i),!0;case"mouseover":return Ot=jt(Ot,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return It.set(o,jt(It.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Rt.set(o,jt(Rt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Mt(e,r),4&t&&-1<Ft.indexOf(e)){for(;null!==i;){var o=wi(i);if(null!==o&&bt(o),null===(o=Jt(e,t,n,r))&&Kr(e,t,r,Gt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Jt(e,t,n,r){if(Gt=null,null!==(e=mi(e=be(r))))if(null===(t=He(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=ze(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,$t=null;function en(){if($t)return $t;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return $t=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=on(cn),fn=D({},cn,{view:0,detail:0}),dn=on(fn),hn=D({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(D({},hn,{dataTransfer:0})),gn=on(D({},fn,{relatedTarget:0})),yn=on(D({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),mn=D({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=on(mn),_n=on(D({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Sn[e])&&!!t[e]}function En(){return kn}var Cn=D({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Pn=on(Cn),An=on(D({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=on(D({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),On=on(D({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),In=D({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(In),Ln=[9,13,27,32],Fn=l&&"CompositionEvent"in window,Mn=null;l&&"documentMode"in document&&(Mn=document.documentMode);var jn=l&&"TextEvent"in window&&!Mn,Dn=l&&(!Fn||Mn&&8<Mn&&11>=Mn),Nn=String.fromCharCode(32),Un=!1;function Zn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var zn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!zn[e.type]:"textarea"===t}function Vn(e,t,n,r){Ce(r),0<(t=Wr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,qn=null;function Gn(e){Nr(e,0)}function Jn(e){if(q(_i(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(l){var Xn;if(l){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Xn=$n}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),qn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(qn)){var t=[];Vn(t,qn,e,be(e)),Ie(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(qn)}function or(e,t){if("click"===e)return Jn(t)}function ar(e,t){if("input"===e||"change"===e)return Jn(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=lr(n,o);var a=lr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,mr=null,wr=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==G(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},mr&&ur(mr,r)||(mr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},Sr={},kr={};function Er(e){if(Sr[e])return Sr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Sr[e]=n[t];return e}l&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Cr=Er("animationend"),Pr=Er("animationiteration"),Ar=Er("animationstart"),Tr=Er("transitionend"),Or=new Map,Ir="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Or.set(e,t),u(t,[e])}for(var Lr=0;Lr<Ir.length;Lr++){var Fr=Ir[Lr];Rr(Fr.toLowerCase(),"on"+(Fr[0].toUpperCase()+Fr.slice(1)))}Rr(Cr,"onAnimationEnd"),Rr(Pr,"onAnimationIteration"),Rr(Ar,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mr));function Dr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Be.apply(this,arguments),je){if(!je)throw Error(o(198));var l=De;je=!1,De=null,Ne||(Ne=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function Nr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,c),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,c=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;Dr(i,s,c),o=u}}}if(Ne)throw e=Ue,Ne=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(zr(t,e,2,!1),n.add(r))}function Zr(e,t,n){var r=0;t&&(r|=4),zr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Hr(e){if(!e[Br]){e[Br]=!0,a.forEach((function(t){"selectionchange"!==t&&(jr.has(t)||Zr(t,!1,e),Zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Zr("selectionchange",!1,t))}}function zr(e,t,n,r){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Wt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=mi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Ie((function(){var r=o,i=be(n),a=[];e:{var s=Or.get(e);if(void 0!==s){var u=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=Pn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Tn;break;case Cr:case Pr:case Ar:u=yn;break;case Tr:u=On;break;case"scroll":u=dn;break;case"wheel":u=Rn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=An}var l=0!==(4&t),f=!l&&"scroll"===e,d=l?null!==s?s+"Capture":null:s;l=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Re(p,d))&&l.push(Vr(p,v,h)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),a.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!mi(c)&&!c[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?mi(c):null)&&(c!==(f=He(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=An,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:_i(u),h=null==c?s:_i(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,mi(i)===r&&((l=new l(d,p+"enter",c,n,i)).target=h,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(d=c,p=0,h=l=u;h;h=qr(h))p++;for(h=0,v=d;v;v=qr(v))h++;for(;0<p-h;)l=qr(l),p--;for(;0<h-p;)d=qr(d),h--;for(;p--;){if(l===d||null!==d&&l===d.alternate)break e;l=qr(l),d=qr(d)}l=null}else l=null;null!==u&&Gr(a,s,u,l,!1),null!==c&&null!==f&&Gr(a,f,c,l,!0)}if("select"===(u=(s=r?_i(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Qn;else if(Kn(s))if(Yn)g=ar;else{g=ir;var y=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Vn(a,g,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ee(s,"number",s.value)),y=r?_i(r):window,e){case"focusin":(Kn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,mr=null);break;case"focusout":mr=yr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,_r(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":_r(a,n,i)}var m;if(Fn)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Hn?Zn(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Dn&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Hn&&(m=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Hn=!0)),0<(y=Wr(r,w)).length&&(w=new _n(w,e,null,n,i),a.push({event:w,listeners:y}),m?w.data=m:null!==(m=Bn(n))&&(w.data=m))),(m=jn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Un=!0,Nn);case"textInput":return(e=t.data)===Nn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Fn&&Zn(e,t)?(e=en(),$t=Xt=Yt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Dn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=m))}Nr(a,t)}))}function Vr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Re(e,n))&&r.unshift(Vr(e,o,i)),null!=(o=Re(e,t))&&r.push(Vr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Re(n,o))&&a.unshift(Vr(n,u,s)):i||null!=(u=Re(n,o))&&a.push(Vr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Jr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Qr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(o(425))}function $r(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ht(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ht(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function mi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[di])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function wi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[hi]||null}var xi=[],Si=-1;function ki(e){return{current:e}}function Ei(e){0>Si||(e.current=xi[Si],xi[Si]=null,Si--)}function Ci(e,t){Si++,xi[Si]=e.current,e.current=t}var Pi={},Ai=ki(Pi),Ti=ki(!1),Oi=Pi;function Ii(e,t){var n=e.type.contextTypes;if(!n)return Pi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Li(){Ei(Ti),Ei(Ai)}function Fi(e,t,n){if(Ai.current!==Pi)throw Error(o(168));Ci(Ai,t),Ci(Ti,n)}function Mi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,z(e)||"Unknown",i));return D({},n,r)}function ji(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Pi,Oi=Ai.current,Ci(Ai,e),Ci(Ti,Ti.current),!0}function Di(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Mi(e,t,Oi),r.__reactInternalMemoizedMergedChildContext=e,Ei(Ti),Ei(Ai),Ci(Ai,e)):Ei(Ti),Ci(Ti,n)}var Ni=null,Ui=!1,Zi=!1;function Bi(e){null===Ni?Ni=[e]:Ni.push(e)}function Hi(){if(!Zi&&null!==Ni){Zi=!0;var e=0,t=wt;try{var n=Ni;for(wt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ni=null,Ui=!1}catch(i){throw null!==Ni&&(Ni=Ni.slice(e+1)),qe($e,Hi),i}finally{wt=t,Zi=!1}}return null}var zi=[],Ki=0,Vi=null,Wi=0,qi=[],Gi=0,Ji=null,Qi=1,Yi="";function Xi(e,t){zi[Ki++]=Wi,zi[Ki++]=Vi,Vi=e,Wi=t}function $i(e,t,n){qi[Gi++]=Qi,qi[Gi++]=Yi,qi[Gi++]=Ji,Ji=e;var r=Qi;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Qi=1<<32-at(t)+i|n<<i|r,Yi=o+e}else Qi=1<<o|n<<i|r,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),$i(e,1,0))}function to(e){for(;e===Vi;)Vi=zi[--Ki],zi[Ki]=null,Wi=zi[--Ki],zi[Ki]=null;for(;e===Ji;)Ji=qi[--Gi],qi[Gi]=null,Yi=qi[--Gi],qi[Gi]=null,Qi=qi[--Gi],qi[Gi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Ic(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ji?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ic(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function co(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=ci(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function lo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return lo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=ci(t.nextSibling)}if(lo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?ci(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=ci(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=_.ReactCurrentBatchConfig;function yo(e,t){if(e&&e.defaultProps){for(var n in t=D({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var mo=ki(null),wo=null,_o=null,bo=null;function xo(){bo=_o=wo=null}function So(e){var t=mo.current;Ei(mo),e._currentValue=t}function ko(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Eo(e,t){wo=e,bo=_o=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_s=!0),e.firstContext=null)}function Co(e){var t=e._currentValue;if(bo!==e)if(e={context:e,memoizedValue:t,next:null},null===_o){if(null===wo)throw Error(o(308));_o=e,wo.dependencies={lanes:0,firstContext:e}}else _o=_o.next=e;return t}var Po=null;function Ao(e){null===Po?Po=[e]:Po.push(e)}function To(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ao(t)):(n.next=i.next,i.next=n),t.interleaved=n,Oo(e,r)}function Oo(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Io=!1;function Ro(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Lo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Mo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Au)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Oo(e,n)}return null===(i=r.interleaved)?(t.next=t,Ao(r)):(t.next=i.next,i.next=t),r.interleaved=t,Oo(e,n)}function jo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}function Do(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function No(e,t,n,r){var i=e.updateQueue;Io=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var l=e.alternate;null!==l&&((s=(l=l.updateQueue).lastBaseUpdate)!==a&&(null===s?l.firstBaseUpdate=c:s.next=c,l.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,l=c=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==l&&(l=l.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=D({},f,d);break e;case 2:Io=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===l?(c=l=h,u=f):l=l.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===l&&(u=f),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);ju|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Zo=(new r.Component).refs;function Bo(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:D({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Ho={isMounted:function(e){return!!(e=e._reactInternals)&&He(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),jo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),i=tc(e),o=Fo(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=Mo(e,o,i))&&(nc(t,e,i,r),jo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),i=Fo(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Mo(e,i,r))&&(nc(t,e,r,n),jo(t,e,r))}};function zo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function Ko(e,t,n){var r=!1,i=Pi,o=t.contextType;return"object"===typeof o&&null!==o?o=Co(o):(i=Ri(t)?Oi:Ai.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ii(e,i):Pi),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Ho,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Vo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Ho.enqueueReplaceState(t,t.state,null)}function Wo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Zo,Ro(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=Co(o):(o=Ri(t)?Oi:Ai.current,i.context=Ii(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Bo(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Ho.enqueueReplaceState(i,i.state,null),No(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Zo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Go(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Jo(e){return(0,e._init)(e._payload)}function Qo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Dc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===S?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===R&&Jo(o)===t.type)?((r=i(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=Fc(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Nc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Dc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Fc(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case x:return(t=Nc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||M(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Go(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||M(n))return null!==i?null:f(e,t,n,r,null);Go(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||M(r))return f(t,e=e.get(n)||null,r,i,null);Go(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var y=h(i,f,s[v],u);if(null===y){null===f&&(f=g);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=g}if(v===s.length)return n(i,f),io&&Xi(i,v),c;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return io&&Xi(i,v),c}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===l?c=g:l.sibling=g,l=g);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,v),c}function g(i,s,u,c){var l=M(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,g=s=0,y=null,m=u.next();null!==v&&!m.done;g++,m=u.next()){v.index>g?(y=v,v=null):y=v.sibling;var w=h(i,v,m.value,c);if(null===w){null===v&&(v=y);break}e&&v&&null===w.alternate&&t(i,v),s=a(w,s,g),null===f?l=w:f.sibling=w,f=w,v=y}if(m.done)return n(i,v),io&&Xi(i,g),l;if(null===v){for(;!m.done;g++,m=u.next())null!==(m=d(i,m.value,c))&&(s=a(m,s,g),null===f?l=m:f.sibling=m,f=m);return io&&Xi(i,g),l}for(v=r(i,v);!m.done;g++,m=u.next())null!==(m=p(v,i,g,m.value,c))&&(e&&null!==m.alternate&&v.delete(null===m.key?g:m.key),s=a(m,s,g),null===f?l=m:f.sibling=m,f=m);return e&&v.forEach((function(e){return t(i,e)})),io&&Xi(i,g),l}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===S&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case b:e:{for(var c=a.key,l=o;null!==l;){if(l.key===c){if((c=a.type)===S){if(7===l.tag){n(r,l.sibling),(o=i(l,a.props.children)).return=r,r=o;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Jo(c)===l.type){n(r,l.sibling),(o=i(l,a.props)).ref=qo(r,l,a),o.return=r,r=o;break e}n(r,l);break}t(r,l),l=l.sibling}a.type===S?((o=Mc(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Fc(a.type,a.key,a.props,null,r.mode,u)).ref=qo(r,o,a),u.return=r,r=u)}return s(r);case x:e:{for(l=a.key;null!==o;){if(o.key===l){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Nc(a,r.mode,u)).return=r,r=o}return s(r);case R:return e(r,o,(l=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(M(a))return g(r,o,a,u);Go(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=Dc(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Yo=Qo(!0),Xo=Qo(!1),$o={},ea=ki($o),ta=ki($o),na=ki($o);function ra(e){if(e===$o)throw Error(o(174));return e}function ia(e,t){switch(Ci(na,t),Ci(ta,e),Ci(ea,$o),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ei(ea),Ci(ea,t)}function oa(){Ei(ea),Ei(ta),Ei(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(Ci(ta,e),Ci(ea,n))}function sa(e){ta.current===e&&(Ei(ea),Ei(ta))}var ua=ki(0);function ca(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var la=[];function fa(){for(var e=0;e<la.length;e++)la[e]._workInProgressVersionPrimary=null;la.length=0}var da=_.ReactCurrentDispatcher,ha=_.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ya=null,ma=!1,wa=!1,_a=0,ba=0;function xa(){throw Error(o(321))}function Sa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),wa){a=0;do{if(wa=!1,_a=0,25<=a)throw Error(o(301));a+=1,ya=ga=null,t.updateQueue=null,da.current=cs,e=n(r,i)}while(wa)}if(da.current=as,t=null!==ga&&null!==ga.next,pa=0,ya=ga=va=null,ma=!1,t)throw Error(o(300));return e}function Ea(){var e=0!==_a;return _a=0,e}function Ca(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ya?va.memoizedState=ya=e:ya=ya.next=e,ya}function Pa(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ya?va.memoizedState:ya.next;if(null!==t)ya=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ya?va.memoizedState=ya=e:ya=ya.next=e}return ya}function Aa(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,c=null,l=a;do{var f=l.lane;if((pa&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var d={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(u=c=d,s=r):c=c.next=d,va.lanes|=f,ju|=f}l=l.next}while(null!==l&&l!==a);null===c?s=r:c.next=u,sr(r,t.memoizedState)||(_s=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,ju|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Oa(e){var t=Pa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(_s=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ia(){}function Ra(e,t){var n=va,r=Pa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,_s=!0),r=r.queue,Ka(Ma.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ya&&1&ya.memoizedState.tag){if(n.flags|=2048,Ua(9,Fa.bind(null,n,r,i,t),void 0,null),null===Tu)throw Error(o(349));0!==(30&pa)||La(n,t,i)}return i}function La(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Fa(e,t,n,r){t.value=n,t.getSnapshot=r,ja(t)&&Da(e)}function Ma(e,t,n){return n((function(){ja(t)&&Da(e)}))}function ja(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function Da(e){var t=Oo(e,1);null!==t&&nc(t,e,1,-1)}function Na(e){var t=Ca();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Aa,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Za(){return Pa().memoizedState}function Ba(e,t,n,r){var i=Ca();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ha(e,t,n,r){var i=Pa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&Sa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function za(e,t){return Ba(8390656,8,e,t)}function Ka(e,t){return Ha(2048,8,e,t)}function Va(e,t){return Ha(4,2,e,t)}function Wa(e,t){return Ha(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ga(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4,4,qa.bind(null,t,e),n)}function Ja(){}function Qa(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Pa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Sa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,_s=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,ju|=n,e.baseState=!0),t)}function $a(e,t){var n=wt;wt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{wt=n,ha.transition=r}}function es(){return Pa().memoizedState}function ts(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=To(e,t,n,r))){nc(n,e,r,ec()),os(n,t,r)}}function ns(e,t,n){var r=tc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Ao(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=To(e,t,i,r))&&(nc(n,e,r,i=ec()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){wa=ma=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,mt(e,n)}}var as={readContext:Co,useCallback:xa,useContext:xa,useEffect:xa,useImperativeHandle:xa,useInsertionEffect:xa,useLayoutEffect:xa,useMemo:xa,useReducer:xa,useRef:xa,useState:xa,useDebugValue:xa,useDeferredValue:xa,useTransition:xa,useMutableSource:xa,useSyncExternalStore:xa,useId:xa,unstable_isNewReconciler:!1},ss={readContext:Co,useCallback:function(e,t){return Ca().memoizedState=[e,void 0===t?null:t],e},useContext:Co,useEffect:za,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ba(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ba(4,2,e,t)},useMemo:function(e,t){var n=Ca();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ca();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ca().memoizedState=e},useState:Na,useDebugValue:Ja,useDeferredValue:function(e){return Ca().memoizedState=e},useTransition:function(){var e=Na(!1),t=e[0];return e=$a.bind(null,e[1]),Ca().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=Ca();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Tu)throw Error(o(349));0!==(30&pa)||La(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,za(Ma.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Fa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ca(),t=Tu.identifierPrefix;if(io){var n=Yi;t=":"+t+"R"+(n=(Qi&~(1<<32-at(Qi)-1)).toString(32)+n),0<(n=_a++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ba++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:Za,useState:function(){return Ta(Aa)},useDebugValue:Ja,useDeferredValue:function(e){return Xa(Pa(),ga.memoizedState,e)},useTransition:function(){return[Ta(Aa)[0],Pa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1},cs={readContext:Co,useCallback:Qa,useContext:Co,useEffect:Ka,useImperativeHandle:Ga,useInsertionEffect:Va,useLayoutEffect:Wa,useMemo:Ya,useReducer:Oa,useRef:Za,useState:function(){return Oa(Aa)},useDebugValue:Ja,useDeferredValue:function(e){var t=Pa();return null===ga?t.memoizedState=e:Xa(t,ga.memoizedState,e)},useTransition:function(){return[Oa(Aa)[0],Pa().memoizedState]},useMutableSource:Ia,useSyncExternalStore:Ra,useId:es,unstable_isNewReconciler:!1};function ls(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Fo(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ku||(Ku=!0,Vu=r),ds(0,t)},n}function vs(e,t,n){(n=Fo(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Wu?Wu=new Set([this]):Wu.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ec.bind(null,e,t,n),t.then(e,e))}function ys(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ms(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fo(-1,1)).tag=2,Mo(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ws=_.ReactCurrentOwner,_s=!1;function bs(e,t,n,r){t.child=null===e?Xo(t,null,n,r):Yo(t,e.child,n,r)}function xs(e,t,n,r,i){n=n.render;var o=t.ref;return Eo(t,i),r=ka(e,t,n,r,o,i),n=Ea(),null===e||_s?(io&&n&&eo(t),t.flags|=1,bs(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function Ss(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Rc(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Fc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,ks(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Lc(o,r)).ref=t.ref,e.return=t,t.child=e}function ks(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(_s=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(_s=!0)}}return Ps(e,t,n,r,i)}function Es(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ci(Lu,Ru),Ru|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ci(Lu,Ru),Ru|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,Ci(Lu,Ru),Ru|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,Ci(Lu,Ru),Ru|=r;return bs(e,t,i,n),t.child}function Cs(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ps(e,t,n,r,i){var o=Ri(n)?Oi:Ai.current;return o=Ii(t,o),Eo(t,i),n=ka(e,t,n,r,o,i),r=Ea(),null===e||_s?(io&&r&&eo(t),t.flags|=1,bs(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ks(e,t,i))}function As(e,t,n,r,i){if(Ri(n)){var o=!0;ji(t)}else o=!1;if(Eo(t,i),null===t.stateNode)zs(e,t),Ko(t,n,r),Wo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Co(c):c=Ii(t,c=Ri(n)?Oi:Ai.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&Vo(t,a,r,c),Io=!1;var d=t.memoizedState;a.state=d,No(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Ti.current||Io?("function"===typeof l&&(Bo(t,n,l,r),u=t.memoizedState),(s=Io||zo(t,n,s,r,d,u,c))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Lo(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:yo(t.type,s),a.props=c,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=Co(u):u=Ii(t,u=Ri(n)?Oi:Ai.current);var h=n.getDerivedStateFromProps;(l="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Vo(t,a,r,u),Io=!1,d=t.memoizedState,a.state=d,No(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Ti.current||Io?("function"===typeof h&&(Bo(t,n,h,r),p=t.memoizedState),(c=Io||zo(t,n,c,r,d,p,u)||!1)?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=c):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Ts(e,t,n,r,o,i)}function Ts(e,t,n,r,i,o){Cs(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Di(t,n,!1),Ks(e,t,o);r=t.stateNode,ws.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Yo(t,e.child,null,o),t.child=Yo(t,null,s,o)):bs(e,t,s,o),t.memoizedState=r.state,i&&Di(t,n,!0),t.child}function Os(e){var t=e.stateNode;t.pendingContext?Fi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Fi(0,t.context,!1),ia(e,t.containerInfo)}function Is(e,t,n,r,i){return po(),vo(i),t.flags|=256,bs(e,t,n,r),t.child}var Rs,Ls,Fs,Ms={dehydrated:null,treeContext:null,retryLane:0};function js(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ds(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ci(ua,1&a),null===e)return co(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=jc(u,i,0,null),e=Mc(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=js(n),t.memoizedState=Ms,e):Ns(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(a=Mc(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Yo(t,e.child,null,s),t.child.memoizedState=js(s),t.memoizedState=Ms,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),_s||u){if(null!==(r=Tu)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Oo(e,i),nc(r,e,i,-1))}return vc(),Us(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Pc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=ci(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Gi++]=Qi,qi[Gi++]=Yi,qi[Gi++]=Ji,Qi=e.id,Yi=e.overflow,Ji=t),t=Ns(t,r.children),t.flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Lc(r,s):(s=Mc(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?js(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ms,i}return e=(s=e.child).sibling,i=Lc(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ns(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Yo(t,e.child,null,n),(e=Ns(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Zs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ko(e.return,t,n)}function Bs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Hs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(bs(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Zs(e,n,t);else if(19===e.tag)Zs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ci(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ca(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ca(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bs(t,!0,n,null,o);break;case"together":Bs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function zs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ks(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),ju|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vs(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ws(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ws(t),null;case 1:case 17:return Ri(t.type)&&Li(),Ws(t),null;case 3:return r=t.stateNode,oa(),Ei(Ti),Ei(Ai),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(ac(oo),oo=null))),Ws(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ls(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ws(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Q(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in me(n,a),i=null,a)if(a.hasOwnProperty(u)){var c=a[u];"children"===u?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):s.hasOwnProperty(u)&&null!=c&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":W(r),$(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=$r)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Rs(e,t),t.stateNode=e;e:{switch(u=we(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Mr.length;i++)Ur(Mr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Q(e,r),i=J(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=D({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in me(n,i),c=i)if(c.hasOwnProperty(a)){var l=c[a];"style"===a?ge(e,l):"dangerouslySetInnerHTML"===a?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===a?"string"===typeof l?("textarea"!==n||""!==l)&&de(e,l):"number"===typeof l&&de(e,""+l):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=l&&"onScroll"===a&&Ur("scroll",e):null!=l&&w(e,a,l,u))}switch(n){case"input":W(e),$(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ws(t),null;case 6:if(e&&null!=t.stateNode)Fs(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ws(t),null;case 13:if(Ei(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ws(t),a=!1}else null!==oo&&(ac(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Fu&&(Fu=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ws(t),null);case 4:return oa(),null===e&&Hr(t.stateNode.containerInfo),Ws(t),null;case 10:return So(t.type._context),Ws(t),null;case 19:if(Ei(ua),null===(a=t.memoizedState))return Ws(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Vs(a,!1);else{if(0!==Fu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=ca(e))){for(t.flags|=128,Vs(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ci(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Hu&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ca(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vs(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ws(t),null}else 2*Ye()-a.renderingStartTime>Hu&&1073741824!==n&&(t.flags|=128,r=!0,Vs(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=ua.current,Ci(ua,r?1&n|2:1&n),t):(Ws(t),null);case 22:case 23:return fc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ru)&&(Ws(t),6&t.subtreeFlags&&(t.flags|=8192)):Ws(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Gs(e,t){switch(to(t),t.tag){case 1:return Ri(t.type)&&Li(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),Ei(Ti),Ei(Ai),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(Ei(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ei(ua),null;case 4:return oa(),null;case 10:return So(t.type._context),null;case 22:case 23:return fc(),null;default:return null}}Rs=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ls=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=J(e,i),r=J(e,r),a=[];break;case"select":i=D({},i,{value:void 0}),r=D({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(l in me(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var u=i[l];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(s.hasOwnProperty(l)?a||(a=[]):(a=a||[]).push(l,null));for(l in r){var c=r[l];if(u=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==u&&(null!=c||null!=u))if("style"===l)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(s.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),a||u===c||(a=[])):(a=a||[]).push(l,c))}n&&(a=a||[]).push("style",n);var l=a;(t.updateQueue=l)&&(t.flags|=4)}},Fs=function(e,t,n,r){n!==r&&(t.flags|=4)};var Js=!1,Qs=!1,Ys="function"===typeof WeakSet?WeakSet:Set,Xs=null;function $s(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){kc(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[gi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function cu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cu(e,t,n),e=e.sibling;null!==e;)cu(e,t,n),e=e.sibling}var lu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Qs||$s(n,t);case 6:var r=lu,i=fu;lu=null,du(e,t,n),fu=i,null!==(lu=r)&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):lu.removeChild(n.stateNode));break;case 18:null!==lu&&(fu?(e=lu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Ht(e)):ui(lu,n.stateNode));break;case 4:r=lu,i=fu,lu=n.stateNode.containerInfo,fu=!0,du(e,t,n),lu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Qs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Qs&&($s(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){kc(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Qs=(r=Qs)||null!==n.memoizedState,du(e,t,n),Qs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ys),t.forEach((function(t){var r=Ac.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:lu=u.stateNode,fu=!1;break e;case 3:case 4:lu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===lu)throw Error(o(160));hu(a,s,i),lu=null,fu=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){kc(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),yu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){kc(e,e.return,g)}try{nu(5,e,e.return)}catch(g){kc(e,e.return,g)}}break;case 1:vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return);break;case 5:if(vu(t,e),yu(e),512&r&&null!==n&&$s(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){kc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===u&&"radio"===a.type&&null!=a.name&&Y(i,a),we(u,s);var l=we(u,a);for(s=0;s<c.length;s+=2){var f=c[s],d=c[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):w(i,f,d,l)}switch(u){case"input":X(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){kc(e,e.return,g)}}break;case 6:if(vu(t,e),yu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){kc(e,e.return,g)}}break;case 3:if(vu(t,e),yu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ht(t.containerInfo)}catch(g){kc(e,e.return,g)}break;case 4:default:vu(t,e),yu(e);break;case 13:vu(t,e),yu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Bu=Ye())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Qs=(l=Qs)||f,vu(t,e),Qs=l):vu(t,e),yu(e),8192&r){if(l=null!==e.memoizedState,(e.stateNode.isHidden=l)&&!f&&0!==(1&e.mode))for(Xs=e,f=e.child;null!==f;){for(d=Xs=f;null!==Xs;){switch(p=(h=Xs).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:$s(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){kc(r,n,g)}}break;case 5:$s(h,h.return);break;case 22:if(null!==h.memoizedState){bu(d);continue}}null!==p?(p.return=h,Xs=p):bu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,l?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,u.style.display=ve("display",s))}catch(g){kc(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){kc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),yu(e),4&r&&pu(e);case 21:}}function yu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),cu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){kc(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function mu(e,t,n){Xs=e,wu(e,t,n)}function wu(e,t,n){for(var r=0!==(1&e.mode);null!==Xs;){var i=Xs,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Js;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Qs;s=Js;var c=Qs;if(Js=a,(Qs=u)&&!c)for(Xs=i;null!==Xs;)u=(a=Xs).child,22===a.tag&&null!==a.memoizedState?xu(i):null!==u?(u.return=a,Xs=u):xu(i);for(;null!==o;)Xs=o,wu(o,t,n),o=o.sibling;Xs=i,Js=s,Qs=c}_u(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xs=o):_u(e)}}function _u(e){for(;null!==Xs;){var t=Xs;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Qs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:yo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Ht(d)}}}break;default:throw Error(o(163))}Qs||512&t.flags&&iu(t)}catch(h){kc(t,t.return,h)}}if(t===e){Xs=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xs=n;break}Xs=t.return}}function bu(e){for(;null!==Xs;){var t=Xs;if(t===e){Xs=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xs=n;break}Xs=t.return}}function xu(e){for(;null!==Xs;){var t=Xs;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){kc(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){kc(t,i,u)}}var o=t.return;try{iu(t)}catch(u){kc(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){kc(t,a,u)}}}catch(u){kc(t,t.return,u)}if(t===e){Xs=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Xs=s;break}Xs=t.return}}var Su,ku=Math.ceil,Eu=_.ReactCurrentDispatcher,Cu=_.ReactCurrentOwner,Pu=_.ReactCurrentBatchConfig,Au=0,Tu=null,Ou=null,Iu=0,Ru=0,Lu=ki(0),Fu=0,Mu=null,ju=0,Du=0,Nu=0,Uu=null,Zu=null,Bu=0,Hu=1/0,zu=null,Ku=!1,Vu=null,Wu=null,qu=!1,Gu=null,Ju=0,Qu=0,Yu=null,Xu=-1,$u=0;function ec(){return 0!==(6&Au)?Ye():-1!==Xu?Xu:Xu=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Au)&&0!==Iu?Iu&-Iu:null!==go.transition?(0===$u&&($u=vt()),$u):0!==(e=wt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qu)throw Qu=0,Yu=null,Error(o(185));yt(e,n,r),0!==(2&Au)&&e===Tu||(e===Tu&&(0===(2&Au)&&(Du|=n),4===Fu&&sc(e,Iu)),rc(e,r),1===n&&0===Au&&0===(1&t.mode)&&(Hu=Ye()+500,Ui&&Hi()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Tu?Iu:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Ui=!0,Bi(e)}(uc.bind(null,e)):Bi(uc.bind(null,e)),ai((function(){0===(6&Au)&&Hi()})),n=null;else{switch(_t(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ic.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ic(e,t){if(Xu=-1,$u=0,0!==(6&Au))throw Error(o(327));var n=e.callbackNode;if(xc()&&e.callbackNode!==n)return null;var r=dt(e,e===Tu?Iu:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gc(e,r);else{t=r;var i=Au;Au|=2;var a=pc();for(Tu===e&&Iu===t||(zu=null,Hu=Ye()+500,dc(e,t));;)try{mc();break}catch(u){hc(e,u)}xo(),Eu.current=a,Au=i,null!==Ou?t=0:(Tu=null,Iu=0,t=Fu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Mu,dc(e,0),sc(e,r),rc(e,Ye()),n;if(6===t)sc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gc(e,r))&&(0!==(a=pt(e))&&(r=a,t=oc(e,a))),1===t))throw n=Mu,dc(e,0),sc(e,r),rc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:bc(e,Zu,zu);break;case 3:if(sc(e,r),(130023424&r)===r&&10<(t=Bu+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(bc.bind(null,e,Zu,zu),t);break}bc(e,Zu,zu);break;case 4:if(sc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ku(r/1960))-r)){e.timeoutHandle=ri(bc.bind(null,e,Zu,zu),r);break}bc(e,Zu,zu);break;default:throw Error(o(329))}}}return rc(e,Ye()),e.callbackNode===n?ic.bind(null,e):null}function oc(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dc(e,t).flags|=256),2!==(e=gc(e,t))&&(t=Zu,Zu=n,null!==t&&ac(t)),e}function ac(e){null===Zu?Zu=e:Zu.push.apply(Zu,e)}function sc(e,t){for(t&=~Nu,t&=~Du,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Au))throw Error(o(327));xc();var t=dt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=gc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Mu,dc(e,0),sc(e,t),rc(e,Ye()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bc(e,Zu,zu),rc(e,Ye()),null}function cc(e,t){var n=Au;Au|=1;try{return e(t)}finally{0===(Au=n)&&(Hu=Ye()+500,Ui&&Hi())}}function lc(e){null!==Gu&&0===Gu.tag&&0===(6&Au)&&xc();var t=Au;Au|=1;var n=Pu.transition,r=wt;try{if(Pu.transition=null,wt=1,e)return e()}finally{wt=r,Pu.transition=n,0===(6&(Au=t))&&Hi()}}function fc(){Ru=Lu.current,Ei(Lu)}function dc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ou)for(n=Ou.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Li();break;case 3:oa(),Ei(Ti),Ei(Ai),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:Ei(ua);break;case 10:So(r.type._context);break;case 22:case 23:fc()}n=n.return}if(Tu=e,Ou=e=Lc(e.current,null),Iu=Ru=t,Fu=0,Mu=null,Nu=Du=ju=0,Zu=Uu=null,null!==Po){for(t=0;t<Po.length;t++)if(null!==(r=(n=Po[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Po=null}return e}function hc(e,t){for(;;){var n=Ou;try{if(xo(),da.current=as,ma){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ma=!1}if(pa=0,ya=ga=va=null,wa=!1,_a=0,Cu.current=null,null===n||null===n.return){Fu=1,Mu=t,Ou=null;break}e:{var a=e,s=n.return,u=n,c=t;if(t=Iu,u.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ys(s);if(null!==p){p.flags&=-257,ms(p,s,u,0,t),1&p.mode&&gs(a,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(c),t.updateQueue=g}else v.add(c);break e}if(0===(1&t)){gs(a,l,t),vc();break e}c=Error(o(426))}else if(io&&1&u.mode){var y=ys(s);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ms(y,s,u,0,t),vo(ls(c,u));break e}}a=c=ls(c,u),4!==Fu&&(Fu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Do(a,ps(0,c,t));break e;case 1:u=c;var m=a.type,w=a.stateNode;if(0===(128&a.flags)&&("function"===typeof m.getDerivedStateFromError||null!==w&&"function"===typeof w.componentDidCatch&&(null===Wu||!Wu.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t,Do(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(_){t=_,Ou===n&&null!==n&&(Ou=n=n.return);continue}break}}function pc(){var e=Eu.current;return Eu.current=as,null===e?as:e}function vc(){0!==Fu&&3!==Fu&&2!==Fu||(Fu=4),null===Tu||0===(268435455&ju)&&0===(268435455&Du)||sc(Tu,Iu)}function gc(e,t){var n=Au;Au|=2;var r=pc();for(Tu===e&&Iu===t||(zu=null,dc(e,t));;)try{yc();break}catch(i){hc(e,i)}if(xo(),Au=n,Eu.current=r,null!==Ou)throw Error(o(261));return Tu=null,Iu=0,Fu}function yc(){for(;null!==Ou;)wc(Ou)}function mc(){for(;null!==Ou&&!Je();)wc(Ou)}function wc(e){var t=Su(e.alternate,e,Ru);e.memoizedProps=e.pendingProps,null===t?_c(e):Ou=t,Cu.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Ru)))return void(Ou=n)}else{if(null!==(n=Gs(n,t)))return n.flags&=32767,void(Ou=n);if(null===e)return Fu=6,void(Ou=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ou=t);Ou=t=e}while(null!==t);0===Fu&&(Fu=5)}function bc(e,t,n){var r=wt,i=Pu.transition;try{Pu.transition=null,wt=1,function(e,t,n,r){do{xc()}while(null!==Gu);if(0!==(6&Au))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Tu&&(Ou=Tu=null,Iu=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Tc(tt,(function(){return xc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Pu.transition,Pu.transition=null;var s=wt;wt=1;var u=Au;Au|=4,Cu.current=null,function(e,t){if(ei=Kt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(b){n=null;break e}var s=0,u=-1,c=-1,l=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++l===i&&(u=s),h===a&&++f===r&&(c=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===c?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Kt=!1,Xs=t;null!==Xs;)if(e=(t=Xs).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xs=e;else for(;null!==Xs;){t=Xs;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,y=v.memoizedState,m=t.stateNode,w=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:yo(t.type,g),y);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(o(163))}}catch(b){kc(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xs=e;break}Xs=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),Kt=!!ei,ti=ei=null,e.current=n,mu(n,e,i),Qe(),Au=u,wt=s,Pu.transition=a}else e.current=n;if(qu&&(qu=!1,Gu=e,Ju=i),a=e.pendingLanes,0===a&&(Wu=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ku)throw Ku=!1,e=Vu,Vu=null,e;0!==(1&Ju)&&0!==e.tag&&xc(),a=e.pendingLanes,0!==(1&a)?e===Yu?Qu++:(Qu=0,Yu=e):Qu=0,Hi()}(e,t,n,r)}finally{Pu.transition=i,wt=r}return null}function xc(){if(null!==Gu){var e=_t(Ju),t=Pu.transition,n=wt;try{if(Pu.transition=null,wt=16>e?16:e,null===Gu)var r=!1;else{if(e=Gu,Gu=null,Ju=0,0!==(6&Au))throw Error(o(331));var i=Au;for(Au|=4,Xs=e.current;null!==Xs;){var a=Xs,s=a.child;if(0!==(16&Xs.flags)){var u=a.deletions;if(null!==u){for(var c=0;c<u.length;c++){var l=u[c];for(Xs=l;null!==Xs;){var f=Xs;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var d=f.child;if(null!==d)d.return=f,Xs=d;else for(;null!==Xs;){var h=(f=Xs).sibling,p=f.return;if(ou(f),f===l){Xs=null;break}if(null!==h){h.return=p,Xs=h;break}Xs=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xs=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Xs=s;else e:for(;null!==Xs;){if(0!==(2048&(a=Xs).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var m=a.sibling;if(null!==m){m.return=a.return,Xs=m;break e}Xs=a.return}}var w=e.current;for(Xs=w;null!==Xs;){var _=(s=Xs).child;if(0!==(2064&s.subtreeFlags)&&null!==_)_.return=s,Xs=_;else e:for(s=w;null!==Xs;){if(0!==(2048&(u=Xs).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(x){kc(u,u.return,x)}if(u===s){Xs=null;break e}var b=u.sibling;if(null!==b){b.return=u.return,Xs=b;break e}Xs=u.return}}if(Au=i,Hi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{wt=n,Pu.transition=t}}return!1}function Sc(e,t,n){e=Mo(e,t=ps(0,t=ls(n,t),1),1),t=ec(),null!==e&&(yt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wu||!Wu.has(r))){t=Mo(t,e=vs(t,e=ls(n,e),1),1),e=ec(),null!==t&&(yt(t,1,e),rc(t,e));break}}t=t.return}}function Ec(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Tu===e&&(Iu&n)===n&&(4===Fu||3===Fu&&(130023424&Iu)===Iu&&500>Ye()-Bu?dc(e,0):Nu|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=ec();null!==(e=Oo(e,t))&&(yt(e,t,n),rc(e,n))}function Pc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ac(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),Cc(e,n)}function Tc(e,t){return qe(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ic(e,t,n,r){return new Oc(e,t,n,r)}function Rc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Ic(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Fc(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Rc(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Mc(n.children,i,a,t);case k:s=8,i|=8;break;case E:return(e=Ic(12,n,t,2|i)).elementType=E,e.lanes=a,e;case T:return(e=Ic(13,n,t,i)).elementType=T,e.lanes=a,e;case O:return(e=Ic(19,n,t,i)).elementType=O,e.lanes=a,e;case L:return jc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:s=10;break e;case P:s=9;break e;case A:s=11;break e;case I:s=14;break e;case R:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Ic(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Mc(e,t,n,r){return(e=Ic(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Ic(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Dc(e,t,n){return(e=Ic(6,e,null,t)).lanes=n,e}function Nc(e,t,n){return(t=Ic(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,r,i,o,a,s,u){return e=new Uc(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Ic(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ro(o),e}function Bc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Hc(e){if(!e)return Pi;e:{if(He(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Mi(e,n,t)}return t}function zc(e,t,n,r,i,o,a,s,u){return(e=Zc(n,r,!0,e,0,o,0,s,u)).context=Hc(null),n=e.current,(o=Fo(r=ec(),i=tc(n))).callback=void 0!==t&&null!==t?t:null,Mo(n,o,i),e.current.lanes=i,yt(e,i,r),rc(e,r),e}function Kc(e,t,n,r){var i=t.current,o=ec(),a=tc(i);return n=Hc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fo(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Mo(i,t,a))&&(nc(e,i,a,o),jo(e,i,a)),a}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function qc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}Su=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)_s=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _s=!1,function(e,t,n){switch(t.tag){case 3:Os(t),po();break;case 5:aa(t);break;case 1:Ri(t.type)&&ji(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ci(mo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ci(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ds(e,t,n):(Ci(ua,1&ua.current),null!==(e=Ks(e,t,n))?e.sibling:null);Ci(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Hs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ci(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Es(e,t,n)}return Ks(e,t,n)}(e,t,n);_s=0!==(131072&e.flags)}else _s=!1,io&&0!==(1048576&t.flags)&&$i(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;zs(e,t),e=t.pendingProps;var i=Ii(t,Ai.current);Eo(t,n),i=ka(null,t,r,e,i,n);var a=Ea();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(a=!0,ji(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ro(t),i.updater=Ho,t.stateNode=i,i._reactInternals=t,Wo(t,r,e,n),t=Ts(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),bs(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(zs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Rc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===A)return 11;if(e===I)return 14}return 2}(r),e=yo(r,e),i){case 0:t=Ps(null,t,r,e,n);break e;case 1:t=As(null,t,r,e,n);break e;case 11:t=xs(null,t,r,e,n);break e;case 14:t=Ss(null,t,r,yo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ps(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 1:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 3:e:{if(Os(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Lo(e,t),No(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Is(e,t,r,n,i=ls(Error(o(423)),t));break e}if(r!==i){t=Is(e,t,r,n,i=ls(Error(o(424)),t));break e}for(ro=ci(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Xo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=Ks(e,t,n);break e}bs(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&co(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),Cs(e,t),bs(e,t,s,n),t.child;case 6:return null===e&&co(t),null;case 13:return Ds(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Yo(t,null,r,n):bs(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,xs(e,t,r,i=t.elementType===r?i:yo(r,i),n);case 7:return bs(e,t,t.pendingProps,n),t.child;case 8:case 12:return bs(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,Ci(mo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Ti.current){t=Ks(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var c=u.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Fo(-1,n&-n)).tag=2;var l=a.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),ko(a.return,n,t),u.lanes|=n;break}c=c.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),ko(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}bs(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Eo(t,n),r=r(i=Co(i)),t.flags|=1,bs(e,t,r,n),t.child;case 14:return i=yo(r=t.type,t.pendingProps),Ss(e,t,r,i=yo(r.type,i),n);case 15:return ks(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:yo(r,i),zs(e,t),t.tag=1,Ri(r)?(e=!0,ji(t)):e=!1,Eo(t,n),Ko(t,r,i),Wo(t,r,i,n),Ts(null,t,r,!0,e,n);case 19:return Hs(e,t,n);case 22:return Es(e,t,n)}throw Error(o(156,t.tag))};var Gc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Qc(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function $c(){}function el(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Vc(a);s.call(e)}}Kc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Vc(a);o.call(e)}}var a=zc(t,r,e,0,null,!1,0,"",$c);return e._reactRootContainer=a,e[pi]=a.current,Hr(8===e.nodeType?e.parentNode:e),lc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Vc(u);s.call(e)}}var u=Zc(e,0,!1,null,0,!1,0,"",$c);return e._reactRootContainer=u,e[pi]=u.current,Hr(8===e.nodeType?e.parentNode:e),lc((function(){Kc(t,u,n,r)})),u}(n,t,e,i,r);return Vc(a)}Qc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Kc(e,t,null,null)},Qc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;lc((function(){Kc(null,e,null,null)})),t[pi]=null}},Qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&Dt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(mt(t,1|n),rc(t,Ye()),0===(6&Au)&&(Hu=Ye()+500,Hi()))}break;case 13:lc((function(){var t=Oo(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),qc(e,1)}},xt=function(e){if(13===e.tag){var t=Oo(e,134217728);if(null!==t)nc(t,e,134217728,ec());qc(e,134217728)}},St=function(e){if(13===e.tag){var t=tc(e),n=Oo(e,t);if(null!==n)nc(n,e,t,ec());qc(e,t)}},kt=function(){return wt},Et=function(e,t){var n=wt;try{return wt=e,t()}finally{wt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(o(90));q(r),X(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ae=cc,Te=lc;var tl={usingClientEntryPoint:!1,Events:[wi,_i,bi,Ce,Pe,cc]},nl={findFiberByHostInstance:mi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rl={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var il=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!il.isDisabled&&il.supportsFiber)try{it=il.inject(rl),ot=il}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(o(200));return Bc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(o(299));var n=!1,r="",i=Gc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Zc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Hr(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return lc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Gc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Hr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Qc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(o(200));return el(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(o(40));return!!e._reactRootContainer&&(lc((function(){el(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return el(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.s=r.createRoot,r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},1372:function(e,t){"use strict";var n,r=Symbol.for("react.element"),i=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.server_context"),f=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function y(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case o:case s:case a:case d:case h:return e;default:switch(e=e&&e.$$typeof){case l:case c:case f:case v:case p:case u:return e;default:return t}}case i:return t}}}n=Symbol.for("react.module.reference")},7441:function(e,t,n){"use strict";n(1372)},3688:function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!==typeof e.getDerivedStateFromProps&&"function"!==typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"===typeof t.componentWillMount?n="componentWillMount":"function"===typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"===typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"===typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"===typeof t.componentWillUpdate?s="componentWillUpdate":"function"===typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var u=e.displayName||e.name,c="function"===typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+u+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"===typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"===typeof t.getSnapshotBeforeUpdate){if("function"!==typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var l=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;l.call(this,e,t,r)}}return e}n.r(t),n.d(t,{polyfill:function(){return a}}),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},2240:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bodyOpenClassName=t.portalClassName=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(2791),a=p(o),s=p(n(4164)),u=p(n(2007)),c=p(n(4334)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(5858)),f=n(3663),d=p(f),h=n(3688);function p(e){return e&&e.__esModule?e:{default:e}}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var y=t.portalClassName="ReactModalPortal",m=t.bodyOpenClassName="ReactModal__Body--open",w=f.canUseDOM&&void 0!==s.default.createPortal,_=function(e){return document.createElement(e)},b=function(){return w?s.default.createPortal:s.default.unstable_renderSubtreeIntoContainer};function x(e){return e()}var S=function(e){function t(){var e,n,i;v(this,t);for(var o=arguments.length,u=Array(o),l=0;l<o;l++)u[l]=arguments[l];return n=i=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),i.removePortal=function(){!w&&s.default.unmountComponentAtNode(i.node);var e=x(i.props.parentSelector);e&&e.contains(i.node)?e.removeChild(i.node):console.warn('React-Modal: "parentSelector" prop did not returned any DOM element. Make sure that the parent element is unmounted to avoid any memory leaks.')},i.portalRef=function(e){i.portal=e},i.renderPortal=function(e){var n=b()(i,a.default.createElement(c.default,r({defaultStyles:t.defaultStyles},e)),i.node);i.portalRef(n)},g(i,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){f.canUseDOM&&(w||(this.node=_("div")),this.node.className=this.props.portalClassName,x(this.props.parentSelector).appendChild(this.node),!w&&this.renderPortal(this.props))}},{key:"getSnapshotBeforeUpdate",value:function(e){return{prevParent:x(e.parentSelector),nextParent:x(this.props.parentSelector)}}},{key:"componentDidUpdate",value:function(e,t,n){if(f.canUseDOM){var r=this.props,i=r.isOpen,o=r.portalClassName;e.portalClassName!==o&&(this.node.className=o);var a=n.prevParent,s=n.nextParent;s!==a&&(a.removeChild(this.node),s.appendChild(this.node)),(e.isOpen||i)&&!w&&this.renderPortal(this.props)}}},{key:"componentWillUnmount",value:function(){if(f.canUseDOM&&this.node&&this.portal){var e=this.portal.state,t=Date.now(),n=e.isOpen&&this.props.closeTimeoutMS&&(e.closesAt||t+this.props.closeTimeoutMS);n?(e.beforeClose||this.portal.closeWithTimeout(),setTimeout(this.removePortal,n-t)):this.removePortal()}}},{key:"render",value:function(){return f.canUseDOM&&w?(!this.node&&w&&(this.node=_("div")),b()(a.default.createElement(c.default,r({ref:this.portalRef,defaultStyles:t.defaultStyles},this.props)),this.node)):null}}],[{key:"setAppElement",value:function(e){l.setElement(e)}}]),t}(o.Component);S.propTypes={isOpen:u.default.bool.isRequired,style:u.default.shape({content:u.default.object,overlay:u.default.object}),portalClassName:u.default.string,bodyOpenClassName:u.default.string,htmlOpenClassName:u.default.string,className:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),overlayClassName:u.default.oneOfType([u.default.string,u.default.shape({base:u.default.string.isRequired,afterOpen:u.default.string.isRequired,beforeClose:u.default.string.isRequired})]),appElement:u.default.oneOfType([u.default.instanceOf(d.default),u.default.instanceOf(f.SafeHTMLCollection),u.default.instanceOf(f.SafeNodeList),u.default.arrayOf(u.default.instanceOf(d.default))]),onAfterOpen:u.default.func,onRequestClose:u.default.func,closeTimeoutMS:u.default.number,ariaHideApp:u.default.bool,shouldFocusAfterRender:u.default.bool,shouldCloseOnOverlayClick:u.default.bool,shouldReturnFocusAfterClose:u.default.bool,preventScroll:u.default.bool,parentSelector:u.default.func,aria:u.default.object,data:u.default.object,role:u.default.string,contentLabel:u.default.string,shouldCloseOnEsc:u.default.bool,overlayRef:u.default.func,contentRef:u.default.func,id:u.default.string,overlayElement:u.default.func,contentElement:u.default.func},S.defaultProps={isOpen:!1,portalClassName:y,bodyOpenClassName:m,role:"dialog",ariaHideApp:!0,closeTimeoutMS:0,shouldFocusAfterRender:!0,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,shouldReturnFocusAfterClose:!0,preventScroll:!1,parentSelector:function(){return document.body},overlayElement:function(e,t){return a.default.createElement("div",e,t)},contentElement:function(e,t){return a.default.createElement("div",e,t)}},S.defaultStyles={overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.75)"},content:{position:"absolute",top:"40px",left:"40px",right:"40px",bottom:"40px",border:"1px solid #ccc",background:"#fff",overflow:"auto",WebkitOverflowScrolling:"touch",borderRadius:"4px",outline:"none",padding:"20px"}},(0,h.polyfill)(S),t.default=S},4334:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2791),s=g(n(2007)),u=v(n(8844)),c=g(n(870)),l=v(n(5858)),f=v(n(6554)),d=n(3663),h=g(d),p=g(n(8484));function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}n(5670);var y={overlay:"ReactModal__Overlay",content:"ReactModal__Content"},m=0,w=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setOverlayRef=function(e){n.overlay=e,n.props.overlayRef&&n.props.overlayRef(e)},n.setContentRef=function(e){n.content=e,n.props.contentRef&&n.props.contentRef(e)},n.afterClose=function(){var e=n.props,t=e.appElement,r=e.ariaHideApp,i=e.htmlOpenClassName,o=e.bodyOpenClassName,a=e.parentSelector,s=a&&a().ownerDocument||document;o&&f.remove(s.body,o),i&&f.remove(s.getElementsByTagName("html")[0],i),r&&m>0&&0===(m-=1)&&l.show(t),n.props.shouldFocusAfterRender&&(n.props.shouldReturnFocusAfterClose?(u.returnFocus(n.props.preventScroll),u.teardownScopedFocus()):u.popWithoutFocus()),n.props.onAfterClose&&n.props.onAfterClose(),p.default.deregister(n)},n.open=function(){n.beforeOpen(),n.state.afterOpen&&n.state.beforeClose?(clearTimeout(n.closeTimer),n.setState({beforeClose:!1})):(n.props.shouldFocusAfterRender&&(u.setupScopedFocus(n.node),u.markForFocusLater()),n.setState({isOpen:!0},(function(){n.openAnimationFrame=requestAnimationFrame((function(){n.setState({afterOpen:!0}),n.props.isOpen&&n.props.onAfterOpen&&n.props.onAfterOpen({overlayEl:n.overlay,contentEl:n.content})}))})))},n.close=function(){n.props.closeTimeoutMS>0?n.closeWithTimeout():n.closeWithoutTimeout()},n.focusContent=function(){return n.content&&!n.contentHasFocus()&&n.content.focus({preventScroll:!0})},n.closeWithTimeout=function(){var e=Date.now()+n.props.closeTimeoutMS;n.setState({beforeClose:!0,closesAt:e},(function(){n.closeTimer=setTimeout(n.closeWithoutTimeout,n.state.closesAt-Date.now())}))},n.closeWithoutTimeout=function(){n.setState({beforeClose:!1,isOpen:!1,afterOpen:!1,closesAt:null},n.afterClose)},n.handleKeyDown=function(e){(function(e){return"Tab"===e.code||9===e.keyCode})(e)&&(0,c.default)(n.content,e),n.props.shouldCloseOnEsc&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&(e.stopPropagation(),n.requestClose(e))},n.handleOverlayOnClick=function(e){null===n.shouldClose&&(n.shouldClose=!0),n.shouldClose&&n.props.shouldCloseOnOverlayClick&&(n.ownerHandlesClose()?n.requestClose(e):n.focusContent()),n.shouldClose=null},n.handleContentOnMouseUp=function(){n.shouldClose=!1},n.handleOverlayOnMouseDown=function(e){n.props.shouldCloseOnOverlayClick||e.target!=n.overlay||e.preventDefault()},n.handleContentOnClick=function(){n.shouldClose=!1},n.handleContentOnMouseDown=function(){n.shouldClose=!1},n.requestClose=function(e){return n.ownerHandlesClose()&&n.props.onRequestClose(e)},n.ownerHandlesClose=function(){return n.props.onRequestClose},n.shouldBeClosed=function(){return!n.state.isOpen&&!n.state.beforeClose},n.contentHasFocus=function(){return document.activeElement===n.content||n.content.contains(document.activeElement)},n.buildClassName=function(e,t){var r="object"===("undefined"===typeof t?"undefined":i(t))?t:{base:y[e],afterOpen:y[e]+"--after-open",beforeClose:y[e]+"--before-close"},o=r.base;return n.state.afterOpen&&(o=o+" "+r.afterOpen),n.state.beforeClose&&(o=o+" "+r.beforeClose),"string"===typeof t&&t?o+" "+t:o},n.attributesFromObject=function(e,t){return Object.keys(t).reduce((function(n,r){return n[e+"-"+r]=t[r],n}),{})},n.state={afterOpen:!1,beforeClose:!1},n.shouldClose=null,n.moveFromContentToOverlay=null,n}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){this.props.isOpen&&this.open()}},{key:"componentDidUpdate",value:function(e,t){this.props.isOpen&&!e.isOpen?this.open():!this.props.isOpen&&e.isOpen&&this.close(),this.props.shouldFocusAfterRender&&this.state.isOpen&&!t.isOpen&&this.focusContent()}},{key:"componentWillUnmount",value:function(){this.state.isOpen&&this.afterClose(),clearTimeout(this.closeTimer),cancelAnimationFrame(this.openAnimationFrame)}},{key:"beforeOpen",value:function(){var e=this.props,t=e.appElement,n=e.ariaHideApp,r=e.htmlOpenClassName,i=e.bodyOpenClassName,o=e.parentSelector,a=o&&o().ownerDocument||document;i&&f.add(a.body,i),r&&f.add(a.getElementsByTagName("html")[0],r),n&&(m+=1,l.hide(t)),p.default.register(this)}},{key:"render",value:function(){var e=this.props,t=e.id,n=e.className,i=e.overlayClassName,o=e.defaultStyles,a=e.children,s=n?{}:o.content,u=i?{}:o.overlay;if(this.shouldBeClosed())return null;var c={ref:this.setOverlayRef,className:this.buildClassName("overlay",i),style:r({},u,this.props.style.overlay),onClick:this.handleOverlayOnClick,onMouseDown:this.handleOverlayOnMouseDown},l=r({id:t,ref:this.setContentRef,style:r({},s,this.props.style.content),className:this.buildClassName("content",n),tabIndex:"-1",onKeyDown:this.handleKeyDown,onMouseDown:this.handleContentOnMouseDown,onMouseUp:this.handleContentOnMouseUp,onClick:this.handleContentOnClick,role:this.props.role,"aria-label":this.props.contentLabel},this.attributesFromObject("aria",r({modal:!0},this.props.aria)),this.attributesFromObject("data",this.props.data||{}),{"data-testid":this.props.testId}),f=this.props.contentElement(l,a);return this.props.overlayElement(c,f)}}]),t}(a.Component);w.defaultProps={style:{overlay:{},content:{}},defaultStyles:{}},w.propTypes={isOpen:s.default.bool.isRequired,defaultStyles:s.default.shape({content:s.default.object,overlay:s.default.object}),style:s.default.shape({content:s.default.object,overlay:s.default.object}),className:s.default.oneOfType([s.default.string,s.default.object]),overlayClassName:s.default.oneOfType([s.default.string,s.default.object]),parentSelector:s.default.func,bodyOpenClassName:s.default.string,htmlOpenClassName:s.default.string,ariaHideApp:s.default.bool,appElement:s.default.oneOfType([s.default.instanceOf(h.default),s.default.instanceOf(d.SafeHTMLCollection),s.default.instanceOf(d.SafeNodeList),s.default.arrayOf(s.default.instanceOf(h.default))]),onAfterOpen:s.default.func,onAfterClose:s.default.func,onRequestClose:s.default.func,closeTimeoutMS:s.default.number,shouldFocusAfterRender:s.default.bool,shouldCloseOnOverlayClick:s.default.bool,shouldReturnFocusAfterClose:s.default.bool,preventScroll:s.default.bool,role:s.default.string,contentLabel:s.default.string,aria:s.default.object,data:s.default.object,children:s.default.node,shouldCloseOnEsc:s.default.bool,overlayRef:s.default.func,contentRef:s.default.func,id:s.default.string,overlayElement:s.default.func,contentElement:s.default.func,testId:s.default.string},t.default=w,e.exports=t.default},5858:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){s&&(s.removeAttribute?s.removeAttribute("aria-hidden"):null!=s.length?s.forEach((function(e){return e.removeAttribute("aria-hidden")})):document.querySelectorAll(s).forEach((function(e){return e.removeAttribute("aria-hidden")})));s=null},t.log=function(){0},t.assertNodeList=u,t.setElement=function(e){var t=e;if("string"===typeof t&&a.canUseDOM){var n=document.querySelectorAll(t);u(n,t),t=n}return s=t||s},t.validateElement=c,t.hide=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.setAttribute("aria-hidden","true")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.show=function(e){var t=!0,n=!1,r=void 0;try{for(var i,o=c(e)[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){i.value.removeAttribute("aria-hidden")}}catch(a){n=!0,r=a}finally{try{!t&&o.return&&o.return()}finally{if(n)throw r}}},t.documentNotReadyOrSSRTesting=function(){s=null};var r,i=n(2391),o=(r=i)&&r.__esModule?r:{default:r},a=n(3663);var s=null;function u(e,t){if(!e||!e.length)throw new Error("react-modal: No elements were found for selector "+t+".")}function c(e){var t=e||s;return t?Array.isArray(t)||t instanceof HTMLCollection||t instanceof NodeList?t:[t]:((0,o.default)(!1,["react-modal: App element is not defined.","Please use `Modal.setAppElement(el)` or set `appElement={el}`.","This is needed so screen readers don't see main content","when modal is opened. It is not recommended, but you can opt-out","by setting `ariaHideApp={false}`."].join(" ")),[])}},5670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){for(var e=[a,s],t=0;t<e.length;t++){var n=e[t];n&&(n.parentNode&&n.parentNode.removeChild(n))}a=s=null,u=[]},t.log=function(){console.log("bodyTrap ----------"),console.log(u.length);for(var e=[a,s],t=0;t<e.length;t++){var n=e[t]||{};console.log(n.nodeName,n.className,n.id)}console.log("edn bodyTrap ----------")};var r,i=n(8484),o=(r=i)&&r.__esModule?r:{default:r};var a=void 0,s=void 0,u=[];function c(){0!==u.length&&u[u.length-1].focusContent()}o.default.subscribe((function(e,t){a||s||((a=document.createElement("div")).setAttribute("data-react-modal-body-trap",""),a.style.position="absolute",a.style.opacity="0",a.setAttribute("tabindex","0"),a.addEventListener("focus",c),(s=a.cloneNode()).addEventListener("focus",c)),(u=t).length>0?(document.body.firstChild!==a&&document.body.insertBefore(a,document.body.firstChild),document.body.lastChild!==s&&document.body.appendChild(s)):(a.parentElement&&a.parentElement.removeChild(a),s.parentElement&&s.parentElement.removeChild(s))}))},6554:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){var e=document.getElementsByTagName("html")[0];for(var t in n)i(e,n[t]);var o=document.body;for(var a in r)i(o,r[a]);n={},r={}},t.log=function(){0};var n={},r={};function i(e,t){e.classList.remove(t)}t.add=function(e,t){return i=e.classList,o="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]||(e[t]=0),e[t]+=1}(o,e),i.add(e)}));var i,o},t.remove=function(e,t){return i=e.classList,o="html"==e.nodeName.toLowerCase()?n:r,void t.split(" ").forEach((function(e){!function(e,t){e[t]&&(e[t]-=1)}(o,e),0===o[e]&&i.remove(e)}));var i,o}},8844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resetState=function(){a=[]},t.log=function(){0},t.handleBlur=c,t.handleFocus=l,t.markForFocusLater=function(){a.push(document.activeElement)},t.returnFocus=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=null;try{return void(0!==a.length&&(t=a.pop()).focus({preventScroll:e}))}catch(n){console.warn(["You tried to return focus to",t,"but it is not in the DOM anymore"].join(" "))}},t.popWithoutFocus=function(){a.length>0&&a.pop()},t.setupScopedFocus=function(e){s=e,window.addEventListener?(window.addEventListener("blur",c,!1),document.addEventListener("focus",l,!0)):(window.attachEvent("onBlur",c),document.attachEvent("onFocus",l))},t.teardownScopedFocus=function(){s=null,window.addEventListener?(window.removeEventListener("blur",c),document.removeEventListener("focus",l)):(window.detachEvent("onBlur",c),document.detachEvent("onFocus",l))};var r,i=n(9750),o=(r=i)&&r.__esModule?r:{default:r};var a=[],s=null,u=!1;function c(){u=!0}function l(){if(u){if(u=!1,!s)return;setTimeout((function(){s.contains(document.activeElement)||((0,o.default)(s)[0]||s).focus()}),0)}}},8484:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.log=function(){console.log("portalOpenInstances ----------"),console.log(r.openInstances.length),r.openInstances.forEach((function(e){return console.log(e)})),console.log("end portalOpenInstances ----------")},t.resetState=function(){r=new n};var n=function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.register=function(e){-1===t.openInstances.indexOf(e)&&(t.openInstances.push(e),t.emit("register"))},this.deregister=function(e){var n=t.openInstances.indexOf(e);-1!==n&&(t.openInstances.splice(n,1),t.emit("deregister"))},this.subscribe=function(e){t.subscribers.push(e)},this.emit=function(e){t.subscribers.forEach((function(n){return n(e,t.openInstances.slice())}))},this.openInstances=[],this.subscribers=[]},r=new n;t.default=r},3663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.canUseDOM=t.SafeNodeList=t.SafeHTMLCollection=void 0;var r,i=n(2618);var o=((r=i)&&r.__esModule?r:{default:r}).default,a=o.canUseDOM?window.HTMLElement:{};t.SafeHTMLCollection=o.canUseDOM?window.HTMLCollection:{},t.SafeNodeList=o.canUseDOM?window.NodeList:{},t.canUseDOM=o.canUseDOM;t.default=a},870:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=(0,o.default)(e);if(!n.length)return void t.preventDefault();var r=void 0,i=t.shiftKey,s=n[0],u=n[n.length-1],c=a();if(e===c){if(!i)return;r=u}u!==c||i||(r=s);s===c&&i&&(r=u);if(r)return t.preventDefault(),void r.focus();var l=/(\bChrome\b|\bSafari\b)\//.exec(navigator.userAgent);if(null==l||"Chrome"==l[1]||null!=/\biPod\b|\biPad\b/g.exec(navigator.userAgent))return;var f=n.indexOf(c);f>-1&&(f+=i?-1:1);if("undefined"===typeof(r=n[f]))return t.preventDefault(),void(r=i?u:s).focus();t.preventDefault(),r.focus()};var r,i=n(9750),o=(r=i)&&r.__esModule?r:{default:r};function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;return e.activeElement.shadowRoot?a(e.activeElement.shadowRoot):e.activeElement}e.exports=t.default},9750:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function e(t){var n=[].slice.call(t.querySelectorAll("*"),0).reduce((function(t,n){return t.concat(n.shadowRoot?e(n.shadowRoot):[n])}),[]);return n.filter(o)};var n=/input|select|textarea|button|object|iframe/;function r(e){var t=e.offsetWidth<=0&&e.offsetHeight<=0;if(t&&!e.innerHTML)return!0;try{var n=window.getComputedStyle(e),r=n.getPropertyValue("display");return t?"contents"!==r&&function(e,t){return"visible"!==t.getPropertyValue("overflow")||e.scrollWidth<=0&&e.scrollHeight<=0}(e,n):"none"===r}catch(i){return console.warn("Failed to inspect element style"),!1}}function i(e,t){var i=e.nodeName.toLowerCase();return(n.test(i)&&!e.disabled||"a"===i&&e.href||t)&&function(e){for(var t=e,n=e.getRootNode&&e.getRootNode();t&&t!==document.body;){if(n&&t===n&&(t=n.host.parentNode),r(t))return!1;t=t.parentNode}return!0}(e)}function o(e){var t=e.getAttribute("tabindex");null===t&&(t=void 0);var n=isNaN(t);return(n||t>=0)&&i(e,!n)}e.exports=t.default},7948:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2240),o=(r=i)&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:o,_owner:s.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function m(){}function w(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},m.prototype=y.prototype;var _=w.prototype=new m;_.constructor=w,v(_,y.prototype),_.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,S={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)x.call(t,i)&&!k.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];o.children=c}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:S.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var P=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+A(u,0):o,b(a)?(i="",null!=e&&(i=e.replace(P,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(C(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(P,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",b(e))for(var c=0;c<e.length;c++){var l=o+A(s=e[c],c);u+=T(s,t,i,l,a)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,i,l=o+A(s,c++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function O(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function I(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},F={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:S};t.Children={map:O,forEach:function(e,t,n){O(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=w,t.StrictMode=o,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=F,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=S.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){u=Array(c);for(var l=0;l<c;l++)u[l]=arguments[l+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:I}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},8649:function(e,t,n){"use strict";var r=n(8320),i=r.AbortError,o=r.codes,a=n(5762),s=o.ERR_INVALID_ARG_TYPE;e.exports.addAbortSignal=function(t,n){if(function(e,t){if("object"!==typeof e||!("aborted"in e))throw new s(t,"AbortSignal",e)}(t,"signal"),!(r=n)||"function"!==typeof r.pipe)throw new s("stream","stream.Stream",n);var r;return e.exports.addAbortSignalNoValidate(t,n)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;var n=function(){t.destroy(new i(void 0,{cause:e.reason}))};return e.aborted?n():(e.addEventListener("abort",n),a(t,(function(){return e.removeEventListener("abort",n)}))),t}},5566:function(e,t,n){"use strict";var r=n(2122).default,i=n(7061).default,o=n(6690).default,a=n(9728).default,s=n(4924),u=s.StringPrototypeSlice,c=s.SymbolIterator,l=s.TypedArrayPrototypeSet,f=s.Uint8Array,d=n(9778).Buffer,h=n(1057).inspect;e.exports=function(e){function t(){o(this,t),this.head=null,this.tail=null,this.length=0}return a(t,[{key:"push",value:function(e){var t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}},{key:"unshift",value:function(e){var t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}},{key:"shift",value:function(){if(0!==this.length){var e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(e){if(0===this.length)return"";for(var t=this.head,n=""+t.data;null!==(t=t.next);)n+=e+t.data;return n}},{key:"concat",value:function(e){if(0===this.length)return d.alloc(0);for(var t=d.allocUnsafe(e>>>0),n=this.head,r=0;n;)l(t,n.data,r),r+=n.data.length,n=n.next;return t}},{key:"consume",value:function(e,t){var n=this.head.data;if(e<n.length){var r=n.slice(0,e);return this.head.data=n.slice(e),r}return e===n.length?this.shift():t?this._getString(e):this._getBuffer(e)}},{key:"first",value:function(){return this.head.data}},{key:c,value:i().mark((function e(){var t;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.head;case 1:if(!t){e.next=7;break}return e.next=4,t.data;case 4:t=t.next,e.next=1;break;case 7:case"end":return e.stop()}}),e,this)}))},{key:"_getString",value:function(e){var t="",n=this.head,r=0;do{var i=n.data;if(!(e>i.length)){e===i.length?(t+=i,++r,n.next?this.head=n.next:this.head=this.tail=null):(t+=u(i,0,e),this.head=n,n.data=u(i,e));break}t+=i,e-=i.length,++r}while(null!==(n=n.next));return this.length-=r,t}},{key:"_getBuffer",value:function(e){var t=d.allocUnsafe(e),n=e,r=this.head,i=0;do{var o=r.data;if(!(e>o.length)){e===o.length?(l(t,o,n-e),++i,r.next?this.head=r.next:this.head=this.tail=null):(l(t,new f(o.buffer,o.byteOffset,e),n-e),this.head=r,r.data=o.slice(e));break}l(t,o,n-e),e-=o.length,++i}while(null!==(r=r.next));return this.length-=i,t}},{key:e,value:function(e,t){return h(this,r(r({},t),{},{depth:0,customInspect:!1}))}}]),t}(Symbol.for("nodejs.util.inspect.custom"))},1839:function(e,t,n){"use strict";var r=n(4541).pipeline,i=n(1757),o=n(2644).destroyer,a=n(9421),s=a.isNodeStream,u=a.isReadable,c=a.isWritable,l=n(8320),f=l.AbortError,d=l.codes,h=d.ERR_INVALID_ARG_VALUE,p=d.ERR_MISSING_ARGS;e.exports=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)throw new p("streams");if(1===t.length)return i.from(t[0]);var a,l,d,v,g,y=[].concat(t);if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){var m=t.length-1;t[m]=i.from(t[m])}for(var w=0;w<t.length;++w)if(s(t[w])){if(w<t.length-1&&!u(t[w]))throw new h("streams[".concat(w,"]"),y[w],"must be readable");if(w>0&&!c(t[w]))throw new h("streams[".concat(w,"]"),y[w],"must be writable")}function _(e){var t=v;v=null,t?t(e):e?g.destroy(e):k||S||g.destroy()}var b=t[0],x=r(t,_),S=!!c(b),k=!!u(x);return g=new i({writableObjectMode:!(null===b||void 0===b||!b.writableObjectMode),readableObjectMode:!(null===x||void 0===x||!x.writableObjectMode),writable:S,readable:k}),S&&(g._write=function(e,t,n){b.write(e,t)?n():a=n},g._final=function(e){b.end(),l=e},b.on("drain",(function(){if(a){var e=a;a=null,e()}})),x.on("finish",(function(){if(l){var e=l;l=null,e()}}))),k&&(x.on("readable",(function(){if(d){var e=d;d=null,e()}})),x.on("end",(function(){g.push(null)})),g._read=function(){for(;;){var e=x.read();if(null===e)return void(d=g._read);if(!g.push(e))return}}),g._destroy=function(e,t){e||null===v||(e=new f),d=null,a=null,l=null,null===v?t(e):(v=t,o(x,e))},g}},2644:function(e,t,n){"use strict";var r=n(1426),i=n(8320),o=i.aggregateTwoErrors,a=i.codes.ERR_MULTIPLE_CALLBACK,s=i.AbortError,u=n(4924).Symbol,c=n(9421),l=c.kDestroyed,f=c.isDestroyed,d=c.isFinished,h=c.isServerRequest,p=u("kDestroy"),v=u("kConstruct");function g(e,t,n){e&&(e.stack,t&&!t.errored&&(t.errored=e),n&&!n.errored&&(n.errored=e))}function y(e,t,n){var i=!1;function o(t){if(!i){i=!0;var o=e._readableState,a=e._writableState;g(t,a,o),a&&(a.closed=!0),o&&(o.closed=!0),"function"===typeof n&&n(t),t?r.nextTick(m,e,t):r.nextTick(w,e)}}try{e._destroy(t||null,o)}catch(t){o(t)}}function m(e,t){_(e,t),w(e)}function w(e){var t=e._readableState,n=e._writableState;n&&(n.closeEmitted=!0),t&&(t.closeEmitted=!0),(n&&n.emitClose||t&&t.emitClose)&&e.emit("close")}function _(e,t){var n=e._readableState,r=e._writableState;r&&r.errorEmitted||n&&n.errorEmitted||(r&&(r.errorEmitted=!0),n&&(n.errorEmitted=!0),e.emit("error",t))}function b(e,t,n){var i=e._readableState,o=e._writableState;if(o&&o.destroyed||i&&i.destroyed)return this;i&&i.autoDestroy||o&&o.autoDestroy?e.destroy(t):t&&(t.stack,o&&!o.errored&&(o.errored=t),i&&!i.errored&&(i.errored=t),n?r.nextTick(_,e,t):_(e,t))}function x(e){var t=!1;function n(n){if(t)b(e,null!==n&&void 0!==n?n:new a);else{t=!0;var i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(p,n):n?b(e,n,!0):r.nextTick(S,e)}}try{e._construct(n)}catch(i){n(i)}}function S(e){e.emit(v)}function k(e){return e&&e.setHeader&&"function"===typeof e.abort}function E(e){e.emit("close")}function C(e,t){e.emit("error",t),r.nextTick(E,e)}e.exports={construct:function(e,t){if("function"===typeof e._construct){var n=e._readableState,i=e._writableState;n&&(n.constructed=!1),i&&(i.constructed=!1),e.once(v,t),e.listenerCount(v)>1||r.nextTick(x,e)}},destroyer:function(e,t){e&&!f(e)&&(t||d(e)||(t=new s),h(e)?(e.socket=null,e.destroy(t)):k(e)?e.abort():k(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?r.nextTick(C,e,t):r.nextTick(E,e),e.destroyed||(e[l]=!0))},destroy:function(e,t){var n=this._readableState,r=this._writableState,i=r||n;return r&&r.destroyed||n&&n.destroyed?("function"===typeof t&&t(),this):(g(e,r,n),r&&(r.destroyed=!0),n&&(n.destroyed=!0),i.constructed?y(this,e,t):this.once(p,(function(n){y(this,o(n,e),t)})),this)},undestroy:function(){var e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}},1757:function(e,t,n){"use strict";var r=n(2122).default,i=n(4924),o=i.ObjectDefineProperties,a=i.ObjectGetOwnPropertyDescriptor,s=i.ObjectKeys,u=i.ObjectSetPrototypeOf;e.exports=g;var c,l,f=n(605),d=n(6415);u(g.prototype,f.prototype),u(g,f);for(var h=s(d.prototype),p=0;p<h.length;p++){var v=h[p];g.prototype[v]||(g.prototype[v]=d.prototype[v])}function g(e){if(!(this instanceof g))return new g(e);f.call(this,e),d.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}function y(){return void 0===c&&(c={}),c}o(g.prototype,{writable:r({__proto__:null},a(d.prototype,"writable")),writableHighWaterMark:r({__proto__:null},a(d.prototype,"writableHighWaterMark")),writableObjectMode:r({__proto__:null},a(d.prototype,"writableObjectMode")),writableBuffer:r({__proto__:null},a(d.prototype,"writableBuffer")),writableLength:r({__proto__:null},a(d.prototype,"writableLength")),writableFinished:r({__proto__:null},a(d.prototype,"writableFinished")),writableCorked:r({__proto__:null},a(d.prototype,"writableCorked")),writableEnded:r({__proto__:null},a(d.prototype,"writableEnded")),writableNeedDrain:r({__proto__:null},a(d.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),g.fromWeb=function(e,t){return y().newStreamDuplexFromReadableWritablePair(e,t)},g.toWeb=function(e){return y().newReadableWritablePairFromDuplex(e)},g.from=function(e){return l||(l=n(4691)),l(e,"body")}},4691:function(e,t,n){var r=n(7061).default,i=n(7156).default,o=n(9728).default,a=n(6690).default,s=n(1655).default,u=n(6389).default,c=n(6737).default,l=n(8186).default,f=n(1426),d=n(9778),h=n(9421),p=h.isReadable,v=h.isWritable,g=h.isIterable,y=h.isNodeStream,m=h.isReadableNodeStream,w=h.isWritableNodeStream,_=h.isDuplexNodeStream,b=n(5762),x=n(8320),S=x.AbortError,k=x.codes,E=k.ERR_INVALID_ARG_TYPE,C=k.ERR_INVALID_RETURN_VALUE,P=n(2644).destroyer,A=n(1757),T=n(605),O=n(1057).createDeferredPromise,I=n(2020),R=globalThis.Blob||d.Blob,L="undefined"!==typeof R?function(e){return e instanceof R}:function(e){return!1},F=globalThis.AbortController||n(5935).AbortController,M=n(4924).FunctionPrototypeCall,j=function(e){"use strict";s(n,e);var t=u(n);function n(e){var r;return a(this,n),r=t.call(this,e),!1===(null===e||void 0===e?void 0:e.readable)&&(r._readableState.readable=!1,r._readableState.ended=!0,r._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(r._writableState.writable=!1,r._writableState.ending=!0,r._writableState.ended=!0,r._writableState.finished=!0),r}return o(n)}(A);function D(e){var t,n,r,i,o,a=e.readable&&"function"!==typeof e.readable.read?T.wrap(e.readable):e.readable,s=e.writable,u=!!p(a),c=!!v(s);function l(e){var t=i;i=null,t?t(e):e?o.destroy(e):u||c||o.destroy()}return o=new j({readableObjectMode:!(null===a||void 0===a||!a.readableObjectMode),writableObjectMode:!(null===s||void 0===s||!s.writableObjectMode),readable:u,writable:c}),c&&(b(s,(function(e){c=!1,e&&P(a,e),l(e)})),o._write=function(e,n,r){s.write(e,n)?r():t=r},o._final=function(e){s.end(),n=e},s.on("drain",(function(){if(t){var e=t;t=null,e()}})),s.on("finish",(function(){if(n){var e=n;n=null,e()}}))),u&&(b(a,(function(e){u=!1,e&&P(a,e),l(e)})),a.on("readable",(function(){if(r){var e=r;r=null,e()}})),a.on("end",(function(){o.push(null)})),o._read=function(){for(;;){var e=a.read();if(null===e)return void(r=o._read);if(!o.push(e))return}}),o._destroy=function(e,o){e||null===i||(e=new S),r=null,t=null,n=null,null===i?o(e):(i=o,P(s,e),P(a,e))},o}e.exports=function e(t,n){if(_(t))return t;if(m(t))return D({readable:t});if(w(t))return D({writable:t});if(y(t))return D({writable:!1,readable:!1});if("function"===typeof t){var o=function(e){var t=O(),n=t.promise,i=t.resolve,o=new F,a=o.signal,s=e(l(r().mark((function e(){var t,o,s,u,l,d;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n,n=null,e.next=5,c(t);case 5:if(o=e.sent,s=o.chunk,u=o.done,l=o.cb,f.nextTick(l),!u){e.next=12;break}return e.abrupt("return");case 12:if(!a.aborted){e.next=14;break}throw new S(void 0,{cause:a.reason});case 14:return d=O(),n=d.promise,i=d.resolve,e.next=19,s;case 19:e.next=0;break;case 21:case"end":return e.stop()}}),e)})))(),{signal:a});return{value:s,write:function(e,t,n){var r=i;i=null,r({chunk:e,done:!1,cb:n})},final:function(e){var t=i;i=null,t({done:!0,cb:e})},destroy:function(e,t){o.abort(),t(e)}}}(t),a=o.value,s=o.write,u=o.final,d=o.destroy;if(g(a))return I(j,a,{objectMode:!0,write:s,final:u,destroy:d});var h=null===a||void 0===a?void 0:a.then;if("function"===typeof h){var p,v=M(h,a,(function(e){if(null!=e)throw new C("nully","body",e)}),(function(e){P(p,e)}));return p=new j({objectMode:!0,readable:!1,write:s,final:function(e){u(i(r().mark((function t(){return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,v;case 3:f.nextTick(e,null),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),f.nextTick(e,t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])}))))},destroy:d})}throw new C("Iterable, AsyncIterable or AsyncFunction",n,a)}if(L(t))return e(t.arrayBuffer());if(g(t))return I(j,t,{objectMode:!0,writable:!1});if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable))return D({readable:null!==t&&void 0!==t&&t.readable?m(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?w(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0});var b,x=null===t||void 0===t?void 0:t.then;if("function"===typeof x)return M(x,t,(function(e){null!=e&&b.push(e),b.push(null)}),(function(e){P(b,e)})),b=new j({objectMode:!0,writable:!1,read:function(){}});throw new E(n,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},5762:function(e,t,n){var r=n(1426),i=n(8320),o=i.AbortError,a=i.codes,s=a.ERR_INVALID_ARG_TYPE,u=a.ERR_STREAM_PREMATURE_CLOSE,c=n(1057),l=c.kEmptyObject,f=c.once,d=n(7233),h=d.validateAbortSignal,p=d.validateFunction,v=d.validateObject,g=n(4924).Promise,y=n(9421),m=y.isClosed,w=y.isReadable,_=y.isReadableNodeStream,b=y.isReadableFinished,x=y.isReadableErrored,S=y.isWritable,k=y.isWritableNodeStream,E=y.isWritableFinished,C=y.isWritableErrored,P=y.isNodeStream,A=y.willEmitClose;function T(e){return e.setHeader&&"function"===typeof e.abort}var O=function(){};function I(e,t,n){var i,a;2===arguments.length?(n=t,t=l):null==t?t=l:v(t,"options"),p(n,"callback"),h(t.signal,"options.signal"),n=f(n);var c=null!==(i=t.readable)&&void 0!==i?i:_(e),d=null!==(a=t.writable)&&void 0!==a?a:k(e);if(!P(e))throw new s("stream","Stream",e);var g=e._writableState,y=e._readableState,I=function(){e.writable||F()},R=A(e)&&_(e)===c&&k(e)===d,L=E(e,!1),F=function(){L=!0,e.destroyed&&(R=!1),(!R||e.readable&&!c)&&(c&&!M||n.call(e))},M=b(e,!1),j=function(){M=!0,e.destroyed&&(R=!1),(!R||e.writable&&!d)&&(d&&!L||n.call(e))},D=function(t){n.call(e,t)},N=m(e),U=function(){N=!0;var t=C(e)||x(e);return t&&"boolean"!==typeof t?n.call(e,t):c&&!M&&_(e,!0)&&!b(e,!1)?n.call(e,new u):!d||L||E(e,!1)?void n.call(e):n.call(e,new u)},Z=function(){e.req.on("finish",F)};T(e)?(e.on("complete",F),R||e.on("abort",U),e.req?Z():e.on("request",Z)):d&&!g&&(e.on("end",I),e.on("close",I)),R||"boolean"!==typeof e.aborted||e.on("aborted",U),e.on("end",j),e.on("finish",F),!1!==t.error&&e.on("error",D),e.on("close",U),N?r.nextTick(U):null!==g&&void 0!==g&&g.errorEmitted||null!==y&&void 0!==y&&y.errorEmitted?R||r.nextTick(U):(c||R&&!w(e)||!L&&!1!==S(e))&&(d||R&&!S(e)||!M&&!1!==w(e))?y&&e.req&&e.aborted&&r.nextTick(U):r.nextTick(U);var B=function(){n=O,e.removeListener("aborted",U),e.removeListener("complete",F),e.removeListener("abort",U),e.removeListener("request",Z),e.req&&e.req.removeListener("finish",F),e.removeListener("end",I),e.removeListener("close",I),e.removeListener("finish",F),e.removeListener("end",j),e.removeListener("error",D),e.removeListener("close",U)};if(t.signal&&!N){var H=function(){var r=n;B(),r.call(e,new o(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)r.nextTick(H);else{var z=n;n=f((function(){t.signal.removeEventListener("abort",H);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];z.apply(e,r)})),t.signal.addEventListener("abort",H)}}return B}e.exports=I,e.exports.finished=function(e,t){return new g((function(n,r){I(e,t,(function(e){e?r(e):n()}))}))}},2020:function(e,t,n){"use strict";var r=n(7061).default,i=n(7156).default,o=n(2122).default,a=n(1426),s=n(4924),u=s.PromisePrototypeThen,c=s.SymbolAsyncIterator,l=s.SymbolIterator,f=n(9778).Buffer,d=n(8320).codes,h=d.ERR_INVALID_ARG_TYPE,p=d.ERR_STREAM_NULL_VALUES;e.exports=function(e,t,n){var s,d;if("string"===typeof t||t instanceof f)return new e(o(o({objectMode:!0},n),{},{read:function(){this.push(t),this.push(null)}}));if(t&&t[c])d=!0,s=t[c]();else{if(!t||!t[l])throw new h("iterable",["Iterable"],t);d=!1,s=t[l]()}var v=new e(o({objectMode:!0,highWaterMark:1},n)),g=!1;function y(){return(y=i(r().mark((function e(t){var n,i,o,a,u,c,l;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=void 0!==t&&null!==t,i="function"===typeof s.throw,!n||!i){e.next=12;break}return e.next=5,s.throw(t);case 5:return o=e.sent,a=o.value,u=o.done,e.next=10,a;case 10:if(!u){e.next=12;break}return e.abrupt("return");case 12:if("function"!==typeof s.return){e.next=19;break}return e.next=15,s.return();case 15:return c=e.sent,l=c.value,e.next=19,l;case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(){return(m=i(r().mark((function e(){var t,n,i;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!d){e.next=7;break}return e.next=4,s.next();case 4:e.t0=e.sent,e.next=8;break;case 7:e.t0=s.next();case 8:if(t=e.t0,n=t.value,!t.done){e.next=15;break}v.push(null),e.next=33;break;case 15:if(!n||"function"!==typeof n.then){e.next=21;break}return e.next=18,n;case 18:e.t1=e.sent,e.next=22;break;case 21:e.t1=n;case 22:if(null!==(i=e.t1)){e.next=28;break}throw g=!1,new p;case 28:if(!v.push(i)){e.next=32;break}return e.abrupt("continue",39);case 32:g=!1;case 33:e.next=38;break;case 35:e.prev=35,e.t2=e.catch(0),v.destroy(e.t2);case 38:return e.abrupt("break",41);case 39:e.next=0;break;case 41:case"end":return e.stop()}}),e,null,[[0,35]])})))).apply(this,arguments)}return v._read=function(){g||(g=!0,function(){m.apply(this,arguments)}())},v._destroy=function(e,t){u(function(e){return y.apply(this,arguments)}(e),(function(){return a.nextTick(t,e)}),(function(n){return a.nextTick(t,n||e)}))},v}},7371:function(e,t,n){"use strict";var r=n(4924),i=r.ArrayIsArray,o=r.ObjectSetPrototypeOf,a=n(7465).EventEmitter;function s(e){a.call(this,e)}function u(e,t,n){if("function"===typeof e.prependListener)return e.prependListener(t,n);e._events&&e._events[t]?i(e._events[t])?e._events[t].unshift(n):e._events[t]=[n,e._events[t]]:e.on(t,n)}o(s.prototype,a.prototype),o(s,a),s.prototype.pipe=function(e,t){var n=this;function r(t){e.writable&&!1===e.write(t)&&n.pause&&n.pause()}function i(){n.readable&&n.resume&&n.resume()}n.on("data",r),e.on("drain",i),e._isStdio||t&&!1===t.end||(n.on("end",s),n.on("close",c));var o=!1;function s(){o||(o=!0,e.end())}function c(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function l(e){f(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function f(){n.removeListener("data",r),e.removeListener("drain",i),n.removeListener("end",s),n.removeListener("close",c),n.removeListener("error",l),e.removeListener("error",l),n.removeListener("end",f),n.removeListener("close",f),e.removeListener("close",f)}return u(n,"error",l),u(e,"error",l),n.on("end",f),n.on("close",f),e.on("close",f),e.emit("pipe",n),e},e.exports={Stream:s,prependListener:u}},7359:function(e,t,n){"use strict";var r=n(8416).default,i=n(9728).default,o=n(6690).default,a=n(1655).default,s=n(6389).default,u=n(7061).default,c=n(7156).default,l=n(8131).default,f=n(8237).default,d=n(6737).default,h=n(8186).default,p=globalThis.AbortController||n(5935).AbortController,v=n(8320),g=v.codes,y=g.ERR_INVALID_ARG_TYPE,m=g.ERR_MISSING_ARGS,w=g.ERR_OUT_OF_RANGE,_=v.AbortError,b=n(7233),x=b.validateAbortSignal,S=b.validateInteger,k=b.validateObject,E=n(4924).Symbol("kWeak"),C=n(5762).finished,P=n(4924),A=P.ArrayPrototypePush,T=P.MathFloor,O=P.Number,I=P.NumberIsNaN,R=P.Promise,L=P.PromiseReject,F=P.PromisePrototypeThen,M=P.Symbol,j=M("kEmpty"),D=M("kEof");function N(e,t){if("function"!==typeof e)throw new y("fn",["Function","AsyncFunction"],e);null!=t&&k(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&x(t.signal,"options.signal");var n=1;return null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=T(t.concurrency)),S(n,"concurrency",1),function(){var r=h(u().mark((function r(){var i,o,a,s,l,h,v,g,y,m,w,b,x,S,k;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:S=function(){return(S=c(u().mark((function r(){var i,o,a,c,d,p,x,S,k;return u().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:r.prev=0,i=!1,o=!1,r.prev=3,c=f(s);case 5:return r.next=7,c.next();case 7:if(!(i=!(d=r.sent).done)){r.next=25;break}if(p=d.value,!w){r.next=11;break}return r.abrupt("return");case 11:if(!h.aborted){r.next=13;break}throw new _;case 13:try{p=e(p,v)}catch(u){p=L(u)}if(p!==j){r.next=16;break}return r.abrupt("continue",22);case 16:if("function"===typeof(null===(x=p)||void 0===x?void 0:x.catch)&&p.catch(b),l.push(p),y&&(y(),y=null),!(!w&&l.length&&l.length>=n)){r.next=22;break}return r.next=22,new R((function(e){m=e}));case 22:i=!1,r.next=5;break;case 25:r.next=31;break;case 27:r.prev=27,r.t0=r.catch(3),o=!0,a=r.t0;case 31:if(r.prev=31,r.prev=32,!i||null==c.return){r.next=36;break}return r.next=36,c.return();case 36:if(r.prev=36,!o){r.next=39;break}throw a;case 39:return r.finish(36);case 40:return r.finish(31);case 41:l.push(D),r.next=49;break;case 44:r.prev=44,r.t1=r.catch(0),S=L(r.t1),F(S,void 0,b),l.push(S);case 49:return r.prev=49,w=!0,y&&(y(),y=null),null===t||void 0===t||null===(k=t.signal)||void 0===k||k.removeEventListener("abort",g),r.finish(49);case 54:case"end":return r.stop()}}),r,null,[[0,44,49,54],[3,27,31,41],[32,,36,40]])})))).apply(this,arguments)},x=function(){return S.apply(this,arguments)},b=function(){w=!0},a=new p,s=this,l=[],h=a.signal,v={signal:h},g=function(){return a.abort()},null!==t&&void 0!==t&&null!==(i=t.signal)&&void 0!==i&&i.aborted&&g(),null===t||void 0===t||null===(o=t.signal)||void 0===o||o.addEventListener("abort",g),w=!1,x(),r.prev=13;case 14:0;case 15:if(!(l.length>0)){r.next=30;break}return r.next=18,d(l[0]);case 18:if((k=r.sent)!==D){r.next=21;break}return r.abrupt("return");case 21:if(!h.aborted){r.next=23;break}throw new _;case 23:if(k===j){r.next=26;break}return r.next=26,k;case 26:l.shift(),m&&(m(),m=null),r.next=15;break;case 30:return r.next=32,d(new R((function(e){y=e})));case 32:r.next=14;break;case 34:return r.prev=34,a.abort(),w=!0,m&&(m(),m=null),r.finish(34);case 39:case"end":return r.stop()}}),r,this,[[13,,34,39]])})));return function(){return r.apply(this,arguments)}}().call(this)}function U(e){return Z.apply(this,arguments)}function Z(){return Z=c(u().mark((function e(t){var n,r,i,o,a,s,c=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=c.length>1&&void 0!==c[1]?c[1]:void 0,r=!1,i=!1,e.prev=3,a=f(K.call(this,t,n));case 5:return e.next=7,a.next();case 7:if(!(r=!(s=e.sent).done)){e.next=13;break}return s.value,e.abrupt("return",!0);case 10:r=!1,e.next=5;break;case 13:e.next=19;break;case 15:e.prev=15,e.t0=e.catch(3),i=!0,o=e.t0;case 19:if(e.prev=19,e.prev=20,!r||null==a.return){e.next=24;break}return e.next=24,a.return();case 24:if(e.prev=24,!i){e.next=27;break}throw o;case 27:return e.finish(24);case 28:return e.finish(19);case 29:return e.abrupt("return",!1);case 30:case"end":return e.stop()}}),e,this,[[3,15,19,29],[20,,24,28]])}))),Z.apply(this,arguments)}function B(){return B=c(u().mark((function e(t){var n,r=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]?r[1]:void 0,"function"===typeof t){e.next=3;break}throw new y("fn",["Function","AsyncFunction"],t);case 3:return e.next=5,U.call(this,c(u().mark((function e(){var n=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.apply(void 0,n);case 2:return e.abrupt("return",!e.sent);case 3:case"end":return e.stop()}}),e)}))),n);case 5:return e.abrupt("return",!e.sent);case 6:case"end":return e.stop()}}),e,this)}))),B.apply(this,arguments)}function H(){return(H=c(u().mark((function e(t,n){var r,i,o,a,s,c;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=!1,i=!1,e.prev=2,a=f(K.call(this,t,n));case 4:return e.next=6,a.next();case 6:if(!(r=!(s=e.sent).done)){e.next=12;break}return c=s.value,e.abrupt("return",c);case 9:r=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t0=e.catch(2),i=!0,o=e.t0;case 18:if(e.prev=18,e.prev=19,!r||null==a.return){e.next=23;break}return e.next=23,a.return();case 23:if(e.prev=23,!i){e.next=26;break}throw o;case 26:return e.finish(23);case 27:return e.finish(18);case 28:return e.abrupt("return",void 0);case 29:case"end":return e.stop()}}),e,this,[[2,14,18,28],[19,,23,27]])})))).apply(this,arguments)}function z(){return z=c(u().mark((function e(t,n){var r,i,o,a,s,l,d;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=function(){return i=c(u().mark((function e(n,r){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(n,r);case 2:return e.abrupt("return",j);case 3:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)},r=function(e,t){return i.apply(this,arguments)},"function"===typeof t){e.next=4;break}throw new y("fn",["Function","AsyncFunction"],t);case 4:o=!1,a=!1,e.prev=6,l=f(N.call(this,r,n));case 8:return e.next=10,l.next();case 10:if(!(o=!(d=e.sent).done)){e.next=16;break}d.value;case 13:o=!1,e.next=8;break;case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(6),a=!0,s=e.t0;case 22:if(e.prev=22,e.prev=23,!o||null==l.return){e.next=27;break}return e.next=27,l.return();case 27:if(e.prev=27,!a){e.next=30;break}throw s;case 30:return e.finish(27);case 31:return e.finish(22);case 32:case"end":return e.stop()}}),e,this,[[6,18,22,32],[23,,27,31]])}))),z.apply(this,arguments)}function K(e,t){if("function"!==typeof e)throw new y("fn",["Function","AsyncFunction"],e);function n(){return n=c(u().mark((function t(n,r){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e(n,r);case 2:if(!t.sent){t.next=4;break}return t.abrupt("return",n);case 4:return t.abrupt("return",j);case 5:case"end":return t.stop()}}),t)}))),n.apply(this,arguments)}return N.call(this,(function(e,t){return n.apply(this,arguments)}),t)}var V=function(e){a(n,e);var t=s(n);function n(){var e;return o(this,n),(e=t.call(this,"reduce")).message="Reduce of an empty stream requires an initial value",e}return i(n)}(m);function W(){return W=c(u().mark((function e(t,n,i){var o,a,s,c,l,d,h,v,g,m,w,b,S,P,A=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("function"===typeof t){e.next=2;break}throw new y("reducer",["Function","AsyncFunction"],t);case 2:if(null!=i&&k(i,"options"),null!=(null===i||void 0===i?void 0:i.signal)&&x(i.signal,"options.signal"),a=A.length>1,null===i||void 0===i||null===(o=i.signal)||void 0===o||!o.aborted){e.next=11;break}return s=new _(void 0,{cause:i.signal.reason}),this.once("error",(function(){})),e.next=10,C(this.destroy(s));case 10:throw s;case 11:c=new p,l=c.signal,null!==i&&void 0!==i&&i.signal&&(d=r({once:!0},E,this),i.signal.addEventListener("abort",(function(){return c.abort()}),d)),h=!1,e.prev=15,v=!1,g=!1,e.prev=18,w=f(this);case 20:return e.next=22,w.next();case 22:if(!(v=!(b=e.sent).done)){e.next=38;break}if(S=b.value,h=!0,null===i||void 0===i||null===(P=i.signal)||void 0===P||!P.aborted){e.next=27;break}throw new _;case 27:if(a){e.next=32;break}n=S,a=!0,e.next=35;break;case 32:return e.next=34,t(n,S,{signal:l});case 34:n=e.sent;case 35:v=!1,e.next=20;break;case 38:e.next=44;break;case 40:e.prev=40,e.t0=e.catch(18),g=!0,m=e.t0;case 44:if(e.prev=44,e.prev=45,!v||null==w.return){e.next=49;break}return e.next=49,w.return();case 49:if(e.prev=49,!g){e.next=52;break}throw m;case 52:return e.finish(49);case 53:return e.finish(44);case 54:if(h||a){e.next=56;break}throw new V;case 56:return e.prev=56,c.abort(),e.finish(56);case 59:return e.abrupt("return",n);case 60:case"end":return e.stop()}}),e,this,[[15,,56,59],[18,40,44,54],[45,,49,53]])}))),W.apply(this,arguments)}function q(){return(q=c(u().mark((function e(t){var n,r,i,o,a,s,c,l;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null!=t&&k(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&x(t.signal,"options.signal"),n=[],r=!1,i=!1,e.prev=5,a=f(this);case 7:return e.next=9,a.next();case 9:if(!(r=!(s=e.sent).done)){e.next=17;break}if(c=s.value,null===t||void 0===t||null===(l=t.signal)||void 0===l||!l.aborted){e.next=13;break}throw new _(void 0,{cause:t.signal.reason});case 13:A(n,c);case 14:r=!1,e.next=7;break;case 17:e.next=23;break;case 19:e.prev=19,e.t0=e.catch(5),i=!0,o=e.t0;case 23:if(e.prev=23,e.prev=24,!r||null==a.return){e.next=28;break}return e.next=28,a.return();case 28:if(e.prev=28,!i){e.next=31;break}throw o;case 31:return e.finish(28);case 32:return e.finish(23);case 33:return e.abrupt("return",n);case 34:case"end":return e.stop()}}),e,this,[[5,19,23,33],[24,,28,32]])})))).apply(this,arguments)}function G(e){if(e=O(e),I(e))return 0;if(e<0)throw new w("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&k(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&x(e.signal,"options.signal"),function(){var t=h(u().mark((function t(){var n,r,i,o,a,s,c,l;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=0,r=!1,i=!1,t.prev=3,a=f(this);case 5:return t.next=7,d(a.next());case 7:if(!(r=!(s=t.sent).done)){t.next=16;break}if(c=s.value,null===e||void 0===e||null===(l=e.signal)||void 0===l||!l.aborted){t.next=11;break}throw new _({cause:e.signal.reason});case 11:return t.next=13,[n++,c];case 13:r=!1,t.next=5;break;case 16:t.next=22;break;case 18:t.prev=18,t.t0=t.catch(3),i=!0,o=t.t0;case 22:if(t.prev=22,t.prev=23,!r||null==a.return){t.next=27;break}return t.next=27,d(a.return());case 27:if(t.prev=27,!i){t.next=30;break}throw o;case 30:return t.finish(27);case 31:return t.finish(22);case 32:case"end":return t.stop()}}),t,this,[[3,18,22,32],[23,,27,31]])})));return function(){return t.apply(this,arguments)}}().call(this)},drop:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&k(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&x(t.signal,"options.signal"),e=G(e),function(){var n=h(u().mark((function n(){var r,i,o,a,s,c,l,h;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===t||void 0===t||null===(r=t.signal)||void 0===r||!r.aborted){n.next=2;break}throw new _;case 2:i=!1,o=!1,n.prev=4,s=f(this);case 6:return n.next=8,d(s.next());case 8:if(!(i=!(c=n.sent).done)){n.next=18;break}if(l=c.value,null===t||void 0===t||null===(h=t.signal)||void 0===h||!h.aborted){n.next=12;break}throw new _;case 12:if(!(e--<=0)){n.next=15;break}return n.next=15,l;case 15:i=!1,n.next=6;break;case 18:n.next=24;break;case 20:n.prev=20,n.t0=n.catch(4),o=!0,a=n.t0;case 24:if(n.prev=24,n.prev=25,!i||null==s.return){n.next=29;break}return n.next=29,d(s.return());case 29:if(n.prev=29,!o){n.next=32;break}throw a;case 32:return n.finish(29);case 33:return n.finish(24);case 34:case"end":return n.stop()}}),n,this,[[4,20,24,34],[25,,29,33]])})));return function(){return n.apply(this,arguments)}}().call(this)},filter:K,flatMap:function(e,t){var n=N.call(this,e,t);return function(){var e=h(u().mark((function e(){var t,r,i,o,a,s;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=!1,r=!1,e.prev=2,o=f(n);case 4:return e.next=6,d(o.next());case 6:if(!(t=!(a=e.sent).done)){e.next=12;break}return s=a.value,e.delegateYield(l(f(s),d),"t0",9);case 9:t=!1,e.next=4;break;case 12:e.next=18;break;case 14:e.prev=14,e.t1=e.catch(2),r=!0,i=e.t1;case 18:if(e.prev=18,e.prev=19,!t||null==o.return){e.next=23;break}return e.next=23,d(o.return());case 23:if(e.prev=23,!r){e.next=26;break}throw i;case 26:return e.finish(23);case 27:return e.finish(18);case 28:case"end":return e.stop()}}),e,null,[[2,14,18,28],[19,,23,27]])})));return function(){return e.apply(this,arguments)}}().call(this)},map:N,take:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&k(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&x(t.signal,"options.signal"),e=G(e),function(){var n=h(u().mark((function n(){var r,i,o,a,s,c,l,h;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(null===t||void 0===t||null===(r=t.signal)||void 0===r||!r.aborted){n.next=2;break}throw new _;case 2:i=!1,o=!1,n.prev=4,s=f(this);case 6:return n.next=8,d(s.next());case 8:if(!(i=!(c=n.sent).done)){n.next=21;break}if(l=c.value,null===t||void 0===t||null===(h=t.signal)||void 0===h||!h.aborted){n.next=12;break}throw new _;case 12:if(!(e-- >0)){n.next=17;break}return n.next=15,l;case 15:n.next=18;break;case 17:return n.abrupt("return");case 18:i=!1,n.next=6;break;case 21:n.next=27;break;case 23:n.prev=23,n.t0=n.catch(4),o=!0,a=n.t0;case 27:if(n.prev=27,n.prev=28,!i||null==s.return){n.next=32;break}return n.next=32,d(s.return());case 32:if(n.prev=32,!o){n.next=35;break}throw a;case 35:return n.finish(32);case 36:return n.finish(27);case 37:case"end":return n.stop()}}),n,this,[[4,23,27,37],[28,,32,36]])})));return function(){return n.apply(this,arguments)}}().call(this)}},e.exports.promiseReturningOperators={every:function(e){return B.apply(this,arguments)},forEach:function(e,t){return z.apply(this,arguments)},reduce:function(e,t,n){return W.apply(this,arguments)},toArray:function(e){return q.apply(this,arguments)},some:U,find:function(e,t){return H.apply(this,arguments)}}},7113:function(e,t,n){"use strict";var r=n(4924).ObjectSetPrototypeOf;e.exports=o;var i=n(8247);function o(e){if(!(this instanceof o))return new o(e);i.call(this,e)}r(o.prototype,i.prototype),r(o,i),o.prototype._transform=function(e,t,n){n(null,e)}},4541:function(e,t,n){var r,i,o=n(7156).default,a=n(7061).default,s=n(8186).default,u=n(6737).default,c=n(8131).default,l=n(8237).default,f=n(1426),d=n(4924),h=d.ArrayIsArray,p=d.Promise,v=d.SymbolAsyncIterator,g=n(5762),y=n(1057).once,m=n(2644),w=n(1757),_=n(8320),b=_.aggregateTwoErrors,x=_.codes,S=x.ERR_INVALID_ARG_TYPE,k=x.ERR_INVALID_RETURN_VALUE,E=x.ERR_MISSING_ARGS,C=x.ERR_STREAM_DESTROYED,P=x.ERR_STREAM_PREMATURE_CLOSE,A=_.AbortError,T=n(7233),O=T.validateFunction,I=T.validateAbortSignal,R=n(9421),L=R.isIterable,F=R.isReadable,M=R.isReadableNodeStream,j=R.isNodeStream,D=globalThis.AbortController||n(5935).AbortController;function N(e,t,n){var r=!1;return e.on("close",(function(){r=!0})),{destroy:function(t){r||(r=!0,m.destroyer(e,t||new C("pipe")))},cleanup:g(e,{readable:t,writable:n},(function(e){r=!e}))}}function U(e){return O(e[e.length-1],"streams[stream.length - 1]"),e.pop()}function Z(e){if(L(e))return e;if(M(e))return function(e){return B.apply(this,arguments)}(e);throw new S("val",["Readable","Iterable","AsyncIterable"],e)}function B(){return(B=s(a().mark((function e(t){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i||(i=n(605)),e.delegateYield(c(l(i.prototype[v].call(t)),u),"t0",2);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(e,t,n,r){return z.apply(this,arguments)}function z(){return(z=o(a().mark((function e(t,n,r,i){var o,s,u,c,f,d,h,v,y,m,w,_;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=i.end,u=null,c=function(e){if(e&&(s=e),u){var t=u;u=null,t()}},f=function(){return new p((function(e,t){s?t(s):u=function(){s?t(s):e()}}))},n.on("drain",c),d=g(n,{readable:!1},c),e.prev=6,!n.writableNeedDrain){e.next=10;break}return e.next=10,f();case 10:h=!1,v=!1,e.prev=12,m=l(t);case 14:return e.next=16,m.next();case 16:if(!(h=!(w=e.sent).done)){e.next=24;break}if(_=w.value,n.write(_)){e.next=21;break}return e.next=21,f();case 21:h=!1,e.next=14;break;case 24:e.next=30;break;case 26:e.prev=26,e.t0=e.catch(12),v=!0,y=e.t0;case 30:if(e.prev=30,e.prev=31,!h||null==m.return){e.next=35;break}return e.next=35,m.return();case 35:if(e.prev=35,!v){e.next=38;break}throw y;case 38:return e.finish(35);case 39:return e.finish(30);case 40:return o&&n.end(),e.next=43,f();case 43:r(),e.next=49;break;case 46:e.prev=46,e.t1=e.catch(6),r(s!==e.t1?b(s,e.t1):e.t1);case 49:return e.prev=49,d(),n.off("drain",c),e.finish(49);case 53:case"end":return e.stop()}}),e,null,[[6,46,49,53],[12,26,30,40],[31,,35,39]])})))).apply(this,arguments)}function K(e,t,i){if(1===e.length&&h(e[0])&&(e=e[0]),e.length<2)throw new E("streams");var o,a,s=new D,u=s.signal,c=null===i||void 0===i?void 0:i.signal,l=[];function d(){_(new A)}I(c,"options.signal"),null===c||void 0===c||c.addEventListener("abort",d);var p,v=[],y=0;function m(e){_(e,0===--y)}function _(e,n){if(!e||o&&"ERR_STREAM_PREMATURE_CLOSE"!==o.code||(o=e),o||n){for(;v.length;)v.shift()(o);null===c||void 0===c||c.removeEventListener("abort",d),s.abort(),n&&(o||l.forEach((function(e){return e()})),f.nextTick(t,o,a))}}for(var b=function(){var t=e[x],o=x<e.length-1,s=x>0,c=o||!1!==(null===i||void 0===i?void 0:i.end),d=x===e.length-1;if(j(t)){var h=function(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&m(e)};if(c){var _=N(t,o,s),b=_.destroy,E=_.cleanup;v.push(b),F(t)&&d&&l.push(E)}t.on("error",h),F(t)&&d&&l.push((function(){t.removeListener("error",h)}))}if(0===x)if("function"===typeof t){if(p=t({signal:u}),!L(p))throw new k("Iterable, AsyncIterable or Stream","source",p)}else p=L(t)||M(t)?t:w.from(t);else if("function"===typeof t)if(p=Z(p),p=t(p,{signal:u}),o){if(!L(p,!0))throw new k("AsyncIterable","transform[".concat(x-1,"]"),p)}else{r||(r=n(7113));var A=new r({objectMode:!0}),T=null===(C=p)||void 0===C?void 0:C.then;if("function"===typeof T)y++,T.call(p,(function(e){a=e,null!=e&&A.write(e),c&&A.end(),f.nextTick(m)}),(function(e){A.destroy(e),f.nextTick(m,e)}));else{if(!L(p,!0))throw new k("AsyncIterable or Promise","destination",p);y++,H(p,A,m,{end:c})}var O=N(p=A,!1,!0),I=O.destroy,R=O.cleanup;v.push(I),d&&l.push(R)}else if(j(t)){if(M(p)){y+=2;var D=function(e,t,n,r){var i=r.end,o=!1;t.on("close",(function(){o||n(new P)})),e.pipe(t,{end:i}),i?e.once("end",(function(){o=!0,t.end()})):n();return g(e,{readable:!0,writable:!1},(function(t){var r=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&r&&r.ended&&!r.errored&&!r.errorEmitted?e.once("end",n).once("error",n):n(t)})),g(t,{readable:!1,writable:!0},n)}(p,t,m,{end:c});F(t)&&d&&l.push(D)}else{if(!L(p))throw new S("val",["Readable","Iterable","AsyncIterable"],p);y++,H(p,t,m,{end:c})}p=t}else p=w.from(t)},x=0;x<e.length;x++){var C;b()}return(null!==u&&void 0!==u&&u.aborted||null!==c&&void 0!==c&&c.aborted)&&f.nextTick(d),p}e.exports={pipelineImpl:K,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return K(t,y(U(t)))}}},605:function(e,t,n){var r=n(2122).default,i=n(7061).default,o=n(4704).default,a=n(6737).default,s=n(8186).default,u=n(1426),c=n(4924),l=c.ArrayPrototypeIndexOf,f=c.NumberIsInteger,d=c.NumberIsNaN,h=c.NumberParseInt,p=c.ObjectDefineProperties,v=c.ObjectKeys,g=c.ObjectSetPrototypeOf,y=c.Promise,m=c.SafeSet,w=c.SymbolAsyncIterator,_=c.Symbol;e.exports=J,J.ReadableState=G;var b=n(7465).EventEmitter,x=n(7371),S=x.Stream,k=x.prependListener,E=n(9778).Buffer,C=n(8649).addAbortSignal,P=n(5762),A=n(1057).debuglog("stream",(function(e){A=e})),T=n(5566),O=n(2644),I=n(5730),R=I.getHighWaterMark,L=I.getDefaultHighWaterMark,F=n(8320),M=F.aggregateTwoErrors,j=F.codes,D=j.ERR_INVALID_ARG_TYPE,N=j.ERR_METHOD_NOT_IMPLEMENTED,U=j.ERR_OUT_OF_RANGE,Z=j.ERR_STREAM_PUSH_AFTER_EOF,B=j.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,H=n(7233).validateObject,z=_("kPaused"),K=n(5948).StringDecoder,V=n(2020);g(J.prototype,S.prototype),g(J,S);var W=function(){},q=O.errorOrDestroy;function G(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(1757)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.readableObjectMode)),this.highWaterMark=e?R(this,e,"readableHighWaterMark",r):L(!1),this.buffer=new T,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[z]=null,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new K(e.encoding),this.encoding=e.encoding)}function J(e){var t=this;if(!(this instanceof J))return new J(e);var r=this instanceof n(1757);this._readableState=new G(e,this,r),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!r&&C(e.signal,this)),S.call(this,e),O.construct(this,(function(){t._readableState.needReadable&&ne(t,t._readableState)}))}function Q(e,t,n,r){A("readableAddChunk",t);var i,o=e._readableState;if(o.objectMode||("string"===typeof t?(n=n||o.defaultEncoding,o.encoding!==n&&(r&&o.encoding?t=E.from(t,n).toString(o.encoding):(t=E.from(t,n),n=""))):t instanceof E?n="":S._isUint8Array(t)?(t=S._uint8ArrayToBuffer(t),n=""):null!=t&&(i=new D("chunk",["string","Buffer","Uint8Array"],t))),i)q(e,i);else if(null===t)o.reading=!1,function(e,t){if(A("onEofChunk"),t.ended)return;if(t.decoder){var n=t.decoder.end();n&&n.length&&(t.buffer.push(n),t.length+=t.objectMode?1:n.length)}t.ended=!0,t.sync?ee(e):(t.needReadable=!1,t.emittedReadable=!0,te(e))}(e,o);else if(o.objectMode||t&&t.length>0)if(r)if(o.endEmitted)q(e,new B);else{if(o.destroyed||o.errored)return!1;Y(e,o,t,!0)}else if(o.ended)q(e,new Z);else{if(o.destroyed||o.errored)return!1;o.reading=!1,o.decoder&&!n?(t=o.decoder.write(t),o.objectMode||0!==t.length?Y(e,o,t,!1):ne(e,o)):Y(e,o,t,!1)}else r||(o.reading=!1,ne(e,o));return!o.ended&&(o.length<o.highWaterMark||0===o.length)}function Y(e,t,n,r){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",n)):(t.length+=t.objectMode?1:n.length,r?t.buffer.unshift(n):t.buffer.push(n),t.needReadable&&ee(e)),ne(e,t)}J.prototype.destroy=O.destroy,J.prototype._undestroy=O.undestroy,J.prototype._destroy=function(e,t){t(e)},J.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},J.prototype.push=function(e,t){return Q(this,e,t,!1)},J.prototype.unshift=function(e,t){return Q(this,e,t,!0)},J.prototype.isPaused=function(){var e=this._readableState;return!0===e[z]||!1===e.flowing},J.prototype.setEncoding=function(e){var t=new K(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;var n,r=this._readableState.buffer,i="",a=o(r);try{for(a.s();!(n=a.n()).done;){var s=n.value;i+=t.write(s)}}catch(u){a.e(u)}finally{a.f()}return r.clear(),""!==i&&r.push(i),this._readableState.length=i.length,this};var X;function $(e,t){return e<=0||0===t.length&&t.ended?0:t.objectMode?1:d(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function ee(e){var t=e._readableState;A("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(A("emitReadable",t.flowing),t.emittedReadable=!0,u.nextTick(te,e))}function te(e){var t=e._readableState;A("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,se(e)}function ne(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,u.nextTick(re,e,t))}function re(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){var n=t.length;if(A("maybeReadMore read 0"),e.read(0),n===t.length)break}t.readingMore=!1}function ie(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[z]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function oe(e){A("readable nexttick read 0"),e.read(0)}function ae(e,t){A("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),se(e),t.flowing&&!t.reading&&e.read(0)}function se(e){var t=e._readableState;for(A("flow",t.flowing);t.flowing&&null!==e.read(););}function ue(e,t){"function"!==typeof e.read&&(e=J.wrap(e,{objectMode:!0}));var n=function(e,t){return ce.apply(this,arguments)}(e,t);return n.stream=e,n}function ce(){return(ce=s(i().mark((function e(t,n){var r,o,s,u,c;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=function(e){this===t?(r(),r=W):r=e},r=W,t.on("readable",o),u=P(t,{writable:!1},(function(e){s=e?M(s,e):null,r(),r=W})),e.prev=4;case 5:if(null===(c=t.destroyed?null:t.read())){e.next=12;break}return e.next=10,c;case 10:e.next=22;break;case 12:if(!s){e.next=16;break}throw s;case 16:if(null!==s){e.next=20;break}return e.abrupt("return");case 20:return e.next=22,a(new y(o));case 22:e.next=5;break;case 24:e.next=30;break;case 26:throw e.prev=26,e.t0=e.catch(4),s=M(s,e.t0);case 30:return e.prev=30,!s&&!1===(null===n||void 0===n?void 0:n.destroyOnReturn)||void 0!==s&&!t._readableState.autoDestroy?(t.off("readable",o),u()):O.destroyer(t,null),e.finish(30);case 33:case"end":return e.stop()}}),e,null,[[4,26,30,33]])})))).apply(this,arguments)}function le(e,t){return 0===t.length?null:(t.objectMode?n=t.buffer.shift():!e||e>=t.length?(n=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):n=t.buffer.consume(e,t.decoder),n);var n}function fe(e){var t=e._readableState;A("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,u.nextTick(de,t,e))}function de(e,t){if(A("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)u.nextTick(he,t);else if(e.autoDestroy){var n=t._writableState;(!n||n.autoDestroy&&(n.finished||!1===n.writable))&&t.destroy()}}function he(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}function pe(){return void 0===X&&(X={}),X}J.prototype.read=function(e){A("read",e),void 0===e?e=NaN:f(e)||(e=h(e,10));var t=this._readableState,n=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new U("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.emittedReadable=!1),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return A("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?fe(this):ee(this),null;if(0===(e=$(e,t))&&t.ended)return 0===t.length&&fe(this),null;var r,i=t.needReadable;if(A("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&A("length less than watermark",i=!0),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)A("reading, ended or constructing",i=!1);else if(i){A("do read"),t.reading=!0,t.sync=!0,0===t.length&&(t.needReadable=!0);try{this._read(t.highWaterMark)}catch(o){q(this,o)}t.sync=!1,t.reading||(e=$(n,t))}return null===(r=e>0?le(e,t):null)?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),n!==e&&t.ended&&fe(this)),null===r||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",r)),r},J.prototype._read=function(e){throw new N("_read()")},J.prototype.pipe=function(e,t){var n=this,r=this._readableState;1===r.pipes.length&&(r.multiAwaitDrain||(r.multiAwaitDrain=!0,r.awaitDrainWriters=new m(r.awaitDrainWriters?[r.awaitDrainWriters]:[]))),r.pipes.push(e),A("pipe count=%d opts=%j",r.pipes.length,t);var i,o=(!t||!1!==t.end)&&e!==u.stdout&&e!==u.stderr?s:v;function a(t,o){A("onunpipe"),t===n&&o&&!1===o.hasUnpiped&&(o.hasUnpiped=!0,function(){A("cleanup"),e.removeListener("close",h),e.removeListener("finish",p),i&&e.removeListener("drain",i);e.removeListener("error",d),e.removeListener("unpipe",a),n.removeListener("end",s),n.removeListener("end",v),n.removeListener("data",f),c=!0,i&&r.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&i()}())}function s(){A("onend"),e.end()}r.endEmitted?u.nextTick(o):n.once("end",o),e.on("unpipe",a);var c=!1;function l(){c||(1===r.pipes.length&&r.pipes[0]===e?(A("false write response, pause",0),r.awaitDrainWriters=e,r.multiAwaitDrain=!1):r.pipes.length>1&&r.pipes.includes(e)&&(A("false write response, pause",r.awaitDrainWriters.size),r.awaitDrainWriters.add(e)),n.pause()),i||(i=function(e,t){return function(){var n=e._readableState;n.awaitDrainWriters===t?(A("pipeOnDrain",1),n.awaitDrainWriters=null):n.multiAwaitDrain&&(A("pipeOnDrain",n.awaitDrainWriters.size),n.awaitDrainWriters.delete(t)),n.awaitDrainWriters&&0!==n.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(n,e),e.on("drain",i))}function f(t){A("ondata");var n=e.write(t);A("dest.write",n),!1===n&&l()}function d(t){if(A("onerror",t),v(),e.removeListener("error",d),0===e.listenerCount("error")){var n=e._writableState||e._readableState;n&&!n.errorEmitted?q(e,t):e.emit("error",t)}}function h(){e.removeListener("finish",p),v()}function p(){A("onfinish"),e.removeListener("close",h),v()}function v(){A("unpipe"),n.unpipe(e)}return n.on("data",f),k(e,"error",d),e.once("close",h),e.once("finish",p),e.emit("pipe",n),!0===e.writableNeedDrain?r.flowing&&l():r.flowing||(A("pipe resume"),n.resume()),e},J.prototype.unpipe=function(e){var t=this._readableState;if(0===t.pipes.length)return this;if(!e){var n=t.pipes;t.pipes=[],this.pause();for(var r=0;r<n.length;r++)n[r].emit("unpipe",this,{hasUnpiped:!1});return this}var i=l(t.pipes,e);return-1===i||(t.pipes.splice(i,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},J.prototype.on=function(e,t){var n=S.prototype.on.call(this,e,t),r=this._readableState;return"data"===e?(r.readableListening=this.listenerCount("readable")>0,!1!==r.flowing&&this.resume()):"readable"===e&&(r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.flowing=!1,r.emittedReadable=!1,A("on readable",r.length,r.reading),r.length?ee(this):r.reading||u.nextTick(oe,this))),n},J.prototype.addListener=J.prototype.on,J.prototype.removeListener=function(e,t){var n=S.prototype.removeListener.call(this,e,t);return"readable"===e&&u.nextTick(ie,this),n},J.prototype.off=J.prototype.removeListener,J.prototype.removeAllListeners=function(e){var t=S.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||u.nextTick(ie,this),t},J.prototype.resume=function(){var e=this._readableState;return e.flowing||(A("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,u.nextTick(ae,e,t))}(this,e)),e[z]=!1,this},J.prototype.pause=function(){return A("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(A("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[z]=!0,this},J.prototype.wrap=function(e){var t=this,n=!1;e.on("data",(function(r){!t.push(r)&&e.pause&&(n=!0,e.pause())})),e.on("end",(function(){t.push(null)})),e.on("error",(function(e){q(t,e)})),e.on("close",(function(){t.destroy()})),e.on("destroy",(function(){t.destroy()})),this._read=function(){n&&e.resume&&(n=!1,e.resume())};for(var r=v(e),i=1;i<r.length;i++){var o=r[i];void 0===this[o]&&"function"===typeof e[o]&&(this[o]=e[o].bind(e))}return this},J.prototype[w]=function(){return ue(this)},J.prototype.iterator=function(e){return void 0!==e&&H(e,"options"),ue(this,e)},p(J.prototype,{readable:{__proto__:null,get:function(){var e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set:function(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get:function(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get:function(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get:function(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get:function(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.destroyed},set:function(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get:function(){return!!this._readableState&&this._readableState.endEmitted}}}),p(G.prototype,{pipesCount:{__proto__:null,get:function(){return this.pipes.length}},paused:{__proto__:null,get:function(){return!1!==this[z]},set:function(e){this[z]=!!e}}}),J._fromList=le,J.from=function(e,t){return V(J,e,t)},J.fromWeb=function(e,t){return pe().newStreamReadableFromReadableStream(e,t)},J.toWeb=function(e,t){return pe().newReadableStreamFromStreamReadable(e,t)},J.wrap=function(e,t){var n,i;return new J(r(r({objectMode:null===(n=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===n||n},t),{},{destroy:function(t,n){O.destroyer(e,t),n(t)}})).wrap(e)}},5730:function(e,t,n){"use strict";var r=n(4924),i=r.MathFloor,o=r.NumberIsInteger,a=n(8320).codes.ERR_INVALID_ARG_VALUE;function s(e){return e?16:16384}e.exports={getHighWaterMark:function(e,t,n,r){var u=function(e,t,n){return null!=e.highWaterMark?e.highWaterMark:t?e[n]:null}(t,r,n);if(null!=u){if(!o(u)||u<0){var c=r?"options.".concat(n):"options.highWaterMark";throw new a(c,u)}return i(u)}return s(e.objectMode)},getDefaultHighWaterMark:s}},8247:function(e,t,n){"use strict";var r=n(2122).default,i=n(4924),o=i.ObjectSetPrototypeOf,a=i.Symbol;e.exports=f;var s=n(8320).codes.ERR_METHOD_NOT_IMPLEMENTED,u=n(1757),c=n(5730).getHighWaterMark;o(f.prototype,u.prototype),o(f,u);var l=a("kCallback");function f(e){if(!(this instanceof f))return new f(e);var t=e?c(this,e,"readableHighWaterMark",!0):null;0===t&&(e=r(r({},e),{},{highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0})),u.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function d(e){var t=this;"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((function(n,r){n?e?e(n):t.destroy(n):(null!=r&&t.push(r),t.push(null),e&&e())}))}function h(){this._final!==d&&d.call(this)}f.prototype._final=d,f.prototype._transform=function(e,t,n){throw new s("_transform()")},f.prototype._write=function(e,t,n){var r=this,i=this._readableState,o=this._writableState,a=i.length;this._transform(e,t,(function(e,t){e?n(e):(null!=t&&r.push(t),o.ended||a===i.length||i.length<i.highWaterMark?n():r[l]=n)}))},f.prototype._read=function(){if(this[l]){var e=this[l];this[l]=null,e()}}},9421:function(e,t,n){"use strict";var r=n(4924),i=r.Symbol,o=r.SymbolAsyncIterator,a=r.SymbolIterator,s=i("kDestroyed"),u=i("kIsErrored"),c=i("kIsReadable"),l=i("kIsDisturbed");function f(e){var t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||n&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(t=e._readableState)||void 0===t?void 0:t.readable)||e._writableState&&!e._readableState)}function d(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function h(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function p(e){if(!h(e))return null;var t=e._writableState,n=e._readableState,r=t||n;return!!(e.destroyed||e[s]||null!==r&&void 0!==r&&r.destroyed)}function v(e){if(!d(e))return null;if(!0===e.writableEnded)return!0;var t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function g(e,t){if(!f(e))return null;var n=e._readableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.endEmitted)?null:!!(n.endEmitted||!1===t&&!0===n.ended&&0===n.length))}function y(e){return e&&null!=e[c]?e[c]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!p(e)&&(f(e)&&e.readable&&!g(e))}function m(e){return"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!p(e)&&(d(e)&&e.writable&&!v(e))}function w(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function _(e){return"boolean"===typeof e._sent100&&w(e)}e.exports={kDestroyed:s,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[l])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:l,isErrored:function(e){var t,n,r,i,o,a,s,c,l,f;return!(!e||!(null!==(t=null!==(n=null!==(r=null!==(i=null!==(o=null!==(a=e[u])&&void 0!==a?a:e.readableErrored)&&void 0!==o?o:e.writableErrored)&&void 0!==i?i:null===(s=e._readableState)||void 0===s?void 0:s.errorEmitted)&&void 0!==r?r:null===(c=e._writableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(l=e._readableState)||void 0===l?void 0:l.errored)&&void 0!==t?t:null===(f=e._writableState)||void 0===f?void 0:f.errored))},kIsErrored:u,isReadable:y,kIsReadable:c,isClosed:function(e){if(!h(e))return null;if("boolean"===typeof e.closed)return e.closed;var t=e._writableState,n=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===n||void 0===n?void 0:n.closed)?(null===t||void 0===t?void 0:t.closed)||(null===n||void 0===n?void 0:n.closed):"boolean"===typeof e._closed&&w(e)?e._closed:null},isDestroyed:p,isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return h(e)?!!p(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!y(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!m(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[o]:!1===t?"function"===typeof e[a]:"function"===typeof e[o]||"function"===typeof e[a])},isReadableNodeStream:f,isReadableEnded:function(e){if(!f(e))return null;if(!0===e.readableEnded)return!0;var t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:g,isReadableErrored:function(e){var t,n;return h(e)?e.readableErrored?e.readableErrored:null!==(t=null===(n=e._readableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isNodeStream:h,isWritable:m,isWritableNodeStream:d,isWritableEnded:v,isWritableFinished:function(e,t){if(!d(e))return null;if(!0===e.writableFinished)return!0;var n=e._writableState;return(null===n||void 0===n||!n.errored)&&("boolean"!==typeof(null===n||void 0===n?void 0:n.finished)?null:!!(n.finished||!1===t&&!0===n.ended&&0===n.length))},isWritableErrored:function(e){var t,n;return h(e)?e.writableErrored?e.writableErrored:null!==(t=null===(n=e._writableState)||void 0===n?void 0:n.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:_,willEmitClose:function(e){if(!h(e))return null;var t=e._writableState,n=e._readableState,r=t||n;return!r&&_(e)||!!(r&&r.autoDestroy&&r.emitClose&&!1===r.closed)}}},6415:function(e,t,n){var r=n(1426),i=n(4924),o=i.ArrayPrototypeSlice,a=i.Error,s=i.FunctionPrototypeSymbolHasInstance,u=i.ObjectDefineProperty,c=i.ObjectDefineProperties,l=i.ObjectSetPrototypeOf,f=i.StringPrototypeToLowerCase,d=i.Symbol,h=i.SymbolHasInstance;e.exports=D,D.WritableState=M;var p=n(7465).EventEmitter,v=n(7371).Stream,g=n(9778).Buffer,y=n(2644),m=n(8649).addAbortSignal,w=n(5730),_=w.getHighWaterMark,b=w.getDefaultHighWaterMark,x=n(8320).codes,S=x.ERR_INVALID_ARG_TYPE,k=x.ERR_METHOD_NOT_IMPLEMENTED,E=x.ERR_MULTIPLE_CALLBACK,C=x.ERR_STREAM_CANNOT_PIPE,P=x.ERR_STREAM_DESTROYED,A=x.ERR_STREAM_ALREADY_FINISHED,T=x.ERR_STREAM_NULL_VALUES,O=x.ERR_STREAM_WRITE_AFTER_END,I=x.ERR_UNKNOWN_ENCODING,R=y.errorOrDestroy;function L(){}l(D.prototype,v.prototype),l(D,v);var F=d("kOnFinished");function M(e,t,r){"boolean"!==typeof r&&(r=t instanceof n(1757)),this.objectMode=!(!e||!e.objectMode),r&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?_(this,e,"writableHighWaterMark",r):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=B.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,j(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[F]=[]}function j(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function D(e){var t=this,r=this instanceof n(1757);if(!r&&!s(D,this))return new D(e);this._writableState=new M(e,this,r),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),v.call(this,e),y.construct(this,(function(){var e=t._writableState;e.writing||V(t,e),G(t,e)}))}function N(e,t,n,i){var o,a=e._writableState;if("function"===typeof n)i=n,n=a.defaultEncoding;else{if(n){if("buffer"!==n&&!g.isEncoding(n))throw new I(n)}else n=a.defaultEncoding;"function"!==typeof i&&(i=L)}if(null===t)throw new T;if(!a.objectMode)if("string"===typeof t)!1!==a.decodeStrings&&(t=g.from(t,n),n="buffer");else if(t instanceof g)n="buffer";else{if(!v._isUint8Array(t))throw new S("chunk",["string","Buffer","Uint8Array"],t);t=v._uint8ArrayToBuffer(t),n="buffer"}return a.ending?o=new O:a.destroyed&&(o=new P("write")),o?(r.nextTick(i,o),R(e,o,!0),o):(a.pendingcb++,function(e,t,n,r,i){var o=t.objectMode?1:n.length;t.length+=o;var a=t.length<t.highWaterMark;a||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:n,encoding:r,callback:i}),t.allBuffers&&"buffer"!==r&&(t.allBuffers=!1),t.allNoop&&i!==L&&(t.allNoop=!1)):(t.writelen=o,t.writecb=i,t.writing=!0,t.sync=!0,e._write(n,r,t.onwrite),t.sync=!1);return a&&!t.errored&&!t.destroyed}(e,a,t,n,i))}function U(e,t,n,r,i,o,a){t.writelen=r,t.writecb=a,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new P("write")):n?e._writev(i,t.onwrite):e._write(i,o,t.onwrite),t.sync=!1}function Z(e,t,n,r){--t.pendingcb,r(n),K(t),R(e,n)}function B(e,t){var n=e._writableState,i=n.sync,o=n.writecb;"function"===typeof o?(n.writing=!1,n.writecb=null,n.length-=n.writelen,n.writelen=0,t?(t.stack,n.errored||(n.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?r.nextTick(Z,e,n,t,o):Z(e,n,t,o)):(n.buffered.length>n.bufferedIndex&&V(e,n),i?null!==n.afterWriteTickInfo&&n.afterWriteTickInfo.cb===o?n.afterWriteTickInfo.count++:(n.afterWriteTickInfo={count:1,cb:o,stream:e,state:n},r.nextTick(H,n.afterWriteTickInfo)):z(e,n,1,o))):R(e,new E)}function H(e){var t=e.stream,n=e.state,r=e.count,i=e.cb;return n.afterWriteTickInfo=null,z(t,n,r,i)}function z(e,t,n,r){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));n-- >0;)t.pendingcb--,r();t.destroyed&&K(t),G(e,t)}function K(e){if(!e.writing){for(var t=e.bufferedIndex;t<e.buffered.length;++t){var n,r=e.buffered[t],i=r.chunk,o=r.callback,a=e.objectMode?1:i.length;e.length-=a,o(null!==(n=e.errored)&&void 0!==n?n:new P("write"))}for(var s=e[F].splice(0),u=0;u<s.length;u++){var c;s[u](null!==(c=e.errored)&&void 0!==c?c:new P("end"))}j(e)}}function V(e,t){if(!(t.corked||t.bufferProcessing||t.destroyed)&&t.constructed){var n=t.buffered,r=t.bufferedIndex,i=t.objectMode,a=n.length-r;if(a){var s=r;if(t.bufferProcessing=!0,a>1&&e._writev){t.pendingcb-=a-1;var u=t.allNoop?L:function(e){for(var t=s;t<n.length;++t)n[t].callback(e)},c=t.allNoop&&0===s?n:o(n,s);c.allBuffers=t.allBuffers,U(e,t,!0,t.length,c,"",u),j(t)}else{do{var l=n[s],f=l.chunk,d=l.encoding,h=l.callback;n[s++]=null,U(e,t,!1,i?1:f.length,f,d,h)}while(s<n.length&&!t.writing);s===n.length?j(t):s>256?(n.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}}}function W(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function q(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){var n=!1;function i(i){if(n)R(e,null!==i&&void 0!==i?i:E());else if(n=!0,t.pendingcb--,i){for(var o=t[F].splice(0),a=0;a<o.length;a++)o[a](i);R(e,i,t.sync)}else W(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,r.nextTick(J,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(o){i(o)}t.sync=!1}(e,t)))}function G(e,t,n){W(t)&&(q(e,t),0===t.pendingcb&&(n?(t.pendingcb++,r.nextTick((function(e,t){W(t)?J(e,t):t.pendingcb--}),e,t)):W(t)&&(t.pendingcb++,J(e,t))))}function J(e,t){t.pendingcb--,t.finished=!0;for(var n=t[F].splice(0),r=0;r<n.length;r++)n[r]();if(e.emit("finish"),t.autoDestroy){var i=e._readableState;(!i||i.autoDestroy&&(i.endEmitted||!1===i.readable))&&e.destroy()}}M.prototype.getBuffer=function(){return o(this.buffered,this.bufferedIndex)},u(M.prototype,"bufferedRequestCount",{__proto__:null,get:function(){return this.buffered.length-this.bufferedIndex}}),u(D,h,{__proto__:null,value:function(e){return!!s(this,e)||this===D&&(e&&e._writableState instanceof M)}}),D.prototype.pipe=function(){R(this,new C)},D.prototype.write=function(e,t,n){return!0===N(this,e,t,n)},D.prototype.cork=function(){this._writableState.corked++},D.prototype.uncork=function(){var e=this._writableState;e.corked&&(e.corked--,e.writing||V(this,e))},D.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=f(e)),!g.isEncoding(e))throw new I(e);return this._writableState.defaultEncoding=e,this},D.prototype._write=function(e,t,n){if(!this._writev)throw new k("_write()");this._writev([{chunk:e,encoding:t}],n)},D.prototype._writev=null,D.prototype.end=function(e,t,n){var i,o=this._writableState;if("function"===typeof e?(n=e,e=null,t=null):"function"===typeof t&&(n=t,t=null),null!==e&&void 0!==e){var s=N(this,e,t);s instanceof a&&(i=s)}return o.corked&&(o.corked=1,this.uncork()),i||(o.errored||o.ending?o.finished?i=new A("end"):o.destroyed&&(i=new P("end")):(o.ending=!0,G(this,o,!0),o.ended=!0)),"function"===typeof n&&(i||o.finished?r.nextTick(n,i):o[F].push(n)),this},c(D.prototype,{closed:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.destroyed},set:function(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get:function(){var e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set:function(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get:function(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get:function(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get:function(){var e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get:function(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get:function(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get:function(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get:function(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});var Q,Y=y.destroy;function X(){return void 0===Q&&(Q={}),Q}D.prototype.destroy=function(e,t){var n=this._writableState;return!n.destroyed&&(n.bufferedIndex<n.buffered.length||n[F].length)&&r.nextTick(K,n),Y.call(this,e,t),this},D.prototype._undestroy=y.undestroy,D.prototype._destroy=function(e,t){t(e)},D.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},D.fromWeb=function(e,t){return X().newStreamWritableFromWritableStream(e,t)},D.toWeb=function(e){return X().newWritableStreamFromStreamWritable(e)}},7233:function(e,t,n){"use strict";var r=n(4924),i=r.ArrayIsArray,o=r.ArrayPrototypeIncludes,a=r.ArrayPrototypeJoin,s=r.ArrayPrototypeMap,u=r.NumberIsInteger,c=r.NumberIsNaN,l=r.NumberMAX_SAFE_INTEGER,f=r.NumberMIN_SAFE_INTEGER,d=r.NumberParseInt,h=r.ObjectPrototypeHasOwnProperty,p=r.RegExpPrototypeExec,v=r.String,g=r.StringPrototypeToUpperCase,y=r.StringPrototypeTrim,m=n(8320),w=m.hideStackFrames,_=m.codes,b=_.ERR_SOCKET_BAD_PORT,x=_.ERR_INVALID_ARG_TYPE,S=_.ERR_INVALID_ARG_VALUE,k=_.ERR_OUT_OF_RANGE,E=_.ERR_UNKNOWN_SIGNAL,C=n(1057).normalizeEncoding,P=n(1057).types,A=P.isAsyncFunction,T=P.isArrayBufferView,O={};var I=/^[0-7]+$/;var R=w((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;if("number"!==typeof e)throw new x(t,"number",e);if(!u(e))throw new k(t,"an integer",e);if(e<n||e>r)throw new k(t,">= ".concat(n," && <= ").concat(r),e)})),L=w((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new x(t,"number",e);if(!u(e))throw new k(t,"an integer",e);if(e<n||e>r)throw new k(t,">= ".concat(n," && <= ").concat(r),e)})),F=w((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new x(t,"number",e);if(!u(e))throw new k(t,"an integer",e);var r=n?1:0,i=4294967295;if(e<r||e>i)throw new k(t,">= ".concat(r," && <= ").concat(i),e)}));function M(e,t){if("string"!==typeof e)throw new x(t,"string",e)}var j=w((function(e,t,n){if(!o(n,e)){var r=a(s(n,(function(e){return"string"===typeof e?"'".concat(e,"'"):v(e)})),", ");throw new S(t,e,"must be one of: "+r)}}));function D(e,t,n){return null!=e&&h(e,t)?e[t]:n}var N=w((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=D(n,"allowArray",!1),o=D(n,"allowFunction",!1),a=D(n,"nullable",!1);if(!a&&null===e||!r&&i(e)||"object"!==typeof e&&(!o||"function"!==typeof e))throw new x(t,"Object",e)})),U=w((function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!i(e))throw new x(t,"Array",e);if(e.length<n){var r="must be longer than ".concat(n);throw new S(t,e,r)}}));var Z=w((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!T(e))throw new x(t,["Buffer","TypedArray","DataView"],e)}));var B=w((function(e,t){if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new x(t,"AbortSignal",e)})),H=w((function(e,t){if("function"!==typeof e)throw new x(t,"Function",e)})),z=w((function(e,t){if("function"!==typeof e||A(e))throw new x(t,"Function",e)})),K=w((function(e,t){if(void 0!==e)throw new x(t,"undefined",e)}));e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,n){if("undefined"===typeof e&&(e=n),"string"===typeof e){if(null===p(I,e))throw new S(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return F(e,t),e},validateArray:U,validateBoolean:function(e,t){if("boolean"!==typeof e)throw new x(t,"boolean",e)},validateBuffer:Z,validateEncoding:function(e,t){var n=C(t),r=e.length;if("hex"===n&&r%2!==0)throw new S("encoding",t,"is invalid for data of length ".concat(r))},validateFunction:H,validateInt32:L,validateInteger:R,validateNumber:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new x(t,"number",e);if(null!=n&&e<n||null!=r&&e>r||(null!=n||null!=r)&&c(e))throw new k(t,"".concat(null!=n?">= ".concat(n):"").concat(null!=n&&null!=r?" && ":"").concat(null!=r?"<= ".concat(r):""),e)},validateObject:N,validateOneOf:j,validatePlainFunction:z,validatePort:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!n)throw new b(t,e,n);return 0|e},validateSignalName:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal";if(M(e,t),void 0===O[e]){if(void 0!==O[g(e)])throw new E(e+" (signals must use all capital letters)");throw new E(e)}},validateString:M,validateUint32:F,validateUndefined:K,validateUnion:function(e,t,n){if(!o(n,e))throw new x(t,"('".concat(a(n,"|"),"')"),e)},validateAbortSignal:B}},422:function(e,t,n){"use strict";var r=n(9193),i=n(5110),o=r.Readable.destroy;e.exports=r.Readable,e.exports._uint8ArrayToBuffer=r._uint8ArrayToBuffer,e.exports._isUint8Array=r._isUint8Array,e.exports.isDisturbed=r.isDisturbed,e.exports.isErrored=r.isErrored,e.exports.isReadable=r.isReadable,e.exports.Readable=r.Readable,e.exports.Writable=r.Writable,e.exports.Duplex=r.Duplex,e.exports.Transform=r.Transform,e.exports.PassThrough=r.PassThrough,e.exports.addAbortSignal=r.addAbortSignal,e.exports.finished=r.finished,e.exports.destroy=r.destroy,e.exports.destroy=o,e.exports.pipeline=r.pipeline,e.exports.compose=r.compose,Object.defineProperty(r,"promises",{configurable:!0,enumerable:!0,get:function(){return i}}),e.exports.Stream=r.Stream,e.exports.default=e.exports},8320:function(e,t,n){"use strict";var r=n(4704).default,i=n(3496).default,o=n(6690).default,a=n(9728).default,s=n(1655).default,u=n(6389).default,c=n(861).default,l=n(1057),f=l.format,d=l.inspect,h=l.AggregateError,p=globalThis.AggregateError||h,v=Symbol("kIsNodeError"),g=["string","function","number","object","Function","Object","boolean","bigint","symbol"],y=/^([A-Z][a-z0-9]*)+$/,m={};function w(e,t){if(!e)throw new m.ERR_INTERNAL_ASSERTION(t)}function _(e){for(var t="",n=e.length,r="-"===e[0]?1:0;n>=r+4;n-=3)t="_".concat(e.slice(n-3,n)).concat(t);return"".concat(e.slice(0,n)).concat(t)}function b(e,t,n){if("function"===typeof t)return w(t.length<=n.length,"Code: ".concat(e,"; The provided arguments length (").concat(n.length,") does not match the required ones (").concat(t.length,").")),t.apply(void 0,c(n));var r=(t.match(/%[dfijoOs]/g)||[]).length;return w(r===n.length,"Code: ".concat(e,"; The provided arguments length (").concat(n.length,") does not match the required ones (").concat(r,").")),0===n.length?t:f.apply(void 0,[t].concat(c(n)))}function x(e,t,n){n||(n=Error);var r=function(n){s(i,n);var r=u(i);function i(){o(this,i);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r.call(this,b(e,t,a))}return a(i,[{key:"toString",value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}]),i}(n);Object.defineProperties(r.prototype,{name:{value:n.name,writable:!0,enumerable:!1,configurable:!0},toString:{value:function(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)},writable:!0,enumerable:!1,configurable:!0}}),r.prototype.code=e,r.prototype[v]=!0,m[e]=r}function S(e){var t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}var k=function(e){s(n,e);var t=u(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(o(this,n),void 0!==i&&"object"!==typeof i)throw new m.ERR_INVALID_ARG_TYPE("options","Object",i);return(e=t.call(this,r,i)).code="ABORT_ERR",e.name="AbortError",e}return a(n)}(i(Error));x("ERR_ASSERTION","%s",Error),x("ERR_INVALID_ARG_TYPE",(function(e,t,n){w("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);var i="The ";e.endsWith(" argument")?i+="".concat(e," "):i+='"'.concat(e,'" ').concat(e.includes(".")?"property":"argument"," "),i+="must be ";var o,a=[],s=[],u=[],c=r(t);try{for(c.s();!(o=c.n()).done;){var l=o.value;w("string"===typeof l,"All expected entries have to be of type string"),g.includes(l)?a.push(l.toLowerCase()):y.test(l)?s.push(l):(w("object"!==l,'The value "object" should be written as "Object"'),u.push(l))}}catch(x){c.e(x)}finally{c.f()}if(s.length>0){var f=a.indexOf("object");-1!==f&&(a.splice(a,f,1),s.push("Object"))}if(a.length>0){switch(a.length){case 1:i+="of type ".concat(a[0]);break;case 2:i+="one of type ".concat(a[0]," or ").concat(a[1]);break;default:var h=a.pop();i+="one of type ".concat(a.join(", "),", or ").concat(h)}(s.length>0||u.length>0)&&(i+=" or ")}if(s.length>0){switch(s.length){case 1:i+="an instance of ".concat(s[0]);break;case 2:i+="an instance of ".concat(s[0]," or ").concat(s[1]);break;default:var p=s.pop();i+="an instance of ".concat(s.join(", "),", or ").concat(p)}u.length>0&&(i+=" or ")}switch(u.length){case 0:break;case 1:u[0].toLowerCase()!==u[0]&&(i+="an "),i+="".concat(u[0]);break;case 2:i+="one of ".concat(u[0]," or ").concat(u[1]);break;default:var v=u.pop();i+="one of ".concat(u.join(", "),", or ").concat(v)}if(null==n)i+=". Received ".concat(n);else if("function"===typeof n&&n.name)i+=". Received function ".concat(n.name);else if("object"===typeof n){var m;if(null!==(m=n.constructor)&&void 0!==m&&m.name)i+=". Received an instance of ".concat(n.constructor.name);else{var _=d(n,{depth:-1});i+=". Received ".concat(_)}}else{var b=d(n,{colors:!1});b.length>25&&(b="".concat(b.slice(0,25),"...")),i+=". Received type ".concat(typeof n," (").concat(b,")")}return i}),TypeError),x("ERR_INVALID_ARG_VALUE",(function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",r=d(t);r.length>128&&(r=r.slice(0,128)+"...");var i=e.includes(".")?"property":"argument";return"The ".concat(i," '").concat(e,"' ").concat(n,". Received ").concat(r)}),TypeError),x("ERR_INVALID_RETURN_VALUE",(function(e,t,n){var r,i=null!==n&&void 0!==n&&null!==(r=n.constructor)&&void 0!==r&&r.name?"instance of ".concat(n.constructor.name):"type ".concat(typeof n);return"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")}),TypeError),x("ERR_MISSING_ARGS",(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r;w(t.length>0,"At least one arg needs to be specified");var i=t.length;switch(t=(Array.isArray(t)?t:[t]).map((function(e){return'"'.concat(e,'"')})).join(" or "),i){case 1:r+="The ".concat(t[0]," argument");break;case 2:r+="The ".concat(t[0]," and ").concat(t[1]," arguments");break;default:var o=t.pop();r+="The ".concat(t.join(", "),", and ").concat(o," arguments")}return"".concat(r," must be specified")}),TypeError),x("ERR_OUT_OF_RANGE",(function(e,t,n){var r;return w(t,'Missing "range" argument'),Number.isInteger(n)&&Math.abs(n)>Math.pow(2,32)?r=_(String(n)):"bigint"===typeof n?(r=String(n),(n>Math.pow(2n,32n)||n<-Math.pow(2n,32n))&&(r=_(r)),r+="n"):r=d(n),'The value of "'.concat(e,'" is out of range. It must be ').concat(t,". Received ").concat(r)}),RangeError),x("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),x("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),x("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),x("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),x("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),x("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),x("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),x("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),x("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),x("ERR_STREAM_WRITE_AFTER_END","write after end",Error),x("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:k,aggregateTwoErrors:S((function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;var n=new p([t,e],t.message);return n.code=t.code,n}return e||t})),hideStackFrames:S,codes:m}},4924:function(e){"use strict";e.exports={ArrayIsArray:function(e){return Array.isArray(e)},ArrayPrototypeIncludes:function(e,t){return e.includes(t)},ArrayPrototypeIndexOf:function(e,t){return e.indexOf(t)},ArrayPrototypeJoin:function(e,t){return e.join(t)},ArrayPrototypeMap:function(e,t){return e.map(t)},ArrayPrototypePop:function(e,t){return e.pop(t)},ArrayPrototypePush:function(e,t){return e.push(t)},ArrayPrototypeSlice:function(e,t,n){return e.slice(t,n)},Error:Error,FunctionPrototypeCall:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return e.call.apply(e,[t].concat(r))},FunctionPrototypeSymbolHasInstance:function(e,t){return Function.prototype[Symbol.hasInstance].call(e,t)},MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:function(e,t){return Object.defineProperties(e,t)},ObjectDefineProperty:function(e,t,n){return Object.defineProperty(e,t,n)},ObjectGetOwnPropertyDescriptor:function(e,t){return Object.getOwnPropertyDescriptor(e,t)},ObjectKeys:function(e){return Object.keys(e)},ObjectSetPrototypeOf:function(e,t){return Object.setPrototypeOf(e,t)},Promise:Promise,PromisePrototypeCatch:function(e,t){return e.catch(t)},PromisePrototypeThen:function(e,t,n){return e.then(t,n)},PromiseReject:function(e){return Promise.reject(e)},ReflectApply:Reflect.apply,RegExpPrototypeTest:function(e,t){return e.test(t)},SafeSet:Set,String:String,StringPrototypeSlice:function(e,t,n){return e.slice(t,n)},StringPrototypeToLowerCase:function(e){return e.toLowerCase()},StringPrototypeToUpperCase:function(e){return e.toUpperCase()},StringPrototypeTrim:function(e){return e.trim()},Symbol:Symbol,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet:function(e,t,n){return e.set(t,n)},Uint8Array:Uint8Array}},1057:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,o=n(1655).default,a=n(6389).default,s=n(3496).default,u=n(7061).default,c=n(7156).default,l=n(9778),f=Object.getPrototypeOf(c(u().mark((function e(){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).constructor,d=globalThis.Blob||l.Blob,h="undefined"!==typeof d?function(e){return e instanceof d}:function(e){return!1},p=function(e){o(n,e);var t=a(n);function n(e){var r;if(i(this,n),!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(typeof e));for(var o="",a=0;a<e.length;a++)o+="    ".concat(e[a].stack,"\n");return(r=t.call(this,o)).name="AggregateError",r.errors=e,r}return r(n)}(s(Error));e.exports={AggregateError:p,kEmptyObject:Object.freeze({}),once:function(e){var t=!1;return function(){if(!t){t=!0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r)}}},createDeferredPromise:function(){var e,t;return{promise:new Promise((function(n,r){e=n,t=r})),resolve:e,reject:t}},promisify:function(e){return new Promise((function(t,n){e((function(e){if(e)return n(e);for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.apply(void 0,i)}))}))},debuglog:function(){return function(){}},format:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.replace(/%([sdifj])/g,(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t[0];var i=t[1],o=n.shift();if("f"===i)return o.toFixed(6);if("j"===i)return JSON.stringify(o);if("s"===i&&"object"===typeof o){var a=o.constructor!==Object?o.constructor.name:"";return"".concat(a," {}").trim()}return o.toString()}))},inspect:function(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return'"'.concat(e,'"');if(!e.includes("`")&&!e.includes("${"))return"`".concat(e,"`")}return"'".concat(e,"'");case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return"".concat(String(e),"n");case"boolean":case"undefined":return String(e);case"object":return"{}"}},types:{isAsyncFunction:function(e){return e instanceof f},isArrayBufferView:function(e){return ArrayBuffer.isView(e)}},isBlob:h},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},9193:function(e,t,n){var r=n(4704).default,i=n(9778).Buffer,o=n(4924),a=o.ObjectDefineProperty,s=o.ObjectKeys,u=o.ReflectApply,c=n(1057).promisify.custom,l=n(7359),f=l.streamReturningOperators,d=l.promiseReturningOperators,h=n(8320).codes.ERR_ILLEGAL_CONSTRUCTOR,p=n(1839),v=n(4541).pipeline,g=n(2644).destroyer,y=n(5762),m=n(5110),w=n(9421),_=e.exports=n(7371).Stream;_.isDisturbed=w.isDisturbed,_.isErrored=w.isErrored,_.isReadable=w.isReadable,_.Readable=n(605);var b,x=r(s(f));try{var S=function(){var e=b.value,t=f[e];function n(){if(this instanceof n?this.constructor:void 0)throw h();for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return _.Readable.from(u(t,this,r))}a(n,"name",{__proto__:null,value:t.name}),a(n,"length",{__proto__:null,value:t.length}),a(_.Readable.prototype,e,{__proto__:null,value:n,enumerable:!1,configurable:!0,writable:!0})};for(x.s();!(b=x.n()).done;)S()}catch(A){x.e(A)}finally{x.f()}var k,E=r(s(d));try{var C=function(){var e=k.value,t=d[e];function n(){if(this instanceof n?this.constructor:void 0)throw h();for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return u(t,this,r)}a(n,"name",{__proto__:null,value:t.name}),a(n,"length",{__proto__:null,value:t.length}),a(_.Readable.prototype,e,{__proto__:null,value:n,enumerable:!1,configurable:!0,writable:!0})};for(E.s();!(k=E.n()).done;)C()}catch(A){E.e(A)}finally{E.f()}_.Writable=n(6415),_.Duplex=n(1757),_.Transform=n(8247),_.PassThrough=n(7113),_.pipeline=v;var P=n(8649).addAbortSignal;_.addAbortSignal=P,_.finished=y,_.destroy=g,_.compose=p,a(_,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:function(){return m}}),a(v,c,{__proto__:null,enumerable:!0,get:function(){return m.pipeline}}),a(y,c,{__proto__:null,enumerable:!0,get:function(){return m.finished}}),_.Stream=_,_._isUint8Array=function(e){return e instanceof Uint8Array},_._uint8ArrayToBuffer=function(e){return i.from(e.buffer,e.byteOffset,e.byteLength)}},5110:function(e,t,n){"use strict";var r=n(4924),i=r.ArrayPrototypePop,o=r.Promise,a=n(9421),s=a.isIterable,u=a.isNodeStream,c=n(4541).pipelineImpl,l=n(5762).finished;e.exports={finished:l,pipeline:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new o((function(e,n){var r,o,a=t[t.length-1];if(a&&"object"===typeof a&&!u(a)&&!s(a)){var l=i(t);r=l.signal,o=l.end}c(t,(function(t,r){t?n(t):e(r)}),{signal:r,end:o})}))}}},2543:function(e,t,n){var r=n(9778),i=r.Buffer;function o(e,t){for(var n in e)t[n]=e[n]}function a(e,t,n){return i(e,t,n)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=r:(o(r,t),t.Buffer=a),a.prototype=Object.create(i.prototype),o(i,a),a.from=function(e,t,n){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,n)},a.alloc=function(e,t,n){if("number"!==typeof e)throw new TypeError("Argument must be a number");var r=i(e);return void 0!==t?"string"===typeof n?r.fill(t,n):r.fill(t):r.fill(0),r},a.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},a.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return r.SlowBuffer(e)}},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],c=s+1,l=e[c];if(0>o(u,n))c<i&&0>o(l,u)?(e[r]=l,e[c]=n,r=c):(e[r]=u,e[s]=n,r=s);else{if(!(c<i&&0>o(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var c=[],l=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,m="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(g=!1,_(e),!v)if(null!==r(c))v=!0,L(x);else{var t=r(l);null!==t&&F(b,t.startTime-e)}}function x(e,n){v=!1,g&&(g=!1,m(C),C=-1),p=!0;var o=h;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!T());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var u=!0;else{var f=r(l);null!==f&&F(b,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,k=!1,E=null,C=-1,P=5,A=-1;function T(){return!(t.unstable_now()-A<P)}function O(){if(null!==E){var e=t.unstable_now();A=e;var n=!0;try{n=E(!0,e)}finally{n?S():(k=!1,E=null)}}else k=!1}if("function"===typeof w)S=function(){w(O)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=O,S=function(){R.postMessage(null)}}else S=function(){y(O,0)};function L(e){E=e,k||(k=!0,S())}function F(e,n){C=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,L(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(l,e),null===r(c)&&e===r(l)&&(g?(m(C),C=-1):g=!0,F(b,o-a))):(e.sortIndex=s,n(c,e),v||p||(v=!0,L(x))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},5948:function(e,t,n){"use strict";var r=n(2543).Buffer,i=r.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function o(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(r.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=u,this.end=c,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=l,this.end=f,t=3;break;default:return this.write=d,void(this.end=h)}this.lastNeed=0,this.lastTotal=0,this.lastChar=r.allocUnsafe(t)}function a(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,n=function(e,t,n){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==n?n:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function u(e,t){if((e.length-t)%2===0){var n=e.toString("utf16le",t);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function c(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,n)}return t}function l(e,t){var n=(e.length-t)%3;return 0===n?e.toString("base64",t):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-n))}function f(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function d(e){return e.toString(this.encoding)}function h(e){return e&&e.length?this.write(e):""}t.StringDecoder=o,o.prototype.write=function(e){if(0===e.length)return"";var t,n;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<e.length?t?t+this.text(e,n):this.text(e,n):t||""},o.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},o.prototype.text=function(e,t){var n=function(e,t,n){var r=t.length-1;if(r<n)return 0;var i=a(t[r]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--r<n||-2===i)return 0;if(i=a(t[r]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--r<n||-2===i)return 0;if(i=a(t[r]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=n;var r=e.length-(n-this.lastNeed);return e.copy(this.lastChar,0,r),e.toString("utf8",t,r)},o.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},6369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,c=/^xn--/,l=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function v(e){throw RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function y(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function m(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function w(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function x(e){var t,n,r,i,o,a,c,l,f,d,p,g=[],y=e.length,m=0,_=128,x=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<y;){for(o=m,a=1,c=u;i>=y&&v("invalid-input"),((l=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||l>h((s-m)/a))&&v("overflow"),m+=l*a,!(l<(f=c<=x?1:c>=x+26?26:c-x));c+=u)a>h(s/(d=u-f))&&v("overflow"),a*=d;x=b(m-o,t=g.length+1,0==o),h(m/t)>s-_&&v("overflow"),_+=h(m/t),m%=t,g.splice(m++,0,_)}return w(g)}function S(e){var t,n,r,i,o,a,c,l,f,d,g,y,w,x,S,k=[];for(y=(e=m(e)).length,t=128,n=0,o=72,a=0;a<y;++a)(g=e[a])<128&&k.push(p(g));for(r=i=k.length,i&&k.push("-");r<y;){for(c=s,a=0;a<y;++a)(g=e[a])>=t&&g<c&&(c=g);for(c-t>h((s-n)/(w=r+1))&&v("overflow"),n+=(c-t)*w,t=c,a=0;a<y;++a)if((g=e[a])<t&&++n>s&&v("overflow"),g==t){for(l=n,f=u;!(l<(d=f<=o?1:f>=o+26?26:f-o));f+=u)S=l-d,x=u-d,k.push(p(_(d+S%x,0))),l=h(S/x);k.push(p(_(l,0))),o=b(n,w,r==i),n=0,++r}++n,++t}return k.join("")}a={version:"1.3.2",ucs2:{decode:m,encode:w},decode:x,encode:S,toASCII:function(e){return y(e,(function(e){return l.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return y(e,(function(e){return c.test(e)?x(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){"use strict";var r=n(6369),i=n(9939);function o(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=w,t.resolve=function(e,t){return w(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?w(e,!1,!0).resolveObject(t):t},t.format=function(e){i.isString(e)&&(e=w(e));return e instanceof o?e.format():o.prototype.format.call(e)},t.Url=o;var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(c),f=["%","/","?",";","#"].concat(l),d=["/","?","#"],h=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},m=n(863);function w(e,t,n){if(e&&i.isObject(e)&&e instanceof o)return e;var r=new o;return r.parse(e,t,n),r}o.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var o=e.indexOf("?"),s=-1!==o&&o<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var w=e=c.join(s);if(w=w.trim(),!n&&1===e.split("#").length){var _=u.exec(w);if(_)return this.path=w,this.href=w,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?m.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=a.exec(w);if(b){var x=(b=b[0]).toLowerCase();this.protocol=x,w=w.substr(b.length)}if(n||b||w.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===w.substr(0,2);!S||b&&g[b]||(w=w.substr(2),this.slashes=!0)}if(!g[b]&&(S||b&&!y[b])){for(var k,E,C=-1,P=0;P<d.length;P++){-1!==(A=w.indexOf(d[P]))&&(-1===C||A<C)&&(C=A)}-1!==(E=-1===C?w.lastIndexOf("@"):w.lastIndexOf("@",C))&&(k=w.slice(0,E),w=w.slice(E+1),this.auth=decodeURIComponent(k)),C=-1;for(P=0;P<f.length;P++){var A;-1!==(A=w.indexOf(f[P]))&&(-1===C||A<C)&&(C=A)}-1===C&&(C=w.length),this.host=w.slice(0,C),w=w.slice(C),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var O=this.hostname.split(/\./),I=(P=0,O.length);P<I;P++){var R=O[P];if(R&&!R.match(h)){for(var L="",F=0,M=R.length;F<M;F++)R.charCodeAt(F)>127?L+="x":L+=R[F];if(!L.match(h)){var j=O.slice(0,P),D=O.slice(P+1),N=R.match(p);N&&(j.push(N[1]),D.unshift(N[2])),D.length&&(w="/"+D.join(".")+w),this.hostname=j.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",Z=this.hostname||"";this.host=Z+U,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==w[0]&&(w="/"+w))}if(!v[x])for(P=0,I=l.length;P<I;P++){var B=l[P];if(-1!==w.indexOf(B)){var H=encodeURIComponent(B);H===B&&(H=escape(B)),w=w.split(B).join(H)}}var z=w.indexOf("#");-1!==z&&(this.hash=w.substr(z),w=w.slice(0,z));var K=w.indexOf("?");if(-1!==K?(this.search=w.substr(K),this.query=w.substr(K+1),t&&(this.query=m.parse(this.query)),w=w.slice(0,K)):t&&(this.search="",this.query={}),w&&(this.pathname=w),y[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var V=this.search||"";this.path=U+V}return this.href=this.format(),this},o.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",o=!1,a="";this.host?o=e+this.host:this.hostname&&(o=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(o+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(a=m.stringify(this.query));var s=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||y[t])&&!1!==o?(o="//"+(o||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):o||(o=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+o+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},o.prototype.resolve=function(e){return this.resolveObject(w(e,!1,!0)).format()},o.prototype.resolveObject=function(e){if(i.isString(e)){var t=new o;t.parse(e,!1,!0),e=t}for(var n=new o,r=Object.keys(this),a=0;a<r.length;a++){var s=r[a];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var u=Object.keys(e),c=0;c<u.length;c++){var l=u[c];"protocol"!==l&&(n[l]=e[l])}return y[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!y[e.protocol]){for(var f=Object.keys(e),d=0;d<f.length;d++){var h=f[d];n[h]=e[h]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var v=n.pathname||"",m=n.search||"";n.path=v+m}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var w=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=_||w||n.host&&e.pathname,x=b,S=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!y[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===S[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search)){if(k)n.hostname=n.host=S.shift(),(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift());return n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=S.slice(-1)[0],C=(n.host||e.host||S.length>1)&&("."===E||".."===E)||""===E,P=0,A=S.length;A>=0;A--)"."===(E=S[A])?S.splice(A,1):".."===E?(S.splice(A,1),P++):P&&(S.splice(A,1),P--);if(!b&&!x)for(;P--;P)S.unshift("..");!b||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),C&&"/"!==S.join("/").substr(-1)&&S.push("");var T,O=""===S[0]||S[0]&&"/"===S[0].charAt(0);k&&(n.hostname=n.host=O?"":S.length?S.shift():"",(T=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=T.shift(),n.host=n.hostname=T.shift()));return(b=b||n.host&&S.length)&&!O&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},o.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},9939:function(e){"use strict";e.exports={isString:function(e){return"string"===typeof e},isObject:function(e){return"object"===typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},1561:function(e,t,n){"use strict";var r=n(2791);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useState,a=r.useEffect,s=r.useLayoutEffect,u=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(r){return!0}}var l="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=o({inst:{value:n,getSnapshot:t}}),i=r[0].inst,l=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&l({inst:i})}),[e,n,t]),a((function(){return c(i)&&l({inst:i}),e((function(){c(i)&&l({inst:i})}))}),[e]),u(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},7595:function(e,t,n){"use strict";var r=n(2791),i=n(7248);var o="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=i.useSyncExternalStore,s=r.useRef,u=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var d={hasValue:!1,value:null};f.current=d}else d=f.current;f=c((function(){function e(e){if(!u){if(u=!0,a=e,e=r(e),void 0!==i&&d.hasValue){var t=d.value;if(i(t,e))return s=t}return s=e}if(t=s,o(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,u=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var h=a(e,f[0],f[1]);return u((function(){d.hasValue=!0,d.value=h}),[h]),l(h),h}},7248:function(e,t,n){"use strict";e.exports=n(1561)},327:function(e,t,n){"use strict";e.exports=n(7595)},303:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return u.default}});var r=d(n(6378)),i=d(n(9348)),o=d(n(6163)),a=d(n(6349)),s=d(n(4711)),u=d(n(4416)),c=d(n(3704)),l=d(n(4865)),f=d(n(7606));function d(e){return e&&e.__esModule?e:{default:e}}},7103:function(e,t){"use strict";function n(e){return 14+(e+64>>>9<<4)+1}function r(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function i(e,t,n,i,o,a){return r((s=r(r(t,e),r(i,a)))<<(u=o)|s>>>32-u,n);var s,u}function o(e,t,n,r,o,a,s){return i(t&n|~t&r,e,t,o,a,s)}function a(e,t,n,r,o,a,s){return i(t&r|n&~r,e,t,o,a,s)}function s(e,t,n,r,o,a,s){return i(t^n^r,e,t,o,a,s)}function u(e,t,n,r,o,a,s){return i(n^(t|~r),e,t,o,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"===typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var i=0;i<t.length;++i)e[i]=t.charCodeAt(i)}return function(e){for(var t=[],n=32*e.length,r="0123456789abcdef",i=0;i<n;i+=8){var o=e[i>>5]>>>i%32&255,a=parseInt(r.charAt(o>>>4&15)+r.charAt(15&o),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;for(var i=1732584193,c=-271733879,l=-1732584194,f=271733878,d=0;d<e.length;d+=16){var h=i,p=c,v=l,g=f;i=o(i,c,l,f,e[d],7,-680876936),f=o(f,i,c,l,e[d+1],12,-389564586),l=o(l,f,i,c,e[d+2],17,606105819),c=o(c,l,f,i,e[d+3],22,-1044525330),i=o(i,c,l,f,e[d+4],7,-176418897),f=o(f,i,c,l,e[d+5],12,1200080426),l=o(l,f,i,c,e[d+6],17,-1473231341),c=o(c,l,f,i,e[d+7],22,-45705983),i=o(i,c,l,f,e[d+8],7,1770035416),f=o(f,i,c,l,e[d+9],12,-1958414417),l=o(l,f,i,c,e[d+10],17,-42063),c=o(c,l,f,i,e[d+11],22,-1990404162),i=o(i,c,l,f,e[d+12],7,1804603682),f=o(f,i,c,l,e[d+13],12,-40341101),l=o(l,f,i,c,e[d+14],17,-1502002290),i=a(i,c=o(c,l,f,i,e[d+15],22,1236535329),l,f,e[d+1],5,-165796510),f=a(f,i,c,l,e[d+6],9,-1069501632),l=a(l,f,i,c,e[d+11],14,643717713),c=a(c,l,f,i,e[d],20,-373897302),i=a(i,c,l,f,e[d+5],5,-701558691),f=a(f,i,c,l,e[d+10],9,38016083),l=a(l,f,i,c,e[d+15],14,-660478335),c=a(c,l,f,i,e[d+4],20,-405537848),i=a(i,c,l,f,e[d+9],5,568446438),f=a(f,i,c,l,e[d+14],9,-1019803690),l=a(l,f,i,c,e[d+3],14,-187363961),c=a(c,l,f,i,e[d+8],20,1163531501),i=a(i,c,l,f,e[d+13],5,-1444681467),f=a(f,i,c,l,e[d+2],9,-51403784),l=a(l,f,i,c,e[d+7],14,1735328473),i=s(i,c=a(c,l,f,i,e[d+12],20,-1926607734),l,f,e[d+5],4,-378558),f=s(f,i,c,l,e[d+8],11,-2022574463),l=s(l,f,i,c,e[d+11],16,1839030562),c=s(c,l,f,i,e[d+14],23,-35309556),i=s(i,c,l,f,e[d+1],4,-1530992060),f=s(f,i,c,l,e[d+4],11,1272893353),l=s(l,f,i,c,e[d+7],16,-155497632),c=s(c,l,f,i,e[d+10],23,-1094730640),i=s(i,c,l,f,e[d+13],4,681279174),f=s(f,i,c,l,e[d],11,-358537222),l=s(l,f,i,c,e[d+3],16,-722521979),c=s(c,l,f,i,e[d+6],23,76029189),i=s(i,c,l,f,e[d+9],4,-640364487),f=s(f,i,c,l,e[d+12],11,-421815835),l=s(l,f,i,c,e[d+15],16,530742520),i=u(i,c=s(c,l,f,i,e[d+2],23,-995338651),l,f,e[d],6,-198630844),f=u(f,i,c,l,e[d+7],10,1126891415),l=u(l,f,i,c,e[d+14],15,-1416354905),c=u(c,l,f,i,e[d+5],21,-57434055),i=u(i,c,l,f,e[d+12],6,1700485571),f=u(f,i,c,l,e[d+3],10,-1894986606),l=u(l,f,i,c,e[d+10],15,-1051523),c=u(c,l,f,i,e[d+1],21,-2054922799),i=u(i,c,l,f,e[d+8],6,1873313359),f=u(f,i,c,l,e[d+15],10,-30611744),l=u(l,f,i,c,e[d+6],15,-1560198380),c=u(c,l,f,i,e[d+13],21,1309151649),i=u(i,c,l,f,e[d+4],6,-145523070),f=u(f,i,c,l,e[d+11],10,-1120210379),l=u(l,f,i,c,e[d+2],15,718787259),c=u(c,l,f,i,e[d+9],21,-343485551),i=r(i,h),c=r(c,p),l=r(l,v),f=r(f,g)}return[i,c,l,f]}(function(e){if(0===e.length)return[];for(var t=8*e.length,r=new Uint32Array(n(t)),i=0;i<t;i+=8)r[i>>5]|=(255&e[i/8])<<i%32;return r}(e),8*e.length))};t.default=c},8469:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},4711:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},7606:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3704))&&r.__esModule?r:{default:r};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=o},8332:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},6869:function(e,t){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&!(n="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(r)};var r=new Uint8Array(16)},4266:function(e,t){"use strict";function n(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r}}function r(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){var t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){var o=unescape(encodeURIComponent(e));e=[];for(var a=0;a<o.length;++a)e.push(o.charCodeAt(a))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,u=Math.ceil(s/16),c=new Array(u),l=0;l<u;++l){for(var f=new Uint32Array(16),d=0;d<16;++d)f[d]=e[64*l+4*d]<<24|e[64*l+4*d+1]<<16|e[64*l+4*d+2]<<8|e[64*l+4*d+3];c[l]=f}c[u-1][14]=8*(e.length-1)/Math.pow(2,32),c[u-1][14]=Math.floor(c[u-1][14]),c[u-1][15]=8*(e.length-1)&4294967295;for(var h=0;h<u;++h){for(var p=new Uint32Array(80),v=0;v<16;++v)p[v]=c[h][v];for(var g=16;g<80;++g)p[g]=r(p[g-3]^p[g-8]^p[g-14]^p[g-16],1);for(var y=i[0],m=i[1],w=i[2],_=i[3],b=i[4],x=0;x<80;++x){var S=Math.floor(x/20),k=r(y,5)+n(S,m,w,_)+b+t[S]+p[x]>>>0;b=_,_=w,w=r(m,30)>>>0,m=y,y=k}i[0]=i[0]+y>>>0,i[1]=i[1]+m>>>0,i[2]=i[2]+w>>>0,i[3]=i[3]+_>>>0,i[4]=i[4]+b>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},4865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var r,i=(r=n(3704))&&r.__esModule?r:{default:r};for(var o=[],a=0;a<256;++a)o.push((a+256).toString(16).slice(1));function s(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]).toLowerCase()}var u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=s(e,t);if(!(0,i.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=u},6378:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,o,a=(r=n(6869))&&r.__esModule?r:{default:r},s=n(4865);var u=0,c=0;var l=function(e,t,n){var r=t&&n||0,l=t||new Array(16),f=(e=e||{}).node||i,d=void 0!==e.clockseq?e.clockseq:o;if(null==f||null==d){var h=e.random||(e.rng||a.default)();null==f&&(f=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=o=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:c+1,g=p-u+(v-c)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>u)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");u=p,c=v,o=d;var y=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;l[r++]=y>>>24&255,l[r++]=y>>>16&255,l[r++]=y>>>8&255,l[r++]=255&y;var m=p/4294967296*1e4&268435455;l[r++]=m>>>8&255,l[r++]=255&m,l[r++]=m>>>24&15|16,l[r++]=m>>>16&255,l[r++]=d>>>8|128,l[r++]=255&d;for(var w=0;w<6;++w)l[r+w]=f[w];return t||(0,s.unsafeStringify)(l)};t.default=l},9348:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6213)),i=o(n(7103));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v3",48,i.default);t.default=a},6213:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function r(e,r,a,s){var u;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"===typeof r&&(r=(0,o.default)(r)),16!==(null===(u=r)||void 0===u?void 0:u.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+e.length);if(c.set(r),c.set(e,r.length),(c=n(c))[6]=15&c[6]|t,c[8]=63&c[8]|128,a){s=s||0;for(var l=0;l<16;++l)a[s+l]=c[l];return a}return(0,i.unsafeStringify)(c)}try{r.name=e}catch(u){}return r.DNS=a,r.URL=s,r};var r,i=n(4865),o=(r=n(7606))&&r.__esModule?r:{default:r};var a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;var s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},6163:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(8469)),i=a(n(6869)),o=n(4865);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e,t,n){if(r.default.randomUUID&&!t&&!e)return r.default.randomUUID();var a=(e=e||{}).random||(e.rng||i.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=a[s];return t}return(0,o.unsafeStringify)(a)};t.default=s},6349:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n(6213)),i=o(n(4266));function o(e){return e&&e.__esModule?e:{default:e}}var a=(0,r.default)("v5",80,i.default);t.default=a},3704:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(8332))&&r.__esModule?r:{default:r};var o=function(e){return"string"===typeof e&&i.default.test(e)};t.default=o},4416:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(3704))&&r.__esModule?r:{default:r};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},4261:function(e,t,n){"use strict";n.d(t,{Z:function(){return l}});var r,i={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)},o=new Uint8Array(16);function a(){if(!r&&!(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}for(var s=[],u=0;u<256;++u)s.push((u+256).toString(16).slice(1));function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase()}var l=function(e,t,n){if(i.randomUUID&&!t&&!e)return i.randomUUID();var r=(e=e||{}).random||(e.rng||a)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return c(r)}},2391:function(e){"use strict";var t=function(){};e.exports=t},5887:function(e){e.exports=function(){for(var e={},n=0;n<arguments.length;n++){var r=arguments[n];for(var i in r)t.call(r,i)&&(e[i]=r[i])}return e};var t=Object.prototype.hasOwnProperty},4642:function(e,t,n){var r=n(3801);function i(e){var t,n;function i(t,n){try{var a=e[t](n),s=a.value,u=s instanceof r;Promise.resolve(u?s.v:s).then((function(n){if(u){var r="return"===t?"return":"next";if(!s.k||n.done)return i(r,n);n=e[r](n).value}o(a.done?"return":"normal",n)}),(function(e){i("throw",e)}))}catch(c){o("throw",c)}}function o(e,r){switch(e){case"return":t.resolve({value:r,done:!0});break;case"throw":t.reject(r);break;default:t.resolve({value:r,done:!1})}(t=t.next)?i(t.key,t.arg):n=null}this._invoke=function(e,r){return new Promise((function(o,a){var s={key:e,arg:r,resolve:o,reject:a,next:null};n?n=n.next=s:(t=n=s,i(e,r))}))},"function"!=typeof e.return&&(this.return=void 0)}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},3801:function(e){e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},3405:function(e,t,n){var r=n(3897);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},8131:function(e,t,n){var r=n(3801);e.exports=function(e){var t={},n=!1;function i(t,i){return n=!0,i=new Promise((function(n){n(e[t](i))})),{done:!1,value:new r(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):i("return",e)}),t},e.exports.__esModule=!0,e.exports.default=e.exports},8237:function(e){function t(e){function n(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return t=function(e){this.s=e,this.n=e.next},t.prototype={s:null,n:null,next:function(){return n(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):n(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):n(t.apply(this.s,arguments))}},new t(e)}e.exports=function(e){var n,r,i,o=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,i=Symbol.iterator);o--;){if(r&&null!=(n=e[r]))return n.call(e);if(i&&null!=(n=e[i]))return new t(n.call(e));r="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},7156:function(e){function t(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(i,o){var a=e.apply(n,r);function s(e){t(a,i,o,s,u,"next",e)}function u(e){t(a,i,o,s,u,"throw",e)}s(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},6737:function(e,t,n){var r=n(3801);e.exports=function(e){return new r(e,0)},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e,t,n){var r=n(4062);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,r(i.key),i)}}e.exports=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},4704:function(e,t,n){var r=n(6116);e.exports=function(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=r(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e,t,n){var r=n(4062);e.exports=function(e,t,n){return(t=r(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},9498:function(e){e.exports=function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2281:function(e){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},7061:function(e,t,n){var r=n(8698).default;function i(){"use strict";e.exports=i=function(){return t},e.exports.__esModule=!0,e.exports.default=e.exports;var t={},n=Object.prototype,o=n.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},u=s.iterator||"@@iterator",c=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function f(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{f({},"")}catch(I){f=function(e,t,n){return e[t]=n}}function d(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,o=Object.create(i.prototype),s=new A(r||[]);return a(o,"_invoke",{value:k(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=d;var p={};function v(){}function g(){}function y(){}var m={};f(m,u,(function(){return this}));var w=Object.getPrototypeOf,_=w&&w(w(T([])));_&&_!==n&&o.call(_,u)&&(m=_);var b=y.prototype=v.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){f(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,s,u){var c=h(e[i],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==r(f)&&o.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,s,u)}),(function(e){n("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,u)}))}u(c.arg)}var i;a(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}})}function k(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return O()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=E(a,n);if(s){if(s===p)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=h(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===p)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function E(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var i=h(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,p;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function P(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function T(e){if(e){var t=e[u];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(o.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:O}}function O(){return{value:void 0,done:!0}}return g.prototype=y,a(b,"constructor",{value:y,configurable:!0}),a(y,"constructor",{value:g,configurable:!0}),g.displayName=f(y,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,f(e,l,"GeneratorFunction")),e.prototype=Object.create(b),e},t.awrap=function(e){return{__await:e}},x(S.prototype),f(S.prototype,c,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new S(d(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),f(b,l,"Generator"),f(b,u,(function(){return this})),f(b,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=T,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(P),!e)for(var t in this)"t"===t.charAt(0)&&o.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=o.call(i,"catchLoc"),u=o.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,p):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),P(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;P(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},t}e.exports=i,e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},861:function(e,t,n){var r=n(3405),i=n(9498),o=n(6116),a=n(2281);e.exports=function(e){return r(e)||i(e)||o(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},5036:function(e,t,n){var r=n(8698).default;e.exports=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},4062:function(e,t,n){var r=n(8698).default,i=n(5036);e.exports=function(e){var t=i(e,"string");return"symbol"===r(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},8186:function(e,t,n){var r=n(4642);e.exports=function(e){return function(){return new r(e.apply(this,arguments))}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports},907:function(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{Z:function(){return r}})},3878:function(e,t,n){"use strict";function r(e){if(Array.isArray(e))return e}n.d(t,{Z:function(){return r}})},7326:function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,{Z:function(){return r}})},5861:function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,u,"next",e)}function u(e){r(a,i,o,s,u,"throw",e)}s(void 0)}))}}n.d(t,{Z:function(){return i}})},5671:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,{Z:function(){return r}})},3144:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(9142);function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(0,r.Z)(i.key),i)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}},7762:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(181);function i(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=(0,r.Z)(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var i=0,o=function(){};return{s:o,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){u=!0,a=e},f:function(){try{s||null==n.return||n.return()}finally{if(u)throw a}}}}},9388:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(1120),i=n(8814),o=n(2963);function a(e){var t=(0,i.Z)();return function(){var n,i=(0,r.Z)(e);if(t){var a=(0,r.Z)(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return(0,o.Z)(this,n)}}},4942:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9142);function i(e,t,n){return(t=(0,r.Z)(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},1752:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1120);function i(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=(0,r.Z)(e)););return e}function o(){return o="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=i(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},o.apply(this,arguments)}},1120:function(e,t,n){"use strict";function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}n.d(t,{Z:function(){return r}})},136:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(9611);function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&(0,r.Z)(e,t)}},8814:function(e,t,n){"use strict";function r(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n.d(t,{Z:function(){return r}})},9199:function(e,t,n){"use strict";function r(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}n.d(t,{Z:function(){return r}})},5267:function(e,t,n){"use strict";function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(4942);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}},4925:function(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}n.d(t,{Z:function(){return r}})},2963:function(e,t,n){"use strict";n.d(t,{Z:function(){return o}});var r=n(1002),i=n(7326);function o(e,t){if(t&&("object"===(0,r.Z)(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return(0,i.Z)(e)}},4165:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(){i=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(O){l=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new P(r||[]);return o(a,"_invoke",{value:S(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=f;var h={};function p(){}function v(){}function g(){}var y={};l(y,s,(function(){return this}));var m=Object.getPrototypeOf,w=m&&m(m(A([])));w&&w!==t&&n.call(w,s)&&(y=w);var _=g.prototype=p.prototype=Object.create(y);function b(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function x(e,t){function i(o,a,s,u){var c=d(e[o],e,a);if("throw"!==c.type){var l=c.arg,f=l.value;return f&&"object"==(0,r.Z)(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){i("next",e,s,u)}),(function(e){i("throw",e,s,u)})):t.resolve(f).then((function(e){l.value=e,s(l)}),(function(e){return i("throw",e,s,u)}))}u(c.arg)}var a;o(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function S(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return T()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=k(a,n);if(s){if(s===h)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=d(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=d(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function A(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:T}}function T(){return{value:void 0,done:!0}}return v.prototype=g,o(_,"constructor",{value:g,configurable:!0}),o(g,"constructor",{value:v,configurable:!0}),v.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(_),e},e.awrap=function(e){return{__await:e}},b(x.prototype),l(x.prototype,u,(function(){return this})),e.AsyncIterator=x,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new x(f(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(_),l(_,c,"Generator"),l(_,s,(function(){return this})),l(_,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=A,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;C(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}},9611:function(e,t,n){"use strict";function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}n.d(t,{Z:function(){return r}})},9439:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(3878);var i=n(181),o=n(5267);function a(e,t){return(0,r.Z)(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||(0,i.Z)(e,t)||(0,o.Z)()}},3433:function(e,t,n){"use strict";n.d(t,{Z:function(){return a}});var r=n(907);var i=n(9199),o=n(181);function a(e){return function(e){if(Array.isArray(e))return(0,r.Z)(e)}(e)||(0,i.Z)(e)||(0,o.Z)(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},9142:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(1002);function i(e){var t=function(e,t){if("object"!==(0,r.Z)(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==(0,r.Z)(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===(0,r.Z)(t)?t:String(t)}},1002:function(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{Z:function(){return r}})},181:function(e,t,n){"use strict";n.d(t,{Z:function(){return i}});var r=n(907);function i(e,t){if(e){if("string"===typeof e)return(0,r.Z)(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?(0,r.Z)(e,t):void 0}}},8737:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var r=n(1120),i=n(9611);var o=n(8814);function a(e,t,n){return a=(0,o.Z)()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var o=new(Function.bind.apply(e,r));return n&&(0,i.Z)(o,n.prototype),o},a.apply(null,arguments)}function s(e){var t="function"===typeof Map?new Map:void 0;return s=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,o)}function o(){return a(e,arguments,(0,r.Z)(this).constructor)}return o.prototype=Object.create(e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),(0,i.Z)(o,e)},s(e)}},7259:function(e,t,n){"use strict";n.d(t,{d:function(){return i}});var r=n(2791);function i(e,t){var n=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==n.current&&null!=e.attributionControl&&(null!=n.current&&e.attributionControl.removeAttribution(n.current),null!=t&&e.attributionControl.addAttribution(t)),n.current=t}),[e,t])}},1777:function(e,t,n){"use strict";n.d(t,{G5:function(){return c},LE:function(){return u},RA:function(){return s}});var r=n(9439),i=n(2791),o=n(4164),a=n(150);function s(e){function t(t,n){var r=e(t).current,o=r.instance,s=r.context;return(0,i.useImperativeHandle)(n,(function(){return o})),null==t.children?null:i.createElement(a.UO,{value:s},t.children)}return(0,i.forwardRef)(t)}function u(e){function t(t,n){var a=(0,i.useState)(!1),s=(0,r.Z)(a,2),u=s[0],c=s[1],l=e(t,c).current.instance;(0,i.useImperativeHandle)(n,(function(){return l})),(0,i.useEffect)((function(){u&&l.update()}),[l,u,t.children]);var f=l._contentNode;return f?(0,o.createPortal)(t.children,f):null}return(0,i.forwardRef)(t)}function c(e){function t(t,n){var r=e(t).current.instance;return(0,i.useImperativeHandle)(n,(function(){return r})),null}return(0,i.forwardRef)(t)}},150:function(e,t,n){"use strict";n.d(t,{Hb:function(){return a},U1:function(){return u},UO:function(){return c},cV:function(){return o},mE:function(){return l},sj:function(){return s}});var r=n(1413),i=n(2791),o=1;function a(e){return Object.freeze({__version:o,map:e})}function s(e,t){return Object.freeze((0,r.Z)((0,r.Z)({},e),t))}var u=(0,i.createContext)(null),c=u.Provider;function l(){var e=(0,i.useContext)(u);if(null==e)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}},9825:function(e,t,n){"use strict";n.d(t,{y:function(){return o}});var r=n(2791),i=n(150);function o(e){return function(t){var n=(0,i.mE)(),o=e(t,n),a=o.current.instance,s=(0,r.useRef)(t.position),u=t.position;return(0,r.useEffect)((function(){return a.addTo(n.map),function(){a.remove()}}),[n.map,a]),(0,r.useEffect)((function(){null!=u&&u!==s.current&&(a.setPosition(u),s.current=u)}),[a,u]),o}}},7344:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});var r=n(7259),i=n(150),o=n(2840),a=n(9171);function s(e,t){return function(n,s){var u=(0,i.mE)(),c=e((0,a.q)(n,u),u);return(0,r.d)(u.map,n.attribution),(0,o.t)(c.current,n.eventHandlers),t(c.current,u,n,s),c}}},9359:function(e,t,n){"use strict";n.d(t,{I:function(){return o},O:function(){return i}});var r=n(2791);function i(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function o(e,t){return null==t?function(t,n){var i=(0,r.useRef)();return i.current||(i.current=e(t,n)),i}:function(n,i){var o=(0,r.useRef)();o.current||(o.current=e(n,i));var a=(0,r.useRef)(n),s=o.current.instance;return(0,r.useEffect)((function(){a.current!==n&&(t(s,n,a.current),a.current=n)}),[s,n,i]),o}}},2840:function(e,t,n){"use strict";n.d(t,{t:function(){return i}});var r=n(2791);function i(e,t){var n=(0,r.useRef)();(0,r.useEffect)((function(){return null!=t&&e.instance.on(t),n.current=t,function(){null!=n.current&&e.instance.off(n.current),n.current=null}}),[e,t])}},5362:function(e,t,n){"use strict";n.d(t,{Au:function(){return d},Lf:function(){return h},SO:function(){return f},dW:function(){return l},vm:function(){return c}});var r=n(1777),i=n(9825),o=n(9359),a=n(821),s=n(7344),u=n(1097);function c(e){var t=(0,o.I)((function(t,n){return(0,o.O)(e(t),n)})),n=(0,i.y)(t);return(0,r.G5)(n)}function l(e,t){var n=(0,o.I)(e,t),i=(0,a.u)(n);return(0,r.RA)(i)}function f(e,t){var n=(0,o.I)(e),i=(0,s.W)(n,t);return(0,r.LE)(i)}function d(e,t){var n=(0,o.I)(e,t),i=(0,u.n)(n);return(0,r.RA)(i)}function h(e,t){var n=(0,o.I)(e,t),i=(0,a.u)(n);return(0,r.G5)(i)}},287:function(e,t,n){"use strict";function r(e,t,n){var r=t.opacity,i=t.zIndex;null!=r&&r!==n.opacity&&e.setOpacity(r),null!=i&&i!==n.zIndex&&e.setZIndex(i)}n.d(t,{I:function(){return r}})},1366:function(e,t,n){"use strict";n.r(t),n.d(t,{CONTEXT_VERSION:function(){return a.cV},LeafletContext:function(){return a.U1},LeafletProvider:function(){return a.UO},addClassName:function(){return f},createContainerComponent:function(){return o.RA},createControlComponent:function(){return g.vm},createControlHook:function(){return s.y},createDivOverlayComponent:function(){return o.LE},createDivOverlayHook:function(){return u.W},createElementHook:function(){return p.I},createElementObject:function(){return p.O},createLayerComponent:function(){return g.dW},createLayerHook:function(){return m.u},createLeafComponent:function(){return o.G5},createLeafletContext:function(){return a.Hb},createOverlayComponent:function(){return g.SO},createPathComponent:function(){return g.Au},createPathHook:function(){return b.n},createTileLayerComponent:function(){return g.Lf},extendContext:function(){return a.sj},removeClassName:function(){return d},updateCircle:function(){return i},updateClassName:function(){return h},updateGridLayer:function(){return y.I},updateMediaOverlay:function(){return w},useAttribution:function(){return r.d},useEventHandlers:function(){return v.t},useLayerLifecycle:function(){return m.g},useLeafletContext:function(){return a.mE},usePathOptions:function(){return b._},withPane:function(){return _.q}});var r=n(7259);function i(e,t,n){t.center!==n.center&&e.setLatLng(t.center),null!=t.radius&&t.radius!==n.radius&&e.setRadius(t.radius)}var o=n(1777),a=n(150),s=n(9825),u=n(7344),c=n(8559);function l(e){return e.split(" ").filter(Boolean)}function f(e,t){l(t).forEach((function(t){c.DomUtil.addClass(e,t)}))}function d(e,t){l(t).forEach((function(t){c.DomUtil.removeClass(e,t)}))}function h(e,t,n){null!=e&&n!==t&&(null!=t&&t.length>0&&d(e,t),null!=n&&n.length>0&&f(e,n))}var p=n(9359),v=n(2840),g=n(5362),y=n(287),m=n(821);function w(e,t,n){t.bounds instanceof c.LatLngBounds&&t.bounds!==n.bounds&&e.setBounds(t.bounds),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=t.zIndex&&t.zIndex!==n.zIndex&&e.setZIndex(t.zIndex)}var _=n(9171),b=n(1097)},821:function(e,t,n){"use strict";n.d(t,{g:function(){return u},u:function(){return c}});var r=n(2791),i=n(7259),o=n(150),a=n(2840),s=n(9171);function u(e,t){(0,r.useEffect)((function(){var n;return(null!==(n=t.layerContainer)&&void 0!==n?n:t.map).addLayer(e.instance),function(){var n;null===(n=t.layerContainer)||void 0===n||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}}),[t,e])}function c(e){return function(t){var n=(0,o.mE)(),r=e((0,s.q)(t,n),n);return(0,i.d)(n.map,t.attribution),(0,a.t)(r.current,t.eventHandlers),u(r.current,n),r}}},9171:function(e,t,n){"use strict";n.d(t,{q:function(){return i}});var r=n(1413);function i(e,t){var n,i=null!==(n=e.pane)&&void 0!==n?n:t.pane;return i?(0,r.Z)((0,r.Z)({},e),{},{pane:i}):e}},1097:function(e,t,n){"use strict";n.d(t,{_:function(){return u},n:function(){return c}});var r=n(2791),i=n(150),o=n(2840),a=n(821),s=n(9171);function u(e,t){var n=(0,r.useRef)();(0,r.useEffect)((function(){if(t.pathOptions!==n.current){var r,i=null!==(r=t.pathOptions)&&void 0!==r?r:{};e.instance.setStyle(i),n.current=i}}),[e,t])}function c(e){return function(t){var n=(0,i.mE)(),r=e((0,s.q)(t,n),n);return(0,o.t)(r.current,t.eventHandlers),(0,a.g)(r.current,n),u(r.current,t),r}}},1438:function(e,t,n){"use strict";n.r(t),n.d(t,{CompactEncrypt:function(){return Sn},CompactSign:function(){return Pn},EmbeddedJWK:function(){return Un},EncryptJWT:function(){return Ln},FlattenedEncrypt:function(){return Xt},FlattenedSign:function(){return Cn},GeneralEncrypt:function(){return en},GeneralSign:function(){return On},SignJWT:function(){return Rn},UnsecuredJWT:function(){return Xn},base64url:function(){return i},calculateJwkThumbprint:function(){return Mn},calculateJwkThumbprintUri:function(){return Dn},compactDecrypt:function(){return It},compactVerify:function(){return un},createLocalJWKSet:function(){return Vn},createRemoteJWKSet:function(){return Yn},decodeJwt:function(){return nr},decodeProtectedHeader:function(){return tr},errors:function(){return r},exportJWK:function(){return Vt},exportPKCS8:function(){return zt},exportSPKI:function(){return Bt},flattenedDecrypt:function(){return Tt},flattenedVerify:function(){return an},generalDecrypt:function(){return Lt},generalVerify:function(){return ln},generateKeyPair:function(){return ur},generateSecret:function(){return lr},importJWK:function(){return dt},importPKCS8:function(){return lt},importSPKI:function(){return at},importX509:function(){return ut},jwtDecrypt:function(){return bn},jwtVerify:function(){return wn}});var r={};n.r(r),n.d(r,{JOSEAlgNotAllowed:function(){return j},JOSEError:function(){return L},JOSENotSupported:function(){return D},JWEDecryptionFailed:function(){return N},JWEInvalid:function(){return U},JWKInvalid:function(){return H},JWKSInvalid:function(){return z},JWKSMultipleMatchingKeys:function(){return V},JWKSNoMatchingKey:function(){return K},JWKSTimeout:function(){return W},JWSInvalid:function(){return Z},JWSSignatureVerificationFailed:function(){return q},JWTClaimValidationFailed:function(){return F},JWTExpired:function(){return M},JWTInvalid:function(){return B}});var i={};n.r(i),n.d(i,{decode:function(){return er},encode:function(){return $n}});var o=n(4165),a=n(1413),s=n(5861),u=crypto,c=function(e){return e instanceof CryptoKey},l=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="SHA-".concat(t.slice(-3)),e.t0=Uint8Array,e.next=4,u.subtle.digest(r,n);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),f=l,d=new TextEncoder,h=new TextDecoder,p=Math.pow(2,32);function v(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.reduce((function(e,t){return e+t.length}),0),i=new Uint8Array(r),o=0;return t.forEach((function(e){i.set(e,o),o+=e.length})),i}function g(e,t){return v(d.encode(e),new Uint8Array([0]),t)}function y(e,t,n){if(t<0||t>=p)throw new RangeError("value must be >= 0 and <= ".concat(p-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],n)}function m(e){var t=Math.floor(e/p),n=e%p,r=new Uint8Array(8);return y(r,t,0),y(r,n,4),r}function w(e){var t=new Uint8Array(4);return y(t,e),t}function _(e){return v(w(e.length),e)}function b(e,t,n){return x.apply(this,arguments)}function x(){return(x=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Math.ceil((n>>3)/32),a=new Uint8Array(32*i),s=0;case 3:if(!(s<i)){e.next=17;break}return(u=new Uint8Array(4+t.length+r.length)).set(w(s+1)),u.set(t,4),u.set(r,4+t.length),e.t0=a,e.next=11,f("sha256",u);case 11:e.t1=e.sent,e.t2=32*s,e.t0.set.call(e.t0,e.t1,e.t2);case 14:s++,e.next=3;break;case 17:return e.abrupt("return",a.slice(0,n>>3));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var S=function(e){var t=e;"string"===typeof t&&(t=d.encode(t));for(var n=[],r=0;r<t.length;r+=32768)n.push(String.fromCharCode.apply(null,t.subarray(r,r+32768)));return btoa(n.join(""))},k=function(e){return S(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},E=function(e){for(var t=atob(e),n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n},C=function(e){var t=e;t instanceof Uint8Array&&(t=h.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return E(t)}catch(n){throw new TypeError("The input to be decoded is not correctly encoded.")}},P=n(3433),A=n(5671),T=n(3144),O=n(7326),I=n(136),R=n(9388),L=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(e){var r,i;return(0,A.Z)(this,n),(r=t.call(this,e)).code="ERR_JOSE_GENERIC",r.name=r.constructor.name,null===(i=Error.captureStackTrace)||void 0===i||i.call(Error,(0,O.Z)(r),r.constructor),r}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JOSE_GENERIC"}}]),n}((0,n(8737).Z)(Error)),F=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return(0,A.Z)(this,n),(r=t.call(this,e)).code="ERR_JWT_CLAIM_VALIDATION_FAILED",r.claim=i,r.reason=o,r}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWT_CLAIM_VALIDATION_FAILED"}}]),n}(L),M=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unspecified",o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"unspecified";return(0,A.Z)(this,n),(r=t.call(this,e)).code="ERR_JWT_EXPIRED",r.claim=i,r.reason=o,r}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWT_EXPIRED"}}]),n}(L),j=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JOSE_ALG_NOT_ALLOWED",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JOSE_ALG_NOT_ALLOWED"}}]),n}(L),D=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JOSE_NOT_SUPPORTED",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JOSE_NOT_SUPPORTED"}}]),n}(L),N=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWE_DECRYPTION_FAILED",e.message="decryption operation failed",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWE_DECRYPTION_FAILED"}}]),n}(L),U=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWE_INVALID",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWE_INVALID"}}]),n}(L),Z=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWS_INVALID",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWS_INVALID"}}]),n}(L),B=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWT_INVALID",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWT_INVALID"}}]),n}(L),H=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWK_INVALID",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWK_INVALID"}}]),n}(L),z=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWKS_INVALID",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWKS_INVALID"}}]),n}(L),K=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWKS_NO_MATCHING_KEY",e.message="no applicable key found in the JSON Web Key Set",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWKS_NO_MATCHING_KEY"}}]),n}(L),V=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWKS_MULTIPLE_MATCHING_KEYS",e.message="multiple matching keys found in the JSON Web Key Set",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWKS_MULTIPLE_MATCHING_KEYS"}}]),n}(L),W=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWKS_TIMEOUT",e.message="request timed out",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWKS_TIMEOUT"}}]),n}(L),q=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){var e;return(0,A.Z)(this,n),(e=t.apply(this,arguments)).code="ERR_JWS_SIGNATURE_VERIFICATION_FAILED",e.message="signature verification failed",e}return(0,T.Z)(n,null,[{key:"code",get:function(){return"ERR_JWS_SIGNATURE_VERIFICATION_FAILED"}}]),n}(L),G=u.getRandomValues.bind(u);function J(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new D("Unsupported JWE Algorithm: ".concat(e))}}var Q=function(e){return G(new Uint8Array(J(e)>>3))},Y=function(e,t){if(t.length<<3!==J(e))throw new U("Invalid Initialization Vector length")},X=function(e,t){var n=e.byteLength<<3;if(n!==t)throw new U("Invalid Content Encryption Key length. Expected ".concat(t," bits, got ").concat(n," bits"))},$=function(e,t){if(!(e instanceof Uint8Array))throw new TypeError("First argument must be a buffer");if(!(t instanceof Uint8Array))throw new TypeError("Second argument must be a buffer");if(e.length!==t.length)throw new TypeError("Input buffers must have the same length");for(var n=e.length,r=0,i=-1;++i<n;)r|=e[i]^t[i];return 0===r};function ee(){return"undefined"!==typeof WebSocketPair||"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||"undefined"!==typeof EdgeRuntime&&"vercel"===EdgeRuntime}function te(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name";return new TypeError("CryptoKey does not support this operation, its ".concat(t," must be ").concat(e))}function ne(e,t){return e.name===t}function re(e){return parseInt(e.name.slice(4),10)}function ie(e){switch(e){case"ES256":return"P-256";case"ES384":return"P-384";case"ES512":return"P-521";default:throw new Error("unreachable")}}function oe(e,t){if(t.length&&!t.some((function(t){return e.usages.includes(t)}))){var n="CryptoKey does not support this operation, its usages must include ";if(t.length>2){var r=t.pop();n+="one of ".concat(t.join(", "),", or ").concat(r,".")}else 2===t.length?n+="one of ".concat(t[0]," or ").concat(t[1],"."):n+="".concat(t[0],".");throw new TypeError(n)}}function ae(e,t){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":if(!ne(e.algorithm,"AES-GCM"))throw te("AES-GCM");var n=parseInt(t.slice(1,4),10),r=e.algorithm.length;if(r!==n)throw te(n,"algorithm.length");break;case"A128KW":case"A192KW":case"A256KW":if(!ne(e.algorithm,"AES-KW"))throw te("AES-KW");var i=parseInt(t.slice(1,4),10),o=e.algorithm.length;if(o!==i)throw te(i,"algorithm.length");break;case"ECDH":switch(e.algorithm.name){case"ECDH":case"X25519":case"X448":break;default:throw te("ECDH, X25519, or X448")}break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!ne(e.algorithm,"PBKDF2"))throw te("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(!ne(e.algorithm,"RSA-OAEP"))throw te("RSA-OAEP");var a=parseInt(t.slice(9),10)||1,s=re(e.algorithm.hash);if(s!==a)throw te("SHA-".concat(a),"algorithm.hash");break;default:throw new TypeError("CryptoKey does not support this operation")}for(var u=arguments.length,c=new Array(u>2?u-2:0),l=2;l<u;l++)c[l-2]=arguments[l];oe(e,c)}function se(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(r.length>2){var o=r.pop();e+="one of type ".concat(r.join(", "),", or ").concat(o,".")}else 2===r.length?e+="one of type ".concat(r[0]," or ").concat(r[1],"."):e+="of type ".concat(r[0],".");return null==t?e+=" Received ".concat(t):"function"===typeof t&&t.name?e+=" Received function ".concat(t.name):"object"===typeof t&&null!=t&&t.constructor&&t.constructor.name&&(e+=" Received an instance of ".concat(t.constructor.name)),e}var ue=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return se.apply(void 0,["Key must be ",e].concat(n))};function ce(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];return se.apply(void 0,["Key for the ".concat(e," algorithm must be "),t].concat(r))}var le=function(e){return c(e)},fe=["CryptoKey"];function de(e,t,n,r,i,o){return he.apply(this,arguments)}function he(){return(he=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a,s){var c,l,f,d,h,p,g;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n instanceof Uint8Array){e.next=2;break}throw new TypeError(ue(n,"Uint8Array"));case 2:return c=parseInt(t.slice(1,4),10),e.next=5,u.subtle.importKey("raw",n.subarray(c>>3),"AES-CBC",!1,["decrypt"]);case 5:return l=e.sent,e.next=8,u.subtle.importKey("raw",n.subarray(0,c>>3),{hash:"SHA-".concat(c<<1),name:"HMAC"},!1,["sign"]);case 8:return f=e.sent,d=v(s,i,r,m(s.length<<3)),e.t0=Uint8Array,e.next=13,u.subtle.sign("HMAC",f,d);case 13:e.t1=e.sent.slice(0,c>>3),h=new e.t0(e.t1);try{p=$(a,h)}catch(o){}if(p){e.next=18;break}throw new N;case 18:return e.prev=18,e.t2=Uint8Array,e.next=22,u.subtle.decrypt({iv:i,name:"AES-CBC"},l,r);case 22:e.t3=e.sent,g=new e.t2(e.t3),e.next=28;break;case 26:e.prev=26,e.t4=e.catch(18);case 28:if(g){e.next=30;break}throw new N;case 30:return e.abrupt("return",g);case 31:case"end":return e.stop()}}),e,null,[[18,26]])})))).apply(this,arguments)}function pe(e,t,n,r,i,o){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a,s){var c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n instanceof Uint8Array)){e.next=6;break}return e.next=3,u.subtle.importKey("raw",n,"AES-GCM",!1,["decrypt"]);case 3:c=e.sent,e.next=8;break;case 6:ae(n,t,"decrypt"),c=n;case 8:return e.prev=8,e.t0=Uint8Array,e.next=12,u.subtle.decrypt({additionalData:s,iv:i,name:"AES-GCM",tagLength:128},c,v(r,a));case 12:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 16:throw e.prev=16,e.t2=e.catch(8),new N;case 19:case"end":return e.stop()}}),e,null,[[8,16]])})))).apply(this,arguments)}var ge=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a,s){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(ue.apply(void 0,[n].concat((0,P.Z)(fe),["Uint8Array"])));case 2:Y(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?6:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:10;break;case 6:return n instanceof Uint8Array&&X(n,parseInt(t.slice(-3),10)),e.abrupt("return",de(t,n,r,i,a,s));case 8:return n instanceof Uint8Array&&X(n,parseInt(t.slice(1,4),10)),e.abrupt("return",pe(t,n,r,i,a,s));case 10:throw new D("Unsupported JWE Content Encryption Algorithm");case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o,a){return e.apply(this,arguments)}}(),ye=ge,me=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new D('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `inflateRaw` decrypt option to provide Inflate Raw implementation.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),we=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new D('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_e=n(7762),be=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t.filter(Boolean);if(0===i.length||1===i.length)return!0;var o,a=(0,_e.Z)(i);try{for(a.s();!(o=a.n()).done;){var s=o.value,u=Object.keys(s);if(r&&0!==r.size)for(var c=0,l=u;c<l.length;c++){var f=l[c];if(r.has(f))return!1;r.add(f)}else r=new Set(u)}}catch(d){a.e(d)}finally{a.f()}return!0};function xe(e){if("object"!==typeof(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var n=e;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(e)===n}var Se=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function ke(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError("Invalid key size for alg: ".concat(t))}function Ee(e,t,n){if(c(e))return ae(e,t,n),e;if(e instanceof Uint8Array)return u.subtle.importKey("raw",e,"AES-KW",!0,[n]);throw new TypeError(ue.apply(void 0,[e].concat((0,P.Z)(fe),["Uint8Array"])))}var Ce=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(n,t,"wrapKey");case 2:return ke(a=e.sent,t),e.next=6,(i=u.subtle).importKey.apply(i,["raw",r].concat((0,P.Z)(Se)));case 6:return s=e.sent,e.t0=Uint8Array,e.next=10,u.subtle.wrapKey("raw",s,a,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Pe=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee(n,t,"unwrapKey");case 2:return ke(a=e.sent,t),e.next=6,(i=u.subtle).unwrapKey.apply(i,["raw",r,a,"AES-KW"].concat((0,P.Z)(Se)));case 6:return s=e.sent,e.t0=Uint8Array,e.next=10,u.subtle.exportKey("raw",s);case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function Ae(e,t,n,r){return Te.apply(this,arguments)}function Te(){return Te=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i){var a,s,l,f,h,p=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=p.length>4&&void 0!==p[4]?p[4]:new Uint8Array(0),s=p.length>5&&void 0!==p[5]?p[5]:new Uint8Array(0),c(t)){e.next=4;break}throw new TypeError(ue.apply(void 0,[t].concat((0,P.Z)(fe))));case 4:if(ae(t,"ECDH"),c(n)){e.next=7;break}throw new TypeError(ue.apply(void 0,[n].concat((0,P.Z)(fe))));case 7:return ae(n,"ECDH","deriveBits"),l=v(_(d.encode(r)),_(a),_(s),w(i)),f="X25519"===t.algorithm.name?256:"X448"===t.algorithm.name?448:Math.ceil(parseInt(t.algorithm.namedCurve.substr(-3),10)/8)<<3,e.t0=Uint8Array,e.next=13,u.subtle.deriveBits({name:t.algorithm.name,public:t},n,f);case 13:return e.t1=e.sent,h=new e.t0(e.t1),e.abrupt("return",b(h,i,l));case 16:case"end":return e.stop()}}),e)}))),Te.apply(this,arguments)}function Oe(e){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(t)){e.next=2;break}throw new TypeError(ue.apply(void 0,[t].concat((0,P.Z)(fe))));case 2:return e.abrupt("return",u.subtle.generateKey(t.algorithm,!0,["deriveBits"]));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Re(e){if(!c(e))throw new TypeError(ue.apply(void 0,[e].concat((0,P.Z)(fe))));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)||"X25519"===e.algorithm.name||"X448"===e.algorithm.name}function Le(e){if(!(e instanceof Uint8Array)||e.length<8)throw new U("PBES2 Salt Input must be 8 or more octets")}function Fe(e,t){if(e instanceof Uint8Array)return u.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(c(e))return ae(e,t,"deriveBits","deriveKey"),e;throw new TypeError(ue.apply(void 0,[e].concat((0,P.Z)(fe),["Uint8Array"])))}function Me(e,t,n,r){return je.apply(this,arguments)}function je(){return(je=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i){var a,s,c,l,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Le(t),a=g(n,t),s=parseInt(n.slice(13,16),10),c={hash:"SHA-".concat(n.slice(8,11)),iterations:r,name:"PBKDF2",salt:a},l={length:s,name:"AES-KW"},e.next=7,Fe(i,n);case 7:if(!(f=e.sent).usages.includes("deriveBits")){e.next=14;break}return e.t0=Uint8Array,e.next=12,u.subtle.deriveBits(c,f,s);case 12:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 14:if(!f.usages.includes("deriveKey")){e.next=16;break}return e.abrupt("return",u.subtle.deriveKey(c,f,l,!1,["wrapKey","unwrapKey"]));case 16:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var De=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s,u,c=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=c.length>3&&void 0!==c[3]?c[3]:2048,a=c.length>4&&void 0!==c[4]?c[4]:G(new Uint8Array(16)),e.next=4,Me(a,t,i,n);case 4:return s=e.sent,e.next=7,Ce(t.slice(-6),s,r);case 7:return u=e.sent,e.abrupt("return",{encryptedKey:u,p2c:i,p2s:k(a)});case 9:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ne=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Me(a,t,i,n);case 2:return s=e.sent,e.abrupt("return",Pe(t.slice(-6),s,r));case 4:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}();function Ue(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new D("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var Ze=function(e,t){if(e.startsWith("RS")||e.startsWith("PS")){var n=t.algorithm.modulusLength;if("number"!==typeof n||n<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}},Be=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(n)){e.next=2;break}throw new TypeError(ue.apply(void 0,[n].concat((0,P.Z)(fe))));case 2:if(ae(n,t,"encrypt","wrapKey"),Ze(t,n),!n.usages.includes("encrypt")){e.next=10;break}return e.t0=Uint8Array,e.next=8,u.subtle.encrypt(Ue(t),n,r);case 8:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 10:if(!n.usages.includes("wrapKey")){e.next=19;break}return e.next=13,(i=u.subtle).importKey.apply(i,["raw",r].concat((0,P.Z)(Se)));case 13:return a=e.sent,e.t2=Uint8Array,e.next=17,u.subtle.wrapKey("raw",a,n,Ue(t));case 17:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 19:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),He=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(n)){e.next=2;break}throw new TypeError(ue.apply(void 0,[n].concat((0,P.Z)(fe))));case 2:if(ae(n,t,"decrypt","unwrapKey"),Ze(t,n),!n.usages.includes("decrypt")){e.next=10;break}return e.t0=Uint8Array,e.next=8,u.subtle.decrypt(Ue(t),n,r);case 8:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 10:if(!n.usages.includes("unwrapKey")){e.next=19;break}return e.next=13,(i=u.subtle).unwrapKey.apply(i,["raw",r,n,Ue(t)].concat((0,P.Z)(Se)));case 13:return a=e.sent,e.t2=Uint8Array,e.next=17,u.subtle.exportKey("raw",a);case 17:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 19:throw new TypeError('RSA-OAEP key "usages" must include "decrypt" or "unwrapKey" for this operation');case 20:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function ze(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new D("Unsupported JWE Algorithm: ".concat(e))}}var Ke=function(e){return G(new Uint8Array(ze(e)>>3))},Ve=function(e,t){var n=(e.match(/.{1,64}/g)||[]).join("\n");return"-----BEGIN ".concat(t,"-----\n").concat(n,"\n-----END ").concat(t,"-----")},We=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(r)){e.next=2;break}throw new TypeError(ue.apply(void 0,[r].concat((0,P.Z)(fe))));case 2:if(r.extractable){e.next=4;break}throw new TypeError("CryptoKey is not extractable");case 4:if(r.type===t){e.next=6;break}throw new TypeError("key is not a ".concat(t," key"));case 6:return e.t0=Ve,e.t1=S,e.t2=Uint8Array,e.next=11,u.subtle.exportKey(n,r);case 11:return e.t3=e.sent,e.t4=new e.t2(e.t3),e.t5=(0,e.t1)(e.t4),e.t6="".concat(t.toUpperCase()," KEY"),e.abrupt("return",(0,e.t0)(e.t5,e.t6));case 16:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),qe=function(e){return We("public","spki",e)},Ge=function(e){return We("private","pkcs8",e)},Je=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;0===r&&(n.unshift(n.length),n.unshift(6));var i=t.indexOf(n[0],r);if(-1===i)return!1;var o=t.subarray(i,i+n.length);return o.length===n.length&&(o.every((function(e,t){return e===n[t]}))||e(t,n,i+1))},Qe=function(e){switch(!0){case Je(e,[42,134,72,206,61,3,1,7]):return"P-256";case Je(e,[43,129,4,0,34]):return"P-384";case Je(e,[43,129,4,0,35]):return"P-521";case Je(e,[43,101,110]):return"X25519";case Je(e,[43,101,111]):return"X448";case Je(e,[43,101,112]):return"Ed25519";case Je(e,[43,101,113]):return"Ed448";default:throw new D("Invalid or unsupported EC Key Curve or OKP Key Sub Type")}},Ye=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s,c,l,f,d,h,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f=new Uint8Array(atob(r.replace(t,"")).split("").map((function(e){return e.charCodeAt(0)}))),d="spki"===n,e.t0=i,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?5:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?8:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?11:"ES256"===e.t0?14:"ES384"===e.t0?17:"ES512"===e.t0?20:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?23:e.t0===(ee()&&"EdDSA")?27:"EdDSA"===e.t0?31:34;break;case 5:return c={name:"RSA-PSS",hash:"SHA-".concat(i.slice(-3))},l=d?["verify"]:["sign"],e.abrupt("break",35);case 8:return c={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(i.slice(-3))},l=d?["verify"]:["sign"],e.abrupt("break",35);case 11:return c={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(i.slice(-3),10)||1)},l=d?["encrypt","wrapKey"]:["decrypt","unwrapKey"],e.abrupt("break",35);case 14:return c={name:"ECDSA",namedCurve:"P-256"},l=d?["verify"]:["sign"],e.abrupt("break",35);case 17:return c={name:"ECDSA",namedCurve:"P-384"},l=d?["verify"]:["sign"],e.abrupt("break",35);case 20:return c={name:"ECDSA",namedCurve:"P-521"},l=d?["verify"]:["sign"],e.abrupt("break",35);case 23:return h=Qe(f),c=h.startsWith("P-")?{name:"ECDH",namedCurve:h}:{name:h},l=d?[]:["deriveBits"],e.abrupt("break",35);case 27:return p=Qe(f).toUpperCase(),c={name:"NODE-".concat(p),namedCurve:"NODE-".concat(p)},l=d?["verify"]:["sign"],e.abrupt("break",35);case 31:return c={name:Qe(f)},l=d?["verify"]:["sign"],e.abrupt("break",35);case 34:throw new D('Invalid or unsupported "alg" (Algorithm) value');case 35:return e.abrupt("return",u.subtle.importKey(n,f,c,null!==(s=null===a||void 0===a?void 0:a.extractable)&&void 0!==s&&s,l));case 36:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),Xe=function(e,t,n){return Ye(/(?:-----(?:BEGIN|END) PRIVATE KEY-----|\s)/g,"pkcs8",e,t,n)},$e=function(e,t,n){return Ye(/(?:-----(?:BEGIN|END) PUBLIC KEY-----|\s)/g,"spki",e,t,n)};function et(e){var t,n;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:"SHA-".concat(e.alg.slice(-3))},n=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new D("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},n=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},n=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},n=["deriveBits"];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:"SHA-".concat(e.alg.slice(-3))},n=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(e.alg.slice(-3))},n=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(e.alg.slice(-3),10)||1)},n=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},n=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},n=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case ee()&&"OKP":if("EdDSA"!==e.alg)throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');if("Ed25519"!==e.crv)throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},n=e.d?["sign"]:["verify"];break;case"OKP":switch(e.alg){case"EdDSA":t={name:e.crv},n=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:e.crv},n=e.d?["deriveBits"]:[];break;default:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;default:throw new D('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:n}}var tt=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,i,s,c,l,f,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=et(t),c=s.algorithm,l=s.keyUsages,f=[c,null!==(r=t.ext)&&void 0!==r&&r,null!==(i=t.key_ops)&&void 0!==i?i:l],"PBKDF2"!==c.name){e.next=4;break}return e.abrupt("return",(d=u.subtle).importKey.apply(d,["raw",C(t.k)].concat(f)));case 4:return delete(h=(0,a.Z)({},t)).alg,delete h.use,e.abrupt("return",(n=u.subtle).importKey.apply(n,["jwk",h].concat(f)));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nt=tt;function rt(e){for(var t=[],n=0;n<e.length;){var r=it(e.subarray(n));t.push(r),n+=r.byteLength}return t}function it(e){var t=0,n=31&e[0];if(t++,31===n){for(n=0;e[t]>=128;)n=128*n+e[t]-128,t++;n=128*n+e[t]-128,t++}var r=0;if(e[t]<128)r=e[t],t++;else{if(128===r){for(r=0;0!==e[t+r]||0!==e[t+r+1];){if(r>e.byteLength)throw new TypeError("invalid indefinite form length");r++}var i=t+r+2;return{byteLength:i,contents:e.subarray(t,t+r),raw:e.subarray(0,i)}}var o=127&e[t];t++,r=0;for(var a=0;a<o;a++)r=256*r+e[t],t++}var s=t+r;return{byteLength:s,contents:e.subarray(t,s),raw:e.subarray(0,s)}}function ot(e){var t=e.replace(/(?:-----(?:BEGIN|END) CERTIFICATE-----|\s)/g,""),n=E(t);return Ve(function(e){var t=rt(rt(it(e).contents)[0].contents);return S(t[160===t[0].raw[0]?6:5].raw)}(n),"PUBLIC KEY")}function at(e,t,n){return st.apply(this,arguments)}function st(){return(st=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t&&0===t.indexOf("-----BEGIN PUBLIC KEY-----")){e.next=2;break}throw new TypeError('"spki" must be SPKI formatted string');case 2:return e.abrupt("return",$e(t,n,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t,n){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t&&0===t.indexOf("-----BEGIN CERTIFICATE-----")){e.next=2;break}throw new TypeError('"x509" must be X.509 formatted string');case 2:e.prev=2,i=ot(t),e.next=9;break;case 6:throw e.prev=6,e.t0=e.catch(2),new TypeError("failed to parse the X.509 certificate",{cause:e.t0});case 9:return e.abrupt("return",$e(i,n,r));case 10:case"end":return e.stop()}}),e,null,[[2,6]])})))).apply(this,arguments)}function lt(e,t,n){return ft.apply(this,arguments)}function ft(){return(ft=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("string"===typeof t&&0===t.indexOf("-----BEGIN PRIVATE KEY-----")){e.next=2;break}throw new TypeError('"pkcs8" must be PKCS#8 formatted string');case 2:return e.abrupt("return",Xe(t,n,r));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t,n){return ht.apply(this,arguments)}function ht(){return(ht=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(n||(n=t.alg),"string"===typeof n&&n){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"===typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!==r&&void 0!==r||(r=!0!==t.ext),!r){e.next=13;break}return e.abrupt("return",nt((0,a.Z)((0,a.Z)({},t),{},{alg:n,ext:null!==(i=t.ext)&&void 0!==i&&i})));case 13:return e.abrupt("return",C(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new D('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",nt((0,a.Z)((0,a.Z)({},t),{},{alg:n})));case 17:throw new D('Unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pt=function(e,t,n){e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?function(e,t){if(!(t instanceof Uint8Array)){if(!le(t))throw new TypeError(ce.apply(void 0,[e,t].concat((0,P.Z)(fe),["Uint8Array"])));if("secret"!==t.type)throw new TypeError("".concat(fe.join(" or "),' instances for symmetric algorithms must be of type "secret"'))}}(e,t):function(e,t,n){if(!le(t))throw new TypeError(ce.apply(void 0,[e,t].concat((0,P.Z)(fe))));if("secret"===t.type)throw new TypeError("".concat(fe.join(" or "),' instances for asymmetric algorithms must not be of type "secret"'));if("sign"===n&&"public"===t.type)throw new TypeError("".concat(fe.join(" or "),' instances for asymmetric algorithm signing must be of type "private"'));if("decrypt"===n&&"public"===t.type)throw new TypeError("".concat(fe.join(" or "),' instances for asymmetric algorithm decryption must be of type "private"'));if(t.algorithm&&"verify"===n&&"private"===t.type)throw new TypeError("".concat(fe.join(" or "),' instances for asymmetric algorithm verifying must be of type "public"'));if(t.algorithm&&"encrypt"===n&&"private"===t.type)throw new TypeError("".concat(fe.join(" or "),' instances for asymmetric algorithm encryption must be of type "public"'))}(e,t,n)};function vt(e,t,n,r,i){return gt.apply(this,arguments)}function gt(){return(gt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s,c,l,f,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r instanceof Uint8Array){e.next=2;break}throw new TypeError(ue(r,"Uint8Array"));case 2:return s=parseInt(t.slice(1,4),10),e.next=5,u.subtle.importKey("raw",r.subarray(s>>3),"AES-CBC",!1,["encrypt"]);case 5:return c=e.sent,e.next=8,u.subtle.importKey("raw",r.subarray(0,s>>3),{hash:"SHA-".concat(s<<1),name:"HMAC"},!1,["sign"]);case 8:return l=e.sent,e.t0=Uint8Array,e.next=12,u.subtle.encrypt({iv:i,name:"AES-CBC"},c,n);case 12:return e.t1=e.sent,f=new e.t0(e.t1),d=v(a,i,f,m(a.length<<3)),e.t2=Uint8Array,e.next=18,u.subtle.sign("HMAC",l,d);case 18:return e.t3=e.sent.slice(0,s>>3),h=new e.t2(e.t3),e.abrupt("return",{ciphertext:f,tag:h});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yt(e,t,n,r,i){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s,c,l,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r instanceof Uint8Array)){e.next=6;break}return e.next=3,u.subtle.importKey("raw",r,"AES-GCM",!1,["encrypt"]);case 3:s=e.sent,e.next=8;break;case 6:ae(r,t,"encrypt"),s=r;case 8:return e.t0=Uint8Array,e.next=11,u.subtle.encrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},s,n);case 11:return e.t1=e.sent,c=new e.t0(e.t1),l=c.slice(-16),f=c.slice(0,-16),e.abrupt("return",{ciphertext:f,tag:l});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var wt=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c(r)||r instanceof Uint8Array){e.next=2;break}throw new TypeError(ue.apply(void 0,[r].concat((0,P.Z)(fe),["Uint8Array"])));case 2:Y(t,i),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?6:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:10;break;case 6:return r instanceof Uint8Array&&X(r,parseInt(t.slice(-3),10)),e.abrupt("return",vt(t,n,r,i,a));case 8:return r instanceof Uint8Array&&X(r,parseInt(t.slice(1,4),10)),e.abrupt("return",yt(t,n,r,i,a));case 10:throw new D("Unsupported JWE Content Encryption Algorithm");case 11:case"end":return e.stop()}}),e)})));return function(t,n,r,i,o){return e.apply(this,arguments)}}(),_t=wt;function bt(e,t,n,r){return xt.apply(this,arguments)}function xt(){return(xt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i){var a,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.slice(0,7),i||(i=Q(a)),e.next=4,_t(a,r,n,i,new Uint8Array(0));case 4:return s=e.sent,u=s.ciphertext,c=s.tag,e.abrupt("return",{encryptedKey:u,iv:k(i),tag:k(c)});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function St(e,t,n,r,i){return kt.apply(this,arguments)}function kt(){return(kt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.slice(0,7),e.abrupt("return",ye(s,n,r,i,a,new Uint8Array(0)));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Et(){return(Et=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i,a){var s,u,c,l,f,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:pt(t,n,"decrypt"),e.t0=t,e.next="dir"===e.t0?4:"ECDH-ES"===e.t0?7:"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?9:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?32:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?35:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?45:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?48:57;break;case 4:if(void 0===r){e.next=6;break}throw new U("Encountered unexpected JWE Encrypted Key");case 6:return e.abrupt("return",n);case 7:if(void 0===r){e.next=9;break}throw new U("Encountered unexpected JWE Encrypted Key");case 9:if(xe(i.epk)){e.next=11;break}throw new U('JOSE Header "epk" (Ephemeral Public Key) missing or invalid');case 11:if(Re(n)){e.next=13;break}throw new D("ECDH with the provided key is not allowed or not supported by your javascript runtime");case 13:return e.next=15,dt(i.epk,t);case 15:if(s=e.sent,void 0===i.apu){e.next=20;break}if("string"===typeof i.apu){e.next=19;break}throw new U('JOSE Header "apu" (Agreement PartyUInfo) invalid');case 19:u=C(i.apu);case 20:if(void 0===i.apv){e.next=24;break}if("string"===typeof i.apv){e.next=23;break}throw new U('JOSE Header "apv" (Agreement PartyVInfo) invalid');case 23:c=C(i.apv);case 24:return e.next=26,Ae(s,n,"ECDH-ES"===t?i.enc:t,"ECDH-ES"===t?ze(i.enc):parseInt(t.slice(-5,-2),10),u,c);case 26:if(l=e.sent,"ECDH-ES"!==t){e.next=29;break}return e.abrupt("return",l);case 29:if(void 0!==r){e.next=31;break}throw new U("JWE Encrypted Key missing");case 31:return e.abrupt("return",Pe(t.slice(-6),l,r));case 32:if(void 0!==r){e.next=34;break}throw new U("JWE Encrypted Key missing");case 34:return e.abrupt("return",He(t,n,r));case 35:if(void 0!==r){e.next=37;break}throw new U("JWE Encrypted Key missing");case 37:if("number"===typeof i.p2c){e.next=39;break}throw new U('JOSE Header "p2c" (PBES2 Count) missing or invalid');case 39:if(f=(null===a||void 0===a?void 0:a.maxPBES2Count)||1e4,!(i.p2c>f)){e.next=42;break}throw new U('JOSE Header "p2c" (PBES2 Count) out is of acceptable bounds');case 42:if("string"===typeof i.p2s){e.next=44;break}throw new U('JOSE Header "p2s" (PBES2 Salt) missing or invalid');case 44:return e.abrupt("return",Ne(t,n,r,i.p2c,C(i.p2s)));case 45:if(void 0!==r){e.next=47;break}throw new U("JWE Encrypted Key missing");case 47:return e.abrupt("return",Pe(t,n,r));case 48:if(void 0!==r){e.next=50;break}throw new U("JWE Encrypted Key missing");case 50:if("string"===typeof i.iv){e.next=52;break}throw new U('JOSE Header "iv" (Initialization Vector) missing or invalid');case 52:if("string"===typeof i.tag){e.next=54;break}throw new U('JOSE Header "tag" (Authentication Tag) missing or invalid');case 54:return d=C(i.iv),h=C(i.tag),e.abrupt("return",St(t,n,r,d,h));case 57:throw new D('Invalid or unsupported "alg" (JWE Algorithm) header value');case 58:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ct=function(e,t,n,r,i){return Et.apply(this,arguments)};var Pt=function(e,t,n,r,i){if(void 0!==i.crit&&void 0===r.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!r||void 0===r.crit)return new Set;if(!Array.isArray(r.crit)||0===r.crit.length||r.crit.some((function(e){return"string"!==typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var o;o=void 0!==n?new Map([].concat((0,P.Z)(Object.entries(n)),(0,P.Z)(t.entries()))):t;var a,s=(0,_e.Z)(r.crit);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(!o.has(u))throw new D('Extension Header Parameter "'.concat(u,'" is not recognized'));if(void 0===i[u])throw new e('Extension Header Parameter "'.concat(u,'" is missing'));if(o.get(u)&&void 0===r[u])throw new e('Extension Header Parameter "'.concat(u,'" MUST be integrity protected'))}}catch(c){s.e(c)}finally{s.f()}return new Set(r.crit)},At=function(e,t){if(void 0!==t&&(!Array.isArray(t)||t.some((function(e){return"string"!==typeof e}))))throw new TypeError('"'.concat(e,'" option must be an array of strings'));if(t)return new Set(t)};function Tt(e,t,n){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c,l,f,p,g,y,m,w,_,b,x,S,k,E;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new U("Flattened JWE must be an object");case 2:if(void 0!==t.protected||void 0!==t.header||void 0!==t.unprotected){e.next=4;break}throw new U("JOSE Header missing");case 4:if("string"===typeof t.iv){e.next=6;break}throw new U("JWE Initialization Vector missing or incorrect type");case 6:if("string"===typeof t.ciphertext){e.next=8;break}throw new U("JWE Ciphertext missing or incorrect type");case 8:if("string"===typeof t.tag){e.next=10;break}throw new U("JWE Authentication Tag missing or incorrect type");case 10:if(void 0===t.protected||"string"===typeof t.protected){e.next=12;break}throw new U("JWE Protected Header incorrect type");case 12:if(void 0===t.encrypted_key||"string"===typeof t.encrypted_key){e.next=14;break}throw new U("JWE Encrypted Key incorrect type");case 14:if(void 0===t.aad||"string"===typeof t.aad){e.next=16;break}throw new U("JWE AAD incorrect type");case 16:if(void 0===t.header||xe(t.header)){e.next=18;break}throw new U("JWE Shared Unprotected Header incorrect type");case 18:if(void 0===t.unprotected||xe(t.unprotected)){e.next=20;break}throw new U("JWE Per-Recipient Unprotected Header incorrect type");case 20:if(!t.protected){e.next=29;break}e.prev=21,u=C(t.protected),s=JSON.parse(h.decode(u)),e.next=29;break;case 26:throw e.prev=26,e.t0=e.catch(21),new U("JWE Protected Header is invalid");case 29:if(be(s,t.header,t.unprotected)){e.next=31;break}throw new U("JWE Protected, JWE Unprotected Header, and JWE Per-Recipient Unprotected Header Parameter names must be disjoint");case 31:if(c=(0,a.Z)((0,a.Z)((0,a.Z)({},s),t.header),t.unprotected),Pt(U,new Map,null===r||void 0===r?void 0:r.crit,s,c),void 0===c.zip){e.next=38;break}if(s&&s.zip){e.next=36;break}throw new U('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 36:if("DEF"===c.zip){e.next=38;break}throw new D('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 38:if(l=c.alg,f=c.enc,"string"===typeof l&&l){e.next=41;break}throw new U("missing JWE Algorithm (alg) in JWE Header");case 41:if("string"===typeof f&&f){e.next=43;break}throw new U("missing JWE Encryption Algorithm (enc) in JWE Header");case 43:if(p=r&&At("keyManagementAlgorithms",r.keyManagementAlgorithms),g=r&&At("contentEncryptionAlgorithms",r.contentEncryptionAlgorithms),!p||p.has(l)){e.next=47;break}throw new j('"alg" (Algorithm) Header Parameter not allowed');case 47:if(!g||g.has(f)){e.next=49;break}throw new j('"enc" (Encryption Algorithm) Header Parameter not allowed');case 49:if(void 0!==t.encrypted_key&&(y=C(t.encrypted_key)),m=!1,"function"!==typeof n){e.next=56;break}return e.next=54,n(s,t);case 54:n=e.sent,m=!0;case 56:return e.prev=56,e.next=59,Ct(l,n,y,c,r);case 59:w=e.sent,e.next=67;break;case 62:if(e.prev=62,e.t1=e.catch(56),!(e.t1 instanceof TypeError||e.t1 instanceof U||e.t1 instanceof D)){e.next=66;break}throw e.t1;case 66:w=Ke(f);case 67:return _=C(t.iv),b=C(t.tag),x=d.encode(null!==(i=t.protected)&&void 0!==i?i:""),S=void 0!==t.aad?v(x,d.encode("."),d.encode(t.aad)):x,e.next=73,ye(f,w,C(t.ciphertext),_,b,S);case 73:if(k=e.sent,"DEF"!==c.zip){e.next=78;break}return e.next=77,((null===r||void 0===r?void 0:r.inflateRaw)||me)(k);case 77:k=e.sent;case 78:if(E={plaintext:k},void 0!==t.protected&&(E.protectedHeader=s),void 0!==t.aad&&(E.additionalAuthenticatedData=C(t.aad)),void 0!==t.unprotected&&(E.sharedUnprotectedHeader=t.unprotected),void 0!==t.header&&(E.unprotectedHeader=t.header),!m){e.next=85;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},E),{},{key:n}));case 85:return e.abrupt("return",E);case 86:case"end":return e.stop()}}),e,null,[[21,26],[56,62]])})))).apply(this,arguments)}function It(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c,l,f,d,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=h.decode(t)),"string"===typeof t){e.next=3;break}throw new U("Compact JWE must be a string or Uint8Array");case 3:if(i=t.split("."),s=i[0],u=i[1],c=i[2],l=i[3],f=i[4],5===i.length){e.next=6;break}throw new U("Invalid Compact JWE");case 6:return e.next=8,Tt({ciphertext:l,iv:c||void 0,protected:s||void 0,tag:f||void 0,encrypted_key:u||void 0},n,r);case 8:if(d=e.sent,p={plaintext:d.plaintext,protectedHeader:d.protectedHeader},"function"!==typeof n){e.next=12;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},p),{},{key:d.key}));case 12:return e.abrupt("return",p);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new U("General JWE must be an object");case 2:if(Array.isArray(t.recipients)&&t.recipients.every(xe)){e.next=4;break}throw new U("JWE Recipients missing or incorrect type");case 4:if(t.recipients.length){e.next=6;break}throw new U("JWE Recipients has no members");case 6:i=(0,_e.Z)(t.recipients),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=21;break}return s=a.value,e.prev=11,e.next=14,Tt({aad:t.aad,ciphertext:t.ciphertext,encrypted_key:s.encrypted_key,header:s.header,iv:t.iv,protected:t.protected,tag:t.tag,unprotected:t.unprotected},n,r);case 14:return e.abrupt("return",e.sent);case 17:e.prev=17,e.t0=e.catch(11);case 19:e.next=9;break;case 21:e.next=26;break;case 23:e.prev=23,e.t1=e.catch(7),i.e(e.t1);case 26:return e.prev=26,i.f(),e.finish(26);case 29:throw new N;case 30:case"end":return e.stop()}}),e,null,[[7,23,26,29],[11,17]])})))).apply(this,arguments)}var Mt=n(4942),jt=n(9439),Dt=n(4925),Nt=["ext","key_ops","alg","use"],Ut=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:k(t)});case 2:if(c(t)){e.next=4;break}throw new TypeError(ue.apply(void 0,[t].concat((0,P.Z)(fe),["Uint8Array"])));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,u.subtle.exportKey("jwk",t);case 8:return n=e.sent,n.ext,n.key_ops,n.alg,n.use,r=(0,Dt.Z)(n,Nt),e.abrupt("return",r);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Zt=Ut;function Bt(e){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",qe(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zt(e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Ge(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vt(e){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,s.Z)((0,o.Z)().mark((function e(t){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Zt(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qt=["encryptedKey"],Gt=["encryptedKey"];function Jt(){return Jt=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i){var a,s,u,c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,E,C=arguments;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=C.length>4&&void 0!==C[4]?C[4]:{},pt(t,r,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?39:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?44:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?53:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?58:67;break;case 5:return c=r,e.abrupt("break",68);case 7:if(Re(r)){e.next=9;break}throw new D("ECDH with the provided key is not allowed or not supported by your javascript runtime");case 9:if(l=a.apu,f=a.apv,d=a.epk,e.t1=d,e.t1){e.next=16;break}return e.next=15,Oe(r);case 15:d=e.sent.privateKey;case 16:return e.next=18,Vt(d);case 18:return h=e.sent,p=h.x,v=h.y,g=h.crv,y=h.kty,e.next=25,Ae(r,d,"ECDH-ES"===t?n:t,"ECDH-ES"===t?ze(n):parseInt(t.slice(-5,-2),10),l,f);case 25:if(m=e.sent,u={epk:{x:p,crv:g,kty:y}},"EC"===y&&(u.epk.y=v),l&&(u.apu=k(l)),f&&(u.apv=k(f)),"ECDH-ES"!==t){e.next=33;break}return c=m,e.abrupt("break",68);case 33:return c=i||Ke(n),w=t.slice(-6),e.next=37,Ce(w,m,c);case 37:return s=e.sent,e.abrupt("break",68);case 39:return c=i||Ke(n),e.next=42,Be(t,r,c);case 42:return s=e.sent,e.abrupt("break",68);case 44:return c=i||Ke(n),_=a.p2c,b=a.p2s,e.next=48,De(t,r,c,_,b);case 48:return x=e.sent,s=x.encryptedKey,u=(0,Dt.Z)(x,qt),e.abrupt("break",68);case 53:return c=i||Ke(n),e.next=56,Ce(t,r,c);case 56:return s=e.sent,e.abrupt("break",68);case 58:return c=i||Ke(n),S=a.iv,e.next=62,bt(t,r,c,S);case 62:return E=e.sent,s=E.encryptedKey,u=(0,Dt.Z)(E,Gt),e.abrupt("break",68);case 67:throw new D('Invalid or unsupported "alg" (JWE Algorithm) header value');case 68:return e.abrupt("return",{cek:c,encryptedKey:s,parameters:u});case 69:case"end":return e.stop()}}),e)}))),Jt.apply(this,arguments)}var Qt=function(e,t,n,r){return Jt.apply(this,arguments)},Yt=Symbol(),Xt=function(){function e(t){if((0,A.Z)(this,e),!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}return(0,T.Z)(e,[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i,s,u,c,l,f,p,g,y,m,w,_,b,x,S;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new U("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(be(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new U("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(r=(0,a.Z)((0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),Pt(U,new Map,null===n||void 0===n?void 0:n.crit,this._protectedHeader,r),void 0===r.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new U('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===r.zip){e.next=11;break}throw new D('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(i=r.alg,s=r.enc,"string"===typeof i&&i){e.next=14;break}throw new U('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"===typeof s&&s){e.next=16;break}throw new U('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==i){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==i){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,Qt(i,s,t,this._cek,this._keyManagementParameters);case 26:if(f=e.sent,c=f.cek,u=f.encryptedKey,(l=f.parameters)&&(n&&Yt in n?this._unprotectedHeader?this._unprotectedHeader=(0,a.Z)((0,a.Z)({},this._unprotectedHeader),l):this.setUnprotectedHeader(l):this._protectedHeader?this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),l):this.setProtectedHeader(l)),this._iv||(this._iv=Q(s)),g=this._protectedHeader?d.encode(k(JSON.stringify(this._protectedHeader))):d.encode(""),this._aad?(y=k(this._aad),p=v(g,d.encode("."),d.encode(y))):p=g,"DEF"!==r.zip){e.next=45;break}return e.next=37,((null===n||void 0===n?void 0:n.deflateRaw)||we)(this._plaintext);case 37:return _=e.sent,e.next=40,_t(s,_,c,this._iv,p);case 40:b=e.sent,m=b.ciphertext,w=b.tag,e.next=51;break;case 45:return e.next=48,_t(s,this._plaintext,c,this._iv,p);case 48:x=e.sent,m=x.ciphertext,w=x.tag;case 51:return S={ciphertext:k(m),iv:k(this._iv),tag:k(w)},u&&(S.encrypted_key=k(u)),y&&(S.aad=y),this._protectedHeader&&(S.protected=h.decode(g)),this._sharedUnprotectedHeader&&(S.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(S.header=this._unprotectedHeader),e.abrupt("return",S);case 58:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),$t=function(){function e(t,n,r){(0,A.Z)(this,e),this.parent=t,this.key=n,this.options=r}return(0,T.Z)(e,[{key:"setUnprotectedHeader",value:function(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}},{key:"addRecipient",value:function(){var e;return(e=this.parent).addRecipient.apply(e,arguments)}},{key:"encrypt",value:function(){var e;return(e=this.parent).encrypt.apply(e,arguments)}},{key:"done",value:function(){return this.parent}}]),e}(),en=function(){function e(t){(0,A.Z)(this,e),this._recipients=[],this._plaintext=t}return(0,T.Z)(e,[{key:"addRecipient",value:function(e,t){var n=new $t(this,e,{crit:null===t||void 0===t?void 0:t.crit});return this._recipients.push(n),n}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"encrypt",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t){var n,r,i,s,u,c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,E,C,P;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._recipients.length){e.next=2;break}throw new U("at least one recipient must be added");case 2:if(t={deflateRaw:null===t||void 0===t?void 0:t.deflateRaw},1!==this._recipients.length){e.next=15;break}return s=(0,jt.Z)(this._recipients,1),u=s[0],e.next=7,new Xt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(u.unprotectedHeader).encrypt(u.key,(0,a.Z)((0,a.Z)({},u.options),t));case 7:return c=e.sent,l={ciphertext:c.ciphertext,iv:c.iv,recipients:[{}],tag:c.tag},c.aad&&(l.aad=c.aad),c.protected&&(l.protected=c.protected),c.unprotected&&(l.unprotected=c.unprotected),c.encrypted_key&&(l.recipients[0].encrypted_key=c.encrypted_key),c.header&&(l.recipients[0].header=c.header),e.abrupt("return",l);case 15:d=0;case 16:if(!(d<this._recipients.length)){e.next=41;break}if(h=this._recipients[d],be(this._protectedHeader,this._unprotectedHeader,h.unprotectedHeader)){e.next=20;break}throw new U("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 20:if(p=(0,a.Z)((0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),h.unprotectedHeader),"string"===typeof(v=p.alg)&&v){e.next=24;break}throw new U('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 24:if("dir"!==v&&"ECDH-ES"!==v){e.next=26;break}throw new U('"dir" and "ECDH-ES" alg may only be used with a single recipient');case 26:if("string"===typeof p.enc&&p.enc){e.next=28;break}throw new U('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 28:if(f){e.next=32;break}f=p.enc,e.next=34;break;case 32:if(f===p.enc){e.next=34;break}throw new U('JWE "enc" (Encryption Algorithm) Header Parameter must be the same for all recipients');case 34:if(Pt(U,new Map,h.options.crit,this._protectedHeader,p),void 0===p.zip){e.next=38;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=38;break}throw new U('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 38:d++,e.next=16;break;case 41:g=Ke(f),y={ciphertext:"",iv:"",recipients:[],tag:""},m=0;case 44:if(!(m<this._recipients.length)){e.next=73;break}if(w=this._recipients[m],_={},y.recipients.push(_),b=(0,a.Z)((0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),w.unprotectedHeader),x=b.alg.startsWith("PBES2")?2048+m:void 0,0!==m){e.next=63;break}return e.next=53,new Xt(this._plaintext).setAdditionalAuthenticatedData(this._aad).setContentEncryptionKey(g).setProtectedHeader(this._protectedHeader).setSharedUnprotectedHeader(this._unprotectedHeader).setUnprotectedHeader(w.unprotectedHeader).setKeyManagementParameters({p2c:x}).encrypt(w.key,(0,a.Z)((0,a.Z)((0,a.Z)({},w.options),t),{},(0,Mt.Z)({},Yt,!0)));case 53:return S=e.sent,y.ciphertext=S.ciphertext,y.iv=S.iv,y.tag=S.tag,S.aad&&(y.aad=S.aad),S.protected&&(y.protected=S.protected),S.unprotected&&(y.unprotected=S.unprotected),_.encrypted_key=S.encrypted_key,S.header&&(_.header=S.header),e.abrupt("continue",70);case 63:return e.next=65,Qt((null===(n=w.unprotectedHeader)||void 0===n?void 0:n.alg)||(null===(r=this._protectedHeader)||void 0===r?void 0:r.alg)||(null===(i=this._unprotectedHeader)||void 0===i?void 0:i.alg),f,w.key,g,{p2c:x});case 65:E=e.sent,C=E.encryptedKey,P=E.parameters,_.encrypted_key=k(C),(w.unprotectedHeader||P)&&(_.header=(0,a.Z)((0,a.Z)({},w.unprotectedHeader),P));case 70:m++,e.next=44;break;case 73:return e.abrupt("return",y);case 74:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function tn(e,t){var n="SHA-".concat(e.slice(-3));switch(e){case"HS256":case"HS384":case"HS512":return{hash:n,name:"HMAC"};case"PS256":case"PS384":case"PS512":return{hash:n,name:"RSA-PSS",saltLength:e.slice(-3)>>3};case"RS256":case"RS384":case"RS512":return{hash:n,name:"RSASSA-PKCS1-v1_5"};case"ES256":case"ES384":case"ES512":return{hash:n,name:"ECDSA",namedCurve:t.namedCurve};case ee()&&"EdDSA":var r=t.namedCurve;return{name:r,namedCurve:r};case"EdDSA":return{name:t.name};default:throw new D("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}function nn(e,t,n){if(c(t))return function(e,t){switch(t){case"HS256":case"HS384":case"HS512":if(!ne(e.algorithm,"HMAC"))throw te("HMAC");var n=parseInt(t.slice(2),10);if(re(e.algorithm.hash)!==n)throw te("SHA-".concat(n),"algorithm.hash");break;case"RS256":case"RS384":case"RS512":if(!ne(e.algorithm,"RSASSA-PKCS1-v1_5"))throw te("RSASSA-PKCS1-v1_5");var r=parseInt(t.slice(2),10);if(re(e.algorithm.hash)!==r)throw te("SHA-".concat(r),"algorithm.hash");break;case"PS256":case"PS384":case"PS512":if(!ne(e.algorithm,"RSA-PSS"))throw te("RSA-PSS");var i=parseInt(t.slice(2),10);if(re(e.algorithm.hash)!==i)throw te("SHA-".concat(i),"algorithm.hash");break;case ee()&&"EdDSA":if(!ne(e.algorithm,"NODE-ED25519"))throw te("NODE-ED25519");break;case"EdDSA":if("Ed25519"!==e.algorithm.name&&"Ed448"!==e.algorithm.name)throw te("Ed25519 or Ed448");break;case"ES256":case"ES384":case"ES512":if(!ne(e.algorithm,"ECDSA"))throw te("ECDSA");var o=ie(t);if(e.algorithm.namedCurve!==o)throw te(o,"algorithm.namedCurve");break;default:throw new TypeError("CryptoKey does not support this operation")}for(var a=arguments.length,s=new Array(a>2?a-2:0),u=2;u<a;u++)s[u-2]=arguments[u];oe(e,s)}(t,e,n),t;if(t instanceof Uint8Array){if(!e.startsWith("HS"))throw new TypeError(ue.apply(void 0,[t].concat((0,P.Z)(fe))));return u.subtle.importKey("raw",t,{hash:"SHA-".concat(e.slice(-3)),name:"HMAC"},!1,[n])}throw new TypeError(ue.apply(void 0,[t].concat((0,P.Z)(fe),["Uint8Array"])))}var rn=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r,i){var a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t,n,"verify");case 2:return a=e.sent,Ze(t,a),s=tn(t,a.algorithm),e.prev=5,e.next=8,u.subtle.verify(s,a,r,i);case 8:return e.abrupt("return",e.sent);case 11:return e.prev=11,e.t0=e.catch(5),e.abrupt("return",!1);case 14:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(t,n,r,i){return e.apply(this,arguments)}}(),on=rn;function an(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c,l,f,p,g,y,m,w,_,b;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new Z("Flattened JWS must be an object");case 2:if(void 0!==t.protected||void 0!==t.header){e.next=4;break}throw new Z('Flattened JWS must have either of the "protected" or "header" members');case 4:if(void 0===t.protected||"string"===typeof t.protected){e.next=6;break}throw new Z("JWS Protected Header incorrect type");case 6:if(void 0!==t.payload){e.next=8;break}throw new Z("JWS Payload missing");case 8:if("string"===typeof t.signature){e.next=10;break}throw new Z("JWS Signature missing or incorrect type");case 10:if(void 0===t.header||xe(t.header)){e.next=12;break}throw new Z("JWS Unprotected Header incorrect type");case 12:if(s={},!t.protected){e.next=22;break}e.prev=14,u=C(t.protected),s=JSON.parse(h.decode(u)),e.next=22;break;case 19:throw e.prev=19,e.t0=e.catch(14),new Z("JWS Protected Header is invalid");case 22:if(be(s,t.header)){e.next=24;break}throw new Z("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 24:if(c=(0,a.Z)((0,a.Z)({},s),t.header),l=Pt(Z,new Map([["b64",!0]]),null===r||void 0===r?void 0:r.crit,s,c),f=!0,!l.has("b64")){e.next=31;break}if("boolean"===typeof(f=s.b64)){e.next=31;break}throw new Z('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 31:if("string"===typeof(p=c.alg)&&p){e.next=34;break}throw new Z('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 34:if(!(g=r&&At("algorithms",r.algorithms))||g.has(p)){e.next=37;break}throw new j('"alg" (Algorithm) Header Parameter not allowed');case 37:if(!f){e.next=42;break}if("string"===typeof t.payload){e.next=40;break}throw new Z("JWS Payload must be a string");case 40:e.next=44;break;case 42:if("string"===typeof t.payload||t.payload instanceof Uint8Array){e.next=44;break}throw new Z("JWS Payload must be a string or an Uint8Array instance");case 44:if(y=!1,"function"!==typeof n){e.next=50;break}return e.next=48,n(s,t);case 48:n=e.sent,y=!0;case 50:return pt(p,n,"verify"),m=v(d.encode(null!==(i=t.protected)&&void 0!==i?i:""),d.encode("."),"string"===typeof t.payload?d.encode(t.payload):t.payload),w=C(t.signature),e.next=55,on(p,n,w,m);case 55:if(e.sent){e.next=58;break}throw new q;case 58:if(_=f?C(t.payload):"string"===typeof t.payload?d.encode(t.payload):t.payload,b={payload:_},void 0!==t.protected&&(b.protectedHeader=s),void 0!==t.header&&(b.unprotectedHeader=t.header),!y){e.next=64;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},b),{},{key:n}));case 64:return e.abrupt("return",b);case 65:case"end":return e.stop()}}),e,null,[[14,19]])})))).apply(this,arguments)}function un(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c,l,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t instanceof Uint8Array&&(t=h.decode(t)),"string"===typeof t){e.next=3;break}throw new Z("Compact JWS must be a string or Uint8Array");case 3:if(i=t.split("."),s=i[0],u=i[1],c=i[2],3===i.length){e.next=6;break}throw new Z("Invalid Compact JWS");case 6:return e.next=8,an({payload:u,protected:s,signature:c},n,r);case 8:if(l=e.sent,f={payload:l.payload,protectedHeader:l.protectedHeader},"function"!==typeof n){e.next=12;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},f),{},{key:l.key}));case 12:return e.abrupt("return",f);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ln(e,t,n){return fn.apply(this,arguments)}function fn(){return(fn=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new Z("General JWS must be an object");case 2:if(Array.isArray(t.signatures)&&t.signatures.every(xe)){e.next=4;break}throw new Z("JWS Signatures missing or incorrect type");case 4:i=(0,_e.Z)(t.signatures),e.prev=5,i.s();case 7:if((a=i.n()).done){e.next=19;break}return s=a.value,e.prev=9,e.next=12,an({header:s.header,payload:t.payload,protected:s.protected,signature:s.signature},n,r);case 12:return e.abrupt("return",e.sent);case 15:e.prev=15,e.t0=e.catch(9);case 17:e.next=7;break;case 19:e.next=24;break;case 21:e.prev=21,e.t1=e.catch(5),i.e(e.t1);case 24:return e.prev=24,i.f(),e.finish(24);case 27:throw new q;case 28:case"end":return e.stop()}}),e,null,[[5,21,24,27],[9,15]])})))).apply(this,arguments)}var dn=function(e){return Math.floor(e.getTime()/1e3)},hn=86400,pn=/^(\d+|\d+\.\d+) ?(seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)$/i,vn=function(e){var t=pn.exec(e);if(!t)throw new TypeError("Invalid time period format");var n=parseFloat(t[1]);switch(t[2].toLowerCase()){case"sec":case"secs":case"second":case"seconds":case"s":return Math.round(n);case"minute":case"minutes":case"min":case"mins":case"m":return Math.round(60*n);case"hour":case"hours":case"hr":case"hrs":case"h":return Math.round(3600*n);case"day":case"days":case"d":return Math.round(n*hn);case"week":case"weeks":case"w":return Math.round(604800*n);default:return Math.round(31557600*n)}},gn=function(e){return e.toLowerCase().replace(/^application\//,"")},yn=function(e,t){return"string"===typeof e?t.includes(e):!!Array.isArray(e)&&t.some(Set.prototype.has.bind(new Set(e)))},mn=function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.typ;if(i&&("string"!==typeof e.typ||gn(e.typ)!==gn(i)))throw new F('unexpected "typ" JWT header value',"typ","check_failed");try{n=JSON.parse(h.decode(t))}catch(p){}if(!xe(n))throw new B("JWT Claims Set must be a top-level JSON object");var o=r.issuer;if(o&&!(Array.isArray(o)?o:[o]).includes(n.iss))throw new F('unexpected "iss" claim value',"iss","check_failed");var a=r.subject;if(a&&n.sub!==a)throw new F('unexpected "sub" claim value',"sub","check_failed");var s,u=r.audience;if(u&&!yn(n.aud,"string"===typeof u?[u]:u))throw new F('unexpected "aud" claim value',"aud","check_failed");switch(typeof r.clockTolerance){case"string":s=vn(r.clockTolerance);break;case"number":s=r.clockTolerance;break;case"undefined":s=0;break;default:throw new TypeError("Invalid clockTolerance option type")}var c=r.currentDate,l=dn(c||new Date);if((void 0!==n.iat||r.maxTokenAge)&&"number"!==typeof n.iat)throw new F('"iat" claim must be a number',"iat","invalid");if(void 0!==n.nbf){if("number"!==typeof n.nbf)throw new F('"nbf" claim must be a number',"nbf","invalid");if(n.nbf>l+s)throw new F('"nbf" claim timestamp check failed',"nbf","check_failed")}if(void 0!==n.exp){if("number"!==typeof n.exp)throw new F('"exp" claim must be a number',"exp","invalid");if(n.exp<=l-s)throw new M('"exp" claim timestamp check failed',"exp","check_failed")}if(r.maxTokenAge){var f=l-n.iat,d="number"===typeof r.maxTokenAge?r.maxTokenAge:vn(r.maxTokenAge);if(f-s>d)throw new M('"iat" claim timestamp check failed (too far in the past)',"iat","check_failed");if(f<0-s)throw new F('"iat" claim timestamp check failed (it should be in the past)',"iat","check_failed")}return n};function wn(e,t,n){return _n.apply(this,arguments)}function _n(){return(_n=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,un(t,n,r);case 2:if(s=e.sent,!(null===(i=s.protectedHeader.crit)||void 0===i?void 0:i.includes("b64"))||!1!==s.protectedHeader.b64){e.next=5;break}throw new B("JWTs MUST NOT use unencoded payload");case 5:if(u=mn(s.protectedHeader,s.payload,r),c={payload:u,protectedHeader:s.protectedHeader},"function"!==typeof n){e.next=9;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},c),{},{key:s.key}));case 9:return e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bn(e,t,n){return xn.apply(this,arguments)}function xn(){return(xn=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,s,u,c;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,It(t,n,r);case 2:if(i=e.sent,s=mn(i.protectedHeader,i.plaintext,r),void 0===(u=i.protectedHeader).iss||u.iss===s.iss){e.next=7;break}throw new F('replicated "iss" claim header parameter mismatch',"iss","mismatch");case 7:if(void 0===u.sub||u.sub===s.sub){e.next=9;break}throw new F('replicated "sub" claim header parameter mismatch',"sub","mismatch");case 9:if(void 0===u.aud||JSON.stringify(u.aud)===JSON.stringify(s.aud)){e.next=11;break}throw new F('replicated "aud" claim header parameter mismatch',"aud","mismatch");case 11:if(c={payload:s,protectedHeader:u},"function"!==typeof n){e.next=14;break}return e.abrupt("return",(0,a.Z)((0,a.Z)({},c),{},{key:i.key}));case 14:return e.abrupt("return",c);case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sn=function(){function e(t){(0,A.Z)(this,e),this._flattened=new Xt(t)}return(0,T.Z)(e,[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,n);case 2:return r=e.sent,e.abrupt("return",[r.protected,r.encrypted_key,r.iv,r.ciphertext,r.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),kn=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,nn(t,n,"sign");case 2:return i=e.sent,Ze(t,i),e.next=6,u.subtle.sign(tn(t,i.algorithm),i,r);case 6:return a=e.sent,e.abrupt("return",new Uint8Array(a));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),En=kn,Cn=function(){function e(t){if((0,A.Z)(this,e),!(t instanceof Uint8Array))throw new TypeError("payload must be an instance of Uint8Array");this._payload=t}return(0,T.Z)(e,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"sign",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i,s,u,c,l,f,p,g;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader){e.next=2;break}throw new Z("either setProtectedHeader or setUnprotectedHeader must be called before #sign()");case 2:if(be(this._protectedHeader,this._unprotectedHeader)){e.next=4;break}throw new Z("JWS Protected and JWS Unprotected Header Parameter names must be disjoint");case 4:if(r=(0,a.Z)((0,a.Z)({},this._protectedHeader),this._unprotectedHeader),i=Pt(Z,new Map([["b64",!0]]),null===n||void 0===n?void 0:n.crit,this._protectedHeader,r),s=!0,!i.has("b64")){e.next=11;break}if("boolean"===typeof(s=this._protectedHeader.b64)){e.next=11;break}throw new Z('The "b64" (base64url-encode payload) Header Parameter must be a boolean');case 11:if("string"===typeof(u=r.alg)&&u){e.next=14;break}throw new Z('JWS "alg" (Algorithm) Header Parameter missing or invalid');case 14:return pt(u,t,"sign"),c=this._payload,s&&(c=d.encode(k(c))),l=this._protectedHeader?d.encode(k(JSON.stringify(this._protectedHeader))):d.encode(""),f=v(l,d.encode("."),c),e.next=21,En(u,t,f);case 21:return p=e.sent,g={signature:k(p),payload:""},s&&(g.payload=h.decode(c)),this._unprotectedHeader&&(g.header=this._unprotectedHeader),this._protectedHeader&&(g.protected=h.decode(l)),e.abrupt("return",g);case 27:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Pn=function(){function e(t){(0,A.Z)(this,e),this._flattened=new Cn(t)}return(0,T.Z)(e,[{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"sign",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.sign(t,n);case 2:if(void 0!==(r=e.sent).payload){e.next=5;break}throw new TypeError("use the flattened module for creating JWS with b64: false");case 5:return e.abrupt("return","".concat(r.protected,".").concat(r.payload,".").concat(r.signature));case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),An=["payload"],Tn=function(){function e(t,n,r){(0,A.Z)(this,e),this.parent=t,this.key=n,this.options=r}return(0,T.Z)(e,[{key:"setProtectedHeader",value:function(e){if(this.protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this.protectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this.unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this.unprotectedHeader=e,this}},{key:"addSignature",value:function(){var e;return(e=this.parent).addSignature.apply(e,arguments)}},{key:"sign",value:function(){var e;return(e=this.parent).sign.apply(e,arguments)}},{key:"done",value:function(){return this.parent}}]),e}(),On=function(){function e(t){(0,A.Z)(this,e),this._signatures=[],this._payload=t}return(0,T.Z)(e,[{key:"addSignature",value:function(e,t){var n=new Tn(this,e,t);return this._signatures.push(n),n}},{key:"sign",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t,n,r,i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signatures.length){e.next=2;break}throw new Z("at least one signature must be added");case 2:t={signatures:[],payload:""},n=0;case 4:if(!(n<this._signatures.length)){e.next=24;break}return r=this._signatures[n],(i=new Cn(this._payload)).setProtectedHeader(r.protectedHeader),i.setUnprotectedHeader(r.unprotectedHeader),e.next=11,i.sign(r.key,r.options);case 11:if(a=e.sent,s=a.payload,u=(0,Dt.Z)(a,An),0!==n){e.next=18;break}t.payload=s,e.next=20;break;case 18:if(t.payload===s){e.next=20;break}throw new Z("inconsistent use of JWS Unencoded Payload Option (RFC7797)");case 20:t.signatures.push(u);case 21:n++,e.next=4;break;case 24:return e.abrupt("return",t);case 25:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),In=function(){function e(t){if((0,A.Z)(this,e),!xe(t))throw new TypeError("JWT Claims Set MUST be an object");this._payload=t}return(0,T.Z)(e,[{key:"setIssuer",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{iss:e}),this}},{key:"setSubject",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{sub:e}),this}},{key:"setAudience",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{aud:e}),this}},{key:"setJti",value:function(e){return this._payload=(0,a.Z)((0,a.Z)({},this._payload),{},{jti:e}),this}},{key:"setNotBefore",value:function(e){return this._payload="number"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{nbf:e}):(0,a.Z)((0,a.Z)({},this._payload),{},{nbf:dn(new Date)+vn(e)}),this}},{key:"setExpirationTime",value:function(e){return this._payload="number"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{exp:e}):(0,a.Z)((0,a.Z)({},this._payload),{},{exp:dn(new Date)+vn(e)}),this}},{key:"setIssuedAt",value:function(e){return this._payload="undefined"===typeof e?(0,a.Z)((0,a.Z)({},this._payload),{},{iat:dn(new Date)}):(0,a.Z)((0,a.Z)({},this._payload),{},{iat:e}),this}}]),e}(),Rn=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){return(0,A.Z)(this,n),t.apply(this,arguments)}return(0,T.Z)(n,[{key:"setProtectedHeader",value:function(e){return this._protectedHeader=e,this}},{key:"sign",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=new Pn(d.encode(JSON.stringify(this._payload)))).setProtectedHeader(this._protectedHeader),!Array.isArray(null===(r=this._protectedHeader)||void 0===r?void 0:r.crit)||!this._protectedHeader.crit.includes("b64")||!1!==this._protectedHeader.b64){e.next=4;break}throw new B("JWTs MUST NOT use unencoded payload");case 4:return e.abrupt("return",i.sign(t,n));case 5:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(In),Ln=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){return(0,A.Z)(this,n),t.apply(this,arguments)}return(0,T.Z)(n,[{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"replicateIssuerAsHeader",value:function(){return this._replicateIssuerAsHeader=!0,this}},{key:"replicateSubjectAsHeader",value:function(){return this._replicateSubjectAsHeader=!0,this}},{key:"replicateAudienceAsHeader",value:function(){return this._replicateAudienceAsHeader=!0,this}},{key:"encrypt",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Sn(d.encode(JSON.stringify(this._payload))),this._replicateIssuerAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{iss:this._payload.iss})),this._replicateSubjectAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{sub:this._payload.sub})),this._replicateAudienceAsHeader&&(this._protectedHeader=(0,a.Z)((0,a.Z)({},this._protectedHeader),{},{aud:this._payload.aud})),r.setProtectedHeader(this._protectedHeader),this._iv&&r.setInitializationVector(this._iv),this._cek&&r.setContentEncryptionKey(this._cek),this._keyManagementParameters&&r.setKeyManagementParameters(this._keyManagementParameters),e.abrupt("return",r.encrypt(t,n));case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),n}(In),Fn=function(e,t){if("string"!==typeof e||!e)throw new H("".concat(t," missing or invalid"))};function Mn(e,t){return jn.apply(this,arguments)}function jn(){return(jn=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(null!==n&&void 0!==n||(n="sha256"),"sha256"===n||"sha384"===n||"sha512"===n){e.next=5;break}throw new TypeError('digestAlgorithm must one of "sha256", "sha384", or "sha512"');case 5:e.t0=t.kty,e.next="EC"===e.t0?8:"OKP"===e.t0?13:"RSA"===e.t0?17:"oct"===e.t0?21:24;break;case 8:return Fn(t.crv,'"crv" (Curve) Parameter'),Fn(t.x,'"x" (X Coordinate) Parameter'),Fn(t.y,'"y" (Y Coordinate) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x,y:t.y},e.abrupt("break",25);case 13:return Fn(t.crv,'"crv" (Subtype of Key Pair) Parameter'),Fn(t.x,'"x" (Public Key) Parameter'),r={crv:t.crv,kty:t.kty,x:t.x},e.abrupt("break",25);case 17:return Fn(t.e,'"e" (Exponent) Parameter'),Fn(t.n,'"n" (Modulus) Parameter'),r={e:t.e,kty:t.kty,n:t.n},e.abrupt("break",25);case 21:return Fn(t.k,'"k" (Key Value) Parameter'),r={k:t.k,kty:t.kty},e.abrupt("break",25);case 24:throw new D('"kty" (Key Type) Parameter missing or unsupported');case 25:return i=d.encode(JSON.stringify(r)),e.t1=k,e.next=29,f(n,i);case 29:return e.t2=e.sent,e.abrupt("return",(0,e.t1)(e.t2));case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dn(e,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!==n&&void 0!==n||(n="sha256"),e.next=3,Mn(t,n);case 3:return r=e.sent,e.abrupt("return","urn:ietf:params:oauth:jwk-thumbprint:sha-".concat(n.slice(-3),":").concat(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Un(e,t){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(xe((r=(0,a.Z)((0,a.Z)({},t),n.header)).jwk)){e.next=3;break}throw new Z('"jwk" (JSON Web Key) Header Parameter must be a JSON object');case 3:return e.next=5,dt((0,a.Z)((0,a.Z)({},r.jwk),{},{ext:!0}),r.alg,!0);case 5:if(!((i=e.sent)instanceof Uint8Array||"public"!==i.type)){e.next=8;break}throw new Z('"jwk" (JSON Web Key) Header Parameter must be a public key');case 8:return e.abrupt("return",i);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bn(e){switch("string"===typeof e&&e.slice(0,2)){case"RS":case"PS":return"RSA";case"ES":return"EC";case"Ed":return"OKP";default:throw new D('Unsupported "alg" value for a JSON Web Key Set')}}function Hn(e){return e&&"object"===typeof e&&Array.isArray(e.keys)&&e.keys.every(zn)}function zn(e){return xe(e)}var Kn=function(){function e(t){if((0,A.Z)(this,e),this._cached=new WeakMap,!Hn(t))throw new z("JSON Web Key Set malformed");var n;this._jwks=(n=t,"function"===typeof structuredClone?structuredClone(n):JSON.parse(JSON.stringify(n)))}return(0,T.Z)(e,[{key:"getKey",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i,s,u,c,l,f,d,h;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(0,a.Z)((0,a.Z)({},t),n.header),i=r.alg,s=r.kid,u=Bn(i),c=this._jwks.keys.filter((function(e){var t=u===e.kty;if(t&&"string"===typeof s&&(t=s===e.kid),t&&"string"===typeof e.alg&&(t=i===e.alg),t&&"string"===typeof e.use&&(t="sig"===e.use),t&&Array.isArray(e.key_ops)&&(t=e.key_ops.includes("verify")),t&&"EdDSA"===i&&(t="Ed25519"===e.crv||"Ed448"===e.crv),t)switch(i){case"ES256":t="P-256"===e.crv;break;case"ES256K":t="secp256k1"===e.crv;break;case"ES384":t="P-384"===e.crv;break;case"ES512":t="P-521"===e.crv}return t})),l=c[0],0!==(f=c.length)){e.next=8;break}throw new K;case 8:if(1===f){e.next=10;break}throw new V;case 10:if(void 0!==(d=this._cached.get(l)||this._cached.set(l,{}).get(l))[i]){e.next=18;break}return e.next=14,dt((0,a.Z)((0,a.Z)({},l),{},{ext:!0}),i);case 14:if(!((h=e.sent)instanceof Uint8Array||"public"!==h.type)){e.next=17;break}throw new z("JSON Web Key Set members must be public keys");case 17:d[i]=h;case 18:return e.abrupt("return",d[i]);case 19:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function Vn(e){return Kn.prototype.getKey.bind(new Kn(e))}var Wn=n(1752),qn=n(1120),Gn=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,n,r){var i,a,s,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=!1,"function"===typeof AbortController&&(i=new AbortController,a=setTimeout((function(){s=!0,i.abort()}),n)),e.next=4,fetch(t.href,{signal:i?i.signal:void 0,redirect:"manual",headers:r.headers}).catch((function(e){if(s)throw new W;throw e}));case 4:if(u=e.sent,void 0!==a&&clearTimeout(a),200===u.status){e.next=8;break}throw new L("Expected 200 OK from the JSON Web Key Set HTTP response");case 8:return e.prev=8,e.next=11,u.json();case 11:return e.abrupt("return",e.sent);case 14:throw e.prev=14,e.t0=e.catch(8),new L("Failed to parse the JSON Web Key Set HTTP response as JSON");case 17:case"end":return e.stop()}}),e,null,[[8,14]])})));return function(t,n,r){return e.apply(this,arguments)}}(),Jn=Gn,Qn=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(e,r){var i;if((0,A.Z)(this,n),(i=t.call(this,{keys:[]}))._jwks=void 0,!(e instanceof URL))throw new TypeError("url must be an instance of URL");return i._url=new URL(e.href),i._options={agent:null===r||void 0===r?void 0:r.agent,headers:null===r||void 0===r?void 0:r.headers},i._timeoutDuration="number"===typeof(null===r||void 0===r?void 0:r.timeoutDuration)?null===r||void 0===r?void 0:r.timeoutDuration:5e3,i._cooldownDuration="number"===typeof(null===r||void 0===r?void 0:r.cooldownDuration)?null===r||void 0===r?void 0:r.cooldownDuration:3e4,i._cacheMaxAge="number"===typeof(null===r||void 0===r?void 0:r.cacheMaxAge)?null===r||void 0===r?void 0:r.cacheMaxAge:6e5,i}return(0,T.Z)(n,[{key:"coolingDown",value:function(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cooldownDuration}},{key:"fresh",value:function(){return"number"===typeof this._jwksTimestamp&&Date.now()<this._jwksTimestamp+this._cacheMaxAge}},{key:"getKey",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(t,r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._jwks&&this.fresh()){e.next=3;break}return e.next=3,this.reload();case 3:return e.prev=3,e.next=6,(0,Wn.Z)((0,qn.Z)(n.prototype),"getKey",this).call(this,t,r);case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof K)){e.next=16;break}if(!1!==this.coolingDown()){e.next=16;break}return e.next=15,this.reload();case 15:return e.abrupt("return",(0,Wn.Z)((0,qn.Z)(n.prototype),"getKey",this).call(this,t,r));case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,this,[[3,9]])})));return function(t,n){return e.apply(this,arguments)}}()},{key:"reload",value:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var t=this;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._pendingFetch||!ee()){e.next=2;break}return e.abrupt("return",new Promise((function(e){!function n(){void 0===t._pendingFetch?e():setTimeout(n,5)}()})));case 2:return this._pendingFetch||(this._pendingFetch=Jn(this._url,this._timeoutDuration,this._options).then((function(e){if(!Hn(e))throw new z("JSON Web Key Set malformed");t._jwks={keys:e.keys},t._jwksTimestamp=Date.now(),t._pendingFetch=void 0})).catch((function(e){throw t._pendingFetch=void 0,e}))),e.next=5,this._pendingFetch;case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Kn);function Yn(e,t){return Qn.prototype.getKey.bind(new Qn(e,t))}var Xn=function(e){(0,I.Z)(n,e);var t=(0,R.Z)(n);function n(){return(0,A.Z)(this,n),t.apply(this,arguments)}return(0,T.Z)(n,[{key:"encode",value:function(){var e=k(JSON.stringify({alg:"none"})),t=k(JSON.stringify(this._payload));return"".concat(e,".").concat(t,".")}}],[{key:"decode",value:function(e,t){if("string"!==typeof e)throw new B("Unsecured JWT must be a string");var n,r=e.split("."),i=r[0],o=r[1],a=r[2];if(3!==r.length||""!==a)throw new B("Invalid Unsecured JWT");try{if("none"!==(n=JSON.parse(h.decode(C(i)))).alg)throw new Error}catch(s){throw new B("Invalid Unsecured JWT")}return{payload:mn(n,C(o),t),header:n}}}]),n}(In),$n=k,er=C;function tr(e){var t;if("string"===typeof e){var n=e.split(".");if(3===n.length||5===n.length)t=(0,jt.Z)(n,1)[0]}else if("object"===typeof e&&e){if(!("protected"in e))throw new TypeError("Token does not contain a Protected Header");t=e.protected}try{if("string"!==typeof t||!t)throw new Error;var r=JSON.parse(h.decode(er(t)));if(!xe(r))throw new Error;return r}catch(i){throw new TypeError("Invalid Token or Protected Header formatting")}}function nr(e){if("string"!==typeof e)throw new B("JWTs must use Compact JWS serialization, JWT must be a string");var t,n,r=e.split("."),i=r[1],o=r.length;if(5===o)throw new B("Only JWTs using Compact JWS serialization can be decoded");if(3!==o)throw new B("Invalid JWT");if(!i)throw new B("JWTs must contain a payload");try{t=er(i)}catch(a){throw new B("Failed to parse the base64url encoded payload")}try{n=JSON.parse(h.decode(t))}catch(s){throw new B("Failed to parse the decoded payload as JSON")}if(!xe(n))throw new B("Invalid JWT Claims Set");return n}function rr(e,t){return ir.apply(this,arguments)}function ir(){return(ir=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="HS256"===e.t0||"HS384"===e.t0||"HS512"===e.t0?3:"A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?7:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?9:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0||"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?13:17;break;case 3:return i=parseInt(t.slice(-3),10),a={name:"HMAC",hash:"SHA-".concat(i),length:i},s=["sign","verify"],e.abrupt("break",18);case 7:return i=parseInt(t.slice(-3),10),e.abrupt("return",G(new Uint8Array(i>>3)));case 9:return i=parseInt(t.slice(1,4),10),a={name:"AES-KW",length:i},s=["wrapKey","unwrapKey"],e.abrupt("break",18);case 13:return i=parseInt(t.slice(1,4),10),a={name:"AES-GCM",length:i},s=["encrypt","decrypt"],e.abrupt("break",18);case 17:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');case 18:return e.abrupt("return",u.subtle.generateKey(a,null!==(r=null===n||void 0===n?void 0:n.extractable)&&void 0!==r&&r,s));case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function or(e){var t,n=null!==(t=null===e||void 0===e?void 0:e.modulusLength)&&void 0!==t?t:2048;if("number"!==typeof n||n<2048)throw new D("Invalid or unsupported modulusLength option provided, 2048 bits or larger keys must be used");return n}function ar(e,t){return sr.apply(this,arguments)}function sr(){return(sr=(0,s.Z)((0,o.Z)().mark((function e(t,n){var r,i,a,s,c,l,f;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="PS256"===e.t0||"PS384"===e.t0||"PS512"===e.t0?3:"RS256"===e.t0||"RS384"===e.t0||"RS512"===e.t0?6:"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?9:"ES256"===e.t0?12:"ES384"===e.t0?15:"ES512"===e.t0?18:e.t0===(ee()&&"EdDSA")?21:"EdDSA"===e.t0?29:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?38:49;break;case 3:return s={name:"RSA-PSS",hash:"SHA-".concat(t.slice(-3)),publicExponent:new Uint8Array([1,0,1]),modulusLength:or(n)},c=["sign","verify"],e.abrupt("break",50);case 6:return s={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(t.slice(-3)),publicExponent:new Uint8Array([1,0,1]),modulusLength:or(n)},c=["sign","verify"],e.abrupt("break",50);case 9:return s={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(t.slice(-3),10)||1),publicExponent:new Uint8Array([1,0,1]),modulusLength:or(n)},c=["decrypt","unwrapKey","encrypt","wrapKey"],e.abrupt("break",50);case 12:return s={name:"ECDSA",namedCurve:"P-256"},c=["sign","verify"],e.abrupt("break",50);case 15:return s={name:"ECDSA",namedCurve:"P-384"},c=["sign","verify"],e.abrupt("break",50);case 18:return s={name:"ECDSA",namedCurve:"P-521"},c=["sign","verify"],e.abrupt("break",50);case 21:e.t1=null===n||void 0===n?void 0:n.crv,e.next=void 0===e.t1||"Ed25519"===e.t1?24:27;break;case 24:return s={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},c=["sign","verify"],e.abrupt("break",28);case 27:case 36:throw new D("Invalid or unsupported crv option provided");case 28:case 37:case 48:return e.abrupt("break",50);case 29:c=["sign","verify"],l=null!==(r=null===n||void 0===n?void 0:n.crv)&&void 0!==r?r:"Ed25519",e.t2=l,e.next="Ed25519"===e.t2||"Ed448"===e.t2?34:36;break;case 34:return s={name:l},e.abrupt("break",37);case 38:c=["deriveKey","deriveBits"],f=null!==(i=null===n||void 0===n?void 0:n.crv)&&void 0!==i?i:"P-256",e.t3=f,e.next="P-256"===e.t3||"P-384"===e.t3||"P-521"===e.t3?43:"X25519"===e.t3||"X448"===e.t3?45:47;break;case 43:return s={name:"ECDH",namedCurve:f},e.abrupt("break",48);case 45:return s={name:f},e.abrupt("break",48);case 47:throw new D("Invalid or unsupported crv option provided, supported values are P-256, P-384, P-521, X25519, and X448");case 49:throw new D('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');case 50:return e.abrupt("return",u.subtle.generateKey(s,null!==(a=null===n||void 0===n?void 0:n.extractable)&&void 0!==a&&a,c));case 51:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ur(e,t){return cr.apply(this,arguments)}function cr(){return(cr=(0,s.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lr(e,t){return fr.apply(this,arguments)}function fr(){return(fr=(0,s.Z)((0,o.Z)().mark((function e(t,n){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",rr(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var o=Object.create(null);n.r(o);var a={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){a[e]=function(){return r[e]}}));return a.default=function(){return r},n.d(o,a),o}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".a965d414.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="sleepy.bike:";n.l=function(r,i,o,a){if(e[r])e[r].push(i);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+o){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=r),e[r]=[i];var d=function(t,n){s.onerror=s.onload=null,clearTimeout(h);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=d.bind(null,s.onerror),s.onload=d.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},n.p="/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var o=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=o);var a=n.p+n.u(t),s=new Error;n.l(a,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=r&&("load"===r.type?"missing":r.type),a=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",s.name="ChunkLoadError",s.type=o,s.request=a,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,o,a=r[0],s=r[1],u=r[2],c=0;if(a.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<a.length;c++)o=a[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},r=self.webpackChunksleepy_bike=self.webpackChunksleepy_bike||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(1413),t=n(9439),r=n(5671),i=n(3144),o="undefined"===typeof window||"Deno"in window;function a(){}function s(e){return"number"===typeof e&&e>=0&&e!==1/0}function u(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))}function c(e,t){return Math.max(e+(t||0)-Date.now(),0)}function l(t,n,r){return S(t)?"function"===typeof n?(0,e.Z)((0,e.Z)({},r),{},{queryKey:t,queryFn:n}):(0,e.Z)((0,e.Z)({},n),{},{queryKey:t}):t}function f(t,n,r){return S(t)?[(0,e.Z)((0,e.Z)({},n),{},{queryKey:t}),r]:[t||{},n]}function d(e,t){var n=e.type,r=void 0===n?"all":n,i=e.exact,o=e.fetchStatus,a=e.predicate,s=e.queryKey,u=e.stale;if(S(s))if(i){if(t.queryHash!==p(s,t.options))return!1}else if(!g(t.queryKey,s))return!1;if("all"!==r){var c=t.isActive();if("active"===r&&!c)return!1;if("inactive"===r&&c)return!1}return("boolean"!==typeof u||t.isStale()===u)&&(("undefined"===typeof o||o===t.state.fetchStatus)&&!(a&&!a(t)))}function h(e,t){var n=e.exact,r=e.fetching,i=e.predicate,o=e.mutationKey;if(S(o)){if(!t.options.mutationKey)return!1;if(n){if(v(t.options.mutationKey)!==v(o))return!1}else if(!g(t.options.mutationKey,o))return!1}return("boolean"!==typeof r||"loading"===t.state.status===r)&&!(i&&!i(t))}function p(e,t){return((null==t?void 0:t.queryKeyHashFn)||v)(e)}function v(e){return JSON.stringify(e,(function(e,t){return b(t)?Object.keys(t).sort().reduce((function(e,n){return e[n]=t[n],e}),{}):t}))}function g(e,t){return y(e,t)}function y(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&!Object.keys(t).some((function(n){return!y(e[n],t[n])})))}function m(e,t){if(e===t)return e;var n=_(e)&&_(t);if(n||b(e)&&b(t)){for(var r=n?e.length:Object.keys(e).length,i=n?t:Object.keys(t),o=i.length,a=n?[]:{},s=0,u=0;u<o;u++){var c=n?u:i[u];a[c]=m(e[c],t[c]),a[c]===e[c]&&s++}return r===o&&s===r?e:a}return t}function w(e,t){if(e&&!t||t&&!e)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}function _(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function b(e){if(!x(e))return!1;var t=e.constructor;if("undefined"===typeof t)return!0;var n=t.prototype;return!!x(n)&&!!n.hasOwnProperty("isPrototypeOf")}function x(e){return"[object Object]"===Object.prototype.toString.call(e)}function S(e){return Array.isArray(e)}function k(e){return new Promise((function(t){setTimeout(t,e)}))}function E(e){k(0).then(e)}function C(e,t,n){return null!=n.isDataEqual&&n.isDataEqual(e,t)?e:"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?m(e,t):t}var P=n(136),A=n(9388),T=n(1752),O=n(1120),I=console;var R=function(){var e=[],t=0,n=function(e){e()},r=function(e){e()},i=function(r){t?e.push(r):E((function(){n(r)}))},o=function(){var t=e;e=[],t.length&&E((function(){r((function(){t.forEach((function(e){n(e)}))}))}))};return{batch:function(e){var n;t++;try{n=e()}finally{--t||o()}return n},batchCalls:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i((function(){e.apply(void 0,n)}))}},schedule:i,setNotifyFunction:function(e){n=e},setBatchNotifyFunction:function(e){r=e}}}(),L=function(){function e(){(0,r.Z)(this,e),this.listeners=[],this.subscribe=this.subscribe.bind(this)}return(0,i.Z)(e,[{key:"subscribe",value:function(e){var t=this;return this.listeners.push(e),this.onSubscribe(),function(){t.listeners=t.listeners.filter((function(t){return t!==e})),t.onUnsubscribe()}}},{key:"hasListeners",value:function(){return this.listeners.length>0}},{key:"onSubscribe",value:function(){}},{key:"onUnsubscribe",value:function(){}}]),e}(),F=function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).setup=function(e){if(!o&&window.addEventListener){var t=function(){return e()};return window.addEventListener("visibilitychange",t,!1),window.addEventListener("focus",t,!1),function(){window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}},e}return(0,i.Z)(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setFocused(e):n.onFocus()}))}},{key:"setFocused",value:function(e){this.focused=e,e&&this.onFocus()}},{key:"onFocus",value:function(){this.listeners.forEach((function(e){e()}))}},{key:"isFocused",value:function(){return"boolean"===typeof this.focused?this.focused:"undefined"===typeof document||[void 0,"visible","prerender"].includes(document.visibilityState)}}]),n}(L),M=new F,j=function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(){var e;return(0,r.Z)(this,n),(e=t.call(this)).setup=function(e){if(!o&&window.addEventListener){var t=function(){return e()};return window.addEventListener("online",t,!1),window.addEventListener("offline",t,!1),function(){window.removeEventListener("online",t),window.removeEventListener("offline",t)}}},e}return(0,i.Z)(n,[{key:"onSubscribe",value:function(){this.cleanup||this.setEventListener(this.setup)}},{key:"onUnsubscribe",value:function(){var e;this.hasListeners()||(null==(e=this.cleanup)||e.call(this),this.cleanup=void 0)}},{key:"setEventListener",value:function(e){var t,n=this;this.setup=e,null==(t=this.cleanup)||t.call(this),this.cleanup=e((function(e){"boolean"===typeof e?n.setOnline(e):n.onOnline()}))}},{key:"setOnline",value:function(e){this.online=e,e&&this.onOnline()}},{key:"onOnline",value:function(){this.listeners.forEach((function(e){e()}))}},{key:"isOnline",value:function(){return"boolean"===typeof this.online?this.online:"undefined"===typeof navigator||"undefined"===typeof navigator.onLine||navigator.onLine}}]),n}(L),D=new j;function N(e){return Math.min(1e3*Math.pow(2,e),3e4)}function U(e){return"online"!==(null!=e?e:"online")||D.isOnline()}var Z=(0,i.Z)((function e(t){(0,r.Z)(this,e),this.revert=null==t?void 0:t.revert,this.silent=null==t?void 0:t.silent}));function B(e){return e instanceof Z}function H(e){var t,n,r,i=!1,o=0,a=!1,s=new Promise((function(e,t){n=e,r=t})),u=function(){return!M.isFocused()||"always"!==e.networkMode&&!D.isOnline()},c=function(r){a||(a=!0,null==e.onSuccess||e.onSuccess(r),null==t||t(),n(r))},l=function(n){a||(a=!0,null==e.onError||e.onError(n),null==t||t(),r(n))},f=function(){return new Promise((function(n){t=function(e){var t=a||!u();return t&&n(e),t},null==e.onPause||e.onPause()})).then((function(){t=void 0,a||null==e.onContinue||e.onContinue()}))},d=function t(){if(!a){var n;try{n=e.fn()}catch(r){n=Promise.reject(r)}Promise.resolve(n).then(c).catch((function(n){var r,s;if(!a){var c=null!=(r=e.retry)?r:3,d=null!=(s=e.retryDelay)?s:N,h="function"===typeof d?d(o,n):d,p=!0===c||"number"===typeof c&&o<c||"function"===typeof c&&c(o,n);!i&&p?(o++,null==e.onFail||e.onFail(o,n),k(h).then((function(){if(u())return f()})).then((function(){i?l(n):t()}))):l(n)}}))}};return U(e.networkMode)?d():f().then(d),{promise:s,cancel:function(t){a||(l(new Z(t)),null==e.abort||e.abort())},continue:function(){return(null==t?void 0:t())?s:Promise.resolve()},cancelRetry:function(){i=!0},continueRetry:function(){i=!1}}}var z=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"destroy",value:function(){this.clearGcTimeout()}},{key:"scheduleGc",value:function(){var e=this;this.clearGcTimeout(),s(this.cacheTime)&&(this.gcTimeout=setTimeout((function(){e.optionalRemove()}),this.cacheTime))}},{key:"updateCacheTime",value:function(e){this.cacheTime=Math.max(this.cacheTime||0,null!=e?e:o?1/0:3e5)}},{key:"clearGcTimeout",value:function(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}]),e}(),K=function(t){(0,P.Z)(o,t);var n=(0,A.Z)(o);function o(e){var t;return(0,r.Z)(this,o),(t=n.call(this)).abortSignalConsumed=!1,t.defaultOptions=e.defaultOptions,t.setOptions(e.options),t.observers=[],t.cache=e.cache,t.logger=e.logger||I,t.queryKey=e.queryKey,t.queryHash=e.queryHash,t.initialState=e.state||function(e){var t="function"===typeof e.initialData?e.initialData():e.initialData,n="undefined"!==typeof t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?null!=r?r:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}(t.options),t.state=t.initialState,t.scheduleGc(),t}return(0,i.Z)(o,[{key:"meta",get:function(){return this.options.meta}},{key:"setOptions",value:function(t){this.options=(0,e.Z)((0,e.Z)({},this.defaultOptions),t),this.updateCacheTime(this.options.cacheTime)}},{key:"optionalRemove",value:function(){this.observers.length||"idle"!==this.state.fetchStatus||this.cache.remove(this)}},{key:"setData",value:function(e,t){var n=C(this.state.data,e,this.options);return this.dispatch({data:n,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),n}},{key:"setState",value:function(e,t){this.dispatch({type:"setState",state:e,setStateOptions:t})}},{key:"cancel",value:function(e){var t,n=this.promise;return null==(t=this.retryer)||t.cancel(e),n?n.then(a).catch(a):Promise.resolve()}},{key:"destroy",value:function(){(0,T.Z)((0,O.Z)(o.prototype),"destroy",this).call(this),this.cancel({silent:!0})}},{key:"reset",value:function(){this.destroy(),this.setState(this.initialState)}},{key:"isActive",value:function(){return this.observers.some((function(e){return!1!==e.options.enabled}))}},{key:"isDisabled",value:function(){return this.getObserversCount()>0&&!this.isActive()}},{key:"isStale",value:function(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some((function(e){return e.getCurrentResult().isStale}))}},{key:"isStaleByTime",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.state.isInvalidated||!this.state.dataUpdatedAt||!c(this.state.dataUpdatedAt,e)}},{key:"onFocus",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnWindowFocus()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"onOnline",value:function(){var e,t=this.observers.find((function(e){return e.shouldFetchOnReconnect()}));t&&t.refetch({cancelRefetch:!1}),null==(e=this.retryer)||e.continue()}},{key:"addObserver",value:function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}},{key:"removeObserver",value:function(e){-1!==this.observers.indexOf(e)&&(this.observers=this.observers.filter((function(t){return t!==e})),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}},{key:"getObserversCount",value:function(){return this.observers.length}},{key:"invalidate",value:function(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}},{key:"fetch",value:function(e,t){var n,r,i=this;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var o;return null==(o=this.retryer)||o.continueRetry(),this.promise}if(e&&this.setOptions(e),!this.options.queryFn){var a=this.observers.find((function(e){return e.options.queryFn}));a&&this.setOptions(a.options)}Array.isArray(this.options.queryKey);var s=function(){if("function"===typeof AbortController)return new AbortController}(),u={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=function(e){Object.defineProperty(e,"signal",{enumerable:!0,get:function(){if(s)return i.abortSignalConsumed=!0,s.signal}})};c(u);var l,f={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:function(){return i.options.queryFn?(i.abortSignalConsumed=!1,i.options.queryFn(u)):Promise.reject("Missing queryFn")}};(c(f),null==(n=this.options.behavior)||n.onFetch(f),this.revertState=this.state,"idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(r=f.fetchOptions)?void 0:r.meta))&&this.dispatch({type:"fetch",meta:null==(l=f.fetchOptions)?void 0:l.meta});var d=function(e){var t,n,r,o;(B(e)&&e.silent||i.dispatch({type:"error",error:e}),B(e))||(null==(t=(n=i.cache.config).onError)||t.call(n,e,i),null==(r=(o=i.cache.config).onSettled)||r.call(o,i.state.data,e,i));i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1};return this.retryer=H({fn:f.fetchFn,abort:null==s?void 0:s.abort.bind(s),onSuccess:function(e){var t,n,r,o;"undefined"!==typeof e?(i.setData(e),null==(t=(n=i.cache.config).onSuccess)||t.call(n,e,i),null==(r=(o=i.cache.config).onSettled)||r.call(o,e,i.state.error,i),i.isFetchingOptimistic||i.scheduleGc(),i.isFetchingOptimistic=!1):d(new Error("undefined"))},onError:d,onFail:function(e,t){i.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){i.dispatch({type:"pause"})},onContinue:function(){i.dispatch({type:"continue"})},retry:f.options.retry,retryDelay:f.options.retryDelay,networkMode:f.options.networkMode}),this.promise=this.retryer.promise,this.promise}},{key:"dispatch",value:function(t){var n=this;this.state=function(r){var i,o;switch(t.type){case"failed":return(0,e.Z)((0,e.Z)({},r),{},{fetchFailureCount:t.failureCount,fetchFailureReason:t.error});case"pause":return(0,e.Z)((0,e.Z)({},r),{},{fetchStatus:"paused"});case"continue":return(0,e.Z)((0,e.Z)({},r),{},{fetchStatus:"fetching"});case"fetch":return(0,e.Z)((0,e.Z)({},r),{},{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(i=t.meta)?i:null,fetchStatus:U(n.options.networkMode)?"fetching":"paused"},!r.dataUpdatedAt&&{error:null,status:"loading"});case"success":return(0,e.Z)((0,e.Z)({},r),{},{data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:null!=(o=t.dataUpdatedAt)?o:Date.now(),error:null,isInvalidated:!1,status:"success"},!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":var a=t.error;return B(a)&&a.revert&&n.revertState?(0,e.Z)({},n.revertState):(0,e.Z)((0,e.Z)({},r),{},{error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"});case"invalidate":return(0,e.Z)((0,e.Z)({},r),{},{isInvalidated:!0});case"setState":return(0,e.Z)((0,e.Z)({},r),t.state)}}(this.state),R.batch((function(){n.observers.forEach((function(e){e.onQueryUpdate(t)})),n.cache.notify({query:n,type:"updated",action:t})}))}}]),o}(z);var V=function(e){(0,P.Z)(o,e);var n=(0,A.Z)(o);function o(e){var t;return(0,r.Z)(this,o),(t=n.call(this)).config=e||{},t.queries=[],t.queriesMap={},t}return(0,i.Z)(o,[{key:"build",value:function(e,t,n){var r,i=t.queryKey,o=null!=(r=t.queryHash)?r:p(i,t),a=this.get(o);return a||(a=new K({cache:this,logger:e.getLogger(),queryKey:i,queryHash:o,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}},{key:"add",value:function(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}},{key:"remove",value:function(e){var t=this.queriesMap[e.queryHash];t&&(e.destroy(),this.queries=this.queries.filter((function(t){return t!==e})),t===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}},{key:"clear",value:function(){var e=this;R.batch((function(){e.queries.forEach((function(t){e.remove(t)}))}))}},{key:"get",value:function(e){return this.queriesMap[e]}},{key:"getAll",value:function(){return this.queries}},{key:"find",value:function(e,n){var r=f(e,n),i=(0,t.Z)(r,1)[0];return"undefined"===typeof i.exact&&(i.exact=!0),this.queries.find((function(e){return d(i,e)}))}},{key:"findAll",value:function(e,n){var r=f(e,n),i=(0,t.Z)(r,1)[0];return Object.keys(i).length>0?this.queries.filter((function(e){return d(i,e)})):this.queries}},{key:"notify",value:function(e){var t=this;R.batch((function(){t.listeners.forEach((function(t){t(e)}))}))}},{key:"onFocus",value:function(){var e=this;R.batch((function(){e.queries.forEach((function(e){e.onFocus()}))}))}},{key:"onOnline",value:function(){var e=this;R.batch((function(){e.queries.forEach((function(e){e.onOnline()}))}))}}]),o}(L),W=n(4165),q=n(5861),G=function(t){(0,P.Z)(o,t);var n=(0,A.Z)(o);function o(e){var t;return(0,r.Z)(this,o),(t=n.call(this)).defaultOptions=e.defaultOptions,t.mutationId=e.mutationId,t.mutationCache=e.mutationCache,t.logger=e.logger||I,t.observers=[],t.state=e.state||J(),t.setOptions(e.options),t.scheduleGc(),t}return(0,i.Z)(o,[{key:"setOptions",value:function(t){this.options=(0,e.Z)((0,e.Z)({},this.defaultOptions),t),this.updateCacheTime(this.options.cacheTime)}},{key:"meta",get:function(){return this.options.meta}},{key:"setState",value:function(e){this.dispatch({type:"setState",state:e})}},{key:"addObserver",value:function(e){-1===this.observers.indexOf(e)&&(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}},{key:"removeObserver",value:function(e){this.observers=this.observers.filter((function(t){return t!==e})),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}},{key:"optionalRemove",value:function(){this.observers.length||("loading"===this.state.status?this.scheduleGc():this.mutationCache.remove(this))}},{key:"continue",value:function(){var e,t;return null!=(e=null==(t=this.retryer)?void 0:t.continue())?e:this.execute()}},{key:"execute",value:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(){var t,n,r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,k,E=this;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=function(){var e;return E.retryer=H({fn:function(){return E.options.mutationFn?E.options.mutationFn(E.state.variables):Promise.reject("No mutationFn found")},onFail:function(e,t){E.dispatch({type:"failed",failureCount:e,error:t})},onPause:function(){E.dispatch({type:"pause"})},onContinue:function(){E.dispatch({type:"continue"})},retry:null!=(e=E.options.retry)?e:0,retryDelay:E.options.retryDelay,networkMode:E.options.networkMode}),E.retryer.promise},n="loading"===this.state.status,e.prev=2,n){e.next=11;break}return this.dispatch({type:"loading",variables:this.options.variables}),e.next=7,null==(f=(d=this.mutationCache.config).onMutate)?void 0:f.call(d,this.state.variables,this);case 7:return e.next=9,null==(h=(p=this.options).onMutate)?void 0:h.call(p,this.state.variables);case 9:(v=e.sent)!==this.state.context&&this.dispatch({type:"loading",context:v,variables:this.state.variables});case 11:return e.next=13,t();case 13:return g=e.sent,e.next=16,null==(r=(i=this.mutationCache.config).onSuccess)?void 0:r.call(i,g,this.state.variables,this.state.context,this);case 16:return e.next=18,null==(o=(a=this.options).onSuccess)?void 0:o.call(a,g,this.state.variables,this.state.context);case 18:return e.next=20,null==(s=(u=this.mutationCache.config).onSettled)?void 0:s.call(u,g,null,this.state.variables,this.state.context,this);case 20:return e.next=22,null==(c=(l=this.options).onSettled)?void 0:c.call(l,g,null,this.state.variables,this.state.context);case 22:return this.dispatch({type:"success",data:g}),e.abrupt("return",g);case 26:return e.prev=26,e.t0=e.catch(2),e.prev=28,e.next=31,null==(y=(m=this.mutationCache.config).onError)?void 0:y.call(m,e.t0,this.state.variables,this.state.context,this);case 31:return e.next=34,null==(w=(_=this.options).onError)?void 0:w.call(_,e.t0,this.state.variables,this.state.context);case 34:return e.next=36,null==(b=(x=this.mutationCache.config).onSettled)?void 0:b.call(x,void 0,e.t0,this.state.variables,this.state.context,this);case 36:return e.next=38,null==(S=(k=this.options).onSettled)?void 0:S.call(k,void 0,e.t0,this.state.variables,this.state.context);case 38:throw e.t0;case 39:return e.prev=39,this.dispatch({type:"error",error:e.t0}),e.finish(39);case 42:case"end":return e.stop()}}),e,this,[[2,26],[28,,39,42]])})));return function(){return e.apply(this,arguments)}}()},{key:"dispatch",value:function(t){var n=this;this.state=function(r){switch(t.type){case"failed":return(0,e.Z)((0,e.Z)({},r),{},{failureCount:t.failureCount,failureReason:t.error});case"pause":return(0,e.Z)((0,e.Z)({},r),{},{isPaused:!0});case"continue":return(0,e.Z)((0,e.Z)({},r),{},{isPaused:!1});case"loading":return(0,e.Z)((0,e.Z)({},r),{},{context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!U(n.options.networkMode),status:"loading",variables:t.variables});case"success":return(0,e.Z)((0,e.Z)({},r),{},{data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return(0,e.Z)((0,e.Z)({},r),{},{data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"});case"setState":return(0,e.Z)((0,e.Z)({},r),t.state)}}(this.state),R.batch((function(){n.observers.forEach((function(e){e.onMutationUpdate(t)})),n.mutationCache.notify({mutation:n,type:"updated",action:t})}))}}]),o}(z);function J(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}var Q=function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this)).config=e||{},i.mutations=[],i.mutationId=0,i}return(0,i.Z)(n,[{key:"build",value:function(e,t,n){var r=new G({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(t),state:n,defaultOptions:t.mutationKey?e.getMutationDefaults(t.mutationKey):void 0});return this.add(r),r}},{key:"add",value:function(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}},{key:"remove",value:function(e){this.mutations=this.mutations.filter((function(t){return t!==e})),this.notify({type:"removed",mutation:e})}},{key:"clear",value:function(){var e=this;R.batch((function(){e.mutations.forEach((function(t){e.remove(t)}))}))}},{key:"getAll",value:function(){return this.mutations}},{key:"find",value:function(e){return"undefined"===typeof e.exact&&(e.exact=!0),this.mutations.find((function(t){return h(e,t)}))}},{key:"findAll",value:function(e){return this.mutations.filter((function(t){return h(e,t)}))}},{key:"notify",value:function(e){var t=this;R.batch((function(){t.listeners.forEach((function(t){t(e)}))}))}},{key:"resumePausedMutations",value:function(){var e,t=this;return this.resuming=(null!=(e=this.resuming)?e:Promise.resolve()).then((function(){var e=t.mutations.filter((function(e){return e.state.isPaused}));return R.batch((function(){return e.reduce((function(e,t){return e.then((function(){return t.continue().catch(a)}))}),Promise.resolve())}))})).then((function(){t.resuming=void 0})),this.resuming}}]),n}(L),Y=n(3433);function X(){return{onFetch:function(e){e.fetchFn=function(){var t,n,r,i,o,a,s,u=null==(t=e.fetchOptions)||null==(n=t.meta)?void 0:n.refetchPage,c=null==(r=e.fetchOptions)||null==(i=r.meta)?void 0:i.fetchMore,l=null==c?void 0:c.pageParam,f="forward"===(null==c?void 0:c.direction),d="backward"===(null==c?void 0:c.direction),h=(null==(o=e.state.data)?void 0:o.pages)||[],p=(null==(a=e.state.data)?void 0:a.pageParams)||[],v=p,g=!1,y=e.options.queryFn||function(){return Promise.reject("Missing queryFn")},m=function(e,t,n,r){return v=r?[t].concat((0,Y.Z)(v)):[].concat((0,Y.Z)(v),[t]),r?[n].concat((0,Y.Z)(e)):[].concat((0,Y.Z)(e),[n])},w=function(t,n,r,i){if(g)return Promise.reject("Cancelled");if("undefined"===typeof r&&!n&&t.length)return Promise.resolve(t);var o={queryKey:e.queryKey,pageParam:r,meta:e.options.meta};!function(t){Object.defineProperty(t,"signal",{enumerable:!0,get:function(){var t,n;return null!=(t=e.signal)&&t.aborted?g=!0:null==(n=e.signal)||n.addEventListener("abort",(function(){g=!0})),e.signal}})}(o);var a=y(o),s=Promise.resolve(a).then((function(e){return m(t,r,e,i)}));return s};if(h.length)if(f){var _="undefined"!==typeof l,b=_?l:$(e.options,h);s=w(h,_,b)}else if(d){var x="undefined"!==typeof l,S=x?l:ee(e.options,h);s=w(h,x,S,!0)}else{v=[];var k="undefined"===typeof e.options.getNextPageParam,E=!u||!h[0]||u(h[0],0,h);s=E?w([],k,p[0]):Promise.resolve(m([],p[0],h[0]));for(var C=function(t){s=s.then((function(n){if(!u||!h[t]||u(h[t],t,h)){var r=k?p[t]:$(e.options,n);return w(n,k,r)}return Promise.resolve(m(n,p[t],h[t]))}))},P=1;P<h.length;P++)C(P)}else s=w([]);return s.then((function(e){return{pages:e,pageParams:v}}))}}}}function $(e,t){return null==e.getNextPageParam?void 0:e.getNextPageParam(t[t.length-1],t)}function ee(e,t){return null==e.getPreviousPageParam?void 0:e.getPreviousPageParam(t[0],t)}var te=function(){function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(0,r.Z)(this,n),this.queryCache=e.queryCache||new V,this.mutationCache=e.mutationCache||new Q,this.logger=e.logger||I,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}return(0,i.Z)(n,[{key:"mount",value:function(){var e=this;this.mountCount++,1===this.mountCount&&(this.unsubscribeFocus=M.subscribe((function(){M.isFocused()&&(e.resumePausedMutations(),e.queryCache.onFocus())})),this.unsubscribeOnline=D.subscribe((function(){D.isOnline()&&(e.resumePausedMutations(),e.queryCache.onOnline())})))}},{key:"unmount",value:function(){var e,t;this.mountCount--,0===this.mountCount&&(null==(e=this.unsubscribeFocus)||e.call(this),this.unsubscribeFocus=void 0,null==(t=this.unsubscribeOnline)||t.call(this),this.unsubscribeOnline=void 0)}},{key:"isFetching",value:function(e,n){var r=f(e,n),i=(0,t.Z)(r,1)[0];return i.fetchStatus="fetching",this.queryCache.findAll(i).length}},{key:"isMutating",value:function(t){return this.mutationCache.findAll((0,e.Z)((0,e.Z)({},t),{},{fetching:!0})).length}},{key:"getQueryData",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state.data}},{key:"ensureQueryData",value:function(e,t,n){var r=l(e,t,n),i=this.getQueryData(r.queryKey);return i?Promise.resolve(i):this.fetchQuery(r)}},{key:"getQueriesData",value:function(e){return this.getQueryCache().findAll(e).map((function(e){return[e.queryKey,e.state.data]}))}},{key:"setQueryData",value:function(t,n,r){var i=this.queryCache.find(t),o=function(e,t){return"function"===typeof e?e(t):e}(n,null==i?void 0:i.state.data);if("undefined"!==typeof o){var a=l(t),s=this.defaultQueryOptions(a);return this.queryCache.build(this,s).setData(o,(0,e.Z)((0,e.Z)({},r),{},{manual:!0}))}}},{key:"setQueriesData",value:function(e,t,n){var r=this;return R.batch((function(){return r.getQueryCache().findAll(e).map((function(e){var i=e.queryKey;return[i,r.setQueryData(i,t,n)]}))}))}},{key:"getQueryState",value:function(e,t){var n;return null==(n=this.queryCache.find(e,t))?void 0:n.state}},{key:"removeQueries",value:function(e,n){var r=f(e,n),i=(0,t.Z)(r,1)[0],o=this.queryCache;R.batch((function(){o.findAll(i).forEach((function(e){o.remove(e)}))}))}},{key:"resetQueries",value:function(n,r,i){var o=this,a=f(n,r,i),s=(0,t.Z)(a,2),u=s[0],c=s[1],l=this.queryCache,d=(0,e.Z)({type:"active"},u);return R.batch((function(){return l.findAll(u).forEach((function(e){e.reset()})),o.refetchQueries(d,c)}))}},{key:"cancelQueries",value:function(e,n,r){var i=this,o=f(e,n,r),s=(0,t.Z)(o,2),u=s[0],c=s[1],l=void 0===c?{}:c;"undefined"===typeof l.revert&&(l.revert=!0);var d=R.batch((function(){return i.queryCache.findAll(u).map((function(e){return e.cancel(l)}))}));return Promise.all(d).then(a).catch(a)}},{key:"invalidateQueries",value:function(n,r,i){var o=this,a=f(n,r,i),s=(0,t.Z)(a,2),u=s[0],c=s[1];return R.batch((function(){var t,n;if(o.queryCache.findAll(u).forEach((function(e){e.invalidate()})),"none"===u.refetchType)return Promise.resolve();var r=(0,e.Z)((0,e.Z)({},u),{},{type:null!=(t=null!=(n=u.refetchType)?n:u.type)?t:"active"});return o.refetchQueries(r,c)}))}},{key:"refetchQueries",value:function(n,r,i){var o=this,s=f(n,r,i),u=(0,t.Z)(s,2),c=u[0],l=u[1],d=R.batch((function(){return o.queryCache.findAll(c).filter((function(e){return!e.isDisabled()})).map((function(t){var n;return t.fetch(void 0,(0,e.Z)((0,e.Z)({},l),{},{cancelRefetch:null==(n=null==l?void 0:l.cancelRefetch)||n,meta:{refetchPage:c.refetchPage}}))}))})),h=Promise.all(d).then(a);return null!=l&&l.throwOnError||(h=h.catch(a)),h}},{key:"fetchQuery",value:function(e,t,n){var r=l(e,t,n),i=this.defaultQueryOptions(r);"undefined"===typeof i.retry&&(i.retry=!1);var o=this.queryCache.build(this,i);return o.isStaleByTime(i.staleTime)?o.fetch(i):Promise.resolve(o.state.data)}},{key:"prefetchQuery",value:function(e,t,n){return this.fetchQuery(e,t,n).then(a).catch(a)}},{key:"fetchInfiniteQuery",value:function(e,t,n){var r=l(e,t,n);return r.behavior=X(),this.fetchQuery(r)}},{key:"prefetchInfiniteQuery",value:function(e,t,n){return this.fetchInfiniteQuery(e,t,n).then(a).catch(a)}},{key:"resumePausedMutations",value:function(){return this.mutationCache.resumePausedMutations()}},{key:"getQueryCache",value:function(){return this.queryCache}},{key:"getMutationCache",value:function(){return this.mutationCache}},{key:"getLogger",value:function(){return this.logger}},{key:"getDefaultOptions",value:function(){return this.defaultOptions}},{key:"setDefaultOptions",value:function(e){this.defaultOptions=e}},{key:"setQueryDefaults",value:function(e,t){var n=this.queryDefaults.find((function(t){return v(e)===v(t.queryKey)}));n?n.defaultOptions=t:this.queryDefaults.push({queryKey:e,defaultOptions:t})}},{key:"getQueryDefaults",value:function(e){if(e){var t=this.queryDefaults.find((function(t){return g(e,t.queryKey)}));return null==t?void 0:t.defaultOptions}}},{key:"setMutationDefaults",value:function(e,t){var n=this.mutationDefaults.find((function(t){return v(e)===v(t.mutationKey)}));n?n.defaultOptions=t:this.mutationDefaults.push({mutationKey:e,defaultOptions:t})}},{key:"getMutationDefaults",value:function(e){if(e){var t=this.mutationDefaults.find((function(t){return g(e,t.mutationKey)}));return null==t?void 0:t.defaultOptions}}},{key:"defaultQueryOptions",value:function(t){if(null!=t&&t._defaulted)return t;var n=(0,e.Z)((0,e.Z)((0,e.Z)((0,e.Z)({},this.defaultOptions.queries),this.getQueryDefaults(null==t?void 0:t.queryKey)),t),{},{_defaulted:!0});return!n.queryHash&&n.queryKey&&(n.queryHash=p(n.queryKey,n)),"undefined"===typeof n.refetchOnReconnect&&(n.refetchOnReconnect="always"!==n.networkMode),"undefined"===typeof n.useErrorBoundary&&(n.useErrorBoundary=!!n.suspense),n}},{key:"defaultMutationOptions",value:function(t){return null!=t&&t._defaulted?t:(0,e.Z)((0,e.Z)((0,e.Z)((0,e.Z)({},this.defaultOptions.mutations),this.getMutationDefaults(null==t?void 0:t.mutationKey)),t),{},{_defaulted:!0})}},{key:"clear",value:function(){this.queryCache.clear(),this.mutationCache.clear()}}]),n}(),ne=n(2791),re=n.t(ne,2),ie=ne.createContext(void 0),oe=ne.createContext(!1);function ae(e,t){return e||(t&&"undefined"!==typeof window?(window.ReactQueryClientContext||(window.ReactQueryClientContext=ie),window.ReactQueryClientContext):ie)}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.context,n=ne.useContext(ae(t,ne.useContext(oe)));if(!n)throw new Error("No QueryClient set, use QueryClientProvider to set one");return n},ue=function(e){var t=e.client,n=e.children,r=e.context,i=e.contextSharing,o=void 0!==i&&i;ne.useEffect((function(){return t.mount(),function(){t.unmount()}}),[t]);var a=ae(r,o);return ne.createElement(oe.Provider,{value:!r&&o},ne.createElement(a.Provider,{value:t},n))};function ce(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var le="function"===typeof Symbol&&Symbol.observable||"@@observable",fe=function(){return Math.random().toString(36).substring(7).split("").join(".")},de={INIT:"@@redux/INIT"+fe(),REPLACE:"@@redux/REPLACE"+fe(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+fe()}};function he(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pe(e,t,n){var r;if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(ce(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(ce(1));return n(pe)(e,t)}if("function"!==typeof e)throw new Error(ce(2));var i=e,o=t,a=[],s=a,u=!1;function c(){s===a&&(s=a.slice())}function l(){if(u)throw new Error(ce(3));return o}function f(e){if("function"!==typeof e)throw new Error(ce(4));if(u)throw new Error(ce(5));var t=!0;return c(),s.push(e),function(){if(t){if(u)throw new Error(ce(6));t=!1,c();var n=s.indexOf(e);s.splice(n,1),a=null}}}function d(e){if(!he(e))throw new Error(ce(7));if("undefined"===typeof e.type)throw new Error(ce(8));if(u)throw new Error(ce(9));try{u=!0,o=i(o,e)}finally{u=!1}for(var t=a=s,n=0;n<t.length;n++){(0,t[n])()}return e}function h(e){if("function"!==typeof e)throw new Error(ce(10));i=e,d({type:de.REPLACE})}function p(){var e,t=f;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(ce(11));function n(){e.next&&e.next(l())}return n(),{unsubscribe:t(n)}}})[le]=function(){return this},e}return d({type:de.INIT}),(r={dispatch:d,subscribe:f,getState:l,replaceReducer:h})[le]=p,r}function ve(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var i=t[r];0,"function"===typeof e[i]&&(n[i]=e[i])}var o,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if("undefined"===typeof n(void 0,{type:de.INIT}))throw new Error(ce(12));if("undefined"===typeof n(void 0,{type:de.PROBE_UNKNOWN_ACTION()}))throw new Error(ce(13))}))}(n)}catch(s){o=s}return function(e,t){if(void 0===e&&(e={}),o)throw o;for(var r=!1,i={},s=0;s<a.length;s++){var u=a[s],c=n[u],l=e[u],f=c(l,t);if("undefined"===typeof f){t&&t.type;throw new Error(ce(14))}i[u]=f,r=r||f!==l}return(r=r||a.length!==Object.keys(e).length)?i:e}}function ge(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function ye(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),i=function(){throw new Error(ce(15))},o={getState:r.getState,dispatch:function(){return i.apply(void 0,arguments)}},a=n.map((function(e){return e(o)}));return i=ge.apply(void 0,a)(r.dispatch),(0,e.Z)((0,e.Z)({},r),{},{dispatch:i})}}}function me(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function we(e){return!!e&&!!e[ut]}function _e(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ct}(e)||Array.isArray(e)||!!e[st]||!!(null===(t=e.constructor)||void 0===t?void 0:t[st])||Pe(e)||Ae(e))}function be(e,t,n){void 0===n&&(n=!1),0===xe(e)?(n?Object.keys:lt)(e).forEach((function(r){n&&"symbol"==typeof r||t(r,e[r],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function xe(e){var t=e[ut];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Pe(e)?2:Ae(e)?3:0}function Se(e,t){return 2===xe(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ke(e,t){return 2===xe(e)?e.get(t):e[t]}function Ee(e,t,n){var r=xe(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Ce(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function Pe(e){return rt&&e instanceof Map}function Ae(e){return it&&e instanceof Set}function Te(e){return e.o||e.t}function Oe(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ft(e);delete t[ut];for(var n=lt(t),r=0;r<n.length;r++){var i=n[r],o=t[i];!1===o.writable&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function Ie(e,t){return void 0===t&&(t=!1),Le(e)||we(e)||!_e(e)||(xe(e)>1&&(e.set=e.add=e.clear=e.delete=Re),Object.freeze(e),t&&be(e,(function(e,t){return Ie(t,!0)}),!0)),e}function Re(){me(2)}function Le(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function Fe(e){var t=dt[e];return t||me(18,e),t}function Me(e,t){dt[e]||(dt[e]=t)}function je(){return tt}function De(e,t){t&&(Fe("Patches"),e.u=[],e.s=[],e.v=t)}function Ne(e){Ue(e),e.p.forEach(Be),e.p=null}function Ue(e){e===tt&&(tt=e.l)}function Ze(e){return tt={p:[],l:tt,h:e,m:!0,_:0}}function Be(e){var t=e[ut];0===t.i||1===t.i?t.j():t.O=!0}function He(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||Fe("ES5").S(t,e,r),r?(n[ut].P&&(Ne(t),me(4)),_e(e)&&(e=ze(t,e),t.l||Ve(t,e)),t.u&&Fe("Patches").M(n[ut].t,e,t.u,t.s)):e=ze(t,n,[]),Ne(t),t.u&&t.v(t.u,t.s),e!==at?e:void 0}function ze(e,t,n){if(Le(t))return t;var r=t[ut];if(!r)return be(t,(function(i,o){return Ke(e,r,t,i,o,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return Ve(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=Oe(r.k):r.o,o=i,a=!1;3===r.i&&(o=new Set(i),i.clear(),a=!0),be(o,(function(t,o){return Ke(e,r,i,t,o,n,a)})),Ve(e,i,!1),n&&e.u&&Fe("Patches").N(r,n,e.u,e.s)}return r.o}function Ke(e,t,n,r,i,o,a){if(we(i)){var s=ze(e,i,o&&t&&3!==t.i&&!Se(t.R,r)?o.concat(r):void 0);if(Ee(n,r,s),!we(s))return;e.m=!1}else a&&n.add(i);if(_e(i)&&!Le(i)){if(!e.h.D&&e._<1)return;ze(e,i),t&&t.A.l||Ve(e,i)}}function Ve(e,t,n){void 0===n&&(n=!1),!e.l&&e.h.D&&e.m&&Ie(t,n)}function We(e,t){var n=e[ut];return(n?Te(n):e)[t]}function qe(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function Ge(e){e.P||(e.P=!0,e.l&&Ge(e.l))}function Je(e){e.o||(e.o=Oe(e.t))}function Qe(e,t,n){var r=Pe(t)?Fe("MapSet").F(t,n):Ae(t)?Fe("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:je(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=r,o=ht;n&&(i=[r],o=pt);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.k=u,r.j=s,u}(t,n):Fe("ES5").J(t,n);return(n?n.A:je()).p.push(r),r}function Ye(e){return we(e)||me(22,e),function e(t){if(!_e(t))return t;var n,r=t[ut],i=xe(t);if(r){if(!r.P&&(r.i<4||!Fe("ES5").K(r)))return r.t;r.I=!0,n=Xe(t,i),r.I=!1}else n=Xe(t,i);return be(n,(function(t,i){r&&ke(r.t,t)===i||Ee(n,t,e(i))})),3===i?new Set(n):n}(e)}function Xe(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Oe(e)}function $e(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[ut];return ht.get(t,e)},set:function(t){var n=this[ut];ht.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][ut];if(!i.P)switch(i.i){case 5:r(i)&&Ge(i);break;case 4:n(i)&&Ge(i)}}}function n(e){for(var t=e.t,n=e.k,r=lt(n),i=r.length-1;i>=0;i--){var o=r[i];if(o!==ut){var a=t[o];if(void 0===a&&!Se(t,o))return!0;var s=n[o],u=s&&s[ut];if(u?u.t!==a:!Ce(s,a))return!0}}var c=!!t[ut];return r.length!==lt(t).length+(c?0:1)}function r(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);if(n&&!n.get)return!0;for(var r=0;r<t.length;r++)if(!t.hasOwnProperty(r))return!0;return!1}var i={};Me("ES5",{J:function(t,n){var r=Array.isArray(t),i=function(t,n){if(t){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,e(i,!0));return r}var o=ft(n);delete o[ut];for(var a=lt(o),s=0;s<a.length;s++){var u=a[s];o[u]=e(u,t||!!o[u].enumerable)}return Object.create(Object.getPrototypeOf(n),o)}(r,t),o={i:r?5:4,A:n?n.A:je(),P:!1,I:!1,R:{},l:n,t:t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ut,{value:o,writable:!0}),i},S:function(e,n,i){i?we(n)&&n[ut].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[ut];if(n){var i=n.t,o=n.k,a=n.R,s=n.i;if(4===s)be(o,(function(t){t!==ut&&(void 0!==i[t]||Se(i,t)?a[t]||e(o[t]):(a[t]=!0,Ge(n)))})),be(i,(function(e){void 0!==o[e]||Se(o,e)||(a[e]=!1,Ge(n))}));else if(5===s){if(r(n)&&(Ge(n),a.length=!0),o.length<i.length)for(var u=o.length;u<i.length;u++)a[u]=!1;else for(var c=i.length;c<o.length;c++)a[c]=!0;for(var l=Math.min(o.length,i.length),f=0;f<l;f++)o.hasOwnProperty(f)||(a[f]=!0),void 0===a[f]&&e(o[f])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):r(e)}})}var et,tt,nt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),rt="undefined"!=typeof Map,it="undefined"!=typeof Set,ot="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,at=nt?Symbol.for("immer-nothing"):((et={})["immer-nothing"]=!0,et),st=nt?Symbol.for("immer-draftable"):"__$immer_draftable",ut=nt?Symbol.for("immer-state"):"__$immer_state",ct=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),lt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ft=Object.getOwnPropertyDescriptors||function(e){var t={};return lt(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},dt={},ht={get:function(e,t){if(t===ut)return e;var n=Te(e);if(!Se(n,t))return function(e,t,n){var r,i=qe(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.k):void 0}(e,n,t);var r=n[t];return e.I||!_e(r)?r:r===We(e.t,t)?(Je(e),e.o[t]=Qe(e.A.h,r,e)):r},has:function(e,t){return t in Te(e)},ownKeys:function(e){return Reflect.ownKeys(Te(e))},set:function(e,t,n){var r=qe(Te(e),t);if(null==r?void 0:r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=We(Te(e),t),o=null==i?void 0:i[ut];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Ce(n,i)&&(void 0!==n||Se(e.t,t)))return!0;Je(e),Ge(e)}return e.o[t]===n&&(void 0!==n||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==We(e.t,t)||t in e.t?(e.R[t]=!1,Je(e),Ge(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Te(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){me(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){me(12)}},pt={};be(ht,(function(e,t){pt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),pt.deleteProperty=function(e,t){return pt.set.call(this,e,t,void 0)},pt.set=function(e,t,n){return ht.set.call(this,e[0],t,n,e[0])};var vt=function(){function e(e){var t=this;this.g=ot,this.D=!0,this.produce=function(e,n,r){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var o=t;return function(e){var t=this;void 0===e&&(e=i);for(var r=arguments.length,a=Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(e,(function(e){var r;return(r=n).call.apply(r,[t,e].concat(a))}))}}var a;if("function"!=typeof n&&me(6),void 0!==r&&"function"!=typeof r&&me(7),_e(e)){var s=Ze(t),u=Qe(t,e,void 0),c=!0;try{a=n(u),c=!1}finally{c?Ne(s):Ue(s)}return"undefined"!=typeof Promise&&a instanceof Promise?a.then((function(e){return De(s,r),He(e,s)}),(function(e){throw Ne(s),e})):(De(s,r),He(a,s))}if(!e||"object"!=typeof e){if(void 0===(a=n(e))&&(a=e),a===at&&(a=void 0),t.D&&Ie(a,!0),r){var l=[],f=[];Fe("Patches").M(e,a,l,f),r(l,f)}return a}me(21,e)},this.produceWithPatches=function(e,n){if("function"==typeof e)return function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=t.produce(e,n,(function(e,t){r=e,i=t}));return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return[e,r,i]})):[o,r,i]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){_e(e)||me(8),we(e)&&(e=Ye(e));var t=Ze(this),n=Qe(this,e,void 0);return n[ut].C=!0,Ue(t),n},t.finishDraft=function(e,t){var n=(e&&e[ut]).A;return De(n,t),He(void 0,n)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!ot&&me(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Fe("Patches").$;return we(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))},e}(),gt=new vt,yt=gt.produce,mt=(gt.produceWithPatches.bind(gt),gt.setAutoFreeze.bind(gt),gt.setUseProxies.bind(gt),gt.applyPatches.bind(gt),gt.createDraft.bind(gt),gt.finishDraft.bind(gt),yt);function wt(e){return function(t){var n=t.dispatch,r=t.getState;return function(t){return function(i){return"function"===typeof i?i(n,r,e):t(i)}}}}var _t=wt();_t.withExtraArgument=wt;var bt=_t,xt=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),St=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},kt=function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e},Et=Object.defineProperty,Ct=Object.defineProperties,Pt=Object.getOwnPropertyDescriptors,At=Object.getOwnPropertySymbols,Tt=Object.prototype.hasOwnProperty,Ot=Object.prototype.propertyIsEnumerable,It=function(e,t,n){return t in e?Et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Rt=function(e,t){for(var n in t||(t={}))Tt.call(t,n)&&It(e,n,t[n]);if(At)for(var r=0,i=At(t);r<i.length;r++){n=i[r];Ot.call(t,n)&&It(e,n,t[n])}return e},Lt=function(e,t){return Ct(e,Pt(t))},Ft=function(e,t,n){return new Promise((function(r,i){var o=function(e){try{s(n.next(e))}catch(t){i(t)}},a=function(e){try{s(n.throw(e))}catch(t){i(t)}},s=function(e){return e.done?r(e.value):Promise.resolve(e.value).then(o,a)};s((n=n.apply(e,t)).next())}))},Mt="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?ge:ge.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function jt(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t;null!==Object.getPrototypeOf(n);)n=Object.getPrototypeOf(n);return t===n}var Dt=function(e){function t(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return xt(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,kt([void 0],e[0].concat(this)))):new(t.bind.apply(t,kt([void 0],e.concat(this))))},t}(Array);function Nt(e){return _e(e)?mt(e,(function(){})):e}function Ut(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,r=(e.immutableCheck,e.serializableCheck,new Dt);n&&(!function(e){return"boolean"===typeof e}(n)?r.push(bt.withExtraArgument(n.extraArgument)):r.push(bt));0;return r}(e)}}function Zt(e,t){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Rt(Rt({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Bt(e){var t,n={},r=[],i={addCase:function(e,t){var r="string"===typeof e?e:e.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=t,i},addMatcher:function(e,t){return r.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,r,t]}var Ht=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},zt=["name","message","stack","code"],Kt=function(e,t){this.payload=e,this.meta=t},Vt=function(e,t){this.payload=e,this.meta=t},Wt=function(e){if("object"===typeof e&&null!==e){for(var t={},n=0,r=zt;n<r.length;n++){var i=r[n];"string"===typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};!function(){function e(e,t,n){var r=Zt(e+"/fulfilled",(function(e,t,n,r){return{payload:e,meta:Lt(Rt({},r||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=Zt(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Lt(Rt({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),o=Zt(e+"/rejected",(function(e,t,r,i,o){return{payload:i,error:(n&&n.serializeError||Wt)(e||"Rejected"),meta:Lt(Rt({},o||{}),{arg:r,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),a="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(s,u,c){var l,f=(null==n?void 0:n.idGenerator)?n.idGenerator(e):Ht(),d=new a;function h(e){l=e,d.abort()}var p=function(){return Ft(this,null,(function(){var a,p,v,g,y,m;return St(this,(function(w){switch(w.label){case 0:return w.trys.push([0,4,,5]),function(e){return null!==e&&"object"===typeof e&&"function"===typeof e.then}(g=null==(a=null==n?void 0:n.condition)?void 0:a.call(n,e,{getState:u,extra:c}))?[4,g]:[3,2];case 1:g=w.sent(),w.label=2;case 2:if(!1===g||d.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return!0,y=new Promise((function(e,t){return d.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:l||"Aborted"})}))})),s(i(f,e,null==(p=null==n?void 0:n.getPendingMeta)?void 0:p.call(n,{requestId:f,arg:e},{getState:u,extra:c}))),[4,Promise.race([y,Promise.resolve(t(e,{dispatch:s,getState:u,extra:c,requestId:f,signal:d.signal,abort:h,rejectWithValue:function(e,t){return new Kt(e,t)},fulfillWithValue:function(e,t){return new Vt(e,t)}})).then((function(t){if(t instanceof Kt)throw t;return t instanceof Vt?r(t.payload,f,e,t.meta):r(t,f,e)}))])];case 3:return v=w.sent(),[3,5];case 4:return m=w.sent(),v=m instanceof Kt?o(null,f,e,m.payload,m.meta):o(m,f,e),[3,5];case 5:return n&&!n.dispatchConditionRejection&&o.match(v)&&v.meta.condition||s(v),[2,v]}}))}))}();return Object.assign(p,{abort:h,requestId:f,arg:e,unwrap:function(){return p.then(qt)}})}}),{pending:i,rejected:o,fulfilled:r,typePrefix:e})}e.withTypes=function(){return e}}();function qt(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var Gt=function(e,t){return function(e){return e&&"function"===typeof e.match}(e)?e.match(t):e(t)};function Jt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return Gt(e,t)}))}}Object.assign;var Qt="listenerMiddleware";Zt(Qt+"/add"),Zt(Qt+"/removeAll"),Zt(Qt+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:globalThis);var Yt,Xt=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Xt(10);$e();var $t=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var n,r="function"==typeof e.initialState?e.initialState:Nt(e.initialState),i=e.reducers||{},o=Object.keys(i),a={},s={},u={};function c(){var t="function"===typeof e.extraReducers?Bt(e.extraReducers):[e.extraReducers],n=t[0],i=void 0===n?{}:n,o=t[1],a=void 0===o?[]:o,u=t[2],c=void 0===u?void 0:u,l=Rt(Rt({},i),s);return function(e,t,n,r){void 0===n&&(n=[]);var i,o="function"===typeof t?Bt(t):[t,n,r],a=o[0],s=o[1],u=o[2];if(function(e){return"function"===typeof e}(e))i=function(){return Nt(e())};else{var c=Nt(e);i=function(){return c}}function l(e,t){void 0===e&&(e=i());var n=kt([a[t.type]],s.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[u]),n.reduce((function(e,n){if(n){var r;if(we(e))return void 0===(r=n(e,t))?e:r;if(_e(e))return mt(e,(function(e){return n(e,t)}));if(void 0===(r=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return e}),e)}return l.getInitialState=i,l}(r,(function(e){for(var t in l)e.addCase(t,l[t]);for(var n=0,r=a;n<r.length;n++){var i=r[n];e.addMatcher(i.matcher,i.reducer)}c&&e.addDefaultCase(c)}))}return o.forEach((function(e){var n,r,o=i[e],c=function(e,t){return e+"/"+t}(t,e);"reducer"in o?(n=o.reducer,r=o.prepare):n=o,a[e]=n,s[c]=n,u[e]=r?Zt(c,r):Zt(c)})),{name:t,reducer:function(e,t){return n||(n=c()),n(e,t)},actions:u,caseReducers:a,getInitialState:function(){return n||(n=c()),n.getInitialState()}}}({name:"auth",initialState:{},reducers:{signin:function(e,t){e.isLoggedIn=t.payload.isLoggedIn,e.webId=t.payload.webId},setUser:function(e,t){e.profile=t.payload},signout:function(e){e.isLoggedIn=!1}}}),en=$t.actions,tn=$t.reducer,nn=function(e){return e.auth},rn=ve({auth:tn}),on=function(e){var t,n=Ut(),r=e||{},i=r.reducer,o=void 0===i?void 0:i,a=r.middleware,s=void 0===a?n():a,u=r.devTools,c=void 0===u||u,l=r.preloadedState,f=void 0===l?void 0:l,d=r.enhancers,h=void 0===d?void 0:d;if("function"===typeof o)t=o;else{if(!jt(o))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=ve(o)}var p=s;"function"===typeof p&&(p=p(n));var v=ye.apply(void 0,p),g=ge;c&&(g=Mt(Rt({trace:!1},"object"===typeof c&&c)));var y=[v];return Array.isArray(h)?y=kt([v],h):"function"===typeof h&&(y=h(y)),pe(t,f,g.apply(void 0,y))}({reducer:function(e,t){return Jt(en.signout)(t)?rn(void 0,t):rn(e,t)}});var an=n.p+"static/media/highlighted-marker.dd61d9b630af019fde7e6be158b1fe54.svg",sn=n(8559);var un=n.p+"static/media/marker.cf3b4135bd5ce23e5eb06074760cf91f.svg";delete sn.Icon.Default.prototype._getIconUrl,sn.Icon.Default.mergeOptions({iconUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",iconRetinaUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",shadowUrl:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC"});var cn="https://{s}.tile-cyclosm.openstreetmap.fr/cyclosm/{z}/{x}/{y}.png",ln=sn.icon((0,e.Z)((0,e.Z)({},sn.Icon.Default.prototype.options),{},{iconUrl:un,iconRetinaUrl:un})),fn=sn.icon((0,e.Z)((0,e.Z)({},sn.Icon.Default.prototype.options),{},{iconUrl:an,iconRetinaUrl:an})),dn={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_COMMUNITY||"https://solidweb.me/dev-sleepy-bike/community#us",hn=n(1250),pn=n(7248),vn=n(327),gn=n(4164);var yn=function(e){e()},mn=function(){return yn},wn=(0,ne.createContext)(null);function _n(){return(0,ne.useContext)(wn)}var bn=function(){throw new Error("uSES not initialized!")},xn=bn,Sn=function(e,t){return e===t};function kn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=e===wn?_n:function(){return(0,ne.useContext)(e)};return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sn;var r=t(),i=r.store,o=r.subscription,a=r.getServerState,s=xn(o.addNestedSub,i.getState,a||i.getState,e,n);return(0,ne.useDebugValue)(s),s}}var En=kn();n(2110),n(7441);var Cn={notify:function(){},get:function(){return[]}};function Pn(e,t){var n,r=Cn;function i(){a.onStateChange&&a.onStateChange()}function o(){n||(n=t?t.addNestedSub(i):e.subscribe(i),r=function(){var e=mn(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var r=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){r&&null!==t&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())}var a={addNestedSub:function(e){return o(),r.subscribe(e)},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:i,isSubscribed:function(){return Boolean(n)},trySubscribe:o,tryUnsubscribe:function(){n&&(n(),n=void 0,r.clear(),r=Cn)},getListeners:function(){return r}};return a}var An=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?ne.useLayoutEffect:ne.useEffect;var Tn=function(e){var t=e.store,n=e.context,r=e.children,i=e.serverState,o=(0,ne.useMemo)((function(){var e=Pn(t);return{store:t,subscription:e,getServerState:i?function(){return i}:void 0}}),[t,i]),a=(0,ne.useMemo)((function(){return t.getState()}),[t]);An((function(){var e=o.subscription;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=void 0}}),[o,a]);var s=n||wn;return ne.createElement(s.Provider,{value:o},r)};function On(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=e===wn?_n:function(){return(0,ne.useContext)(e)};return function(){return t().store}}var In=On();function Rn(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:wn,t=e===wn?In:On(e);return function(){return t().dispatch}}var Ln,Fn=Rn();!function(e){xn=e}(vn.useSyncExternalStoreWithSelector),function(e){e}(pn.useSyncExternalStore),Ln=gn.unstable_batchedUpdates,yn=Ln;var Mn=n(4942),jn=n(8737),Dn=n(3878),Nn=n(9199),Un=n(181),Zn=n(5267);var Bn,Hn=n(7762);function zn(){return zn=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zn.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(Bn||(Bn={}));var Kn,Vn="popstate";function Wn(e){return void 0===e&&(e={}),Xn((function(e,t){var n=e.location;return Jn("",{pathname:n.pathname,search:n.search,hash:n.hash},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:Qn(t)}),null,e)}function qn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Gn(e,t){return{usr:e.state,key:e.key,idx:t}}function Jn(e,t,n,r){return void 0===n&&(n=null),zn({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?Yn(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function Qn(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function Yn(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Xn(e,t,n,r){void 0===r&&(r={});var i=r,o=i.window,a=void 0===o?document.defaultView:o,s=i.v5Compat,u=void 0!==s&&s,c=a.history,l=Bn.Pop,f=null,d=h();function h(){return(c.state||{idx:null}).idx}function p(){l=Bn.Pop;var e=h(),t=null==e?null:e-d;d=e,f&&f({action:l,location:g.location,delta:t})}function v(e){var t="null"!==a.location.origin?a.location.origin:a.location.href,n="string"===typeof e?e:Qn(e);return qn(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==d&&(d=0,c.replaceState(zn({},c.state,{idx:d}),""));var g={get action(){return l},get location(){return e(a,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return a.addEventListener(Vn,p),f=e,function(){a.removeEventListener(Vn,p),f=null}},createHref:function(e){return t(a,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=Bn.Push;var r=Jn(g.location,e,t);n&&n(r,e);var i=Gn(r,d=h()+1),o=g.createHref(r);try{c.pushState(i,"",o)}catch(s){a.location.assign(o)}u&&f&&f({action:l,location:g.location,delta:1})},replace:function(e,t){l=Bn.Replace;var r=Jn(g.location,e,t);n&&n(r,e);var i=Gn(r,d=h()),o=g.createHref(r);c.replaceState(i,"",o),u&&f&&f({action:l,location:g.location,delta:0})},go:function(e){return c.go(e)}};return g}function $n(e,t,n){return void 0===t&&(t=[]),void 0===n&&(n=new Set),e.map((function(e,r){var i=[].concat((0,Y.Z)(t),[r]),o="string"===typeof e.id?e.id:i.join("-");return qn(!0!==e.index||!e.children,"Cannot specify children on an index route"),qn(!n.has(o),'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),n.add(o),function(e){return!0===e.index}(e)?zn({},e,{id:o}):zn({},e,{id:o,children:e.children?$n(e.children,i,n):void 0})}))}function er(e,t,n){void 0===n&&(n="/");var r=cr(("string"===typeof t?Yn(t):t).pathname||"/",n);if(null==r)return null;var i=tr(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=ar(i[a],ur(r));return o}function tr(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,o){var a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(qn(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));var s=pr([r,a.relativePath]),u=n.concat(a);e.children&&e.children.length>0&&(qn(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),tr(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:or(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,o=(0,Hn.Z)(nr(e.path));try{for(o.s();!(r=o.n()).done;){var a=r.value;i(e,t,a)}}catch(s){o.e(s)}finally{o.f()}}else i(e,t)})),t}function nr(e){var t=e.split("/");if(0===t.length)return[];var n,r=(n=t,(0,Dn.Z)(n)||(0,Nn.Z)(n)||(0,Un.Z)(n)||(0,Zn.Z)()),i=r[0],o=r.slice(1),a=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===o.length)return a?[s,""]:[s];var u=nr(o.join("/")),c=[];return c.push.apply(c,(0,Y.Z)(u.map((function(e){return""===e?s:[s,e].join("/")})))),a&&c.push.apply(c,(0,Y.Z)(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(Kn||(Kn={}));var rr=/^:\w+$/,ir=function(e){return"*"===e};function or(e,t){var n=e.split("/"),r=n.length;return n.some(ir)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!ir(e)})).reduce((function(e,t){return e+(rr.test(t)?3:""===t?1:10)}),r)}function ar(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=sr({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;o.push({params:r,pathname:pr([i,l.pathname]),pathnameBase:vr(pr([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=pr([i,l.pathnameBase]))}return o}function sr(e,n){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var r=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);lr("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var o=new RegExp(i,t?void 0:"i");return[o,r]}(e.path,e.caseSensitive,e.end),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=n.match(o);if(!s)return null;var u=s[0],c=u.replace(/(.)\/+$/,"$1"),l=s.slice(1),f=a.reduce((function(e,t,n){if("*"===t){var r=l[n]||"";c=u.slice(0,u.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return lr(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(l[n]||"",t),e}),{});return{params:f,pathname:u,pathnameBase:c,pattern:e}}function ur(e){try{return decodeURI(e)}catch(t){return lr(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function cr(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function lr(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function fr(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function dr(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function hr(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=Yn(e):(qn(!(i=zn({},e)).pathname||!i.pathname.includes("?"),fr("?","pathname","search",i)),qn(!i.pathname||!i.pathname.includes("#"),fr("#","pathname","hash",i)),qn(!i.search||!i.search.includes("#"),fr("#","search","hash",i)));var o,a=""===e||""===i.pathname,s=a?"/":i.pathname;if(r||null==s)o=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}o=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?Yn(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:gr(o),hash:yr(s)}}(i,o),f=s&&"/"!==s&&s.endsWith("/"),d=(a||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!d||(l.pathname+="/"),l}var pr=function(e){return e.join("/").replace(/\/\/+/g,"/")},vr=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},gr=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},yr=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},mr=function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(){return(0,r.Z)(this,n),t.apply(this,arguments)}return(0,i.Z)(n)}((0,jn.Z)(Error)),wr=function(){function e(n,i){var o,a=this;(0,r.Z)(this,e),this.pendingKeysSet=new Set,this.subscribers=new Set,this.deferredKeys=[],qn(n&&"object"===typeof n&&!Array.isArray(n),"defer() only accepts plain objects"),this.abortPromise=new Promise((function(e,t){return o=t})),this.controller=new AbortController;var s=function(){return o(new mr("Deferred data aborted"))};this.unlistenAbortSignal=function(){return a.controller.signal.removeEventListener("abort",s)},this.controller.signal.addEventListener("abort",s),this.data=Object.entries(n).reduce((function(e,n){var r=(0,t.Z)(n,2),i=r[0],o=r[1];return Object.assign(e,(0,Mn.Z)({},i,a.trackPromise(i,o)))}),{}),this.done&&this.unlistenAbortSignal(),this.init=i}return(0,i.Z)(e,[{key:"trackPromise",value:function(e,t){var n=this;if(!(t instanceof Promise))return t;this.deferredKeys.push(e),this.pendingKeysSet.add(e);var r=Promise.race([t,this.abortPromise]).then((function(t){return n.onSettle(r,e,null,t)}),(function(t){return n.onSettle(r,e,t)}));return r.catch((function(){})),Object.defineProperty(r,"_tracked",{get:function(){return!0}}),r}},{key:"onSettle",value:function(e,t,n,r){return this.controller.signal.aborted&&n instanceof mr?(this.unlistenAbortSignal(),Object.defineProperty(e,"_error",{get:function(){return n}}),Promise.reject(n)):(this.pendingKeysSet.delete(t),this.done&&this.unlistenAbortSignal(),n?(Object.defineProperty(e,"_error",{get:function(){return n}}),this.emit(!1,t),Promise.reject(n)):(Object.defineProperty(e,"_data",{get:function(){return r}}),this.emit(!1,t),r))}},{key:"emit",value:function(e,t){this.subscribers.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e){var t=this;return this.subscribers.add(e),function(){return t.subscribers.delete(e)}}},{key:"cancel",value:function(){var e=this;this.controller.abort(),this.pendingKeysSet.forEach((function(t,n){return e.pendingKeysSet.delete(n)})),this.emit(!0)}},{key:"resolveData",value:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i=this;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=!1,this.done){e.next=7;break}return r=function(){return i.cancel()},t.addEventListener("abort",r),e.next=6,new Promise((function(e){i.subscribe((function(n){t.removeEventListener("abort",r),(n||i.done)&&e(n)}))}));case 6:n=e.sent;case 7:return e.abrupt("return",n);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"done",get:function(){return 0===this.pendingKeysSet.size}},{key:"unwrappedData",get:function(){return qn(null!==this.data&&this.done,"Can only unwrap data on initialized and settled deferreds"),Object.entries(this.data).reduce((function(e,n){var r=(0,t.Z)(n,2),i=r[0],o=r[1];return Object.assign(e,(0,Mn.Z)({},i,function(e){if(!function(e){return e instanceof Promise&&!0===e._tracked}(e))return e;if(e._error)throw e._error;return e._data}(o)))}),{})}},{key:"pendingKeys",get:function(){return Array.from(this.pendingKeysSet)}}]),e}();var _r=(0,i.Z)((function e(t,n,i,o){(0,r.Z)(this,e),void 0===o&&(o=!1),this.status=t,this.statusText=n||"",this.internal=o,i instanceof Error?(this.data=i.toString(),this.error=i):this.data=i}));function br(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var xr=["post","put","patch","delete"],Sr=new Set(xr),kr=["get"].concat(xr),Er=new Set(kr),Cr=new Set([301,302,303,307,308]),Pr=new Set([307,308]),Ar={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Tr={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},Or={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Ir="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Rr=!Ir;function Lr(e){qn(e.routes.length>0,"You must provide a non-empty routes array to createRouter");var n=$n(e.routes),r=null,i=new Set,o=null,a=null,s=null,u=null!=e.hydrationData,c=er(n,e.history.location,e.basename),l=null;if(null==c){var f=Gr(404,{pathname:e.history.location.pathname}),d=qr(n),h=d.matches,p=d.route;c=h,l=(0,Mn.Z)({},p.id,f)}var v,g,y=!c.some((function(e){return e.route.loader}))||null!=e.hydrationData,m={historyAction:e.history.action,location:e.history.location,matches:c,initialized:y,navigation:Ar,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||l,fetchers:new Map,blockers:new Map},w=Bn.Pop,_=!1,b=!1,x=!1,S=[],k=[],E=new Map,C=0,P=-1,A=new Map,T=new Set,O=new Map,I=new Map,R=null,L=new Map,F=!1;function M(e){m=zn({},m,e),i.forEach((function(e){return e(m)}))}function j(n,r){var i,o,a,s=null!=m.actionData&&null!=m.navigation.formMethod&&ri(m.navigation.formMethod)&&"loading"===m.navigation.state&&!0!==(null==(i=n.state)?void 0:i._isRedirect);a=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:s?m.actionData:null;var u,c=r.loaderData?Vr(m.loaderData,r.loaderData,r.matches||[],r.errors):m.loaderData,l=(0,Hn.Z)(L);try{for(l.s();!(u=l.n()).done;){ue((0,t.Z)(u.value,1)[0])}}catch(d){l.e(d)}finally{l.f()}var f=!0===_||null!=m.navigation.formMethod&&ri(m.navigation.formMethod)&&!0!==(null==(o=n.state)?void 0:o._isRedirect);M(zn({},r,{actionData:a,loaderData:c,historyAction:w,location:n,initialized:!0,navigation:Ar,revalidation:"idle",restoreScrollPosition:he(n,r.matches||m.matches),preventScrollReset:f,blockers:new Map(m.blockers)})),b||w===Bn.Pop||(w===Bn.Push?e.history.push(n,n.state):w===Bn.Replace&&e.history.replace(n,n.state)),w=Bn.Pop,_=!1,b=!1,x=!1,S=[],k=[]}function D(e,t){return N.apply(this,arguments)}function N(){return N=(0,q.Z)((0,W.Z)().mark((function t(n,r){var i,o,a,s,u,c,l,f,d,h;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("number"!==typeof n){t.next=3;break}return e.history.go(n),t.abrupt("return");case 3:if(i=Fr(n,r),o=i.path,a=i.submission,s=i.error,u=m.location,c=zn({},c=Jn(m.location,o,r&&r.state),e.history.encodeLocation(c)),l=r&&null!=r.replace?r.replace:void 0,f=Bn.Push,!0===l?f=Bn.Replace:!1===l||null!=a&&ri(a.formMethod)&&a.formAction===m.location.pathname+m.location.search&&(f=Bn.Replace),d=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,!(h=le({currentLocation:u,nextLocation:c,historyAction:f}))){t.next=15;break}return ce(h,{state:"blocked",location:c,proceed:function(){ce(h,{state:"proceeding",proceed:void 0,reset:void 0,location:c}),D(n,r)},reset:function(){ue(h),M({blockers:new Map(m.blockers)})}}),t.abrupt("return");case 15:return t.next=17,U(f,c,{submission:a,pendingError:s,preventScrollReset:d,replace:r&&r.replace});case 17:return t.abrupt("return",t.sent);case 18:case"end":return t.stop()}}),t)}))),N.apply(this,arguments)}function U(e,t,n){return Z.apply(this,arguments)}function Z(){return Z=(0,q.Z)((0,W.Z)().mark((function t(r,i,o){var a,s,u,c,l,f,d,h,p,v,y,x,S,k,E;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(g&&g.abort(),g=null,w=r,b=!0===(o&&o.startUninterruptedRevalidation),de(m.location,m.matches),_=!0===(o&&o.preventScrollReset),a=o&&o.overrideNavigation,s=er(n,i,e.basename)){t.next=14;break}return u=Gr(404,{pathname:i.pathname}),c=qr(n),l=c.matches,f=c.route,fe(),j(i,{matches:l,loaderData:{},errors:(0,Mn.Z)({},f.id,u)}),t.abrupt("return");case 14:if(!Yr(m.location,i)||o&&o.submission&&ri(o.submission.formMethod)){t.next=17;break}return j(i,{matches:s}),t.abrupt("return");case 17:if(g=new AbortController,d=Br(e.history,i,g.signal,o&&o.submission),!o||!o.pendingError){t.next=23;break}p=(0,Mn.Z)({},Wr(s).route.id,o.pendingError),t.next=34;break;case 23:if(!(o&&o.submission&&ri(o.submission.formMethod))){t.next=34;break}return t.next=26,B(d,i,o.submission,s,{replace:o.replace});case 26:if(!(v=t.sent).shortCircuited){t.next=29;break}return t.abrupt("return");case 29:h=v.pendingActionData,p=v.pendingActionError,y=zn({state:"loading",location:i},o.submission),a=y,d=new Request(d.url,{signal:d.signal});case 34:return t.next=36,z(d,i,s,a,o&&o.submission,o&&o.replace,h,p);case 36:if(x=t.sent,S=x.shortCircuited,k=x.loaderData,E=x.errors,!S){t.next=42;break}return t.abrupt("return");case 42:g=null,j(i,zn({matches:s},h?{actionData:h}:{},{loaderData:k,errors:E}));case 44:case"end":return t.stop()}}),t)}))),Z.apply(this,arguments)}function B(e,t,n,r,i){return H.apply(this,arguments)}function H(){return H=(0,q.Z)((0,W.Z)().mark((function e(t,n,r,i,o){var a,s,u,c;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(),M({navigation:zn({state:"submitting",location:n},r)}),(s=li(i,n)).route.action){e.next=8;break}a={type:Kn.error,error:Gr(405,{method:t.method,pathname:n.pathname,routeId:s.route.id})},e.next=13;break;case 8:return e.next=10,Ur("action",t,s,i,v.basename);case 10:if(a=e.sent,!t.signal.aborted){e.next=13;break}return e.abrupt("return",{shortCircuited:!0});case 13:if(!ei(a)){e.next=18;break}return u=o&&null!=o.replace?o.replace:a.location===m.location.pathname+m.location.search,e.next=17,Q(m,a,{submission:r,replace:u});case 17:return e.abrupt("return",{shortCircuited:!0});case 18:if(!$r(a)){e.next=22;break}return c=Wr(i,s.route.id),!0!==(o&&o.replace)&&(w=Bn.Push),e.abrupt("return",{pendingActionData:{},pendingActionError:(0,Mn.Z)({},c.route.id,a.error)});case 22:if(!Xr(a)){e.next=24;break}throw Gr(400,{type:"defer-action"});case 24:return e.abrupt("return",{pendingActionData:(0,Mn.Z)({},s.route.id,a.data)});case 25:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function z(e,t,n,r,i,o,a,s){return K.apply(this,arguments)}function K(){return K=(0,q.Z)((0,W.Z)().mark((function n(r,i,o,a,s,u,c,l){var f,d,h,p,v,y,w,_,A,T,R,L,F,D,N,U,Z;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((f=a)||(d=zn({state:"loading",location:i,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s),f=d),h=s||(f.formMethod&&f.formAction&&f.formData&&f.formEncType?{formMethod:f.formMethod,formAction:f.formAction,formData:f.formData,formEncType:f.formEncType}:void 0),p=jr(e.history,m,o,h,i,x,S,k,c,l,O),v=(0,t.Z)(p,2),y=v[0],w=v[1],fe((function(e){return!(o&&o.some((function(t){return t.route.id===e})))||y&&y.some((function(t){return t.route.id===e}))})),0!==y.length||0!==w.length){n.next=8;break}return j(i,zn({matches:o,loaderData:{},errors:l||null},c?{actionData:c}:{})),n.abrupt("return",{shortCircuited:!0});case 8:return b||(w.forEach((function(e){var t=m.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(e.key,n)})),_=c||m.actionData,M(zn({navigation:f},_?0===Object.keys(_).length?{actionData:null}:{actionData:_}:{},w.length>0?{fetchers:new Map(m.fetchers)}:{}))),P=++C,w.forEach((function(e){return E.set(e.key,g)})),n.next=13,$(m.matches,o,y,w,r);case 13:if(A=n.sent,T=A.results,R=A.loaderResults,L=A.fetcherResults,!r.signal.aborted){n.next=19;break}return n.abrupt("return",{shortCircuited:!0});case 19:if(w.forEach((function(e){return E.delete(e.key)})),!(F=Jr(T))){n.next=25;break}return n.next=24,Q(m,F,{replace:u});case 24:return n.abrupt("return",{shortCircuited:!0});case 25:return D=Kr(m,o,y,R,l,w,L,I),N=D.loaderData,U=D.errors,I.forEach((function(e,t){e.subscribe((function(n){(n||e.done)&&I.delete(t)}))})),ae(),Z=se(P),n.abrupt("return",zn({loaderData:N,errors:U},Z||w.length>0?{fetchers:new Map(m.fetchers)}:{}));case 30:case"end":return n.stop()}}),n)}))),K.apply(this,arguments)}function V(e){return m.fetchers.get(e)||Tr}function G(){return G=(0,q.Z)((0,W.Z)().mark((function r(i,o,a,s,u,c){var l,f,d,h,p,y,_,b,R,L,F,D,N,U,Z,B,H,z,K,V,q,G,J,Y,X,ee;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(te(),O.delete(i),s.route.action){r.next=6;break}return l=Gr(405,{method:c.formMethod,pathname:a,routeId:o}),ne(i,o,l),r.abrupt("return");case 6:return f=m.fetchers.get(i),d=zn({state:"submitting"},c,{data:f&&f.data," _hasFetcherDoneAnything ":!0}),m.fetchers.set(i,d),M({fetchers:new Map(m.fetchers)}),h=new AbortController,p=Br(e.history,a,h.signal,c),E.set(i,h),r.next=15,Ur("action",p,s,u,v.basename);case 15:if(y=r.sent,!p.signal.aborted){r.next=19;break}return E.get(i)===h&&E.delete(i),r.abrupt("return");case 19:if(!ei(y)){r.next=26;break}return E.delete(i),T.add(i),_=zn({state:"loading"},c,{data:void 0," _hasFetcherDoneAnything ":!0}),m.fetchers.set(i,_),M({fetchers:new Map(m.fetchers)}),r.abrupt("return",Q(m,y,{isFetchActionRedirect:!0}));case 26:if(!$r(y)){r.next=29;break}return ne(i,o,y.error),r.abrupt("return");case 29:if(!Xr(y)){r.next=31;break}throw Gr(400,{type:"defer-action"});case 31:return b=m.navigation.location||m.location,R=Br(e.history,b,h.signal),qn(L="idle"!==m.navigation.state?er(n,m.navigation.location,e.basename):m.matches,"Didn't find any matches after fetcher action"),F=++C,A.set(i,F),D=zn({state:"loading",data:y.data},c,{" _hasFetcherDoneAnything ":!0}),m.fetchers.set(i,D),N=jr(e.history,m,L,c,b,x,S,k,(0,Mn.Z)({},s.route.id,y.data),void 0,O),U=(0,t.Z)(N,2),Z=U[0],(B=U[1]).filter((function(e){return e.key!==i})).forEach((function(e){var t=e.key,n=m.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(t,r),E.set(t,h)})),M({fetchers:new Map(m.fetchers)}),r.next=44,$(m.matches,L,Z,B,R);case 44:if(H=r.sent,z=H.results,K=H.loaderResults,V=H.fetcherResults,!h.signal.aborted){r.next=50;break}return r.abrupt("return");case 50:if(A.delete(i),E.delete(i),B.forEach((function(e){return E.delete(e.key)})),!(q=Jr(z))){r.next=56;break}return r.abrupt("return",Q(m,q));case 56:G=Kr(m,m.matches,Z,K,void 0,B,V,I),J=G.loaderData,Y=G.errors,X={state:"idle",data:y.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},m.fetchers.set(i,X),ee=se(F),"loading"===m.navigation.state&&F>P?(qn(w,"Expected pending action"),g&&g.abort(),j(m.navigation.location,{matches:L,loaderData:J,errors:Y,fetchers:new Map(m.fetchers)})):(M(zn({errors:Y,loaderData:Vr(m.loaderData,J,L,Y)},ee?{fetchers:new Map(m.fetchers)}:{})),x=!1);case 61:case"end":return r.stop()}}),r)}))),G.apply(this,arguments)}function J(){return J=(0,q.Z)((0,W.Z)().mark((function t(n,r,i,o,a,s){var u,c,l,f,d,h,p;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u=m.fetchers.get(n),c=zn({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},s,{data:u&&u.data," _hasFetcherDoneAnything ":!0}),m.fetchers.set(n,c),M({fetchers:new Map(m.fetchers)}),l=new AbortController,f=Br(e.history,i,l.signal),E.set(n,l),t.next=9,Ur("loader",f,o,a,v.basename);case 9:if(!Xr(d=t.sent)){t.next=17;break}return t.next=13,ai(d,f.signal,!0);case 13:if(t.t0=t.sent,t.t0){t.next=16;break}t.t0=d;case 16:d=t.t0;case 17:if(E.get(n)===l&&E.delete(n),!f.signal.aborted){t.next=20;break}return t.abrupt("return");case 20:if(!ei(d)){t.next=24;break}return t.next=23,Q(m,d);case 23:return t.abrupt("return");case 24:if(!$r(d)){t.next=29;break}return h=Wr(m.matches,r),m.fetchers.delete(n),M({fetchers:new Map(m.fetchers),errors:(0,Mn.Z)({},h.route.id,d.error)}),t.abrupt("return");case 29:qn(!Xr(d),"Unhandled fetcher deferred data"),p={state:"idle",data:d.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0},m.fetchers.set(n,p),M({fetchers:new Map(m.fetchers)});case 33:case"end":return t.stop()}}),t)}))),J.apply(this,arguments)}function Q(e,t,n){return X.apply(this,arguments)}function X(){return X=(0,q.Z)((0,W.Z)().mark((function t(n,r,i){var o,a,s,u,c,l,f,d,h,p,v,y,m;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=(a=void 0===i?{}:i).submission,u=a.replace,c=a.isFetchActionRedirect,r.revalidate&&(x=!0),qn(l=Jn(n.location,r.location,zn({_isRedirect:!0},c?{_isFetchActionRedirect:!0}:{})),"Expected a location on the redirect navigation"),!Ir||"undefined"===typeof(null==(o=window)?void 0:o.location)){t.next=9;break}if(f=e.history.createURL(r.location).origin,window.location.origin===f){t.next=9;break}return u?window.location.replace(r.location):window.location.assign(r.location),t.abrupt("return");case 9:if(g=null,d=!0===u?Bn.Replace:Bn.Push,h=n.navigation,p=h.formMethod,v=h.formAction,y=h.formEncType,m=h.formData,!s&&p&&v&&m&&y&&(s={formMethod:p,formAction:v,formEncType:y,formData:m}),!(Pr.has(r.status)&&s&&ri(s.formMethod))){t.next=18;break}return t.next=16,U(d,l,{submission:zn({},s,{formAction:r.location}),preventScrollReset:_});case 16:t.next=20;break;case 18:return t.next=20,U(d,l,{overrideNavigation:{state:"loading",location:l,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:_});case 20:case"end":return t.stop()}}),t)}))),X.apply(this,arguments)}function $(e,t,n,r,i){return ee.apply(this,arguments)}function ee(){return ee=(0,q.Z)((0,W.Z)().mark((function t(n,r,i,o,a){var s,u,c;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all([].concat((0,Y.Z)(i.map((function(e){return Ur("loader",a,e,r,v.basename)}))),(0,Y.Z)(o.map((function(t){return Ur("loader",Br(e.history,t.path,a.signal),t.match,t.matches,v.basename)})))));case 2:return s=t.sent,u=s.slice(0,i.length),c=s.slice(i.length),t.next=7,Promise.all([ii(n,i,u,a.signal,!1,m.loaderData),ii(n,o.map((function(e){return e.match})),c,a.signal,!0)]);case 7:return t.abrupt("return",{results:s,loaderResults:u,fetcherResults:c});case 8:case"end":return t.stop()}}),t)}))),ee.apply(this,arguments)}function te(){var e;x=!0,(e=S).push.apply(e,(0,Y.Z)(fe())),O.forEach((function(e,t){E.has(t)&&(k.push(t),ie(t))}))}function ne(e,t,n){var r=Wr(m.matches,t);re(e),M({errors:(0,Mn.Z)({},r.route.id,n),fetchers:new Map(m.fetchers)})}function re(e){E.has(e)&&ie(e),O.delete(e),A.delete(e),T.delete(e),m.fetchers.delete(e)}function ie(e){var t=E.get(e);qn(t,"Expected fetch controller: "+e),t.abort(),E.delete(e)}function oe(e){var t,n=(0,Hn.Z)(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i={state:"idle",data:V(r).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};m.fetchers.set(r,i)}}catch(o){n.e(o)}finally{n.f()}}function ae(){var e,t=[],n=(0,Hn.Z)(T);try{for(n.s();!(e=n.n()).done;){var r=e.value,i=m.fetchers.get(r);qn(i,"Expected fetcher: "+r),"loading"===i.state&&(T.delete(r),t.push(r))}}catch(o){n.e(o)}finally{n.f()}oe(t)}function se(e){var n,r=[],i=(0,Hn.Z)(A);try{for(i.s();!(n=i.n()).done;){var o=(0,t.Z)(n.value,2),a=o[0];if(o[1]<e){var s=m.fetchers.get(a);qn(s,"Expected fetcher: "+a),"loading"===s.state&&(ie(a),A.delete(a),r.push(a))}}}catch(u){i.e(u)}finally{i.f()}return oe(r),r.length>0}function ue(e){m.blockers.delete(e),L.delete(e),R===e&&(R=null)}function ce(e,t){var n=m.blockers.get(e)||Or;qn("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),m.blockers.set(e,t),M({blockers:new Map(m.blockers)})}function le(e){var t=e.currentLocation,n=e.nextLocation,r=e.historyAction;if(null!=R){var i=L.get(R);qn(i,"Could not find a function for the active blocker");var o=m.blockers.get(R);if(!o||"proceeding"!==o.state)return i({currentLocation:t,nextLocation:n,historyAction:r})?R:void 0}}function fe(e){var t=[];return I.forEach((function(n,r){e&&!e(r)||(n.cancel(),t.push(r),I.delete(r))})),t}function de(e,t){if(o&&a&&s){var n=t.map((function(e){return ci(e,m.loaderData)})),r=a(e,n)||e.key;o[r]=s()}}function he(e,t){if(o&&a&&s){var n=t.map((function(e){return ci(e,m.loaderData)})),r=a(e,n)||e.key,i=o[r];if("number"===typeof i)return i}return null}return v={get basename(){return e.basename},get state(){return m},get routes(){return n},initialize:function(){return r=e.history.listen((function(t){var n=t.action,r=t.location,i=t.delta;if(!F){lr(null!=R&&null===i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");var o=le({currentLocation:m.location,nextLocation:r,historyAction:n});return o&&null!=i?(F=!0,e.history.go(-1*i),void ce(o,{state:"blocked",location:r,proceed:function(){ce(o,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset:function(){ue(o),M({blockers:new Map(v.state.blockers)})}})):U(n,r)}F=!1})),m.initialized||U(Bn.Pop,m.location),v},subscribe:function(e){return i.add(e),function(){return i.delete(e)}},enableScrollRestoration:function(e,t,n){if(o=e,s=t,a=n||function(e){return e.key},!u&&m.navigation===Ar){u=!0;var r=he(m.location,m.matches);null!=r&&M({restoreScrollPosition:r})}return function(){o=null,s=null,a=null}},navigate:D,fetch:function(t,r,i,o){if(Rr)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");E.has(t)&&ie(t);var a=er(n,i,e.basename);if(a){var s=Fr(i,o,!0),u=s.path,c=s.submission,l=li(a,u);_=!0===(o&&o.preventScrollReset),c&&ri(c.formMethod)?function(e,t,n,r,i,o){G.apply(this,arguments)}(t,r,u,l,a,c):(O.set(t,{routeId:r,path:u,match:l,matches:a}),function(e,t,n,r,i,o){J.apply(this,arguments)}(t,r,u,l,a,c))}else ne(t,r,Gr(404,{pathname:i}))},revalidate:function(){te(),M({revalidation:"loading"}),"submitting"!==m.navigation.state&&("idle"!==m.navigation.state?U(w||m.historyAction,m.navigation.location,{overrideNavigation:m.navigation}):U(m.historyAction,m.location,{startUninterruptedRevalidation:!0}))},createHref:function(t){return e.history.createHref(t)},encodeLocation:function(t){return e.history.encodeLocation(t)},getFetcher:V,deleteFetcher:re,dispose:function(){r&&r(),i.clear(),g&&g.abort(),m.fetchers.forEach((function(e,t){return re(t)})),m.blockers.forEach((function(e,t){return ue(t)}))},getBlocker:function(e,t){var n=m.blockers.get(e)||Or;return L.get(e)!==t&&(L.set(e,t),null==R?R=e:e!==R&&lr(!1,"A router only supports one blocker at a time")),n},deleteBlocker:ue,_internalFetchControllers:E,_internalActiveDeferreds:I},v}Symbol("deferred");function Fr(e,t,n){void 0===n&&(n=!1);var r,i="string"===typeof e?e:Qn(e);if(!t||!function(e){return null!=e&&"formData"in e}(t))return{path:i};if(t.formMethod&&!ni(t.formMethod))return{path:i,error:Gr(405,{method:t.formMethod})};if(t.formData&&ri((r={formMethod:t.formMethod||"get",formAction:Qr(i),formEncType:t&&t.formEncType||"application/x-www-form-urlencoded",formData:t.formData}).formMethod))return{path:i,submission:r};var o=Yn(i),a=Hr(t.formData);return n&&o.search&&ui(o.search)&&a.append("index",""),o.search="?"+a,{path:Qn(o),submission:r}}function Mr(e,t){var n=e;if(t){var r=e.findIndex((function(e){return e.route.id===t}));r>=0&&(n=e.slice(0,r))}return n}function jr(e,t,n,r,i,o,a,s,u,c,l){var f=c?Object.values(c)[0]:u?Object.values(u)[0]:void 0,d=e.createURL(t.location),h=e.createURL(i),p=o||d.toString()===h.toString()||d.search!==h.search,v=c?Object.keys(c)[0]:void 0,g=Mr(n,v).filter((function(e,n){if(null==e.route.loader)return!1;if(function(e,t,n){var r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}(t.loaderData,t.matches[n],e)||a.some((function(t){return t===e.route.id})))return!0;var i=t.matches[n],o=e;return Nr(e,zn({currentUrl:d,currentParams:i.params,nextUrl:h,nextParams:o.params},r,{actionResult:f,defaultShouldRevalidate:p||Dr(i,o)}))})),y=[];return l&&l.forEach((function(e,i){n.some((function(t){return t.route.id===e.routeId}))&&((s.includes(i)||Nr(e.match,zn({currentUrl:d,currentParams:t.matches[t.matches.length-1].params,nextUrl:h,nextParams:n[n.length-1].params},r,{actionResult:f,defaultShouldRevalidate:p})))&&y.push(zn({key:i},e)))})),[g,y]}function Dr(e,t){var n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function Nr(e,t){if(e.route.shouldRevalidate){var n=e.route.shouldRevalidate(t);if("boolean"===typeof n)return n}return t.defaultShouldRevalidate}function Ur(e,t,n,r,i,o,a,s){return Zr.apply(this,arguments)}function Zr(){return Zr=(0,q.Z)((0,W.Z)().mark((function e(t,n,r,i,o,a,s,u){var c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,k;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o="/"),void 0===a&&(a=!1),void 0===s&&(s=!1),d=new Promise((function(e,t){return f=t})),h=function(){return f()},n.signal.addEventListener("abort",h),e.prev=6,qn(p=r.route[t],"Could not find the "+t+' to run on the "'+r.route.id+'" route'),e.next=11,Promise.race([p({request:n,params:r.params,context:u}),d]);case 11:qn(void 0!==(l=e.sent),"You defined "+("action"===t?"an action":"a loader")+' for route "'+r.route.id+"\" but didn't return anything from your `"+t+"` function. Please return a value or `null`."),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(6),c=Kn.error,l=e.t0;case 19:return e.prev=19,n.signal.removeEventListener("abort",h),e.finish(19);case 22:if(!ti(l)){e.next=48;break}if(v=l.status,!Cr.has(v)){e.next=33;break}if(qn(g=l.headers.get("Location"),"Redirects returned/thrown from loaders/actions must have a Location header"),/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(g)?a||(b=new URL(n.url),(x=g.startsWith("//")?new URL(b.protocol+g):new URL(g)).origin===b.origin&&(g=x.pathname+x.search+x.hash)):(y=i.slice(0,i.indexOf(r)+1),m=dr(y).map((function(e){return e.pathnameBase})),qn(Qn(w=hr(g,m,new URL(n.url).pathname)),"Unable to resolve redirect location: "+g),o&&(_=w.pathname,w.pathname="/"===_?o:pr([o,_])),g=Qn(w)),!a){e.next=32;break}throw l.headers.set("Location",g),l;case 32:return e.abrupt("return",{type:Kn.redirect,status:v,location:g,revalidate:null!==l.headers.get("X-Remix-Revalidate")});case 33:if(!s){e.next=35;break}throw{type:c||Kn.data,response:l};case 35:if(!(k=l.headers.get("Content-Type"))||!/\bapplication\/json\b/.test(k)){e.next=42;break}return e.next=39,l.json();case 39:S=e.sent,e.next=45;break;case 42:return e.next=44,l.text();case 44:S=e.sent;case 45:if(c!==Kn.error){e.next=47;break}return e.abrupt("return",{type:c,error:new _r(v,l.statusText,S),headers:l.headers});case 47:return e.abrupt("return",{type:Kn.data,data:S,statusCode:l.status,headers:l.headers});case 48:if(c!==Kn.error){e.next=50;break}return e.abrupt("return",{type:c,error:l});case 50:if(!(l instanceof wr)){e.next=52;break}return e.abrupt("return",{type:Kn.deferred,deferredData:l});case 52:return e.abrupt("return",{type:Kn.data,data:l});case 53:case"end":return e.stop()}}),e,null,[[6,15,19,22]])}))),Zr.apply(this,arguments)}function Br(e,t,n,r){var i=e.createURL(Qr(t)).toString(),o={signal:n};if(r&&ri(r.formMethod)){var a=r.formMethod,s=r.formEncType,u=r.formData;o.method=a.toUpperCase(),o.body="application/x-www-form-urlencoded"===s?Hr(u):u}return new Request(i,o)}function Hr(e){var n,r=new URLSearchParams,i=(0,Hn.Z)(e.entries());try{for(i.s();!(n=i.n()).done;){var o=(0,t.Z)(n.value,2),a=o[0],s=o[1];r.append(a,s instanceof File?s.name:s)}}catch(u){i.e(u)}finally{i.f()}return r}function zr(e,t,n,r,i){var o,a={},s=null,u=!1,c={};return n.forEach((function(n,l){var f=t[l].route.id;if(qn(!ei(n),"Cannot handle redirect results in processLoaderData"),$r(n)){var d=Wr(e,f),h=n.error;r&&(h=Object.values(r)[0],r=void 0),null==(s=s||{})[d.route.id]&&(s[d.route.id]=h),a[f]=void 0,u||(u=!0,o=br(n.error)?n.error.status:500),n.headers&&(c[f]=n.headers)}else Xr(n)?(i.set(f,n.deferredData),a[f]=n.deferredData.data):a[f]=n.data,null==n.statusCode||200===n.statusCode||u||(o=n.statusCode),n.headers&&(c[f]=n.headers)})),r&&(s=r,a[Object.keys(r)[0]]=void 0),{loaderData:a,errors:s,statusCode:o||200,loaderHeaders:c}}function Kr(e,t,n,r,i,o,a,s){for(var u=zr(t,n,r,i,s),c=u.loaderData,l=u.errors,f=0;f<o.length;f++){var d=o[f],h=d.key,p=d.match;qn(void 0!==a&&void 0!==a[f],"Did not find corresponding fetcher result");var v=a[f];if($r(v)){var g=Wr(e.matches,p.route.id);l&&l[g.route.id]||(l=zn({},l,(0,Mn.Z)({},g.route.id,v.error))),e.fetchers.delete(h)}else if(ei(v))qn(!1,"Unhandled fetcher revalidation redirect");else if(Xr(v))qn(!1,"Unhandled fetcher deferred data");else{var y={state:"idle",data:v.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(h,y)}}return{loaderData:c,errors:l}}function Vr(e,t,n,r){var i,o=zn({},t),a=(0,Hn.Z)(n);try{for(a.s();!(i=a.n()).done;){var s=i.value.route.id;if(t.hasOwnProperty(s)?void 0!==t[s]&&(o[s]=t[s]):void 0!==e[s]&&(o[s]=e[s]),r&&r.hasOwnProperty(s))break}}catch(u){a.e(u)}finally{a.f()}return o}function Wr(e,t){var n=t?e.slice(0,e.findIndex((function(e){return e.route.id===t}))+1):(0,Y.Z)(e);return n.reverse().find((function(e){return!0===e.route.hasErrorBoundary}))||e[0]}function qr(e){var t=e.find((function(e){return e.index||!e.path||"/"===e.path}))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function Gr(e,t){var n=void 0===t?{}:t,r=n.pathname,i=n.routeId,o=n.method,a=n.type,s="Unknown Server Error",u="Unknown @remix-run/router error";return 400===e?(s="Bad Request",o&&r&&i?u="You made a "+o+' request to "'+r+'" but did not provide a `loader` for route "'+i+'", so there is no way to handle the request.':"defer-action"===a&&(u="defer() is not supported in actions")):403===e?(s="Forbidden",u='Route "'+i+'" does not match URL "'+r+'"'):404===e?(s="Not Found",u='No route matches URL "'+r+'"'):405===e&&(s="Method Not Allowed",o&&r&&i?u="You made a "+o.toUpperCase()+' request to "'+r+'" but did not provide an `action` for route "'+i+'", so there is no way to handle the request.':o&&(u='Invalid request method "'+o.toUpperCase()+'"')),new _r(e||500,s,new Error(u),!0)}function Jr(e){for(var t=e.length-1;t>=0;t--){var n=e[t];if(ei(n))return n}}function Qr(e){return Qn(zn({},"string"===typeof e?Yn(e):e,{hash:""}))}function Yr(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Xr(e){return e.type===Kn.deferred}function $r(e){return e.type===Kn.error}function ei(e){return(e&&e.type)===Kn.redirect}function ti(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"object"===typeof e.headers&&"undefined"!==typeof e.body}function ni(e){return Er.has(e)}function ri(e){return Sr.has(e)}function ii(e,t,n,r,i,o){return oi.apply(this,arguments)}function oi(){return oi=(0,q.Z)((0,W.Z)().mark((function e(t,n,r,i,o,a){var s,u;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=(0,W.Z)().mark((function e(s){var u,c,l,f;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u=r[s],c=n[s],l=t.find((function(e){return e.route.id===c.route.id})),f=null!=l&&!Dr(l,c)&&void 0!==(a&&a[c.route.id]),!Xr(u)||!o&&!f){e.next=7;break}return e.next=7,ai(u,i,o).then((function(e){e&&(r[s]=e||r[s])}));case 7:case"end":return e.stop()}}),e)})),u=0;case 2:if(!(u<r.length)){e.next=7;break}return e.delegateYield(s(u),"t0",4);case 4:u++,e.next=2;break;case 7:case"end":return e.stop()}}),e)}))),oi.apply(this,arguments)}function ai(e,t,n){return si.apply(this,arguments)}function si(){return si=(0,q.Z)((0,W.Z)().mark((function e(t,n,r){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===r&&(r=!1),e.next=3,t.deferredData.resolveData(n);case 3:if(!e.sent){e.next=6;break}return e.abrupt("return");case 6:if(!r){e.next=14;break}return e.prev=7,e.abrupt("return",{type:Kn.data,data:t.deferredData.unwrappedData});case 11:return e.prev=11,e.t0=e.catch(7),e.abrupt("return",{type:Kn.error,error:e.t0});case 14:return e.abrupt("return",{type:Kn.data,data:t.deferredData.data});case 15:case"end":return e.stop()}}),e,null,[[7,11]])}))),si.apply(this,arguments)}function ui(e){return new URLSearchParams(e).getAll("index").some((function(e){return""===e}))}function ci(e,t){var n=e.route,r=e.pathname,i=e.params;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function li(e,t){var n="string"===typeof t?Yn(t).search:t.search;if(e[e.length-1].route.index&&ui(n||""))return e[e.length-1];var r=dr(e);return r[r.length-1]}function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fi.apply(this,arguments)}var di="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},hi=ne.useState,pi=ne.useEffect,vi=ne.useLayoutEffect,gi=ne.useDebugValue;function yi(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!di(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var mi=re.useSyncExternalStore,wi=ne.createContext(null);var _i=ne.createContext(null);var bi=ne.createContext(null);var xi=ne.createContext(null);var Si=ne.createContext(null);var ki=ne.createContext({outlet:null,matches:[]});var Ei=ne.createContext(null);function Ci(){return null!=ne.useContext(Si)}function Pi(){return Ci()||qn(!1),ne.useContext(Si).location}function Ai(){Ci()||qn(!1);var e=ne.useContext(xi),t=e.basename,n=e.navigator,r=ne.useContext(ki).matches,i=Pi().pathname,o=JSON.stringify(dr(r).map((function(e){return e.pathnameBase}))),a=ne.useRef(!1);ne.useEffect((function(){a.current=!0}));var s=ne.useCallback((function(e,r){if(void 0===r&&(r={}),a.current)if("number"!==typeof e){var s=hr(e,JSON.parse(o),i,"path"===r.relative);"/"!==t&&(s.pathname="/"===s.pathname?t:pr([t,s.pathname])),(r.replace?n.replace:n.push)(s,r.state,r)}else n.go(e)}),[t,n,o,i]);return s}var Ti=ne.createContext(null);function Oi(){var e=ne.useContext(ki).matches,t=e[e.length-1];return t?t.params:{}}function Ii(e,t){var n=(void 0===t?{}:t).relative,r=ne.useContext(ki).matches,i=Pi().pathname,o=JSON.stringify(dr(r).map((function(e){return e.pathnameBase})));return ne.useMemo((function(){return hr(e,JSON.parse(o),i,"path"===n)}),[e,o,i,n])}function Ri(){var e=function(){var e,t=ne.useContext(Ei),n=Ni(Fi.UseRouteError),r=Ui(Fi.UseRouteError);if(t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=br(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r};return ne.createElement(ne.Fragment,null,ne.createElement("h2",null,"Unexpected Application Error!"),ne.createElement("h3",{style:{fontStyle:"italic"}},t),n?ne.createElement("pre",{style:i},n):null,null)}var Li,Fi,Mi=function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(e){var i;return(0,r.Z)(this,n),(i=t.call(this,e)).state={location:e.location,error:e.error},i}return(0,i.Z)(n,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?ne.createElement(ki.Provider,{value:this.props.routeContext},ne.createElement(Ei.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),n}(ne.Component);function ji(e){var t=e.routeContext,n=e.match,r=e.children,i=ne.useContext(wi);return i&&i.static&&i.staticContext&&n.route.errorElement&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ne.createElement(ki.Provider,{value:t},r)}function Di(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}var r=e,i=null==n?void 0:n.errors;if(null!=i){var o=r.findIndex((function(e){return e.route.id&&(null==i?void 0:i[e.route.id])}));o>=0||qn(!1),r=r.slice(0,Math.min(r.length,o+1))}return r.reduceRight((function(e,o,a){var s=o.route.id?null==i?void 0:i[o.route.id]:null,u=n?o.route.errorElement||ne.createElement(Ri,null):null,c=t.concat(r.slice(0,a+1)),l=function(){return ne.createElement(ji,{match:o,routeContext:{outlet:e,matches:c}},s?u:void 0!==o.route.element?o.route.element:e)};return n&&(o.route.errorElement||0===a)?ne.createElement(Mi,{location:n.location,component:u,error:s,children:l(),routeContext:{outlet:null,matches:c}}):l()}),null)}function Ni(e){var t=ne.useContext(_i);return t||qn(!1),t}function Ui(e){var t=function(e){var t=ne.useContext(ki);return t||qn(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||qn(!1),n.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(Li||(Li={})),function(e){e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Fi||(Fi={}));var Zi;function Bi(e){var t=e.fallbackElement,n=e.router,r=mi(n.subscribe,(function(){return n.state}),(function(){return n.state})),i=ne.useMemo((function(){return{createHref:n.createHref,encodeLocation:n.encodeLocation,go:function(e){return n.navigate(e)},push:function(e,t,r){return n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})},replace:function(e,t,r){return n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})}}}),[n]),o=n.basename||"/";return ne.createElement(ne.Fragment,null,ne.createElement(wi.Provider,{value:{router:n,navigator:i,static:!1,basename:o}},ne.createElement(_i.Provider,{value:r},ne.createElement(Vi,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:i},n.state.initialized?ne.createElement(Wi,null):t))),null)}function Hi(e){var t=e.to,n=e.replace,r=e.state,i=e.relative;Ci()||qn(!1);var o=ne.useContext(_i),a=Ai();return ne.useEffect((function(){o&&"idle"!==o.navigation.state||a(t,{replace:n,state:r,relative:i})})),null}function zi(e){return function(e){var t=ne.useContext(ki).outlet;return t?ne.createElement(Ti.Provider,{value:e},t):t}(e.context)}function Ki(e){qn(!1)}function Vi(e){var t=e.basename,n=void 0===t?"/":t,r=e.children,i=void 0===r?null:r,o=e.location,a=e.navigationType,s=void 0===a?Bn.Pop:a,u=e.navigator,c=e.static,l=void 0!==c&&c;Ci()&&qn(!1);var f=n.replace(/^\/*/,"/"),d=ne.useMemo((function(){return{basename:f,navigator:u,static:l}}),[f,u,l]);"string"===typeof o&&(o=Yn(o));var h=o,p=h.pathname,v=void 0===p?"/":p,g=h.search,y=void 0===g?"":g,m=h.hash,w=void 0===m?"":m,_=h.state,b=void 0===_?null:_,x=h.key,S=void 0===x?"default":x,k=ne.useMemo((function(){var e=cr(v,f);return null==e?null:{pathname:e,search:y,hash:w,state:b,key:S}}),[f,v,y,w,b,S]);return null==k?null:ne.createElement(xi.Provider,{value:d},ne.createElement(Si.Provider,{children:i,value:{location:k,navigationType:s}}))}function Wi(e){var t=e.children,n=e.location,r=ne.useContext(wi);return function(e,t){Ci()||qn(!1);var n,r=ne.useContext(xi).navigator,i=ne.useContext(_i),o=ne.useContext(ki).matches,a=o[o.length-1],s=a?a.params:{},u=(a&&a.pathname,a?a.pathnameBase:"/"),c=(a&&a.route,Pi());if(t){var l,f="string"===typeof t?Yn(t):t;"/"===u||(null==(l=f.pathname)?void 0:l.startsWith(u))||qn(!1),n=f}else n=c;var d=n.pathname||"/",h=er(e,{pathname:"/"===u?d:d.slice(u.length)||"/"}),p=Di(h&&h.map((function(e){return Object.assign({},e,{params:Object.assign({},s,e.params),pathname:pr([u,r.encodeLocation?r.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:pr([u,r.encodeLocation?r.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,i||void 0);return t&&p?ne.createElement(Si.Provider,{value:{location:fi({pathname:"/",search:"",hash:"",state:null,key:"default"},n),navigationType:Bn.Pop}},p):p}(r&&!t?r.router.routes:Gi(t),n)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Zi||(Zi={}));var qi=new Promise((function(){}));ne.Component;function Gi(e,t){void 0===t&&(t=[]);var n=[];return ne.Children.forEach(e,(function(e,r){if(ne.isValidElement(e))if(e.type!==ne.Fragment){e.type!==Ki&&qn(!1),e.props.index&&e.props.children&&qn(!1);var i=[].concat((0,Y.Z)(t),[r]),o={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,hasErrorBoundary:null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle};e.props.children&&(o.children=Gi(e.props.children,i)),n.push(o)}else n.push.apply(n,Gi(e.props.children,t))})),n}function Ji(e){return e.map((function(e){var t=fi({},e);return null==t.hasErrorBoundary&&(t.hasErrorBoundary=null!=t.errorElement),t.children&&(t.children=Ji(t.children)),t}))}var Qi=n(2464),Yi=Fn,Xi=En,$i=n(1694),eo=n.n($i),to=n(4925),no=["refetchPage"],ro=function(t){(0,P.Z)(u,t);var n=(0,A.Z)(u);function u(e,t){var i;return(0,r.Z)(this,u),(i=n.call(this)).client=e,i.options=t,i.trackedProps=new Set,i.selectError=null,i.bindMethods(),i.setOptions(t),i}return(0,i.Z)(u,[{key:"bindMethods",value:function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}},{key:"onSubscribe",value:function(){1===this.listeners.length&&(this.currentQuery.addObserver(this),io(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}},{key:"onUnsubscribe",value:function(){this.listeners.length||this.destroy()}},{key:"shouldFetchOnReconnect",value:function(){return oo(this.currentQuery,this.options,this.options.refetchOnReconnect)}},{key:"shouldFetchOnWindowFocus",value:function(){return oo(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}},{key:"destroy",value:function(){this.listeners=[],this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}},{key:"setOptions",value:function(e,t){var n=this.options,r=this.currentQuery;if(this.options=this.client.defaultQueryOptions(e),w(n,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),"undefined"!==typeof this.options.enabled&&"boolean"!==typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=n.queryKey),this.updateQuery();var i=this.hasListeners();i&&ao(this.currentQuery,r,this.options,n)&&this.executeFetch(),this.updateResult(t),!i||this.currentQuery===r&&this.options.enabled===n.enabled&&this.options.staleTime===n.staleTime||this.updateStaleTimeout();var o=this.computeRefetchInterval();!i||this.currentQuery===r&&this.options.enabled===n.enabled&&o===this.currentRefetchInterval||this.updateRefetchInterval(o)}},{key:"getOptimisticResult",value:function(e){var t=this.client.getQueryCache().build(this.client,e);return this.createResult(t,e)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"trackResult",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){Object.defineProperty(n,r,{configurable:!1,enumerable:!0,get:function(){return t.trackedProps.add(r),e[r]}})})),n}},{key:"getCurrentQuery",value:function(){return this.currentQuery}},{key:"remove",value:function(){this.client.getQueryCache().remove(this.currentQuery)}},{key:"refetch",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refetchPage,r=(0,to.Z)(t,no);return this.fetch((0,e.Z)((0,e.Z)({},r),{},{meta:{refetchPage:n}}))}},{key:"fetchOptimistic",value:function(e){var t=this,n=this.client.defaultQueryOptions(e),r=this.client.getQueryCache().build(this.client,n);return r.isFetchingOptimistic=!0,r.fetch().then((function(){return t.createResult(r,n)}))}},{key:"fetch",value:function(t){var n,r=this;return this.executeFetch((0,e.Z)((0,e.Z)({},t),{},{cancelRefetch:null==(n=t.cancelRefetch)||n})).then((function(){return r.updateResult(),r.currentResult}))}},{key:"executeFetch",value:function(e){this.updateQuery();var t=this.currentQuery.fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(a)),t}},{key:"updateStaleTimeout",value:function(){var e=this;if(this.clearStaleTimeout(),!o&&!this.currentResult.isStale&&s(this.options.staleTime)){var t=c(this.currentResult.dataUpdatedAt,this.options.staleTime)+1;this.staleTimeoutId=setTimeout((function(){e.currentResult.isStale||e.updateResult()}),t)}}},{key:"computeRefetchInterval",value:function(){var e;return"function"===typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(e=this.options.refetchInterval)&&e}},{key:"updateRefetchInterval",value:function(e){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=e,!o&&!1!==this.options.enabled&&s(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval((function(){(t.options.refetchIntervalInBackground||M.isFocused())&&t.executeFetch()}),this.currentRefetchInterval))}},{key:"updateTimers",value:function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}},{key:"clearStaleTimeout",value:function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}},{key:"clearRefetchInterval",value:function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}},{key:"createResult",value:function(e,t){var n,r=this.currentQuery,i=this.options,o=this.currentResult,a=this.currentResultState,s=this.currentResultOptions,u=e!==r,c=u?e.state:this.currentQueryInitialState,l=u?this.currentResult:this.previousQueryResult,f=e.state,d=f.dataUpdatedAt,h=f.error,p=f.errorUpdatedAt,v=f.fetchStatus,g=f.status,y=!1,m=!1;if(t._optimisticResults){var w=this.hasListeners(),_=!w&&io(e,t),b=w&&ao(e,r,t,i);(_||b)&&(v=U(e.options.networkMode)?"fetching":"paused",d||(g="loading")),"isRestoring"===t._optimisticResults&&(v="idle")}if(t.keepPreviousData&&!f.dataUpdatedAt&&null!=l&&l.isSuccess&&"error"!==g)n=l.data,d=l.dataUpdatedAt,g=l.status,y=!0;else if(t.select&&"undefined"!==typeof f.data)if(o&&f.data===(null==a?void 0:a.data)&&t.select===this.selectFn)n=this.selectResult;else try{this.selectFn=t.select,n=t.select(f.data),n=C(null==o?void 0:o.data,n,t),this.selectResult=n,this.selectError=null}catch(P){0,this.selectError=P}else n=f.data;if("undefined"!==typeof t.placeholderData&&"undefined"===typeof n&&"loading"===g){var x;if(null!=o&&o.isPlaceholderData&&t.placeholderData===(null==s?void 0:s.placeholderData))x=o.data;else if(x="function"===typeof t.placeholderData?t.placeholderData():t.placeholderData,t.select&&"undefined"!==typeof x)try{x=t.select(x),this.selectError=null}catch(P){0,this.selectError=P}"undefined"!==typeof x&&(g="success",n=C(null==o?void 0:o.data,x,t),m=!0)}this.selectError&&(h=this.selectError,n=this.selectResult,p=Date.now(),g="error");var S="fetching"===v,k="loading"===g,E="error"===g;return{status:g,fetchStatus:v,isLoading:k,isSuccess:"success"===g,isError:E,isInitialLoading:k&&S,data:n,dataUpdatedAt:d,error:h,errorUpdatedAt:p,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>c.dataUpdateCount||f.errorUpdateCount>c.errorUpdateCount,isFetching:S,isRefetching:S&&!k,isLoadingError:E&&0===f.dataUpdatedAt,isPaused:"paused"===v,isPlaceholderData:m,isPreviousData:y,isRefetchError:E&&0!==f.dataUpdatedAt,isStale:so(e,t),refetch:this.refetch,remove:this.remove}}},{key:"updateResult",value:function(t){var n=this,r=this.currentResult,i=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!w(i,r)){this.currentResult=i;var o={cache:!0};!1!==(null==t?void 0:t.listeners)&&function(){if(!r)return!0;var e=n.options.notifyOnChangeProps;if("all"===e||!e&&!n.trackedProps.size)return!0;var t=new Set(null!=e?e:n.trackedProps);return n.options.useErrorBoundary&&t.add("error"),Object.keys(n.currentResult).some((function(e){var i=e;return n.currentResult[i]!==r[i]&&t.has(i)}))}()&&(o.listeners=!0),this.notify((0,e.Z)((0,e.Z)({},o),t))}}},{key:"updateQuery",value:function(){var e=this.client.getQueryCache().build(this.client,this.options);if(e!==this.currentQuery){var t=this.currentQuery;this.currentQuery=e,this.currentQueryInitialState=e.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))}}},{key:"onQueryUpdate",value:function(e){var t={};"success"===e.type?t.onSuccess=!e.manual:"error"!==e.type||B(e.error)||(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()}},{key:"notify",value:function(e){var t=this;R.batch((function(){var n,r,i,o;if(e.onSuccess)null==(n=(r=t.options).onSuccess)||n.call(r,t.currentResult.data),null==(i=(o=t.options).onSettled)||i.call(o,t.currentResult.data,null);else if(e.onError){var a,s,u,c;null==(a=(s=t.options).onError)||a.call(s,t.currentResult.error),null==(u=(c=t.options).onSettled)||u.call(c,void 0,t.currentResult.error)}e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)})),e.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})}))}}]),u}(L);function io(e,t){return function(e,t){return!1!==t.enabled&&!e.state.dataUpdatedAt&&!("error"===e.state.status&&!1===t.retryOnMount)}(e,t)||e.state.dataUpdatedAt>0&&oo(e,t,t.refetchOnMount)}function oo(e,t,n){if(!1!==t.enabled){var r="function"===typeof n?n(e):n;return"always"===r||!1!==r&&so(e,t)}return!1}function ao(e,t,n,r){return!1!==n.enabled&&(e!==t||!1===r.enabled)&&(!n.suspense||"error"!==e.state.status)&&so(e,n)}function so(e,t){return e.isStaleByTime(t.staleTime)}var uo=pn.useSyncExternalStore;function co(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var lo=ne.createContext(co()),fo=function(){return ne.useContext(lo)},ho=ne.createContext(!1),po=function(){return ne.useContext(ho)};ho.Provider;function vo(e,t){return"function"===typeof e?e.apply(void 0,(0,Y.Z)(t)):!!e}var go=function(e,t){(e.suspense||e.useErrorBoundary)&&(t.isReset()||(e.retryOnMount=!1))},yo=function(e){ne.useEffect((function(){e.clearReset()}),[e])},mo=function(e){var t=e.result,n=e.errorResetBoundary,r=e.useErrorBoundary,i=e.query;return t.isError&&!n.isReset()&&!t.isFetching&&vo(r,[t.error,i])},wo=function(e){e.suspense&&"number"!==typeof e.staleTime&&(e.staleTime=1e3)},_o=function(e,t){return e.isLoading&&e.isFetching&&!t},bo=function(e,t,n){return(null==e?void 0:e.suspense)&&_o(t,n)},xo=function(e,t,n){return t.fetchOptimistic(e).then((function(t){var n=t.data;null==e.onSuccess||e.onSuccess(n),null==e.onSettled||e.onSettled(n,null)})).catch((function(t){n.clearReset(),null==e.onError||e.onError(t),null==e.onSettled||e.onSettled(void 0,t)}))};function So(e,n,r){return function(e,n){var r=se({context:e.context}),i=po(),o=fo(),a=r.defaultQueryOptions(e);a._optimisticResults=i?"isRestoring":"optimistic",a.onError&&(a.onError=R.batchCalls(a.onError)),a.onSuccess&&(a.onSuccess=R.batchCalls(a.onSuccess)),a.onSettled&&(a.onSettled=R.batchCalls(a.onSettled)),wo(a),go(a,o),yo(o);var s=ne.useState((function(){return new n(r,a)})),u=(0,t.Z)(s,1)[0],c=u.getOptimisticResult(a);if(uo(ne.useCallback((function(e){return i?function(){}:u.subscribe(R.batchCalls(e))}),[u,i]),(function(){return u.getCurrentResult()}),(function(){return u.getCurrentResult()})),ne.useEffect((function(){u.setOptions(a,{listeners:!1})}),[a,u]),bo(a,c,i))throw xo(a,u,o);if(mo({result:c,errorResetBoundary:o,useErrorBoundary:a.useErrorBoundary,query:u.getCurrentQuery()}))throw c.error;return a.notifyOnChangeProps?c:u.trackResult(c)}(l(e,n,r),ro)}var ko=function(t){(0,P.Z)(o,t);var n=(0,A.Z)(o);function o(e,t){var i;return(0,r.Z)(this,o),(i=n.call(this)).client=e,i.setOptions(t),i.bindMethods(),i.updateResult(),i}return(0,i.Z)(o,[{key:"bindMethods",value:function(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}},{key:"setOptions",value:function(e){var t,n=this.options;this.options=this.client.defaultMutationOptions(e),w(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}},{key:"onUnsubscribe",value:function(){var e;this.listeners.length||(null==(e=this.currentMutation)||e.removeObserver(this))}},{key:"onMutationUpdate",value:function(e){this.updateResult();var t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}},{key:"getCurrentResult",value:function(){return this.currentResult}},{key:"reset",value:function(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}},{key:"mutate",value:function(t,n){return this.mutateOptions=n,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,(0,e.Z)((0,e.Z)({},this.options),{},{variables:"undefined"!==typeof t?t:this.options.variables})),this.currentMutation.addObserver(this),this.currentMutation.execute()}},{key:"updateResult",value:function(){var t=this.currentMutation?this.currentMutation.state:{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0},n=(0,e.Z)((0,e.Z)({},t),{},{isLoading:"loading"===t.status,isSuccess:"success"===t.status,isError:"error"===t.status,isIdle:"idle"===t.status,mutate:this.mutate,reset:this.reset});this.currentResult=n}},{key:"notify",value:function(e){var t=this;R.batch((function(){var n,r,i,o;if(t.mutateOptions&&t.hasListeners())if(e.onSuccess)null==(n=(r=t.mutateOptions).onSuccess)||n.call(r,t.currentResult.data,t.currentResult.variables,t.currentResult.context),null==(i=(o=t.mutateOptions).onSettled)||i.call(o,t.currentResult.data,null,t.currentResult.variables,t.currentResult.context);else if(e.onError){var a,s,u,c;null==(a=(s=t.mutateOptions).onError)||a.call(s,t.currentResult.error,t.currentResult.variables,t.currentResult.context),null==(u=(c=t.mutateOptions).onSettled)||u.call(c,void 0,t.currentResult.error,t.currentResult.variables,t.currentResult.context)}e.listeners&&t.listeners.forEach((function(e){e(t.currentResult)}))}))}}]),o}(L);function Eo(n,r,i){var o=function(t,n,r){return S(t)?"function"===typeof n?(0,e.Z)((0,e.Z)({},r),{},{mutationKey:t,mutationFn:n}):(0,e.Z)((0,e.Z)({},n),{},{mutationKey:t}):"function"===typeof t?(0,e.Z)((0,e.Z)({},n),{},{mutationFn:t}):(0,e.Z)({},t)}(n,r,i),a=se({context:o.context}),s=ne.useState((function(){return new ko(a,o)})),u=(0,t.Z)(s,1)[0];ne.useEffect((function(){u.setOptions(o)}),[u,o]);var c=uo(ne.useCallback((function(e){return u.subscribe(R.batchCalls(e))}),[u]),(function(){return u.getCurrentResult()}),(function(){return u.getCurrentResult()})),l=ne.useCallback((function(e,t){u.mutate(e,t).catch(Co)}),[u]);if(c.error&&vo(u.options.useErrorBoundary,[c.error]))throw c.error;return(0,e.Z)((0,e.Z)({},c),{},{mutate:l,mutateAsync:c.mutate})}function Co(){}var Po=n(2159),Ao=n.n(Po),To=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){var r;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,globalThis.fetch(t,{method:"GET"});case 2:return r=e.sent,e.next=5,(0,Qi.fetch)(r.url,n);case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Oo=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r=new FileReader;r.readAsDataURL(t),r.onload=function(){e(r.result)},r.onerror=function(e){return n(e)}})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Io=function(e){var t=new URL(e);if(t.hash="",t.search="",0===t.pathname.length||"/"===t.pathname)return t.toString();var n=t.pathname.split("/").slice(0,-1);return n.push(""),t.pathname=n.join("/"),t.toString()},Ro=function(e){var t=Io(e);return t===e?Lo(t):t},Lo=function(e){var t=new URL(e);if(0===t.pathname.length||"/"===t.pathname)return e;var n=t.pathname.split("/").slice(0,-2);return n.push(""),t.pathname=n.join("/"),t.toString()},Fo=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,Qi.fetch)(t,n);case 3:case 10:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.next=10,To(t,n);case 11:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}(),Mo=function(e){var t=new URL(e);return t.hash="",t.toString()},jo=function(e){var t=new URL(e);return t.protocol="https",t.toString()},Do=function(e,t){for(var n=new Set,r=e;!n.has(r);)n.add(r),r=t(r);return n.delete(e),Array.from(n)},No=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i,o,a;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qi.fetch)(t,{method:"HEAD"});case 2:if(r=e.sent,i=r.headers.get("link"),o=Ao()(i),a=null===o||void 0===o||null===(n=o.acl)||void 0===n?void 0:n.url){e.next=8;break}throw new Error("We could not find WAC link for ".concat(t));case 8:return e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Uo=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e?Mo(e):e,n=(0,ne.useMemo)((function(){return["file",t]}),[t]),r=So(n,(function(){return Zo(t)}),{enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0});return r},Zo=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qi.fetch)(t);case 2:if(!(n=e.sent).ok){e.next=11;break}return e.t0=URL,e.next=7,n.blob();case 7:return e.t1=e.sent,e.abrupt("return",e.t0.createObjectURL.call(e.t0,e.t1));case 11:if(404!==n.status){e.next=15;break}return e.abrupt("return","");case 15:throw new Error("Fetching ".concat(t," not successful"));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Bo=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){var r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qi.fetch)(t,{method:"POST",body:n});case 2:if(r=e.sent,i=r.headers.get("location")){e.next=6;break}throw new Error("Location not available (this should not happen)");case 6:return e.abrupt("return",i);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ho=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qi.fetch)(t,{method:"DELETE"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zo=function(){var e=se(),t=Eo({mutationFn:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.data,e.next=3,Bo(n,r);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(t,n){e.invalidateQueries(["file",Mo(n.uri)])}});return t},Ko=function(){var e=se(),t=Eo({mutationFn:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,e.next=3,Ho(n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:function(t,n){e.invalidateQueries(["file",Mo(n.uri)])}});return t},Vo={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Wo=ne.createContext&&ne.createContext(Vo),qo=function(){return qo=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},qo.apply(this,arguments)},Go=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function Jo(e){return e&&e.map((function(e,t){return ne.createElement(e.tag,qo({key:t},e.attr),Jo(e.child))}))}function Qo(e){return function(t){return ne.createElement(Yo,qo({attr:qo({},e.attr)},t),Jo(e.child))}}function Yo(e){var t=function(t){var n,r=e.attr,i=e.size,o=e.title,a=Go(e,["attr","size","title"]),s=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),ne.createElement("svg",qo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,a,{className:n,style:qo(qo({color:e.color||t.color},t.style),e.style),height:s,width:s,xmlns:"http://www.w3.org/2000/svg"}),o&&ne.createElement("title",null,o),e.children)};return void 0!==Wo?ne.createElement(Wo.Consumer,null,(function(e){return t(e)})):t(Vo)}function Xo(e){return Qo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}}]})(e)}function $o(e){return Qo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"}}]})(e)}function ea(e){return Qo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497.9 142.1l-46.1 46.1c-4.7 4.7-12.3 4.7-17 0l-111-111c-4.7-4.7-4.7-12.3 0-17l46.1-46.1c18.7-18.7 49.1-18.7 67.9 0l60.1 60.1c18.8 18.7 18.8 49.1 0 67.9zM284.2 99.8L21.6 362.4.4 483.9c-2.9 16.4 11.4 30.6 27.8 27.8l121.5-21.3 262.6-262.6c4.7-4.7 4.7-12.3 0-17l-111-111c-4.8-4.7-12.4-4.7-17.1 0zM124.1 339.9c-5.5-5.5-5.5-14.3 0-19.8l154-154c5.5-5.5 14.3-5.5 19.8 0s5.5 14.3 0 19.8l-154 154c-5.5 5.5-14.3 5.5-19.8 0zM88 424h48v36.3l-64.5 11.3-31.1-31.1L51.7 376H88v48z"}}]})(e)}function ta(e){return Qo({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"}}]})(e)}function na(e){return Qo({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111 8 0 119 0 256s111 248 248 248 248-111 248-248S385 8 248 8zm0 96c48.6 0 88 39.4 88 88s-39.4 88-88 88-88-39.4-88-88 39.4-88 88-88zm0 344c-58.7 0-111.3-26.6-146.5-68.2 18.8-35.4 55.6-59.8 98.5-59.8 2.4 0 4.8.4 7.1 1.1 13 4.2 26.6 6.9 40.9 6.9 14.3 0 28-2.7 40.9-6.9 2.3-.7 4.7-1.1 7.1-1.1 42.9 0 79.7 24.4 98.5 59.8C359.3 421.4 306.7 448 248 448z"}}]})(e)}function ra(e){return Qo({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 32C114.6 32 0 125.1 0 240c0 47.6 19.9 91.2 52.9 126.3C38 405.7 7 439.1 6.5 439.5c-6.6 7-8.4 17.2-4.6 26S14.4 480 24 480c61.5 0 110-25.7 139.1-46.3C192 442.8 223.2 448 256 448c141.4 0 256-93.1 256-208S397.4 32 256 32zm0 368c-26.7 0-53.1-4.1-78.4-12.1l-22.7-7.2-19.5 13.8c-14.3 10.1-33.9 21.4-57.5 29 7.3-12.1 14.4-25.7 19.9-40.2l10.6-28.1-20.6-21.8C69.7 314.1 48 282.2 48 240c0-88.2 93.3-160 208-160s208 71.8 208 160-93.3 160-208 160z"}}]})(e)}var ia="Avatar_photo__e3Bu5",oa="Avatar_square__sHgCR",aa=n(184),sa=function(e){var t=e.photo,n=e.size,r=void 0===n?1:n,i=e.square,o=e.className,a=Uo(t).data;return a?(0,aa.jsx)("img",{className:eo()(ia,i&&oa,o),src:a,alt:"",style:{width:"".concat(2*r,"rem"),height:"".concat(2*r,"rem")}}):(0,aa.jsx)(na,{className:eo()(ia,o),size:32*r})};function ua(){return ua=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ua.apply(this,arguments)}function ca(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function la(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((function(t,n){var r=e[n];return t.concat(Array.isArray(r)?r.map((function(e){return[n,e]})):[[n,r]])}),[]))}var fa=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],da=["aria-current","caseSensitive","className","end","style","to","children"];function ha(){var e,t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=ua({},t,{errors:pa(t.errors)})),t}function pa(e){if(!e)return null;for(var n={},r=0,i=Object.entries(e);r<i.length;r++){var o=(0,t.Z)(i[r],2),a=o[0],s=o[1];if(s&&"RouteErrorResponse"===s.__type)n[a]=new _r(s.status,s.statusText,s.data,!0===s.internal);else if(s&&"Error"===s.__type){var u=new Error(s.message);u.stack="",n[a]=u}else n[a]=s}return n}var va="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,ga=ne.forwardRef((function(e,t){var n=e.onClick,r=e.relative,i=e.reloadDocument,o=e.replace,a=e.state,s=e.target,u=e.to,c=e.preventScrollReset,l=ca(e,fa),f="string"===typeof u?u:Qn(u),d=/^[a-z+]+:\/\//i.test(f)||f.startsWith("//"),h=f,p=!1;if(va&&d){var v=new URL(window.location.href),g=f.startsWith("//")?new URL(v.protocol+f):new URL(f);g.origin===v.origin?h=g.pathname+g.search+g.hash:p=!0}var y=function(e,t){var n=(void 0===t?{}:t).relative;Ci()||qn(!1);var r=ne.useContext(xi),i=r.basename,o=r.navigator,a=Ii(e,{relative:n}),s=a.hash,u=a.pathname,c=a.search,l=u;return"/"!==i&&(l="/"===u?i:pr([i,u])),o.createHref({pathname:l,search:c,hash:s})}(h,{relative:r}),m=function(e,t){var n=void 0===t?{}:t,r=n.target,i=n.replace,o=n.state,a=n.preventScrollReset,s=n.relative,u=Ai(),c=Pi(),l=Ii(e,{relative:s});return ne.useCallback((function(t){if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();var n=void 0!==i?i:Qn(c)===Qn(l);u(e,{replace:n,state:o,preventScrollReset:a,relative:s})}}),[c,u,l,i,o,r,e,a,s])}(h,{replace:o,state:a,target:s,preventScrollReset:c,relative:r});return ne.createElement("a",ua({},l,{href:d?f:y,onClick:p||i?n:function(e){n&&n(e),e.defaultPrevented||m(e)},ref:t,target:s}))}));var ya=ne.forwardRef((function(e,t){var n=e["aria-current"],r=void 0===n?"page":n,i=e.caseSensitive,o=void 0!==i&&i,a=e.className,s=void 0===a?"":a,u=e.end,c=void 0!==u&&u,l=e.style,f=e.to,d=e.children,h=ca(e,da),p=Ii(f,{relative:h.relative}),v=Pi(),g=ne.useContext(_i),y=ne.useContext(xi).navigator,m=y.encodeLocation?y.encodeLocation(p).pathname:p.pathname,w=v.pathname,_=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;o||(w=w.toLowerCase(),_=_?_.toLowerCase():null,m=m.toLowerCase());var b,x=w===m||!c&&w.startsWith(m)&&"/"===w.charAt(m.length),S=null!=_&&(_===m||!c&&_.startsWith(m)&&"/"===_.charAt(m.length)),k=x?r:void 0;b="function"===typeof s?s({isActive:x,isPending:S}):[s,x?"active":null,S?"pending":null].filter(Boolean).join(" ");var E="function"===typeof l?l({isActive:x,isPending:S}):l;return ne.createElement(ga,ua({},h,{"aria-current":k,className:b,ref:t,style:E,to:f}),"function"===typeof d?d({isActive:x,isPending:S}):d)}));var ma,wa;function _a(e){var t=ne.useRef(la(e)),n=ne.useRef(!1),r=Pi(),i=ne.useMemo((function(){return function(e,t){var n=la(e);if(t){var r,i=(0,Hn.Z)(t.keys());try{var o=function(){var e=r.value;n.has(e)||t.getAll(e).forEach((function(t){n.append(e,t)}))};for(i.s();!(r=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}}return n}(r.search,n.current?null:t.current)}),[r.search]),o=Ai(),a=ne.useCallback((function(e,t){var r=la("function"===typeof e?e(i):e);n.current=!0,o("?"+r,t)}),[o,i]);return[i,a]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(ma||(ma={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(wa||(wa={}));var ba="Button_button__JBBzO",xa="Button_primary__9MLUH",Sa="Button_secondary__sUGsj",ka="Button_tertiary__ioTKC",Ea="Button_danger__U+J2L",Ca=["primary","secondary","tertiary","danger","className"],Pa=["primary","secondary","tertiary","danger","className"],Aa=function(t){var n=t.primary,r=t.secondary,i=t.tertiary,o=t.danger,a=t.className,s=(0,to.Z)(t,Ca);return(0,aa.jsx)("button",(0,e.Z)({className:eo()(a,ba,n&&xa,o&&Ea,r&&Sa,i&&ka)},s))},Ta=function(t){var n=t.primary,r=t.secondary,i=t.tertiary,o=t.danger,a=t.className,s=(0,to.Z)(t,Pa);return(0,aa.jsx)(ga,(0,e.Z)({className:eo()(a,ba,n&&xa,o&&Ea,r&&Sa,i&&ka)},s))},Oa=function(t){return(0,aa.jsx)("a",(0,e.Z)((0,e.Z)({target:"_blank",rel:"noopener noreferrer"},t),{},{children:(0,aa.jsx)($o,{})}))};function Ia(){return Ia=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ia.apply(this,arguments)}function Ra(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var La=function(e){return!!e&&"o"===e[0]},Fa=gn.unstable_batchedUpdates||function(e){return e()},Ma=(Object.values,function(e,t,n){return void 0===n&&(n=1e-4),Math.abs(e-t)<n}),ja=function(e,t){return!0===e||!(!e||!e[t])},Da=function(e,t){return"function"===typeof e?e(t):e},Na="_szhsinMenu",Ua=function(e,t){return Object.defineProperty(t,Na,{value:e})},Za=function(e,t){return t&&Object.keys(t).forEach((function(n){var r=e[n],i=t[n];e[n]="function"===typeof i&&r?function(){i.apply(void 0,arguments),r.apply(void 0,arguments)}:i})),e},Ba=function(e){for(;e;){if(!(e=e.parentNode)||e===document.body)return;var t=getComputedStyle(e),n=t.overflow,r=t.overflowX,i=t.overflowY;if(/auto|scroll|overlay|hidden/.test(n+i+r))return e}};function Ha(e,t){return{"aria-disabled":e||void 0,tabIndex:t?0:-1}}function za(e,t){for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1}var Ka=function(e){var t=e.block,n=e.element,r=e.modifiers,i=e.className;return(0,ne.useMemo)((function(){var e=n?t+"__"+n:t,o=e;r&&Object.keys(r).forEach((function(t){var n=r[t];n&&(o+=" "+e+"--"+(!0===n?t:t+"-"+n))}));var a="function"===typeof i?i(r):i;return"string"===typeof a&&(a=a.trim())&&(o+=" "+a),o}),[t,n,r,i])},Va="szh-menu",Wa=(0,ne.createContext)(),qa=(0,ne.createContext)({}),Ga=(0,ne.createContext)({}),Ja=(0,ne.createContext)({}),Qa=(0,ne.createContext)({}),Ya=(0,ne.createContext)({}),Xa=(0,ne.createContext)({}),$a=Object.freeze({ENTER:"Enter",ESC:"Escape",SPACE:" ",HOME:"Home",END:"End",LEFT:"ArrowLeft",RIGHT:"ArrowRight",UP:"ArrowUp",DOWN:"ArrowDown"}),es=Object.freeze({RESET:0,SET:1,UNSET:2,INCREASE:3,DECREASE:4,FIRST:5,LAST:6,SET_INDEX:7}),ts=Object.freeze({CLICK:"click",CANCEL:"cancel",BLUR:"blur",SCROLL:"scroll"}),ns=Object.freeze({FIRST:"first",LAST:"last"}),rs=Object.freeze({entering:"opening",entered:"open",exiting:"closing",exited:"closed"}),is=function(e){var t=e.className,n=e.containerRef,r=e.containerProps,i=e.children,o=e.isOpen,a=e.skipOpen,s=e.theming,u=e.transition,c=e.onClose,l=ja(u,"item");return(0,aa.jsx)("div",Ia({},Za({onKeyDown:function(e){var t=e.key;if(t===$a.ESC)Da(c,{key:t,reason:ts.CANCEL})},onBlur:function(e){o&&!e.currentTarget.contains(e.relatedTarget||document.activeElement)&&(Da(c,{reason:ts.BLUR}),a&&(a.current=!0,setTimeout((function(){return a.current=!1}),300)))}},r),{className:Ka({block:"szh-menu-container",modifiers:(0,ne.useMemo)((function(){return{theme:s,itemTransition:l}}),[s,l]),className:t}),style:Ia({position:"absolute"},null==r?void 0:r.style),ref:n,children:i}))},os=function(e,t,n,r){var i=t.current.getBoundingClientRect(),o=e.current.getBoundingClientRect(),a=n===window?{left:0,top:0,right:document.documentElement.clientWidth,bottom:window.innerHeight}:n.getBoundingClientRect(),s=function(e){if("string"!==typeof e)return{top:0,right:0,bottom:0,left:0};var t=e.trim().split(/\s+/,4).map(parseFloat),n=isNaN(t[0])?0:t[0],r=isNaN(t[1])?n:t[1];return{top:n,right:r,bottom:isNaN(t[2])?n:t[2],left:isNaN(t[3])?r:t[3]}}(r),u=function(e){return e+o.left-a.left-s.left},c=function(e){return e+o.left+i.width-a.right+s.right},l=function(e){return e+o.top-a.top-s.top},f=function(e){return e+o.top+i.height-a.bottom+s.bottom};return{menuRect:i,containerRect:o,getLeftOverflow:u,getRightOverflow:c,getTopOverflow:l,getBottomOverflow:f,confineHorizontally:function(e){var t=u(e);if(t<0)e-=t;else{var n=c(e);n>0&&(t=u(e-=n))<0&&(e-=t)}return e},confineVertically:function(e){var t=l(e);if(t<0)e-=t;else{var n=f(e);n>0&&(t=l(e-=n))<0&&(e-=t)}return e}}},as=function(e){var t,n,r,i=e.anchorRect,o=e.containerRect,a=e.menuRect,s=e.placeLeftorRightY,u=e.placeLeftX,c=e.placeRightX,l=e.getLeftOverflow,f=e.getRightOverflow,d=e.confineHorizontally,h=e.confineVertically,p=e.arrowRef,v=e.arrow,g=e.direction,y=e.position,m=g,w=s;"initial"!==y&&(w=h(w),"anchor"===y&&(w=Math.min(w,i.bottom-o.top),w=Math.max(w,i.top-o.top-a.height))),"left"===m?(t=u,"initial"!==y&&(n=l(t))<0&&((r=f(c))<=0||-n>r)&&(t=c,m="right")):(t=c,"initial"!==y&&(r=f(t))>0&&((n=l(u))>=0||-n<r)&&(t=u,m="left")),"auto"===y&&(t=d(t));var _=v?function(e){var t=e.arrowRef,n=e.menuY,r=e.anchorRect,i=e.containerRect,o=e.menuRect,a=r.top-i.top-n+r.height/2,s=1.25*t.current.offsetHeight;return a=Math.max(s,a),Math.min(a,o.height-s)}({menuY:w,arrowRef:p,anchorRect:i,containerRect:o,menuRect:a}):void 0;return{arrowY:_,x:t,y:w,computedDirection:m}},ss=function(e){var t,n,r,i=e.anchorRect,o=e.containerRect,a=e.menuRect,s=e.placeToporBottomX,u=e.placeTopY,c=e.placeBottomY,l=e.getTopOverflow,f=e.getBottomOverflow,d=e.confineHorizontally,h=e.confineVertically,p=e.arrowRef,v=e.arrow,g=e.direction,y=e.position,m="top"===g?"top":"bottom",w=s;"initial"!==y&&(w=d(w),"anchor"===y&&(w=Math.min(w,i.right-o.left),w=Math.max(w,i.left-o.left-a.width))),"top"===m?(t=u,"initial"!==y&&(n=l(t))<0&&((r=f(c))<=0||-n>r)&&(t=c,m="bottom")):(t=c,"initial"!==y&&(r=f(t))>0&&((n=l(u))>=0||-n<r)&&(t=u,m="top")),"auto"===y&&(t=h(t));var _=v?function(e){var t=e.arrowRef,n=e.menuX,r=e.anchorRect,i=e.containerRect,o=e.menuRect,a=r.left-i.left-n+r.width/2,s=1.25*t.current.offsetWidth;return a=Math.max(s,a),Math.min(a,o.width-s)}({menuX:w,arrowRef:p,anchorRect:i,containerRect:o,menuRect:a}):void 0;return{arrowX:_,x:w,y:t,computedDirection:m}},us="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement?ne.useLayoutEffect:ne.useEffect;function cs(e,t){"function"===typeof e?e(t):e.current=t}var ls=function(e,t){return(0,ne.useMemo)((function(){return e?t?function(n){cs(e,n),cs(t,n)}:e:t}),[e,t])},fs=["ariaLabel","menuClassName","menuStyle","arrowClassName","arrowStyle","anchorPoint","anchorRef","containerRef","containerProps","focusProps","externalRef","parentScrollingRef","arrow","align","direction","position","overflow","setDownOverflow","repositionFlag","captureFocus","state","endTransition","isDisabled","menuItemFocus","offsetX","offsetY","children","onClose"],ds=function(e){var t=e.ariaLabel,n=e.menuClassName,r=e.menuStyle,i=e.arrowClassName,o=e.arrowStyle,a=e.anchorPoint,s=e.anchorRef,u=e.containerRef,c=e.containerProps,l=e.focusProps,f=e.externalRef,d=e.parentScrollingRef,h=e.arrow,p=e.align,v=void 0===p?"start":p,g=e.direction,y=void 0===g?"bottom":g,m=e.position,w=void 0===m?"auto":m,_=e.overflow,b=void 0===_?"visible":_,x=e.setDownOverflow,S=e.repositionFlag,k=e.captureFocus,E=void 0===k||k,C=e.state,P=e.endTransition,A=e.isDisabled,T=e.menuItemFocus,O=e.offsetX,I=void 0===O?0:O,R=e.offsetY,L=void 0===R?0:R,F=e.children,M=e.onClose,j=Ra(e,fs),D=(0,ne.useState)({x:0,y:0}),N=D[0],U=D[1],Z=(0,ne.useState)({}),B=Z[0],H=Z[1],z=(0,ne.useState)(),K=z[0],V=z[1],W=(0,ne.useState)(y),q=W[0],G=W[1],J=(0,ne.useState)(0),Q=J[0],Y=J[1],X=(0,ne.useReducer)((function(e){return e+1}),1),$=X[0],ee=X[1],te=(0,ne.useContext)(Ya),re=te.transition,ie=te.boundingBoxRef,oe=te.boundingBoxPadding,ae=te.rootMenuRef,se=te.rootAnchorRef,ue=te.scrollNodesRef,ce=te.reposition,le=te.viewScroll,fe=(0,ne.useContext)(Ga).reposSubmenu||S,de=(0,ne.useRef)(null),he=(0,ne.useRef)(),pe=(0,ne.useRef)(),ve=(0,ne.useRef)(!1),ge=(0,ne.useRef)({width:0,height:0}),ye=(0,ne.useRef)((function(){})),me=function(e,t){var n=(0,ne.useState)(),r=n[0],i=n[1],o=(0,ne.useRef)({items:[],hoverIndex:-1,sorted:!1}).current,a=(0,ne.useCallback)((function(e,n){var r=o.items;if(e)if(n)r.push(e);else{var a=r.indexOf(e);a>-1&&(r.splice(a,1),e.contains(document.activeElement)&&(t.current.focus(),i()))}else o.items=[];o.hoverIndex=-1,o.sorted=!1}),[o,t]),s=(0,ne.useCallback)((function(t,n,r){var a=o.items,s=o.hoverIndex,u=function(){if(!o.sorted){var t=e.current.querySelectorAll(".szh-menu__item");a.sort((function(e,n){return za(t,e)-za(t,n)})),o.sorted=!0}},c=-1,l=void 0;switch(t){case es.RESET:break;case es.SET:l=n;break;case es.UNSET:l=function(e){return e===n?void 0:e};break;case es.FIRST:u(),l=a[c=0];break;case es.LAST:u(),c=a.length-1,l=a[c];break;case es.SET_INDEX:u(),l=a[c=r];break;case es.INCREASE:u(),(c=s)<0&&(c=a.indexOf(n)),++c>=a.length&&(c=0),l=a[c];break;case es.DECREASE:u(),(c=s)<0&&(c=a.indexOf(n)),--c<0&&(c=a.length-1),l=a[c]}l||(c=-1),i(l),o.hoverIndex=c}),[e,o]);return{hoverItem:r,dispatch:s,updateItems:a}}(de,he),we=me.hoverItem,_e=me.dispatch,be=me.updateItems,xe=La(C),Se=ja(re,"open"),ke=ja(re,"close"),Ee=ue.current,Ce=(0,ne.useCallback)((function(e){var t,n=s?null==(t=s.current)?void 0:t.getBoundingClientRect():a?{left:a.x,right:a.x,top:a.y,bottom:a.y,width:0,height:0}:null;if(n){Ee.menu||(Ee.menu=(ie?ie.current:Ba(ae.current))||window);var r=os(u,de,Ee.menu,oe),i=function(e){var t=e.arrow,n=e.align,r=e.direction,i=e.offsetX,o=e.offsetY,a=e.position,s=e.anchorRect,u=e.arrowRef,c=e.positionHelpers,l=c.menuRect,f=c.containerRect,d=i,h=o;t&&("left"===r||"right"===r?d+=u.current.offsetWidth:h+=u.current.offsetHeight);var p,v,g=s.left-f.left-l.width-d,y=s.right-f.left+d,m=s.top-f.top-l.height-h,w=s.bottom-f.top+h;"end"===n?(p=s.right-f.left-l.width,v=s.bottom-f.top-l.height):"center"===n?(p=s.left-f.left-(l.width-s.width)/2,v=s.top-f.top-(l.height-s.height)/2):(p=s.left-f.left,v=s.top-f.top);var _=Ia({},c,{anchorRect:s,placeLeftX:g,placeRightX:y,placeLeftorRightY:v+=h,placeTopY:m,placeBottomY:w,placeToporBottomX:p+=d,arrowRef:u,arrow:t,direction:r,position:a});switch(r){case"left":case"right":return as(_);default:return ss(_)}}({arrow:h,align:v,direction:y,offsetX:I,offsetY:L,position:w,anchorRect:n,arrowRef:pe,positionHelpers:r}),o=i.arrowX,c=i.arrowY,l=i.x,f=i.y,d=i.computedDirection,p=r.menuRect,g=p.height;if(!e&&"visible"!==b){var m,_,x=r.getTopOverflow,S=r.getBottomOverflow,k=ge.current.height,E=S(f);if(E>0||Ma(E,0)&&Ma(g,k))m=g-E,_=E;else{var C=x(f);(C<0||Ma(C,0)&&Ma(g,k))&&(_=0-C,(m=g+C)>=0&&(f-=C))}m>=0?(g=m,V({height:m,overflowAmt:_})):V()}h&&H({x:o,y:c}),U({x:l,y:f}),G(d),ge.current={width:p.width,height:g}}}),[h,v,oe,y,I,L,w,b,a,s,u,ie,ae,Ee]);us((function(){xe&&(Ce(),ve.current&&ee()),ve.current=xe,ye.current=Ce}),[xe,Ce,fe]),us((function(){K&&!x&&(de.current.scrollTop=0)}),[K,x]),us((function(){return be}),[be]),(0,ne.useEffect)((function(){var e=Ee.menu;if(xe&&e){if(e=e.addEventListener?e:window,!Ee.anchors){Ee.anchors=[];for(var t=Ba(se&&se.current);t&&t!==e;)Ee.anchors.push(t),t=Ba(t)}var n=le;if(Ee.anchors.length&&"initial"===n&&(n="auto"),"initial"!==n){var r=function(){"auto"===n?Fa((function(){return Ce(!0)})):Da(M,{reason:ts.SCROLL})},i=Ee.anchors.concat("initial"!==le?e:[]);return i.forEach((function(e){return e.addEventListener("scroll",r)})),function(){return i.forEach((function(e){return e.removeEventListener("scroll",r)}))}}}}),[se,Ee,xe,M,le,Ce]);var Pe=!!K&&K.overflowAmt>0;(0,ne.useEffect)((function(){if(!Pe&&xe&&d){var e=function(){return Fa(Ce)},t=d.current;return t.addEventListener("scroll",e),function(){return t.removeEventListener("scroll",e)}}}),[xe,Pe,d,Ce]),(0,ne.useEffect)((function(){if("function"===typeof ResizeObserver&&"initial"!==ce){var e=new ResizeObserver((function(e){var t,n,r=e[0],i=r.borderBoxSize,o=r.target;if(i){var a=i[0]||i;t=a.inlineSize,n=a.blockSize}else{var s=o.getBoundingClientRect();t=s.width,n=s.height}0!==t&&0!==n&&(Ma(t,ge.current.width,1)&&Ma(n,ge.current.height,1)||(0,gn.flushSync)((function(){ye.current(),ee()})))})),t=de.current;return e.observe(t,{box:"border-box"}),function(){return e.unobserve(t)}}}),[ce]),(0,ne.useEffect)((function(){if(!xe)return _e(es.RESET),void(ke||V());var e=T||{},t=e.position,n=e.alwaysUpdate,r=function(){t===ns.FIRST?_e(es.FIRST):t===ns.LAST?_e(es.LAST):t>=-1&&_e(es.SET_INDEX,void 0,t)};if(n)r();else if(E){var i=setTimeout((function(){de.current.contains(document.activeElement)||(he.current.focus(),r())}),Se?170:100);return function(){return clearTimeout(i)}}}),[xe,Se,ke,E,T,_e]);var Ae,Te,Oe=Q>0,Ie=(0,ne.useMemo)((function(){return{isParentOpen:xe,isSubmenuOpen:Oe,setOpenSubmenuCount:Y,dispatch:_e,updateItems:be}}),[xe,Oe,_e,be]);K&&(x?Te=K.overflowAmt:Ae=K.height);var Re=(0,ne.useMemo)((function(){return{reposSubmenu:$,overflow:b,overflowAmt:Te,parentMenuRef:de,parentDir:q}}),[$,b,Te,q]),Le=Ae>=0?{maxHeight:Ae,overflow:b}:void 0,Fe=(0,ne.useMemo)((function(){return{state:C,dir:q}}),[C,q]),Me=(0,ne.useMemo)((function(){return{dir:q}}),[q]),je=Ka({block:Va,element:"arrow",modifiers:Me,className:i}),De=(0,aa.jsxs)("ul",Ia({role:"menu","aria-label":t},Ha(A),Za({onKeyDown:function(e){switch(e.key){case $a.HOME:_e(es.FIRST);break;case $a.END:_e(es.LAST);break;case $a.UP:_e(es.DECREASE,we);break;case $a.DOWN:_e(es.INCREASE,we);break;case $a.SPACE:return void(e.target&&-1!==e.target.className.indexOf(Va)&&e.preventDefault());default:return}e.preventDefault(),e.stopPropagation()},onAnimationEnd:function(){"closing"===C&&V(),Da(P)}},j),{ref:ls(f,de),className:Ka({block:Va,modifiers:Fe,className:n}),style:Ia({},r,Le,{margin:0,display:"closed"===C?"none":void 0,position:"absolute",left:N.x,top:N.y}),children:[(0,aa.jsx)("div",Ia({tabIndex:-1,style:{position:"absolute",left:0,top:0}},l,{ref:he})),h&&(0,aa.jsx)("div",{className:je,style:Ia({},o,{position:"absolute",left:B.x,top:B.y}),ref:pe}),(0,aa.jsx)(Ga.Provider,{value:Re,children:(0,aa.jsx)(qa.Provider,{value:Ie,children:(0,aa.jsx)(Wa.Provider,{value:we,children:F})})})]}));return c?(0,aa.jsx)(is,Ia({},c,{isOpen:xe,children:De})):De},hs=["aria-label","className","containerProps","initialMounted","unmountOnClose","transition","transitionTimeout","boundingBoxRef","boundingBoxPadding","reposition","submenuOpenDelay","submenuCloseDelay","skipOpen","viewScroll","portal","theming","onItemClick"],ps=(0,ne.forwardRef)((function(e,t){var n=e["aria-label"],r=e.className,i=e.containerProps,o=e.initialMounted,a=e.unmountOnClose,s=e.transition,u=e.transitionTimeout,c=e.boundingBoxRef,l=e.boundingBoxPadding,f=e.reposition,d=void 0===f?"auto":f,h=e.submenuOpenDelay,p=void 0===h?300:h,v=e.submenuCloseDelay,g=void 0===v?150:v,y=e.skipOpen,m=e.viewScroll,w=void 0===m?"initial":m,_=e.portal,b=e.theming,x=e.onItemClick,S=Ra(e,hs),k=(0,ne.useRef)(null),E=(0,ne.useRef)({}),C=S.anchorRef,P=S.state,A=S.onClose,T=(0,ne.useMemo)((function(){return{initialMounted:o,unmountOnClose:a,transition:s,transitionTimeout:u,boundingBoxRef:c,boundingBoxPadding:l,rootMenuRef:k,rootAnchorRef:C,scrollNodesRef:E,reposition:d,viewScroll:w}}),[o,a,s,u,C,c,l,d,w]),O=(0,ne.useMemo)((function(){return{submenuOpenDelay:p,submenuCloseDelay:g}}),[p,g]),I=(0,ne.useMemo)((function(){return{handleClick:function(e,t){e.stopPropagation||Da(x,e);var n=e.keepOpen;void 0===n&&(n=t&&e.key===$a.SPACE),n||Da(A,{value:e.value,key:e.key,reason:ts.CLICK})},handleClose:function(e){Da(A,{key:e,reason:ts.CLICK})}}}),[x,A]);if(!P)return null;var R=(0,aa.jsx)(Ya.Provider,{value:T,children:(0,aa.jsx)(Xa.Provider,{value:O,children:(0,aa.jsx)(Ja.Provider,{value:I,children:(0,aa.jsx)(ds,Ia({},S,{ariaLabel:n||"Menu",externalRef:t,containerRef:k,containerProps:{className:r,containerRef:k,containerProps:i,skipOpen:y,theming:b,transition:s,onClose:A}}))})})});return!0===_&&"undefined"!==typeof document?(0,gn.createPortal)(R,document.body):_?_.target?(0,gn.createPortal)(R,_.target):_.stablePosition?null:R:R})),vs=["preEnter","entering","entered","preExit","exiting","exited","unmounted"],gs=function(e){return e?6:5},ys=function(e,t,n,r,i){clearTimeout(r.current),t(e),n.current=e,i&&i({state:vs[e]})},ms=function(e){var t=void 0===e?{}:e,n=t.initialOpen,r=t.initialMounted,i=t.unmountOnClose,o=t.transition,a=t.transitionTimeout,s=function(e){var t,n,r=void 0===e?{}:e,i=r.enter,o=void 0===i||i,a=r.exit,s=void 0===a||a,u=r.preEnter,c=r.preExit,l=r.timeout,f=r.initialEntered,d=r.mountOnEnter,h=r.unmountOnExit,p=r.onChange,v=(0,ne.useState)(f?2:gs(d)),g=v[0],y=v[1],m=(0,ne.useRef)(g),w=(0,ne.useRef)();"object"===typeof l?(t=l.enter,n=l.exit):t=n=l;var _=(0,ne.useCallback)((function(){var e;switch(m.current){case 1:case 0:e=2;break;case 4:case 3:e=gs(h)}void 0!==e&&ys(e,y,m,w,p)}),[p,h]),b=(0,ne.useCallback)((function(e){var r=function e(r){switch(ys(r,y,m,w,p),r){case 1:t>=0&&(w.current=setTimeout(_,t));break;case 4:n>=0&&(w.current=setTimeout(_,n));break;case 0:case 3:w.current=setTimeout((function(){return e(r+1)}),0)}},i=m.current<=2;"boolean"!==typeof e&&(e=!i),e?i||r(o?u?0:1:2):i&&r(s?c?3:4:gs(h))}),[_,p,o,s,u,c,t,n,h]);return(0,ne.useEffect)((function(){return function(){return clearTimeout(w.current)}}),[]),[vs[g],b,_]}({initialEntered:n,mountOnEnter:!r,unmountOnExit:i,timeout:void 0===a?500:a,enter:ja(o,"open"),exit:ja(o,"close")}),u=s[0],c=s[1],l=s[2];return[{state:rs[u],endTransition:l},c]},ws=["aria-label","captureFocus","initialOpen","menuButton","instanceRef","onMenuChange"],_s=(0,ne.forwardRef)((function(e,t){var n=e["aria-label"],r=e.menuButton,i=e.instanceRef,o=e.onMenuChange,a=Ra(e,ws),s=function(e){var t=ms(e),n=t[0],r=t[1],i=(0,ne.useState)(),o=i[0],a=i[1];return[Ia({menuItemFocus:o},n),r,function(e,t){a({position:e,alwaysUpdate:t}),r(!0)}]}(a),u=s[0],c=s[1],l=s[2],f=La(u.state),d=(0,ne.useRef)(!1),h=(0,ne.useRef)(null),p=(0,ne.useCallback)((function(e){c(!1),e.key&&h.current.focus()}),[c]),v=Da(r,{open:f});if(!v||!v.type)throw new Error("Menu requires a menuButton prop.");var g=Ia({ref:ls(v.ref,h)},Za({onClick:function(e){d.current||l(0===e.detail?ns.FIRST:void 0)},onKeyDown:function(e){switch(e.key){case $a.UP:l(ns.LAST);break;case $a.DOWN:l(ns.FIRST);break;default:return}e.preventDefault()}},v.props));"MenuButton"===v.type[Na]&&(g.isOpen=f);var y=(0,ne.cloneElement)(v,g);return function(e,t){var n=(0,ne.useRef)(t);(0,ne.useEffect)((function(){n.current!==t&&Da(e,{open:t}),n.current=t}),[e,t])}(o,f),(0,ne.useImperativeHandle)(i,(function(){return{openMenu:l,closeMenu:function(){return c(!1)}}})),(0,aa.jsxs)(ne.Fragment,{children:[y,(0,aa.jsx)(ps,Ia({},a,u,{"aria-label":n||("string"===typeof v.props.children?v.props.children:"Menu"),anchorRef:h,ref:t,onClose:p,skipOpen:d}))]})})),bs=["className","isOpen","disabled","children"],xs=Ua("MenuButton",(0,ne.forwardRef)((function(e,t){var n=e.className,r=e.isOpen,i=e.disabled,o=e.children,a=Ra(e,bs),s=(0,ne.useMemo)((function(){return{open:r}}),[r]);return(0,aa.jsx)("button",Ia({"aria-haspopup":!0,"aria-expanded":r,"aria-disabled":i||void 0,type:"button",disabled:i},a,{ref:t,className:Ka({block:"szh-menu-button",modifiers:s,className:n}),children:o}))}))),Ss=function(e,t){var n=(0,ne.memo)(t),r=(0,ne.forwardRef)((function(e,t){var r=(0,ne.useRef)(null);return(0,aa.jsx)(n,Ia({},e,{itemRef:r,externalRef:t,isHovering:(0,ne.useContext)(Wa)===r.current}))}));return r.displayName="WithHovering("+e+")",r},ks=function(e,t,n,r){var i=(0,ne.useContext)(Xa).submenuCloseDelay,o=(0,ne.useContext)(qa),a=o.isParentOpen,s=o.isSubmenuOpen,u=o.dispatch,c=o.updateItems,l=(0,ne.useRef)(0),f=function(){!n&&!r&&u(es.SET,e.current)},d=function(){!r&&u(es.UNSET,e.current)};return function(e,t,n){us((function(){if(!e){var r=t.current;return n(r,!0),function(){n(r)}}}),[e,t,n])}(r,e,c),(0,ne.useEffect)((function(){return function(){return clearTimeout(l.current)}}),[]),(0,ne.useEffect)((function(){n&&a&&t.current&&t.current.focus()}),[t,n,a]),{setHover:f,onBlur:function(e){n&&!e.currentTarget.contains(e.relatedTarget)&&d()},onPointerMove:function(){s?l.current||(l.current=setTimeout((function(){l.current=0,f()}),i)):f()},onPointerLeave:function(e,t){l.current&&(clearTimeout(l.current),l.current=0),!t&&d()}}},Es=["className","value","href","type","checked","disabled","children","onClick","isHovering","itemRef","externalRef"],Cs=["setHover"],Ps=Ss("MenuItem",(function(e){var t=e.className,n=e.value,r=e.href,i=e.type,o=e.checked,a=e.disabled,s=e.children,u=e.onClick,c=e.isHovering,l=e.itemRef,f=e.externalRef,d=Ra(e,Es),h=!!a,p=ks(l,l,c,h),v=p.setHover,g=Ra(p,Cs),y=(0,ne.useContext)(Ja),m=(0,ne.useContext)(Qa),w="radio"===i,_="checkbox"===i,b=!!r&&!h&&!w&&!_,x=w?m.value===n:!!_&&!!o,S=function(e){if(h)return e.stopPropagation(),void e.preventDefault();var t={value:n,syntheticEvent:e};void 0!==e.key&&(t.key=e.key),_&&(t.checked=!x),w&&(t.name=m.name),Da(u,t),w&&Da(m.onRadioChange,t),y.handleClick(t,_||w)},k=(0,ne.useMemo)((function(){return{type:i,disabled:h,hover:c,checked:x,anchor:b}}),[i,h,c,x,b]),E=Za(Ia({},g,{onPointerDown:v,onKeyDown:function(e){if(c)switch(e.key){case $a.ENTER:case $a.SPACE:b?l.current.click():S(e)}},onClick:S}),d),C=Ia({role:w?"menuitemradio":_?"menuitemcheckbox":"menuitem","aria-checked":w||_?x:void 0},Ha(h,c),E,{ref:ls(f,l),className:Ka({block:Va,element:"item",modifiers:k,className:t}),children:(0,ne.useMemo)((function(){return Da(s,k)}),[s,k])});return b?(0,aa.jsx)("li",{role:"presentation",children:(0,aa.jsx)("a",Ia({href:r},C))}):(0,aa.jsx)("li",Ia({},C))})),As=["className"],Ts=(0,ne.memo)((0,ne.forwardRef)((function(e,t){var n=e.className,r=Ra(e,As);return(0,aa.jsx)("li",Ia({role:"separator"},r,{ref:t,className:Ka({block:Va,element:"divider",className:n})}))}))),Os=n(5051),Is={type:"Schema",shapes:[{id:"https://example.com/SolidProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#inbox",valueExpr:"https://example.com/Inbox",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's LDP inbox to which apps can post notifications"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#preferencesFile",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/pim/space#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The location of a Solid storage server related to this WebId"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#account",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The user's account"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#privateTypeIndex",valueExpr:"https://example.com/PrivateTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for private access only)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#publicTypeIndex",valueExpr:"https://example.com/PublicTypeIndex",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A registry of all types used on the user's Pod (for public access)"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#oidcIssuer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Solid OIDC issuer for a webId."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/FoafProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/Person"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the node as a Person (from foaf)"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/knows",valueExpr:"https://example.com/FoafProfile",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of WebIds for all the people this user knows."}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/topic_interest",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of person's interests."}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexProfile",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#note",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about person, in different languages"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasPhoto",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offers",valueExpr:"https://example.com/Accommodation",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Accommodation that the person offers"}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#member_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#storage",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]}}},{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:"https://example.com/HospexProfile"}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PublicTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#ListedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/PrivateTypeIndex",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeIndex"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#UnlistedDocument"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/TypeRegistration",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/TypeRegistration",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/solid/terms#TypeRegistration"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#forClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instance",valueExpr:"https://example.com/ChatShape",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/solid/terms#instanceContainer",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/pim/meeting#LongChat"]},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Defines the type of the chat as a LongChat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/author",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the entity that created this chat"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time the chat was created"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/elements/1.1/title",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The title of the chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participation",valueExpr:"https://example.com/ChatParticipationShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of people participating in this chat"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#sharedPreferences",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Chat preferences"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ChatParticipationShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/2002/12/cal/ical#dtstart",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this individual began participating in the chat."}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#participant",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the participant"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ui#backgroundColor",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},min:0,max:1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The background color of the participant's chat bubbles"}}]},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/references",valueExpr:"https://example.com/ChatShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Part of this chat belonging to this participant"}}]}]}}},{id:"https://example.com/ChatMessageListShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"TripleConstraint",predicate:"http://www.w3.org/2005/01/wf/flow#message",valueExpr:"https://example.com/ChatMessageShape",min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"A list of messages in the chat"}}]}}},{id:"https://example.com/ChatMessageShape",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/created",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The date and time this message was posted."}}]},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The text content of the message"}}]},{type:"TripleConstraint",predicate:"http://xmlns.com/foaf/0.1/maker",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"The WebId of the person who sent the message."}}]}]}}},{id:"https://example.com/Container",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Resource",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/Container",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Resource",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Resource"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Inbox",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#Container"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/ldp#BasicContainer"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/MessageActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/ldp#contains",valueExpr:"https://example.com/ContactInvitationActivity",min:0,max:-1},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/modified",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#mtime",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/posix/stat#size",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/MessageActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Add"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#context",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ChatMessageShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:"https://example.com/ChatShape"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactInvitationActivity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Invite"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#actor",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#content",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#string"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:"https://example.com/ContactRelationship"},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#target",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#updated",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#dateTime"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/ContactRelationship",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://www.w3.org/ns/activitystreams#Relationship"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#subject",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#relationship",valueExpr:{type:"NodeConstraint",values:["http://xmlns.com/foaf/0.1/knows"]}},{type:"TripleConstraint",predicate:"https://www.w3.org/ns/activitystreams#object",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Rs={type:{"@id":"@type","@container":"@set"},Person:"http://xmlns.com/foaf/0.1/Person",inbox:{"@id":"http://www.w3.org/ns/ldp#inbox","@type":"@id"},Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",contains:{"@id":"http://www.w3.org/ns/ldp#contains","@type":"@id","@container":"@set"},Add:"https://www.w3.org/ns/activitystreams#Add",actor:{"@id":"https://www.w3.org/ns/activitystreams#actor","@type":"@id"},context:{"@id":"https://www.w3.org/ns/activitystreams#context","@type":"@id"},object:{"@id":"https://www.w3.org/ns/activitystreams#object","@type":"@id"},created:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},content:{"@id":"http://rdfs.org/sioc/ns#content","@type":"http://www.w3.org/2001/XMLSchema#string"},maker:{"@id":"http://xmlns.com/foaf/0.1/maker","@type":"@id"},target:{"@id":"https://www.w3.org/ns/activitystreams#target","@type":"@id"},LongChat:"http://www.w3.org/ns/pim/meeting#LongChat",author:{"@id":"http://purl.org/dc/elements/1.1/author","@type":"@id"},created2:{"@id":"http://purl.org/dc/elements/1.1/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},title:{"@id":"http://purl.org/dc/elements/1.1/title","@type":"http://www.w3.org/2001/XMLSchema#string"},participation:{"@id":"http://www.w3.org/2005/01/wf/flow#participation","@type":"@id","@container":"@set"},dtstart:{"@id":"http://www.w3.org/2002/12/cal/ical#dtstart","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},participant:{"@id":"http://www.w3.org/2005/01/wf/flow#participant","@type":"@id"},backgroundColor:{"@id":"http://www.w3.org/ns/ui#backgroundColor","@type":"http://www.w3.org/2001/XMLSchema#string"},references:{"@id":"http://purl.org/dc/terms/references","@type":"@id","@container":"@set"},sharedPreferences:{"@id":"http://www.w3.org/ns/ui#sharedPreferences","@type":"@id"},message:{"@id":"http://www.w3.org/2005/01/wf/flow#message","@type":"@id","@container":"@set"},updated:{"@id":"https://www.w3.org/ns/activitystreams#updated","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},Invite:"https://www.w3.org/ns/activitystreams#Invite",content2:{"@id":"https://www.w3.org/ns/activitystreams#content","@type":"http://www.w3.org/2001/XMLSchema#string"},Relationship:"https://www.w3.org/ns/activitystreams#Relationship",subject:{"@id":"https://www.w3.org/ns/activitystreams#subject","@type":"@id"},relationship:{"@id":"https://www.w3.org/ns/activitystreams#relationship"},knows:{"@id":"http://xmlns.com/foaf/0.1/knows","@type":"@id","@container":"@set"},modified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime","@container":"@set"},mtime:{"@id":"http://www.w3.org/ns/posix/stat#mtime","@type":"http://www.w3.org/2001/XMLSchema#decimal","@container":"@set"},size:{"@id":"http://www.w3.org/ns/posix/stat#size","@type":"http://www.w3.org/2001/XMLSchema#decimal","@container":"@set"},preferencesFile:{"@id":"http://www.w3.org/ns/pim/space#preferencesFile","@type":"@id"},storage:{"@id":"http://www.w3.org/ns/pim/space#storage","@type":"@id","@container":"@set"},account:{"@id":"http://www.w3.org/ns/solid/terms#account","@type":"@id"},privateTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#privateTypeIndex","@type":"@id","@container":"@set"},TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",forClass:{"@id":"http://www.w3.org/ns/solid/terms#forClass","@type":"@id","@container":"@set"},instance:{"@id":"http://www.w3.org/ns/solid/terms#instance","@type":"@id","@container":"@set"},instanceContainer:{"@id":"http://www.w3.org/ns/solid/terms#instanceContainer","@type":"@id","@container":"@set"},publicTypeIndex:{"@id":"http://www.w3.org/ns/solid/terms#publicTypeIndex","@type":"@id","@container":"@set"},ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",oidcIssuer:{"@id":"http://www.w3.org/ns/solid/terms#oidcIssuer","@type":"@id","@container":"@set"},topicInterest:{"@id":"http://xmlns.com/foaf/0.1/topic_interest","@type":"@id","@container":"@set"},note:{"@id":"http://www.w3.org/2006/vcard/ns#note","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},name:{"@id":"http://xmlns.com/foaf/0.1/name","@type":"http://www.w3.org/2001/XMLSchema#string"},hasPhoto:{"@id":"http://www.w3.org/2006/vcard/ns#hasPhoto","@type":"@id"},offers:{"@id":"http://w3id.org/hospex/ns#offers","@type":"@id","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"},memberOf:{"@id":"http://rdfs.org/sioc/ns#member_of","@type":"@id"},storage2:{"@id":"http://w3id.org/hospex/ns#storage","@type":"@id"},Resource:"http://www.w3.org/ns/ldp#Resource"},Ls={schema:Is,shape:"https://example.com/SolidProfile",context:Rs},Fs={schema:Is,shape:"https://example.com/FoafProfile",context:Rs},Ms={schema:Is,shape:"https://example.com/HospexProfile",context:Rs},js={schema:Is,shape:"https://example.com/Accommodation",context:Rs},Ds={schema:Is,shape:"https://example.com/PublicTypeIndex",context:Rs},Ns={schema:Is,shape:"https://example.com/PrivateTypeIndex",context:Rs},Us={schema:Is,shape:"https://example.com/ChatShape",context:Rs},Zs={schema:Is,shape:"https://example.com/Container",context:Rs},Bs={schema:Is,shape:"https://example.com/MessageActivity",context:Rs},Hs={schema:Is,shape:"https://example.com/ContactInvitationActivity",context:Rs},zs=n(763),Ks=Object.freeze({Access:"http://www.w3.org/ns/auth/acl#Access",Append:"http://www.w3.org/ns/auth/acl#Append",AuthenticatedAgent:"http://www.w3.org/ns/auth/acl#AuthenticatedAgent",Authorization:"http://www.w3.org/ns/auth/acl#Authorization",Control:"http://www.w3.org/ns/auth/acl#Control",Origin:"http://www.w3.org/ns/auth/acl#Origin",Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",accessControl:"http://www.w3.org/ns/auth/acl#accessControl",accessTo:"http://www.w3.org/ns/auth/acl#accessTo",accessToClass:"http://www.w3.org/ns/auth/acl#accessToClass",agent:"http://www.w3.org/ns/auth/acl#agent",agentClass:"http://www.w3.org/ns/auth/acl#agentClass",agentGroup:"http://www.w3.org/ns/auth/acl#agentGroup",default__workaround:"http://www.w3.org/ns/auth/acl#default",defaultForNew:"http://www.w3.org/ns/auth/acl#defaultForNew",delegates:"http://www.w3.org/ns/auth/acl#delegates",mode:"http://www.w3.org/ns/auth/acl#mode",origin:"http://www.w3.org/ns/auth/acl#origin",owner:"http://www.w3.org/ns/auth/acl#owner"}),Vs=Object.freeze({actor:"http://www.w3.org/ns/activitystreams#actor",attributedTo:"http://www.w3.org/ns/activitystreams#attributedTo",attachment:"http://www.w3.org/ns/activitystreams#attachment",attachments:"http://www.w3.org/ns/activitystreams#attachments",author:"http://www.w3.org/ns/activitystreams#author",bcc:"http://www.w3.org/ns/activitystreams#bcc",bto:"http://www.w3.org/ns/activitystreams#bto",cc:"http://www.w3.org/ns/activitystreams#cc",context:"http://www.w3.org/ns/activitystreams#context",generator:"http://www.w3.org/ns/activitystreams#generator",icon:"http://www.w3.org/ns/activitystreams#icon",image:"http://www.w3.org/ns/activitystreams#image",inReplyTo:"http://www.w3.org/ns/activitystreams#inReplyTo",items:"http://www.w3.org/ns/activitystreams#items",location:"http://www.w3.org/ns/activitystreams#location",object:"http://www.w3.org/ns/activitystreams#object",oneOf:"http://www.w3.org/ns/activitystreams#oneOf",anyOf:"http://www.w3.org/ns/activitystreams#anyOf",preview:"http://www.w3.org/ns/activitystreams#preview",provider:"http://www.w3.org/ns/activitystreams#provider",replies:"http://www.w3.org/ns/activitystreams#replies",result:"http://www.w3.org/ns/activitystreams#result",audience:"http://www.w3.org/ns/activitystreams#audience",tag:"http://www.w3.org/ns/activitystreams#tag",tags:"http://www.w3.org/ns/activitystreams#tags",target:"http://www.w3.org/ns/activitystreams#target",origin:"http://www.w3.org/ns/activitystreams#origin",instrument:"http://www.w3.org/ns/activitystreams#instrument",to:"http://www.w3.org/ns/activitystreams#to",url:"http://www.w3.org/ns/activitystreams#url",relationship:"http://www.w3.org/ns/activitystreams#relationship",describes:"http://www.w3.org/ns/activitystreams#describes",formerType:"http://www.w3.org/ns/activitystreams#formerType",accuracy:"http://www.w3.org/ns/activitystreams#accuracy",altitude:"http://www.w3.org/ns/activitystreams#altitude",content:"http://www.w3.org/ns/activitystreams#content",name:"http://www.w3.org/ns/activitystreams#name",downstreamDuplicates:"http://www.w3.org/ns/activitystreams#downstreamDuplicates",duration:"http://www.w3.org/ns/activitystreams#duration",endTime:"http://www.w3.org/ns/activitystreams#endTime",height:"http://www.w3.org/ns/activitystreams#height",href:"http://www.w3.org/ns/activitystreams#href",hreflang:"http://www.w3.org/ns/activitystreams#hreflang",id:"http://www.w3.org/ns/activitystreams#id",latitude:"http://www.w3.org/ns/activitystreams#latitude",longitude:"http://www.w3.org/ns/activitystreams#longitude",mediaType:"http://www.w3.org/ns/activitystreams#mediaType",objectType:"http://www.w3.org/ns/activitystreams#objectType",published:"http://www.w3.org/ns/activitystreams#published",radius:"http://www.w3.org/ns/activitystreams#radius",rating:"http://www.w3.org/ns/activitystreams#rating",rel:"http://www.w3.org/ns/activitystreams#rel",startIndex:"http://www.w3.org/ns/activitystreams#startIndex",startTime:"http://www.w3.org/ns/activitystreams#startTime",summary:"http://www.w3.org/ns/activitystreams#summary",totalItems:"http://www.w3.org/ns/activitystreams#totalItems",units:"http://www.w3.org/ns/activitystreams#units",updated:"http://www.w3.org/ns/activitystreams#updated",upstreamDuplicates:"http://www.w3.org/ns/activitystreams#upstreamDuplicates",verb:"http://www.w3.org/ns/activitystreams#verb",width:"http://www.w3.org/ns/activitystreams#width",deleted:"http://www.w3.org/ns/activitystreams#deleted",Accept:"http://www.w3.org/ns/activitystreams#Accept",Activity:"http://www.w3.org/ns/activitystreams#Activity",Block:"http://www.w3.org/ns/activitystreams#Block",IntransitiveActivity:"http://www.w3.org/ns/activitystreams#IntransitiveActivity",Add:"http://www.w3.org/ns/activitystreams#Add",Announce:"http://www.w3.org/ns/activitystreams#Announce",Application:"http://www.w3.org/ns/activitystreams#Application",Arrive:"http://www.w3.org/ns/activitystreams#Arrive",Article:"http://www.w3.org/ns/activitystreams#Article",Audio:"http://www.w3.org/ns/activitystreams#Audio",Collection:"http://www.w3.org/ns/activitystreams#Collection",CollectionPage:"http://www.w3.org/ns/activitystreams#CollectionPage",OrderedCollectionPage:"http://www.w3.org/ns/activitystreams#OrderedCollectionPage",Relationship:"http://www.w3.org/ns/activitystreams#Relationship",Create:"http://www.w3.org/ns/activitystreams#Create",Delete:"http://www.w3.org/ns/activitystreams#Delete",Dislike:"http://www.w3.org/ns/activitystreams#Dislike",Document:"http://www.w3.org/ns/activitystreams#Document",Event:"http://www.w3.org/ns/activitystreams#Event",Flag:"http://www.w3.org/ns/activitystreams#Flag",Follow:"http://www.w3.org/ns/activitystreams#Follow",Group:"http://www.w3.org/ns/activitystreams#Group",Ignore:"http://www.w3.org/ns/activitystreams#Ignore",Image:"http://www.w3.org/ns/activitystreams#Image",Invite:"http://www.w3.org/ns/activitystreams#Invite",Join:"http://www.w3.org/ns/activitystreams#Join",Leave:"http://www.w3.org/ns/activitystreams#Leave",Like:"http://www.w3.org/ns/activitystreams#Like",View:"http://www.w3.org/ns/activitystreams#View",Listen:"http://www.w3.org/ns/activitystreams#Listen",Read:"http://www.w3.org/ns/activitystreams#Read",Move:"http://www.w3.org/ns/activitystreams#Move",Travel:"http://www.w3.org/ns/activitystreams#Travel",Link:"http://www.w3.org/ns/activitystreams#Link",Mention:"http://www.w3.org/ns/activitystreams#Mention",Note:"http://www.w3.org/ns/activitystreams#Note",Object__workaround:"http://www.w3.org/ns/activitystreams#Object",Offer:"http://www.w3.org/ns/activitystreams#Offer",OrderedCollection:"http://www.w3.org/ns/activitystreams#OrderedCollection",OrderedItems:"http://www.w3.org/ns/activitystreams#OrderedItems",Page:"http://www.w3.org/ns/activitystreams#Page",Person:"http://www.w3.org/ns/activitystreams#Person",Organization:"http://www.w3.org/ns/activitystreams#Organization",Profile:"http://www.w3.org/ns/activitystreams#Profile",Place:"http://www.w3.org/ns/activitystreams#Place",Question:"http://www.w3.org/ns/activitystreams#Question",Reject:"http://www.w3.org/ns/activitystreams#Reject",Remove:"http://www.w3.org/ns/activitystreams#Remove",Service:"http://www.w3.org/ns/activitystreams#Service",TentativeAccept:"http://www.w3.org/ns/activitystreams#TentativeAccept",TentativeReject:"http://www.w3.org/ns/activitystreams#TentativeReject",Tombstone:"http://www.w3.org/ns/activitystreams#Tombstone",Undo:"http://www.w3.org/ns/activitystreams#Undo",Update:"http://www.w3.org/ns/activitystreams#Update",Video:"http://www.w3.org/ns/activitystreams#Video"}),Ws=Object.freeze({Person:"http://xmlns.com/foaf/0.1/Person",Document:"http://xmlns.com/foaf/0.1/Document",Organization:"http://xmlns.com/foaf/0.1/Organization",Group:"http://xmlns.com/foaf/0.1/Group",Agent:"http://xmlns.com/foaf/0.1/Agent",Project:"http://xmlns.com/foaf/0.1/Project",Image:"http://xmlns.com/foaf/0.1/Image",PersonalProfileDocument:"http://xmlns.com/foaf/0.1/PersonalProfileDocument",OnlineAccount:"http://xmlns.com/foaf/0.1/OnlineAccount",OnlineGamingAccount:"http://xmlns.com/foaf/0.1/OnlineGamingAccount",OnlineEcommerceAccount:"http://xmlns.com/foaf/0.1/OnlineEcommerceAccount",OnlineChatAccount:"http://xmlns.com/foaf/0.1/OnlineChatAccount",mbox:"http://xmlns.com/foaf/0.1/mbox",mbox_sha1sum:"http://xmlns.com/foaf/0.1/mbox_sha1sum",gender:"http://xmlns.com/foaf/0.1/gender",geekcode:"http://xmlns.com/foaf/0.1/geekcode",dnaChecksum:"http://xmlns.com/foaf/0.1/dnaChecksum",sha1:"http://xmlns.com/foaf/0.1/sha1",based_near:"http://xmlns.com/foaf/0.1/based_near",title:"http://xmlns.com/foaf/0.1/title",nick:"http://xmlns.com/foaf/0.1/nick",jabberID:"http://xmlns.com/foaf/0.1/jabberID",aimChatID:"http://xmlns.com/foaf/0.1/aimChatID",icqChatID:"http://xmlns.com/foaf/0.1/icqChatID",yahooChatID:"http://xmlns.com/foaf/0.1/yahooChatID",msnChatID:"http://xmlns.com/foaf/0.1/msnChatID",name:"http://xmlns.com/foaf/0.1/name",firstName:"http://xmlns.com/foaf/0.1/firstName",givenname:"http://xmlns.com/foaf/0.1/givenname",surname:"http://xmlns.com/foaf/0.1/surname",family_name:"http://xmlns.com/foaf/0.1/family_name",phone:"http://xmlns.com/foaf/0.1/phone",homepage:"http://xmlns.com/foaf/0.1/homepage",weblog:"http://xmlns.com/foaf/0.1/weblog",tipjar:"http://xmlns.com/foaf/0.1/tipjar",plan:"http://xmlns.com/foaf/0.1/plan",made:"http://xmlns.com/foaf/0.1/made",maker:"http://xmlns.com/foaf/0.1/maker",img:"http://xmlns.com/foaf/0.1/img",depiction:"http://xmlns.com/foaf/0.1/depiction",depicts:"http://xmlns.com/foaf/0.1/depicts",thumbnail:"http://xmlns.com/foaf/0.1/thumbnail",myersBriggs:"http://xmlns.com/foaf/0.1/myersBriggs",workplaceHomepage:"http://xmlns.com/foaf/0.1/workplaceHomepage",workInfoHomepage:"http://xmlns.com/foaf/0.1/workInfoHomepage",schoolHomepage:"http://xmlns.com/foaf/0.1/schoolHomepage",knows:"http://xmlns.com/foaf/0.1/knows",interest:"http://xmlns.com/foaf/0.1/interest",topic_interest:"http://xmlns.com/foaf/0.1/topic_interest",publications:"http://xmlns.com/foaf/0.1/publications",currentProject:"http://xmlns.com/foaf/0.1/currentProject",pastProject:"http://xmlns.com/foaf/0.1/pastProject",fundedBy:"http://xmlns.com/foaf/0.1/fundedBy",logo:"http://xmlns.com/foaf/0.1/logo",topic:"http://xmlns.com/foaf/0.1/topic",primaryTopic:"http://xmlns.com/foaf/0.1/primaryTopic",page:"http://xmlns.com/foaf/0.1/page",theme:"http://xmlns.com/foaf/0.1/theme",holdsAccount:"http://xmlns.com/foaf/0.1/holdsAccount",accountServiceHomepage:"http://xmlns.com/foaf/0.1/accountServiceHomepage",accountName:"http://xmlns.com/foaf/0.1/accountName",member:"http://xmlns.com/foaf/0.1/member",membershipClass:"http://xmlns.com/foaf/0.1/membershipClass"}),qs=Object.freeze({Resource:"http://www.w3.org/ns/ldp#Resource",RDFSource:"http://www.w3.org/ns/ldp#RDFSource",NonRDFSource:"http://www.w3.org/ns/ldp#NonRDFSource",Container:"http://www.w3.org/ns/ldp#Container",BasicContainer:"http://www.w3.org/ns/ldp#BasicContainer",DirectContainer:"http://www.w3.org/ns/ldp#DirectContainer",IndirectContainer:"http://www.w3.org/ns/ldp#IndirectContainer",hasMemberRelation:"http://www.w3.org/ns/ldp#hasMemberRelation",isMemberOfRelation:"http://www.w3.org/ns/ldp#isMemberOfRelation",membershipResource:"http://www.w3.org/ns/ldp#membershipResource",insertedContentRelation:"http://www.w3.org/ns/ldp#insertedContentRelation",member:"http://www.w3.org/ns/ldp#member",contains:"http://www.w3.org/ns/ldp#contains",constrainedBy:"http://www.w3.org/ns/ldp#constrainedBy",pageSortCriteria:"http://www.w3.org/ns/ldp#pageSortCriteria",PageSortCriterion:"http://www.w3.org/ns/ldp#PageSortCriterion",pageSortPredicate:"http://www.w3.org/ns/ldp#pageSortPredicate",pageSortOrder:"http://www.w3.org/ns/ldp#pageSortOrder",pageSortCollation:"http://www.w3.org/ns/ldp#pageSortCollation",Page:"http://www.w3.org/ns/ldp#Page",pageSequence:"http://www.w3.org/ns/ldp#pageSequence",inbox:"http://www.w3.org/ns/ldp#inbox"}),Gs=Object.freeze({Meeting:"http://www.w3.org/ns/pim/meeting#Meeting",VideoCallPage:"http://www.w3.org/ns/pim/meeting#VideoCallPage",actionItems:"http://www.w3.org/ns/pim/meeting#actionItems",agenda:"http://www.w3.org/ns/pim/meeting#agenda",attendeeGroup:"http://www.w3.org/ns/pim/meeting#attendeeGroup",chat:"http://www.w3.org/ns/pim/meeting#chat",nextMeeting:"http://www.w3.org/ns/pim/meeting#nextMeeting",previousMeeting:"http://www.w3.org/ns/pim/meeting#previousMeeting",sharedNotes:"http://www.w3.org/ns/pim/meeting#sharedNotes",toolList:"http://www.w3.org/ns/pim/meeting#toolList",trip:"http://www.w3.org/ns/pim/meeting#trip",videoCallPage:"http://www.w3.org/ns/pim/meeting#videoCallPage"}),Js=Object.freeze({HTML:"http://www.w3.org/1999/02/22-rdf-syntax-ns#HTML",langString:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",PlainLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#PlainLiteral",type:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",Property:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Property",Statement:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Statement",subject:"http://www.w3.org/1999/02/22-rdf-syntax-ns#subject",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#predicate",object:"http://www.w3.org/1999/02/22-rdf-syntax-ns#object",Bag:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Bag",Seq:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Seq",Alt:"http://www.w3.org/1999/02/22-rdf-syntax-ns#Alt",value:"http://www.w3.org/1999/02/22-rdf-syntax-ns#value",List:"http://www.w3.org/1999/02/22-rdf-syntax-ns#List",first:"http://www.w3.org/1999/02/22-rdf-syntax-ns#first",rest:"http://www.w3.org/1999/02/22-rdf-syntax-ns#rest",XMLLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#XMLLiteral",JSON__workaround:"http://www.w3.org/1999/02/22-rdf-syntax-ns#JSON",CompoundLiteral:"http://www.w3.org/1999/02/22-rdf-syntax-ns#CompoundLiteral",language:"http://www.w3.org/1999/02/22-rdf-syntax-ns#language",direction:"http://www.w3.org/1999/02/22-rdf-syntax-ns#direction"}),Qs=Object.freeze({Account:"http://www.w3.org/ns/solid/terms#Account",Inbox:"http://www.w3.org/ns/solid/terms#Inbox",InsertDeletePatch:"http://www.w3.org/ns/solid/terms#InsertDeletePatch",ListedDocument:"http://www.w3.org/ns/solid/terms#ListedDocument",Notification:"http://www.w3.org/ns/solid/terms#Notification",Patch:"http://www.w3.org/ns/solid/terms#Patch",Timeline:"http://www.w3.org/ns/solid/terms#Timeline",TypeIndex:"http://www.w3.org/ns/solid/terms#TypeIndex",TypeRegistration:"http://www.w3.org/ns/solid/terms#TypeRegistration",UnlistedDocument:"http://www.w3.org/ns/solid/terms#UnlistedDocument",account:"http://www.w3.org/ns/solid/terms#account",deletes:"http://www.w3.org/ns/solid/terms#deletes",forClass:"http://www.w3.org/ns/solid/terms#forClass",inbox:"http://www.w3.org/ns/solid/terms#inbox",inserts:"http://www.w3.org/ns/solid/terms#inserts",instance:"http://www.w3.org/ns/solid/terms#instance",instanceContainer:"http://www.w3.org/ns/solid/terms#instanceContainer",loginEndpoint:"http://www.w3.org/ns/solid/terms#loginEndpoint",logoutEndpoint:"http://www.w3.org/ns/solid/terms#logoutEndpoint",notification:"http://www.w3.org/ns/solid/terms#notification",oidcIssuer:"http://www.w3.org/ns/solid/terms#oidcIssuer",owner:"http://www.w3.org/ns/solid/terms#owner",patches:"http://www.w3.org/ns/solid/terms#patches",privateTypeIndex:"http://www.w3.org/ns/solid/terms#privateTypeIndex",publicTypeIndex:"http://www.w3.org/ns/solid/terms#publicTypeIndex",read:"http://www.w3.org/ns/solid/terms#read",storageQuota:"http://www.w3.org/ns/solid/terms#storageQuota",storageUsage:"http://www.w3.org/ns/solid/terms#storageUsage",typeIndex:"http://www.w3.org/ns/solid/terms#typeIndex",timeline:"http://www.w3.org/ns/solid/terms#timeline",where:"http://www.w3.org/ns/solid/terms#where"}),Ys=Object.freeze({ControlledStorage:"http://www.w3.org/ns/pim/space#ControlledStorage",PersonalStorage:"http://www.w3.org/ns/pim/space#PersonalStorage",PublicStorage:"http://www.w3.org/ns/pim/space#PublicStorage",Storage:"http://www.w3.org/ns/pim/space#Storage",Workspace:"http://www.w3.org/ns/pim/space#Workspace",masterWorkspace:"http://www.w3.org/ns/pim/space#masterWorkspace",preferencesFile:"http://www.w3.org/ns/pim/space#preferencesFile",storage:"http://www.w3.org/ns/pim/space#storage",uriPrefix:"http://www.w3.org/ns/pim/space#uriPrefix",workspace:"http://www.w3.org/ns/pim/space#workspace"}),Xs=Ks,$s=Vs,eu=Ws,tu=qs,nu=Gs,ru=Js,iu=Qs,ou=Ys,au=Object.freeze({Acquaintance:"http://www.w3.org/2006/vcard/ns#Acquaintance",Agent:"http://www.w3.org/2006/vcard/ns#Agent",BBS:"http://www.w3.org/2006/vcard/ns#BBS",Car:"http://www.w3.org/2006/vcard/ns#Car",Cell:"http://www.w3.org/2006/vcard/ns#Cell",Child:"http://www.w3.org/2006/vcard/ns#Child",Colleague:"http://www.w3.org/2006/vcard/ns#Colleague",Contact:"http://www.w3.org/2006/vcard/ns#Contact",Coresident:"http://www.w3.org/2006/vcard/ns#Coresident",Coworker:"http://www.w3.org/2006/vcard/ns#Coworker",Crush:"http://www.w3.org/2006/vcard/ns#Crush",Date__workaround:"http://www.w3.org/2006/vcard/ns#Date",Dom:"http://www.w3.org/2006/vcard/ns#Dom",Emergency:"http://www.w3.org/2006/vcard/ns#Emergency",Fax:"http://www.w3.org/2006/vcard/ns#Fax",Female:"http://www.w3.org/2006/vcard/ns#Female",Friend:"http://www.w3.org/2006/vcard/ns#Friend",Home:"http://www.w3.org/2006/vcard/ns#Home",ISDN:"http://www.w3.org/2006/vcard/ns#ISDN",Internet:"http://www.w3.org/2006/vcard/ns#Internet",Intl__workaround:"http://www.w3.org/2006/vcard/ns#Intl",Kin:"http://www.w3.org/2006/vcard/ns#Kin",Label:"http://www.w3.org/2006/vcard/ns#Label",Male:"http://www.w3.org/2006/vcard/ns#Male",Me:"http://www.w3.org/2006/vcard/ns#Me",Met:"http://www.w3.org/2006/vcard/ns#Met",Modem:"http://www.w3.org/2006/vcard/ns#Modem",Msg:"http://www.w3.org/2006/vcard/ns#Msg",Muse:"http://www.w3.org/2006/vcard/ns#Muse",Neighbor:"http://www.w3.org/2006/vcard/ns#Neighbor",None:"http://www.w3.org/2006/vcard/ns#None",Other:"http://www.w3.org/2006/vcard/ns#Other",PCS:"http://www.w3.org/2006/vcard/ns#PCS",Pager:"http://www.w3.org/2006/vcard/ns#Pager",Parcel:"http://www.w3.org/2006/vcard/ns#Parcel",Parent:"http://www.w3.org/2006/vcard/ns#Parent",Postal:"http://www.w3.org/2006/vcard/ns#Postal",Pref:"http://www.w3.org/2006/vcard/ns#Pref",Sibling:"http://www.w3.org/2006/vcard/ns#Sibling",Spouse:"http://www.w3.org/2006/vcard/ns#Spouse",Sweetheart:"http://www.w3.org/2006/vcard/ns#Sweetheart",Tel:"http://www.w3.org/2006/vcard/ns#Tel",Text:"http://www.w3.org/2006/vcard/ns#Text",TextPhone:"http://www.w3.org/2006/vcard/ns#TextPhone",Unknown:"http://www.w3.org/2006/vcard/ns#Unknown",Video:"http://www.w3.org/2006/vcard/ns#Video",Voice:"http://www.w3.org/2006/vcard/ns#Voice",Work:"http://www.w3.org/2006/vcard/ns#Work",X400:"http://www.w3.org/2006/vcard/ns#X400",adr:"http://www.w3.org/2006/vcard/ns#adr",agent:"http://www.w3.org/2006/vcard/ns#agent",anniversary:"http://www.w3.org/2006/vcard/ns#anniversary",bday:"http://www.w3.org/2006/vcard/ns#bday",category:"http://www.w3.org/2006/vcard/ns#category",class__workaround:"http://www.w3.org/2006/vcard/ns#class",email:"http://www.w3.org/2006/vcard/ns#email",geo:"http://www.w3.org/2006/vcard/ns#geo",hasAdditionalName:"http://www.w3.org/2006/vcard/ns#hasAdditionalName",hasCalendarBusy:"http://www.w3.org/2006/vcard/ns#hasCalendarBusy",hasCalendarLink:"http://www.w3.org/2006/vcard/ns#hasCalendarLink",hasCalendarRequest:"http://www.w3.org/2006/vcard/ns#hasCalendarRequest",hasCategory:"http://www.w3.org/2006/vcard/ns#hasCategory",hasCountryName:"http://www.w3.org/2006/vcard/ns#hasCountryName",hasFN:"http://www.w3.org/2006/vcard/ns#hasFN",hasFamilyName:"http://www.w3.org/2006/vcard/ns#hasFamilyName",hasGender:"http://www.w3.org/2006/vcard/ns#hasGender",hasGivenName:"http://www.w3.org/2006/vcard/ns#hasGivenName",hasHonorificPrefix:"http://www.w3.org/2006/vcard/ns#hasHonorificPrefix",hasHonorificSuffix:"http://www.w3.org/2006/vcard/ns#hasHonorificSuffix",hasInstantMessage:"http://www.w3.org/2006/vcard/ns#hasInstantMessage",hasLanguage:"http://www.w3.org/2006/vcard/ns#hasLanguage",hasLocality:"http://www.w3.org/2006/vcard/ns#hasLocality",hasNickname:"http://www.w3.org/2006/vcard/ns#hasNickname",hasNote:"http://www.w3.org/2006/vcard/ns#hasNote",hasOrganizationName:"http://www.w3.org/2006/vcard/ns#hasOrganizationName",hasOrganizationUnit:"http://www.w3.org/2006/vcard/ns#hasOrganizationUnit",hasPostalCode:"http://www.w3.org/2006/vcard/ns#hasPostalCode",hasRegion:"http://www.w3.org/2006/vcard/ns#hasRegion",hasRelated:"http://www.w3.org/2006/vcard/ns#hasRelated",hasRole:"http://www.w3.org/2006/vcard/ns#hasRole",hasSource:"http://www.w3.org/2006/vcard/ns#hasSource",hasStreetAddress:"http://www.w3.org/2006/vcard/ns#hasStreetAddress",hasTitle:"http://www.w3.org/2006/vcard/ns#hasTitle",hasUID:"http://www.w3.org/2006/vcard/ns#hasUID",hasValue:"http://www.w3.org/2006/vcard/ns#hasValue",label:"http://www.w3.org/2006/vcard/ns#label",language:"http://www.w3.org/2006/vcard/ns#language",latitude:"http://www.w3.org/2006/vcard/ns#latitude",longitude:"http://www.w3.org/2006/vcard/ns#longitude",mailer:"http://www.w3.org/2006/vcard/ns#mailer",note:"http://www.w3.org/2006/vcard/ns#note",org:"http://www.w3.org/2006/vcard/ns#org",prodid:"http://www.w3.org/2006/vcard/ns#prodid",rev:"http://www.w3.org/2006/vcard/ns#rev",role:"http://www.w3.org/2006/vcard/ns#role",title:"http://www.w3.org/2006/vcard/ns#title",tz:"http://www.w3.org/2006/vcard/ns#tz",value:"http://www.w3.org/2006/vcard/ns#value",Address:"http://www.w3.org/2006/vcard/ns#Address",Email:"http://www.w3.org/2006/vcard/ns#Email",Group:"http://www.w3.org/2006/vcard/ns#Group",Individual:"http://www.w3.org/2006/vcard/ns#Individual",Name:"http://www.w3.org/2006/vcard/ns#Name",VCard:"http://www.w3.org/2006/vcard/ns#VCard",fn:"http://www.w3.org/2006/vcard/ns#fn",hasAddress:"http://www.w3.org/2006/vcard/ns#hasAddress",hasEmail:"http://www.w3.org/2006/vcard/ns#hasEmail",hasGeo:"http://www.w3.org/2006/vcard/ns#hasGeo",hasKey:"http://www.w3.org/2006/vcard/ns#hasKey",hasLogo:"http://www.w3.org/2006/vcard/ns#hasLogo",hasName:"http://www.w3.org/2006/vcard/ns#hasName",hasPhoto:"http://www.w3.org/2006/vcard/ns#hasPhoto",hasSound:"http://www.w3.org/2006/vcard/ns#hasSound",hasTelephone:"http://www.w3.org/2006/vcard/ns#hasTelephone",hasURL:"http://www.w3.org/2006/vcard/ns#hasURL",key:"http://www.w3.org/2006/vcard/ns#key",logo:"http://www.w3.org/2006/vcard/ns#logo",n:"http://www.w3.org/2006/vcard/ns#n",nickname:"http://www.w3.org/2006/vcard/ns#nickname",photo:"http://www.w3.org/2006/vcard/ns#photo",sound:"http://www.w3.org/2006/vcard/ns#sound",tel:"http://www.w3.org/2006/vcard/ns#tel",url:"http://www.w3.org/2006/vcard/ns#url",Location:"http://www.w3.org/2006/vcard/ns#Location",hasMember:"http://www.w3.org/2006/vcard/ns#hasMember",locality:"http://www.w3.org/2006/vcard/ns#locality",region:"http://www.w3.org/2006/vcard/ns#region",Organization:"http://www.w3.org/2006/vcard/ns#Organization",Gender:"http://www.w3.org/2006/vcard/ns#Gender",Kind:"http://www.w3.org/2006/vcard/ns#Kind",Type:"http://www.w3.org/2006/vcard/ns#Type",TelephoneType:"http://www.w3.org/2006/vcard/ns#TelephoneType",RelatedType:"http://www.w3.org/2006/vcard/ns#RelatedType"}),su=Object.freeze({ActionItem:"http://www.w3.org/2005/01/wf/flow#ActionItem",Change:"http://www.w3.org/2005/01/wf/flow#Change",Closed:"http://www.w3.org/2005/01/wf/flow#Closed",Creation:"http://www.w3.org/2005/01/wf/flow#Creation",Message:"http://www.w3.org/2005/01/wf/flow#Message",NonTerminalState:"http://www.w3.org/2005/01/wf/flow#NonTerminalState",Open:"http://www.w3.org/2005/01/wf/flow#Open",Product:"http://www.w3.org/2005/01/wf/flow#Product",Task:"http://www.w3.org/2005/01/wf/flow#Task",TerminalState:"http://www.w3.org/2005/01/wf/flow#TerminalState",Tracker:"http://www.w3.org/2005/01/wf/flow#Tracker",Transition:"http://www.w3.org/2005/01/wf/flow#Transition",affects:"http://www.w3.org/2005/01/wf/flow#affects",allowedTransitions:"http://www.w3.org/2005/01/wf/flow#allowedTransitions",asigneeClass:"http://www.w3.org/2005/01/wf/flow#asigneeClass",assignee:"http://www.w3.org/2005/01/wf/flow#assignee",attachment:"http://www.w3.org/2005/01/wf/flow#attachment",creates:"http://www.w3.org/2005/01/wf/flow#creates",dateDue:"http://www.w3.org/2005/01/wf/flow#dateDue",deliverable:"http://www.w3.org/2005/01/wf/flow#deliverable",dependent:"http://www.w3.org/2005/01/wf/flow#dependent",description:"http://www.w3.org/2005/01/wf/flow#description",final:"http://www.w3.org/2005/01/wf/flow#final",goalDescription:"http://www.w3.org/2005/01/wf/flow#goalDescription",initialState:"http://www.w3.org/2005/01/wf/flow#initialState",issue:"http://www.w3.org/2005/01/wf/flow#issue",issueCategory:"http://www.w3.org/2005/01/wf/flow#issueCategory",issueClass:"http://www.w3.org/2005/01/wf/flow#issueClass",message:"http://www.w3.org/2005/01/wf/flow#message",modifiedBy:"http://www.w3.org/2005/01/wf/flow#modifiedBy",recipent:"http://www.w3.org/2005/01/wf/flow#recipent",requires:"http://www.w3.org/2005/01/wf/flow#requires",screenShot:"http://www.w3.org/2005/01/wf/flow#screenShot",sender:"http://www.w3.org/2005/01/wf/flow#sender",source:"http://www.w3.org/2005/01/wf/flow#source",stateStore:"http://www.w3.org/2005/01/wf/flow#stateStore",subscriber:"http://www.w3.org/2005/01/wf/flow#subscriber",successCriteria:"http://www.w3.org/2005/01/wf/flow#successCriteria",task:"http://www.w3.org/2005/01/wf/flow#task",terminalOutput:"http://www.w3.org/2005/01/wf/flow#terminalOutput",testData:"http://www.w3.org/2005/01/wf/flow#testData",tracker:"http://www.w3.org/2005/01/wf/flow#tracker",transactionStore:"http://www.w3.org/2005/01/wf/flow#transactionStore"}),uu="http://w3id.org/hospex/ns#",cu="http://www.w3.org/ns/pim/meeting#",lu="http://www.w3.org/2005/01/wf/flow#",fu={Accommodation:uu+"Accommodation",PersonalHospexDocument:uu+"PersonalHospexDocument",offers:uu+"offers",offeredBy:uu+"offeredBy",storage:uu+"storage"},du=((0,e.Z)((0,e.Z)({},Object.fromEntries(Object.entries($s).map((function(e){var n=(0,t.Z)(e,2),r=n[0],i=n[1];return[r,jo(i)]})))),{},{subject:jo($s.object.replace("object","subject"))}),(0,e.Z)({participation:lu+"participation",participant:lu+"participant"},su),(0,e.Z)({LongChat:cu+"LongChat"},nu),function(e){(0,P.Z)(n,e);var t=(0,A.Z)(n);function n(e,i){var o;return(0,r.Z)(this,n),(o=t.call(this)).client=e,o.queries=[],o.result=[],o.observers=[],o.observersMap={},i&&o.setQueries(i),o}return(0,i.Z)(n,[{key:"onSubscribe",value:function(){var e=this;1===this.listeners.length&&this.observers.forEach((function(t){t.subscribe((function(n){e.onUpdate(t,n)}))}))}},{key:"onUnsubscribe",value:function(){this.listeners.length||this.destroy()}},{key:"destroy",value:function(){this.listeners=[],this.observers.forEach((function(e){e.destroy()}))}},{key:"setQueries",value:function(e,t){var n=this;this.queries=e,R.batch((function(){var e=n.observers,r=n.findMatchingObservers(n.queries);r.forEach((function(e){return e.observer.setOptions(e.defaultedQueryOptions,t)}));var i=r.map((function(e){return e.observer})),o=Object.fromEntries(i.map((function(e){return[e.options.queryHash,e]}))),a=i.map((function(e){return e.getCurrentResult()})),s=i.some((function(t,n){return t!==e[n]}));(e.length!==i.length||s)&&(n.observers=i,n.observersMap=o,n.result=a,n.hasListeners()&&(u(e,i).forEach((function(e){e.destroy()})),u(i,e).forEach((function(e){e.subscribe((function(t){n.onUpdate(e,t)}))})),n.notify()))}))}},{key:"getCurrentResult",value:function(){return this.result}},{key:"getQueries",value:function(){return this.observers.map((function(e){return e.getCurrentQuery()}))}},{key:"getObservers",value:function(){return this.observers}},{key:"getOptimisticResult",value:function(e){return this.findMatchingObservers(e).map((function(e){return e.observer.getOptimisticResult(e.defaultedQueryOptions)}))}},{key:"findMatchingObservers",value:function(e){var t=this,n=this.observers,r=new Map(n.map((function(e){return[e.options.queryHash,e]}))),i=e.map((function(e){return t.client.defaultQueryOptions(e)})),o=i.flatMap((function(e){var t=r.get(e.queryHash);return null!=t?[{defaultedQueryOptions:e,observer:t}]:[]})),a=new Set(o.map((function(e){return e.defaultedQueryOptions.queryHash}))),s=i.filter((function(e){return!a.has(e.queryHash)})),u=new Set(o.map((function(e){return e.observer}))),c=n.filter((function(e){return!u.has(e)})),l=function(e){var n=t.client.defaultQueryOptions(e),r=t.observersMap[n.queryHash];return null!=r?r:new ro(t.client,n)},f=s.map((function(e,t){if(e.keepPreviousData){var n=c[t];if(void 0!==n)return{defaultedQueryOptions:e,observer:n}}return{defaultedQueryOptions:e,observer:l(e)}}));return o.concat(f).sort((function(e,t){return i.indexOf(e.defaultedQueryOptions)-i.indexOf(t.defaultedQueryOptions)}))}},{key:"onUpdate",value:function(e,t){var n=this.observers.indexOf(e);-1!==n&&(this.result=function(e,t,n){var r=e.slice(0);return r[t]=n,r}(this.result,n,t),this.notify())}},{key:"notify",value:function(){var e=this;R.batch((function(){e.listeners.forEach((function(t){t(e.result)}))}))}}]),n}(L));var hu=n(1543),pu=n(1645),vu=n(5072);function gu(e){return yu.apply(this,arguments)}function yu(){return yu=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i,o,a;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,Os.transactionChanges)(t),r=["_:mutate a <".concat(iu.InsertDeletePatch,">")],!n.added){e.next=7;break}return e.next=5,(0,vu.datasetToString)(n.added,{format:"N3"});case 5:i=e.sent,r.push("<".concat(iu.inserts,"> { ").concat(i," }"));case 7:if(!n.removed){e.next=12;break}return e.next=10,(0,vu.datasetToString)(n.removed,{format:"N3"});case 10:o=e.sent,r.push("<".concat(iu.deletes,"> { ").concat(o," }"));case 12:return a=r.join(";\n")+".",e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),yu.apply(this,arguments)}var mu,wu,_u,bu=function(e){var n=(0,ne.useMemo)((function(){return{queries:e.map((function(e){return Mo(e)})).map((function(e){return{queryKey:["rdfDocument",e],queryFn:function(){return xu(e)}}}))}}),[e]),r=function(e){var n=e.queries,r=e.context,i=se({context:r}),o=po(),a=fo(),s=ne.useMemo((function(){return n.map((function(e){var t=i.defaultQueryOptions(e);return t._optimisticResults=o?"isRestoring":"optimistic",t}))}),[n,i,o]);s.forEach((function(e){wo(e),go(e,a)})),yo(a);var u=ne.useState((function(){return new du(i,s)})),c=(0,t.Z)(u,1)[0],l=c.getOptimisticResult(s);uo(ne.useCallback((function(e){return o?function(){}:c.subscribe(R.batchCalls(e))}),[c,o]),(function(){return c.getCurrentResult()}),(function(){return c.getCurrentResult()})),ne.useEffect((function(){c.setQueries(s,{listeners:!1})}),[s,c]);var f=l.some((function(e,t){return bo(s[t],e,o)})),d=f?l.flatMap((function(e,t){var n=s[t],r=c.getObservers()[t];if(n&&r){if(bo(n,e,o))return xo(n,r,a);_o(e,o)&&xo(n,r,a)}return[]})):[];if(d.length>0)throw Promise.all(d);var h=c.getQueries(),p=l.find((function(e,t){var n,r;return mo({result:e,errorResetBoundary:a,useErrorBoundary:null!=(n=null==(r=s[t])?void 0:r.useErrorBoundary)&&n,query:h[t]})}));if(null!=p&&p.error)throw p.error;return l}(n);return r},xu=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Fo(t);case 2:if(!(n=e.sent).ok){e.next=10;break}return e.next=6,n.text();case 6:return r=e.sent,e.abrupt("return",{data:Su(r,{baseIRI:t}),response:n});case 10:throw new Error("Fetching ".concat(t," not successful"));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Su=function(e,t){var n=new hu.Z(t),r=pu.ZP.namedNode(t.baseIRI),i=n.parse(e).map((function(e){var t=e.subject,n=e.predicate,i=e.object;return pu.ZP.quad(t,n,i,r)}));return i},ku=function(e){var t=se(),n=Eo({mutationFn:function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s,u,c,l,f,d,h;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.uri,i=n.data,o=n.language,a=void 0===o?"en":o,s=n.method,u=void 0===s?"PUT":s,c=(0,Os.createLdoDataset)(),Array.isArray(i)?i.forEach((function(t){var n=c.usingType(e).fromSubject(t["@id"]);(0,Os.setLanguagePreferences)(a).using(n),(0,zs.merge)(n,t)})):(l=c.usingType(e).fromSubject(i["@id"]),(0,Os.setLanguagePreferences)(a).using(l),(0,zs.merge)(l,i)),t.next=5,(0,Os.toTurtle)(c.usingType(e).fromSubject(""));case 5:return f=t.sent,t.next=8,Fo(r,{method:u,body:f,headers:{"content-type":"text/turtle"}});case 8:return d=t.sent,h=d.headers.get("location"),t.abrupt("return",h);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:Tu(t)});return n},Eu=function(){var e=se(),t=Eo({mutationFn:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,r=t.patch,e.next=3,Fo(n,{method:"PATCH",body:r,headers:{"content-type":"text/n3"}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:Tu(e,(function(e){return 201===e.status}))});return t},Cu=function(e){var t=se();return Eo({mutationFn:function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s,u,c,l,f,d;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.uri,i=n.subject,o=n.transform,a=n.language,s=void 0===a?"en":a,t.next=3,Fo(r);case 3:if(u=t.sent,c="",!u.ok){t.next=9;break}return t.next=8,u.text();case 8:c=t.sent;case 9:return t.next=11,(0,Os.parseRdf)(c,{baseIRI:r});case 11:return l=t.sent,f=l.usingType(e).fromSubject(i),(0,Os.setLanguagePreferences)(s).using(f),(0,Os.startTransaction)(f),o(f),t.next=18,gu(f);case 18:return d=t.sent,t.next=21,Fo(r,{method:"PATCH",body:d,headers:{"content-type":"text/n3"}});case 21:return t.abrupt("return",t.sent);case 22:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:Tu(t,(function(e){return 201===e.status}))})},Pu=function(){var e=se(),t=Eo({mutationFn:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.uri,e.next=3,Fo(n,{method:"DELETE"});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:Tu(e)});return t},Au=function(e,t){var n=function(e){return Do(e,Ro)}(e),r=t.getQueryCache().getAll().filter((function(e){return"rdfDocument"===e.queryKey[0]&&"string"===typeof e.queryKey[1]&&n.includes(e.queryKey[1])})).map((function(e){return e.queryKey[1]}));return(0,zs.maxBy)(r,(function(e){return e.length}))},Tu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return!0};return function(n,r){var i=Mo(r.uri);if(e.invalidateQueries(["rdfDocument",i]),e.invalidateQueries(["rdfDocument",Ro(i)]),t(n)){var o=Au(i,e);o&&e.invalidateQueries(["rdfDocument",o])}}},Ou=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=Iu(e,n,r),o=(0,t.Z)(i,3),a=o[0],s=o[1],u=o[2];return(0,ne.useMemo)((function(){return[s,u,a]}),[u,a,s])},Iu=function(e,n,r){var i=(0,ne.useState)([]),o=(0,t.Z)(i,2),a=o[0],s=o[1],u=bu(a),c=(0,ne.useMemo)((function(){return u.flatMap((function(e){var t,n;return null!==(t=null===(n=e.data)||void 0===n?void 0:n.data)&&void 0!==t?t:[]}))}),[u]);(0,ne.useEffect)((function(){var i=Ru(e,c,n,r),o=(0,t.Z)(i,2)[1];s((function(e){return(0,zs.difference)(Array.from(o),e).length>0?Array.from(o):e}))}),[c,r,n,e]);var l=(0,ne.useMemo)((function(){var i=Ru(e,c,n,r);return(0,t.Z)(i,1)[0]}),[c,r,n,e]),f=(0,ne.useMemo)((function(){var i=Ru(e,c,n,r),o=(0,t.Z)(i,2)[1];return(0,zs.difference)(Array.from(o),a).length>0}),[c,r,n,e,a]),d=(0,ne.useMemo)((function(){var e=u.reduce((function(e,t){for(var n in t){var r=n;if("string"===typeof r)if(r.startsWith("is")){var i=r;e[i]=Boolean(e[i]||Boolean(t[i]))}else{var o,a=r;e[a]=[].concat((0,Y.Z)(null!==(o=e[a])&&void 0!==o?o:[]),[t[a]])}}return e.isLoading||(e.isLoading=f),e.isSuccess=t.isSuccess&&e.isSuccess,e}),{});return e}),[f,u]);return[c,l,d,u]},Ru=function(e,n,r,i){var o,a=(0,Os.createLdoDataset)(n),s={},u=new Set,c=(0,Hn.Z)(e);try{var l=function(){var e=o.value.map((function(e){return"string"===typeof e&&e.startsWith("?")&&e.slice(1)in r?r[e.slice(1)]:e})),n=(0,zs.uniq)(e[0].startsWith("?")?s[e[0].slice(1)].map((function(e){return null===e||void 0===e?void 0:e["@id"]})):[e[0]]).filter((function(e){return Boolean(e)}));if(n.forEach((function(e){return u.add(Mo(e))})),4===e.length){var c,l=(0,t.Z)(e,4),f=l[1],d=l[2],h=l[3],p=d.slice(1),v=n.map((function(e){return a.usingType(h).setLanguagePreferences(i).fromSubject(f(e))}));s[p]=(0,zs.uniqBy)((null!==(c=s[p])&&void 0!==c?c:[]).concat(v),"@id").filter((function(e){return Boolean(e)}))}else if(3===e.length){var g=(0,t.Z)(e,3),y=g[0],m=g[1],w=g[2];if(y.startsWith("?")&&w.startsWith("?")){var _,b=y.slice(1),x=w.slice(1),S=s[b].flatMap((function(e){return e[m]}));s[x]=(0,zs.uniqBy)((null!==(_=s[x])&&void 0!==_?_:[]).concat(S),"@id").filter((function(e){return Boolean(e)}))}else{if(!y.startsWith("?"))throw new Error('unexpected constant "'.concat(y,'" in query path subject'));var k=y.slice(1);s[k]=s[k].filter((function(e){return[e[m]].flat().some((function(e){return(null===e||void 0===e?void 0:e["@id"])===w}))})).filter((function(e){return Boolean(e)}))}}else if(2===e.length){var E=(0,t.Z)(e,2),C=E[0],P=E[1];if(!C.startsWith("?"))throw new Error('Unexpected constant "'.concat(C,'" in query filter. Please provide a variable that starts with "?"'));var A=C.slice(1);s[A]=s[A].filter((function(e){return P(e,r)})).filter((function(e){return Boolean(e)}))}n.forEach((function(e){return u.add(Mo(e))}))};for(c.s();!(o=c.n()).done;)l()}catch(f){c.e(f)}finally{c.f()}return[s,u]},Lu=[["?webId",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile",function(e){return e},"?foafProfile",Fs],["?foafProfile"],["?profile","publicTypeIndex","?publicTypeIndex"],["?publicTypeIndex","references","?typeRegistration"],["?typeRegistration","forClass",fu.PersonalHospexDocument],["?typeRegistration","instance","?hospexDocument"],["?hospexDocument"],["?profile",function(e){return e},"?hospexProfile",Ms],["?hospexProfile",function(e,t){var n;return(null===(n=e.memberOf)||void 0===n?void 0:n["@id"])===t.communityId}]],Fu=function(e,n){var r,i,o,a,s,u,c,l,f,d,h,p,v,g=(0,ne.useMemo)((function(){return{webId:e,communityId:n}}),[n,e]),y=Ou(Lu,g),m=(0,t.Z)(y,3),w=m[0],_=m[1],b=m[2],x=(0,ne.useMemo)((function(){return w.hospexDocument.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]}))}),[w.hospexDocument]),S=(0,ne.useMemo)((function(){var t;return(null!==(t=_.data)&&void 0!==t?t:[]).flatMap((function(e){return null!==e&&void 0!==e?e:[]})).filter((function(e){return x.includes(e.response.url)})).map((function(t){var n;return{ldo:(0,Os.createLdoDataset)(null!==(n=t.data)&&void 0!==n?n:[]).usingType(Ms).fromSubject(e),document:t.response.url}})).filter((function(e){return e.ldo.memberOf["@id"]===n}))}),[n,x,_.data,e]),k=w.foafProfile[0],E=null!==(r=null===(i=S[0])||void 0===i?void 0:i.ldo)&&void 0!==r?r:void 0,C=null!==(o=null===(a=S[0])||void 0===a?void 0:a.document)&&void 0!==o?o:void 0,P=(0,zs.merge)({},k,E),A=E&&(0,Os.languagesOf)(E,"note"),T=null!==(s=null===A||void 0===A||null===(u=A.en)||void 0===u?void 0:u.values().next().value)&&void 0!==s?s:"",O={id:e,name:null!==(c=P.name)&&void 0!==c?c:"",photo:null===(l=P.hasPhoto)||void 0===l?void 0:l["@id"],about:T,interests:null!==(f=null===(d=P.topicInterest)||void 0===d?void 0:d.map((function(e){return e["@id"]})))&&void 0!==f?f:[]},I=E&&{id:e,name:null!==(h=E.name)&&void 0!==h?h:"",photo:null===(p=E.hasPhoto)||void 0===p?void 0:p["@id"],about:null===(v=E.note)||void 0===v?void 0:v[0]},R=b.filter((function(t){return t.subject.id===e&&t.predicate.id===eu.topic_interest})).map((function(e){return{id:e.object.id,document:e.graph.id}}));return[O,_,C,R,I]},Mu=[["?me",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"]],ju=function(e){var n=(0,ne.useMemo)((function(){return{me:e}}),[e]),r=Ou(Mu,n),i=(0,t.Z)(r,2),o=i[0],a=i[1];return[o.profile[0],a]},Du=[["?me",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","privateTypeIndex","?privateTypeIndex"],["?privateTypeIndex","references","?typeRegistration"],["?typeRegistration","forClass","LongChat"],["?typeRegistration","instance","?chat"],["?chat","participation","?participation"],["?participation","references","?otherChat"],["?chat",Io,"?chatContainer",Zs],["?otherChat",Io,"?chatContainer",Zs],["?chatContainer","contains","?year"],["?year","contains","?month"],["?month","contains","?day"],["?day","contains","?messagesDoc"],["?messagesDoc"],["?chat","message","?message"],["?otherChat","message","?message"]],Nu=[["?me",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","inbox","?inbox"],["?inbox","contains","?notification"],["?notification","type","Add"],["?notification","context","https://www.pod-chat.com/LongChatMessage"],["?notification","object","?message"],["?notification","target","?chat"],["?message"],["?chat"]],Uu=function(n){var r=Ou(Nu,{me:n}),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=(0,ne.useMemo)((function(){return o.notification.map((function(e){var t,n,r,i,o;return{id:null!==(t=e.object["@id"])&&void 0!==t?t:"",message:e.object.content,createdAt:new Date(null===(n=e.object)||void 0===n?void 0:n.created).getTime(),from:null===(r=e.object.maker)||void 0===r?void 0:r["@id"],chat:null!==(i=e.target["@id"])&&void 0!==i?i:"",otherChats:null===(o=e.target.participation)||void 0===o?void 0:o.flatMap((function(e){var t,n;return null!==(t=null===(n=e.references)||void 0===n?void 0:n.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})))&&void 0!==t?t:[]})),notification:e["@id"],status:"unread"}}))}),[o.notification]);return(0,ne.useMemo)((function(){return(0,e.Z)((0,e.Z)({},a),{},{data:s})}),[a,s])},Zu=function(n){var r=function(n){var r=Ou(Du,{me:n}),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=(0,ne.useMemo)((function(){return o.chat.map((function(e){var t,n,r,i,o,a,s=e["@id"],u=null!==(t=null===(n=e.participation)||void 0===n?void 0:n.flatMap((function(e){var t,n;return null!==(t=null===(n=e.references)||void 0===n?void 0:n.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})).filter((function(e){return Boolean(e)})))&&void 0!==t?t:[]})))&&void 0!==t?t:[],c=null!==(r=null===(i=e.participation)||void 0===i?void 0:i.map((function(e){return e.participant["@id"]})))&&void 0!==r?r:[],l=[e].concat((0,Y.Z)((null!==(o=null===(a=e.participation)||void 0===a?void 0:a.flatMap((function(e){return e.references})))&&void 0!==o?o:[]).filter((function(e){return e})))).flatMap((function(e){var t;return(null!==(t=e.message)&&void 0!==t?t:[]).map((function(t){return{id:t["@id"],message:t.content,createdAt:new Date(t.created).getTime(),from:t.maker["@id"],chat:e["@id"]}})).sort((function(e,t){return e.createdAt-t.createdAt}))}));return{id:s,related:u,participants:c,messages:l}})).sort((function(e,t){var n,r,i,o;return(null!==(n=null===(r=(0,Y.Z)(t.messages).pop())||void 0===r?void 0:r.createdAt)&&void 0!==n?n:0)-(null!==(i=null===(o=(0,Y.Z)(e.messages).pop())||void 0===o?void 0:o.createdAt)&&void 0!==i?i:0)}))}),[o.chat]);return(0,ne.useMemo)((function(){return(0,e.Z)((0,e.Z)({},a),{},{data:s})}),[a,s])}(n),i=r.data,o=Uu(n).data,a=(0,ne.useMemo)((function(){var e=(0,zs.cloneDeep)(i);return o.forEach((function(t){var n=e.find((function(e){var n;return e.related.includes(t.chat)||(null===(n=t.otherChats)||void 0===n?void 0:n.includes(e.id))}));if(n){n.status="unread";var r=n.messages.findIndex((function(e){return e.id===t.id}));r>-1?n.messages[r]=t:(n.messages.push(t),n.messages.sort((function(e,t){return e.createdAt-t.createdAt})))}else e.push({id:t.chat,related:[t.chat],messages:[t],participants:[t.from],status:"new"}),e.sort((function(e,t){var n,r,i,o;return(null!==(n=null===(r=(0,Y.Z)(t.messages).pop())||void 0===r?void 0:r.createdAt)&&void 0!==n?n:0)-(null!==(i=null===(o=(0,Y.Z)(e.messages).pop())||void 0===o?void 0:o.createdAt)&&void 0!==i?i:0)}))})),e}),[o,i]);return{data:a}},Bu=["title","titleId"];function Hu(){return Hu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hu.apply(this,arguments)}function zu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ku(e,t){var n=e.title,r=e.titleId,i=zu(e,Bu);return ne.createElement("svg",Hu({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140.708 65.486",ref:t,"aria-labelledby":r},i),n?ne.createElement("title",{id:r},n):null,mu||(mu=ne.createElement("path",{d:"M32.744.131C14.733.131.133 14.731.132 32.742c0 18.01 14.6 32.611 32.611 32.611 7.18-.004 14.158-2.378 19.475-6.481 5.066-3.485 11.523-5.499 18.136-5.5 6.615 0 13.074 2.013 17.748 5.19 5.051 4.182 12.34 6.787 19.863 6.791 18.01 0 32.61-14.6 32.61-32.61 0-18.01-14.6-32.611-32.61-32.611-7.522.004-14.812 2.61-19.347 6.477-4.35 3.342-11.21 5.64-18.264 5.65-7.053-.01-13.913-2.308-18.655-5.967-4.8-3.79-11.777-6.16-18.956-6.16Zm-.752 2.658c1.46-.02 2.922.043 4.372.219 4.464.527 8.918 2.046 12.684 4.622a33.582 33.582 0 0 0 14.372 6.58c8.579 1.636 17.872.266 25.287-4.468 1.985-1.395 3.895-2.927 6.098-3.981 4.2-2.02 8.678-2.974 13.334-2.97a30.16 30.16 0 0 1 8.79 1.35c7.282 2.253 13.57 7.44 17.262 14.097 3.548 6.34 4.595 13.978 3.016 21.025-1.79 8.382-7.46 15.77-14.986 19.833-7.833 4.333-17.642 4.743-25.911 1.281-2.868-1.059-5.267-2.992-7.791-4.658-10.072-6.167-23.318-6.592-33.858-1.327-2.936 1.36-5.358 3.573-8.249 5.014-4.94 2.581-10.73 3.633-16.207 3.186-7.299-.549-14.277-3.994-19.275-9.32-5.1-5.328-8.001-12.572-8.14-19.884-.171-6.325 1.81-12.746 5.491-17.948C13.6 7.778 22.814 2.936 31.992 2.789Z"})),wu||(wu=ne.createElement("path",{d:"M32.891 19.504a13.239 13.239 0 0 0-13.24 13.239 13.239 13.239 0 0 0 13.24 13.238A13.239 13.239 0 0 0 46.13 32.743a13.239 13.239 0 0 0-13.24-13.24Zm.038 2.648c3.836-.021 7.564 2.254 9.34 5.656 2.124 3.958 1.343 9.218-1.87 12.366-2.884 3.04-7.647 3.959-11.496 2.353-4.281-1.605-6.99-6.298-6.545-10.8.377-5.001 4.809-9.274 9.802-9.54.257-.022.513-.033.769-.035zm75.007-2.648a13.239 13.239 0 0 0-13.239 13.239 13.239 13.239 0 0 0 13.239 13.238 13.239 13.239 0 0 0 13.239-13.238 13.239 13.239 0 0 0-13.239-13.24zm.038 2.648c3.836-.021 7.564 2.254 9.34 5.656 2.125 3.958 1.343 9.218-1.87 12.366-2.883 3.04-7.647 3.959-11.495 2.353-4.282-1.605-6.99-6.298-6.546-10.8.378-5.001 4.809-9.274 9.803-9.54.256-.022.512-.033.768-.035z"})),_u||(_u=ne.createElement("path",{d:"M37.721 28.457c-4.21.064-7.263 5.182-5.388 8.932 1.485 3.518 6.562 4.833 9.507 2.35 3.048-2.263 3.195-7.386.229-9.779-1.198-1.01-2.78-1.57-4.348-1.503zm75.076.024c-4.136.058-7.169 5.006-5.48 8.743.998 2.538 3.833 4.071 6.514 3.788 2.971-.222 5.41-2.972 5.452-5.922.145-2.412-1.155-4.906-3.394-5.924a6.14 6.14 0 0 0-3.092-.685z"})))}var Vu,Wu,qu=ne.forwardRef(Ku),Gu=(n.p,["title","titleId"]);function Ju(){return Ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ju.apply(this,arguments)}function Qu(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yu(e,t){var n=e.title,r=e.titleId,i=Qu(e,Gu);return ne.createElement("svg",Ju({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 140.708 65.486",ref:t,"aria-labelledby":r},i),n?ne.createElement("title",{id:r},n):null,Vu||(Vu=ne.createElement("path",{d:"M32.744.131C14.733.131.133 14.731.132 32.742c0 18.01 14.6 32.611 32.611 32.611 7.18-.004 14.158-2.378 19.475-6.481 5.066-3.485 11.523-5.499 18.136-5.5 6.615 0 13.074 2.013 17.748 5.19 5.051 4.182 12.34 6.787 19.863 6.791 18.01 0 32.61-14.6 32.61-32.61 0-18.01-14.6-32.611-32.61-32.611-7.522.004-14.812 2.61-19.347 6.477-4.35 3.342-11.21 5.64-18.264 5.65-7.053-.01-13.913-2.308-18.655-5.967-4.8-3.79-11.777-6.16-18.956-6.16Zm-.752 2.658c1.46-.02 2.922.043 4.372.219 4.464.527 8.918 2.046 12.684 4.622a33.582 33.582 0 0 0 14.372 6.58c8.579 1.636 17.872.266 25.287-4.468 1.985-1.395 3.895-2.927 6.098-3.981 4.2-2.02 8.678-2.974 13.334-2.97a30.16 30.16 0 0 1 8.79 1.35c7.282 2.253 13.57 7.44 17.262 14.097 3.548 6.34 4.595 13.978 3.016 21.025-1.79 8.382-7.46 15.77-14.986 19.833-7.833 4.333-17.642 4.743-25.911 1.281-2.868-1.059-5.267-2.992-7.791-4.658-10.072-6.167-23.318-6.592-33.858-1.327-2.936 1.36-5.358 3.573-8.249 5.014-4.94 2.581-10.73 3.633-16.207 3.186-7.299-.549-14.277-3.994-19.275-9.32-5.1-5.328-8.001-12.572-8.14-19.884-.171-6.325 1.81-12.746 5.491-17.948C13.6 7.778 22.814 2.936 31.992 2.789Z"})),Wu||(Wu=ne.createElement("path",{d:"M19.652 32.743a13.239 13.239 0 0 0 13.239 13.238A13.239 13.239 0 0 0 46.13 32.743h-2.674c-.02 2.746-1.076 5.49-3.057 7.431-2.884 3.04-7.647 3.959-11.496 2.353-3.96-1.485-6.572-5.61-6.59-9.784zm75.045-.001a13.239 13.239 0 0 0 13.24 13.24 13.239 13.239 0 0 0 13.238-13.24h-2.673c-.021 2.747-1.076 5.491-3.057 7.432-2.884 3.04-7.648 3.959-11.496 2.353-3.96-1.485-6.572-5.611-6.591-9.785z"})))}var Xu=ne.forwardRef(Yu),$u=(n.p,function(){var e=Yi(),t=function(){var t=(0,q.Z)((0,W.Z)().mark((function t(){return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Qi.logout)();case 2:e(en.signout());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,aa.jsx)("button",{onClick:t,children:"sign out"})}),ec="Header_header__OKWO7",tc="Header_logoContainer__Ca1SE",nc="Header_logo__shVBB",rc="Header_logoOpen__zjGMg",ic="Header_spacer__oQPAO",oc=function(){var e,n,r=Xi(nn),i=Fu(null!==(e=r.webId)&&void 0!==e?e:"",dn),o=(0,t.Z)(i,1)[0],a=Uu(null!==(n=r.webId)&&void 0!==n?n:"").data;return(0,aa.jsxs)("nav",{className:ec,children:[(0,aa.jsxs)(ga,{className:tc,to:"/",children:[(0,aa.jsx)(Xu,{className:nc}),(0,aa.jsx)(qu,{className:rc})," ",!1===r.isLoggedIn&&(0,aa.jsx)("span",{children:"sleepy.bike"})]}),(0,aa.jsx)("div",{className:ic}),!0===r.isLoggedIn&&(0,aa.jsxs)(_s,{menuButton:(0,aa.jsx)(xs,{children:(0,aa.jsx)(sa,{photo:o.photo})}),children:[(0,aa.jsx)(Ps,{children:(0,aa.jsx)(ga,{to:"profile",children:(null===o||void 0===o?void 0:o.name)||"profile"})}),(0,aa.jsx)(Ps,{children:(0,aa.jsxs)(ga,{to:"messages",children:["messages",null!==a&&void 0!==a&&a.length?" (".concat(a.length," new)"):null]})}),r.webId&&(0,aa.jsx)(Ps,{children:(0,aa.jsx)(ga,{to:"profile/".concat(encodeURIComponent(r.webId),"/contacts"),children:"contacts"})}),(0,aa.jsx)(Ts,{}),(0,aa.jsx)(Ps,{children:(0,aa.jsx)($u,{})})]}),void 0===r.isLoggedIn&&(0,aa.jsx)(aa.Fragment,{children:"..."})]})},ac=["concepturi"],sc=function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n,r){var i,o;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.wikidata.org/w/api.php?action=wbsearchentities&search=".concat(encodeURIComponent(n),"&language=").concat(r,"&limit=20&continue=0&format=json&uselang=").concat(r,"&type=item&origin=*"));case 2:return i=t.sent,t.next=5,i.json();case 5:return o=t.sent,t.abrupt("return",o.search.map((function(t){var n=t.concepturi,r=(0,to.Z)(t,ac);return(0,zs.merge)({aliases:[],photos:[]},(0,e.Z)((0,e.Z)({},r),{},{id:n}))})));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),uc=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return So(["wikidataEntity",e,t],(function(){return cc(e,t)}),{enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})},cc=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){var r,i,o,a,s,u,c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,k;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h=null!==(r=null===(i=t.match(lc))||void 0===i?void 0:i[2])&&void 0!==r?r:""){e.next=3;break}return e.abrupt("return",void 0);case 3:return e.next=5,fetch("https://www.wikidata.org/w/api.php?action=wbgetentities&ids=".concat(h,"&languages=").concat(n,"&format=json&origin=*"));case 5:return p=e.sent,e.next=8,p.json();case 8:if((v=e.sent)&&v.entities){e.next=11;break}return e.abrupt("return",void 0);case 11:if(g=v.entities[h]){e.next=14;break}return e.abrupt("return",void 0);case 14:return y=null!==(o=null===(a=g.labels[n])||void 0===a?void 0:a.value)&&void 0!==o?o:"",m=null!==(s=null===(u=g.descriptions[n])||void 0===u?void 0:u.value)&&void 0!==s?s:"",w=(null!==(c=g.claims.P18)&&void 0!==c?c:[]).map((function(e){return e.mainsnak.datavalue.value}))[0],_=(null!==(l=g.claims.P154)&&void 0!==l?l:[]).map((function(e){return e.mainsnak.datavalue.value}))[0],b=w&&"https://commons.wikimedia.org/wiki/Special:FilePath/".concat(encodeURIComponent(w),"?width=300"),x=_&&"https://commons.wikimedia.org/wiki/Special:FilePath/".concat(encodeURIComponent(_),"?width=300"),S=(null!==(f=g.claims.P856)&&void 0!==f?f:[]).map((function(e){return e.mainsnak.datavalue.value}))[0],k=(null!==(d=g.aliases[n])&&void 0!==d?d:[]).map((function(e){return e.value})),e.abrupt("return",{id:h,label:y,aliases:k,description:m,officialWebsite:S,image:x||b});case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),lc=/^https?:\/\/(w{3}\.)?wikidata\.org\/entity\/([A-Z0-9]*)\/?$/,fc="Interests_list__zWV7R",dc="Interests_item__f2lA2",hc="Interests_highlighted__1ueF3",pc=function(e){var t=e.ids,n=e.highlighted;return 0===t.length?null:(0,aa.jsx)("ul",{className:fc,children:t.map((function(e){return(0,aa.jsx)("li",{children:(0,aa.jsx)(vc,{id:e,highlighted:n&&n.includes(e)})},e)}))})},vc=function(e){var t=e.id,n=e.highlighted,r=uc(t).data,i={id:t,label:t.split("/").pop(),description:t},o=(0,zs.merge)({},i,r);return(0,aa.jsx)("span",{className:eo()(dc,n&&hc),title:o.description,children:o.label})},gc=function(e){var t=e.children;return(0,aa.jsx)(aa.Fragment,{children:t})},yc=function(){return Xi(nn)},mc={box:"Layout_box__3Xb-y",row:"Layout_row__spdZc",header:"Layout_header__w2Prm",content:"Layout_content__Aw29B",footer:"Layout_footer__StpSi"},wc=function(e){var t=e.children,n=e.page;return(0,aa.jsx)("div",{className:eo()(mc.box,n&&mc.page),children:t})},_c=function(e){var t=e.children;return(0,aa.jsx)("div",{className:eo()(mc.row,mc.header),children:t})},bc=function(e){var t=e.children;return(0,aa.jsx)("div",{className:eo()(mc.row,mc.content),children:t})},xc=function(){!function(){var e=Ai();(0,ne.useEffect)((function(){(0,Qi.onSessionRestore)((function(t){e(new URL(t).pathname)}))}),[])}();var e=Yi(),t=yc();return(0,ne.useEffect)((function(){(0,q.Z)((0,W.Z)().mark((function t(){var n;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,Qi.handleIncomingRedirect)({restorePreviousSession:!0});case 2:(n=t.sent)&&e(en.signin(n));case 4:case"end":return t.stop()}}),t)})))()}),[e]),(0,aa.jsxs)(wc,{children:[(0,aa.jsx)(_c,{children:(0,aa.jsx)(oc,{})}),(0,aa.jsx)(bc,{children:void 0===t.isLoggedIn?(0,aa.jsx)(aa.Fragment,{children:"Loading..."}):(0,aa.jsx)(zi,{})})]})},Sc=function(){return(0,aa.jsx)(aa.Fragment,{children:"Page with info about OHN and about Solid; or maybe it should be on the landing page. So maybe info about joining..."})},kc={type:"Schema",shapes:[{id:"https://example.com/HospexCommunity",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Community"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Community"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#name",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#about",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#has_usergroup",valueExpr:"https://example.com/HospexGroup",min:1,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/HospexGroup",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2006/vcard/ns#Group"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://rdfs.org/sioc/ns#Usergroup"]}},{type:"TripleConstraint",predicate:"http://rdfs.org/sioc/ns#usergroup_of",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}},{type:"TripleConstraint",predicate:"http://www.w3.org/2006/vcard/ns#hasMember",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},Ec={type:{"@id":"@type","@container":"@set"},Community:"http://w3id.org/hospex/ns#Community",Community2:"http://rdfs.org/sioc/ns#Community",name:{"@id":"http://rdfs.org/sioc/ns#name","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},about:{"@id":"http://rdfs.org/sioc/ns#about","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},hasUsergroup:{"@id":"http://rdfs.org/sioc/ns#has_usergroup","@type":"@id","@container":"@set"},Group:"http://www.w3.org/2006/vcard/ns#Group",Usergroup:"http://rdfs.org/sioc/ns#Usergroup",usergroupOf:{"@id":"http://rdfs.org/sioc/ns#usergroup_of","@type":"@id"},hasMember:{"@id":"http://www.w3.org/2006/vcard/ns#hasMember","@type":"@id","@container":"@set"}},Cc={schema:kc,shape:"https://example.com/HospexCommunity",context:Ec},Pc=[["?community",function(e){return e},"?com",Cc],["?com","hasUsergroup","?group"],["?group"]],Ac=function(e){var n=Ou(Pc,{community:e}),r=(0,t.Z)(n,1)[0];return(0,ne.useMemo)((function(){return{community:e,groups:r.group.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]}))}}),[e,r.group])},Tc=function(n,r){var i=function(e,n){var r=Ou(Pc,{community:n}),i=(0,t.Z)(r,1)[0];if(0!==i.group.length){var o=i.group.some((function(t){var n;return null===(n=t.hasMember)||void 0===n?void 0:n.some((function(t){return t["@id"]===e}))}));return o}}(n,r),o=Ic(n,r);return(0,ne.useMemo)((function(){return(0,e.Z)({isMember:i},o)}),[o,i])},Oc=[["?userId",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","privateTypeIndex","?privateTypeIndex"],["?privateTypeIndex"],["?profile","publicTypeIndex","?publicTypeIndex"],["?publicTypeIndex","references","?typeRegistration"],["?typeRegistration","forClass",fu.PersonalHospexDocument],["?typeRegistration","instance","?hospexDocument"],["?hospexDocument"],["?profile",function(e){return e},"?hospexProfile",Ms],["?hospexProfile",function(e,t){var n;return(null===(n=e.memberOf)||void 0===n?void 0:n["@id"])===t.communityId}],["?hospexProfile"]],Ic=function(e,n){var r=Ou(Oc,{userId:e,communityId:n}),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=o.typeRegistration.flatMap((function(e){var t,n;return null!==(t=null===(n=e.instance)||void 0===n?void 0:n.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})))&&void 0!==t?t:[]})),u=o.publicTypeIndex.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})),c=o.privateTypeIndex.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})),l=o.profile.flatMap((function(e){var t,n;return null!==(t=null===(n=e.inbox)||void 0===n?void 0:n["@id"])&&void 0!==t?t:[]}));return{isHospexProfile:o.hospexProfile.length>0||!!a.isInitialLoading&&void 0,isPublicTypeIndex:u.length>0||!!a.isInitialLoading&&void 0,isPrivateTypeIndex:c.length>0||!!a.isInitialLoading&&void 0,isInbox:l.length>0||!!a.isInitialLoading&&void 0,personalHospexDocuments:s,publicTypeIndexes:u,privateTypeIndexes:c,inboxes:l}},Rc={schema:{type:"Schema",shapes:[{id:"https://example.com/Authorization",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Authorization"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#accessTo",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#default",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agent",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentClass",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#agentGroup",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:1,max:-1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Read"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Write"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Control"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#mode",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/ns/auth/acl#Append"]},min:0,max:1},{type:"TripleConstraint",predicate:"http://www.w3.org/ns/auth/acl#origin",valueExpr:{type:"NodeConstraint",nodeKind:"iri"},min:0,max:-1}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},shape:"https://example.com/Authorization",context:{type:{"@id":"@type"},Authorization:"http://www.w3.org/ns/auth/acl#Authorization",accessTo:{"@id":"http://www.w3.org/ns/auth/acl#accessTo","@type":"@id","@container":"@set"},default:{"@id":"http://www.w3.org/ns/auth/acl#default","@type":"@id"},agent:{"@id":"http://www.w3.org/ns/auth/acl#agent","@type":"@id","@container":"@set"},agentClass:{"@id":"http://www.w3.org/ns/auth/acl#agentClass","@type":"@id","@container":"@set"},agentGroup:{"@id":"http://www.w3.org/ns/auth/acl#agentGroup","@type":"@id","@container":"@set"},mode:{"@id":"http://www.w3.org/ns/auth/acl#mode","@type":"@id","@container":"@set"},Read:"http://www.w3.org/ns/auth/acl#Read",Write:"http://www.w3.org/ns/auth/acl#Write",Control:"http://www.w3.org/ns/auth/acl#Control",Append:"http://www.w3.org/ns/auth/acl#Append",origin:{"@id":"http://www.w3.org/ns/auth/acl#origin","@type":"@id","@container":"@set"}}},Lc=n(4261),Fc=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=Cu(Ns),n=Cu(Ds),r=e?t:n;return(0,ne.useCallback)(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,i,o,a;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.index,i=t.type,o=t.location,a=function(e){var t,r,a,s=null!==(t=null===(r=e.references)||void 0===r?void 0:r.findIndex((function(e){return e.forClass.some((function(e){return e["@id"]===i}))})))&&void 0!==t?t:-1;-1===s&&(null!==(a=e.references)&&void 0!==a||(e.references=[]),s=e.references.push({"@id":n+"#"+Lc.Z(),type:{"@id":"TypeRegistration"},forClass:[{"@id":i}]})-1);var u,c,l=o.endsWith("/"),f=e.references[s];l?(null!==(u=f.instanceContainer)&&void 0!==u||(f.instanceContainer=[]),f.instanceContainer.push({"@id":o})):(null!==(c=f.instance)&&void 0!==c||(f.instance=[]),f.instance.push({"@id":o}))},e.next=4,r.mutateAsync({uri:n,subject:n,transform:a});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[r])},Mc=function(){var e=ku(Ns),t=Eu();return(0,ne.useCallback)(function(){var n=(0,q.Z)((0,W.Z)().mark((function n(r){var i,o,a;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.webId,o=r.privateTypeIndex,n.next=3,e.mutateAsync({uri:o,data:{"@id":o,type:[{"@id":"TypeIndex"},{"@id":"UnlistedDocument"}]}});case 3:return a="_:mutate a <".concat(iu.InsertDeletePatch,">; <").concat(iu.inserts,"> { <").concat(i,"> <").concat(iu.privateTypeIndex,"> <").concat(o,">. }."),n.next=6,t.mutateAsync({uri:i,patch:a});case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t])},jc=function(){var e=ku(Ms),t=ku(Rc),n=Ac(dn);return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s,u,c;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.uri,a=i.webId,s=i.communityId,u=Io(o),r.next=4,e.mutateAsync({uri:o,data:{"@id":a,memberOf:{"@id":s},storage2:{"@id":u}}});case 4:return r.next=6,No(u);case 6:return c=r.sent,r.next=9,t.mutateAsync({uri:c,data:[{"@id":c+"#owner",type:{"@id":"Authorization"},accessTo:[{"@id":u}],default:{"@id":u},agent:[{"@id":a}],mode:[{"@id":Xs.Read},{"@id":Xs.Write},{"@id":Xs.Control}]},{"@id":c+"#reader",type:{"@id":"Authorization"},accessTo:[{"@id":u}],default:{"@id":u},agentGroup:n.groups.map((function(e){return{"@id":e}})),mode:[{"@id":Xs.Read}]}]});case 9:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[n.groups,t,e])},Dc=function(){var e=ku(Ds),t=ku(Rc),n=Eu();return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s,u;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.webId,a=i.publicTypeIndex,r.next=3,e.mutateAsync({uri:a,method:"PUT",data:{"@id":a,type:[{"@id":"TypeIndex"},{"@id":"ListedDocument"}]}});case 3:return r.next=5,No(a);case 5:return s=r.sent,r.next=8,t.mutateAsync({uri:s,method:"PUT",data:[{"@id":s+"#owner",type:{"@id":"Authorization"},agent:[{"@id":o}],accessTo:[{"@id":a}],mode:[{"@id":Xs.Read},{"@id":Xs.Write},{"@id":Xs.Control}]},{"@id":s+"#public",type:{"@id":"Authorization"},agentClass:[{"@id":eu.Agent}],accessTo:[{"@id":a}],mode:[{"@id":Xs.Read}]}]});case 8:return u="_:mutate a <".concat(iu.InsertDeletePatch,">; <").concat(iu.inserts,"> { <").concat(o,"> <").concat(iu.publicTypeIndex,"> <").concat(a,">. }."),r.next=11,n.mutateAsync({uri:o,patch:u});case 11:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e,n])},Nc=function(){var e=function(){var e=se(),t=Eo({mutationFn:function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("/"===(n=t.uri).slice(-1)){e.next=3;break}throw new Error('Container must end with "/", got '.concat(n));case 3:return e.next=5,Fo(n,{method:"PUT",headers:{"content-type":"text/turtle",Link:'<http://www.w3.org/ns/ldp#BasicContainer>; rel="type"',"If-None-Match":"*"}});case 5:return r=e.sent,i=r.headers.get("location"),e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),onSuccess:Tu(e)});return t}(),t=ku(Rc),n=Eu();return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.webId,a=i.inbox,r.next=3,e.mutateAsync({uri:a});case 3:return r.next=5,No(a);case 5:return s=r.sent,r.next=8,t.mutateAsync({uri:s,data:[{"@id":s+"#ControlReadWrite",type:{"@id":"Authorization"},agent:[{"@id":o}],accessTo:[{"@id":a}],default:{"@id":a},mode:[{"@id":Xs.Read},{"@id":Xs.Write},{"@id":Xs.Control}]},{"@id":s+"#Append",type:{"@id":"Authorization"},agentClass:[{"@id":Xs.AuthenticatedAgent}],accessTo:[{"@id":a}],default:{"@id":a},mode:[{"@id":Xs.Append}]}]});case 8:return r.next=10,n.mutateAsync({uri:o,patch:"_:mutate a <".concat(iu.InsertDeletePatch,">; <").concat(iu.inserts,"> { <").concat(o,"> <").concat(tu.inbox,"> <").concat(a,">. }.")});case 10:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e,n])},Uc=function(e){var n=(0,ne.useState)([Io(e)]),r=(0,t.Z)(n,2),i=r[0],o=r[1],a=(0,ne.useState)(),s=(0,t.Z)(a,2),u=s[0],c=s[1],l=bu(i),f=(0,ne.useMemo)((function(){return l.map((function(e){var t;return null===(t=e.data)||void 0===t?void 0:t.response.headers.get("Link")}))}),[l]);(0,ne.useEffect)((function(){var e=f.findIndex((function(e){return null===e||void 0===e?void 0:e.includes(ou.Storage)}));e>-1?c(i[e]):l.every((function(e){return e.isSuccess||e.isError}))&&o((function(e){var t=(0,zs.minBy)(e,(function(e){return e.length}));if(t){var n=Lo(t);if(!e.includes(n))return[].concat((0,Y.Z)(e),[n])}return e}))}),[f,i,l]);var d=!l.every((function(e){return e.isSuccess||e.isError}))||l.length<i.length;return[u,d]},Zc=function(e){var n,r=e.isMember,i=e.isPublicTypeIndex,o=e.isPrivateTypeIndex,a=e.isHospexProfile,s=e.isInbox,u=e.personalHospexDocuments,c=e.publicTypeIndexes,l=e.privateTypeIndexes,f=e.inboxes,d=yc(),h=function(){var e=Mc(),t=Dc(),n=Nc(),r=jc(),i=Fc();return(0,ne.useCallback)(function(){var o=(0,q.Z)((0,W.Z)().mark((function o(a,s){var u,c,l,f,d;return(0,W.Z)().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(u=s.person,c=s.publicTypeIndex,l=s.privateTypeIndex,f=s.hospexDocument,d=s.inbox,!a.includes("createHospexProfile")){o.next=4;break}return o.next=4,r({uri:f,webId:u,communityId:dn});case 4:if(!a.includes("createPrivateTypeIndex")){o.next=7;break}return o.next=7,e({webId:u,privateTypeIndex:l});case 7:if(!a.includes("createPublicTypeIndex")){o.next=10;break}return o.next=10,t({webId:u,publicTypeIndex:c});case 10:if(!a.includes("createInbox")){o.next=13;break}return o.next=13,n({webId:u,inbox:d});case 13:if(!a.includes("createHospexProfile")&&!a.includes("createPublicTypeIndex")){o.next=16;break}return o.next=16,i({index:c,type:fu.PersonalHospexDocument,location:f});case 16:case"end":return o.stop()}}),o)})));return function(e,t){return o.apply(this,arguments)}}(),[r,n,e,t,i])}(),p=function(e){var n,r,i,o=ju(e),a=(0,t.Z)(o,2),s=a[0],u=a[1],c=Uc(e),l=(0,t.Z)(c,1)[0],f=null!==(n=null===s||void 0===s||null===(r=s.storage)||void 0===r?void 0:r.map((function(e){return e["@id"]})))&&void 0!==n?n:[];if(u.isFetched)return null!==(i=f[0])&&void 0!==i?i:l}(null!==(n=d.webId)&&void 0!==n?n:""),v=Ac(dn),g=function(){var e=Eu();return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.person,i=n.group,o="_:mutate a <".concat(iu.InsertDeletePatch,">;\n        <").concat(iu.inserts,"> { <").concat(i,"> <").concat(au.hasMember,"> <").concat(r,">. } ."),t.next=4,e.mutateAsync({uri:i,patch:o});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),y=(0,ne.useState)(!1),m=(0,t.Z)(y,2),w=m[0],_=m[1],b=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(){var t,n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_(!0),i&&o&&a&&s){e.next=16;break}if(t=[],i||t.push("createPublicTypeIndex"),o||t.push("createPrivateTypeIndex"),a||t.push("createHospexProfile"),s||t.push("createInbox"),d.webId){e.next=9;break}throw new Error("not signed in");case 9:if(!i||c[0]){e.next=11;break}throw new Error("existing public type index not found");case 11:if(!o||l[0]){e.next=13;break}throw new Error("existing private type index not found");case 13:return n={person:d.webId,publicTypeIndex:i?c[0]:"".concat(p,"settings/publicTypeIndex.ttl"),privateTypeIndex:o?l[0]:"".concat(p,"settings/privateTypeIndex.ttl"),inbox:s?f[0]:"".concat(p,"inbox/"),hospexDocument:a?u[0]:"".concat(p,"hospex/sleepy-bike/card")},e.next=16,h(t,n);case 16:if(r){e.next=19;break}return e.next=19,g({person:d.webId,group:v.groups[0]});case 19:_(!1);case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return w?(0,aa.jsx)(gc,{children:"Preparing your Pod..."}):p?(0,aa.jsxs)("div",{children:[(0,aa.jsx)("header",{children:"Welcome to sleepy.bike!"}),(0,aa.jsx)("div",{children:"We would like to set up your Pod:"}),(0,aa.jsxs)("ul",{children:[(0,aa.jsx)("li",{children:!r&&"join community ".concat(dn)}),(0,aa.jsx)("li",{children:!i&&"create public type index ".concat(p+"settings/publicTypeIndex.ttl")}),(0,aa.jsx)("li",{children:!o&&"create private type index ".concat(p+"settings/privateTypeIndex.ttl")}),(0,aa.jsx)("li",{children:!s&&"create inbox ".concat(p+"inbox/")}),(0,aa.jsx)("li",{children:!a&&"setup hospex document and storage ".concat(p+"hospex/sleepy-bike/card")})]}),(0,aa.jsx)(Aa,{primary:!0,onClick:function(){return b()},children:"Continue!"})]}):(0,aa.jsx)(gc,{children:"Searching your storage..."})},Bc=function(){var n,r=Xi(nn),i=Tc(null!==(n=r.webId)&&void 0!==n?n:"",null!==dn&&void 0!==dn?dn:""),o=(0,zs.omit)(i,["publicTypeIndexes","privateTypeIndexes","personalHospexDocuments"]),a=Object.values(i).every((function(e){return e}));if(a)return(0,aa.jsx)(zi,{});var s=Object.entries(o).filter((function(e){return void 0===(0,t.Z)(e,2)[1]})).map((function(e){return(0,t.Z)(e,1)[0]}));return Object.values(i).some((function(e){return void 0===e}))?(0,aa.jsxs)(gc,{children:["Checking ",s.join(", ")]}):(0,aa.jsx)(Zc,(0,e.Z)({},i))},Hc=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xu(t);case 2:return n=e.sent,r=n.data,i=(0,Os.createLdoDataset)(r).usingType(Ls).fromSubject(t),e.abrupt("return",i.oidcIssuer.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]})));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),zc=["name"],Kc=["_f"],Vc=["_f"],Wc=function(e){return"checkbox"===e.type},qc=function(e){return e instanceof Date},Gc=function(e){return null==e},Jc=function(e){return"object"===typeof e},Qc=function(e){return!Gc(e)&&!Array.isArray(e)&&Jc(e)&&!qc(e)},Yc=function(e){return Qc(e)&&e.target?Wc(e.target)?e.target.checked:e.target.value:e},Xc=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},$c=function(e){return Array.isArray(e)?e.filter(Boolean):[]},el=function(e){return void 0===e},tl=function(e,t,n){if(!t||!Qc(e))return n;var r=$c(t.split(/[,[\].]+?/)).reduce((function(e,t){return Gc(e)?e:e[t]}),e);return el(r)||r===e?el(e[t])?n:e[t]:r},nl="blur",rl="focusout",il="change",ol="onBlur",al="onChange",sl="onSubmit",ul="onTouched",cl="all",ll="max",fl="min",dl="maxLength",hl="minLength",pl="pattern",vl="required",gl="validate",yl=ne.createContext(null),ml=function(){return ne.useContext(yl)},wl=function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={defaultValues:t._defaultValues},o=function(o){Object.defineProperty(i,o,{get:function(){var i=o;return t._proxyFormState[i]!==cl&&(t._proxyFormState[i]=!r||cl),n&&(n[i]=!0),e[i]}})};for(var a in e)o(a);return i},_l=function(e){return Qc(e)&&!Object.keys(e).length},bl=function(e,t,n,r){n(e);e.name;var i=(0,to.Z)(e,zc);return _l(i)||Object.keys(i).length>=Object.keys(t).length||Object.keys(i).find((function(e){return t[e]===(!r||cl)}))},xl=function(e){return Array.isArray(e)?e:[e]},Sl=function(e,t,n){return n&&t?e===t:!e||!t||e===t||xl(e).some((function(e){return e&&(e.startsWith(t)||t.startsWith(e))}))};function kl(e){var t=ne.useRef(e);t.current=e,ne.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.next});return function(){n&&n.unsubscribe()}}),[e.disabled])}var El=function(e){return"string"===typeof e},Cl=function(e,t,n,r,i){return El(e)?(r&&t.watch.add(e),tl(n,e,i)):Array.isArray(e)?e.map((function(e){return r&&t.watch.add(e),tl(n,e)})):(r&&(t.watchAll=!0),n)},Pl="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Al(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(Pl&&(e instanceof Blob||e instanceof FileList)||!n&&!Qc(e))return e;if(t=n?[]:{},Array.isArray(e)||function(e){var t=e.constructor&&e.constructor.prototype;return Qc(t)&&t.hasOwnProperty("isPrototypeOf")}(e))for(var r in e)t[r]=Al(e[r]);else t=e}return t}function Tl(n){var r=ml(),i=n.name,o=n.control,a=void 0===o?r.control:o,s=n.shouldUnregister,u=Xc(a._names.array,i),c=function(e){var n=ml(),r=e||{},i=r.control,o=void 0===i?n.control:i,a=r.name,s=r.defaultValue,u=r.disabled,c=r.exact,l=ne.useRef(a);l.current=a,kl({disabled:u,subject:o._subjects.watch,next:function(e){Sl(l.current,e.name,c)&&p(Al(Cl(l.current,o._names,e.values||o._formValues,!1,s)))}});var f=ne.useState(o._getWatch(a,s)),d=(0,t.Z)(f,2),h=d[0],p=d[1];return ne.useEffect((function(){return o._removeUnmounted()})),h}({control:a,name:i,defaultValue:tl(a._formValues,i,tl(a._defaultValues,i,n.defaultValue)),exact:!0}),l=function(n){var r=ml(),i=n||{},o=i.control,a=void 0===o?r.control:o,s=i.disabled,u=i.name,c=i.exact,l=ne.useState(a._formState),f=(0,t.Z)(l,2),d=f[0],h=f[1],p=ne.useRef(!0),v=ne.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=ne.useRef(u);return g.current=u,kl({disabled:s,next:function(t){return p.current&&Sl(g.current,t.name,c)&&bl(t,v.current,a._updateFormState)&&h((0,e.Z)((0,e.Z)({},a._formState),t))},subject:a._subjects.state}),ne.useEffect((function(){p.current=!0;var e=a._proxyFormState.isDirty&&a._getDirty();return e!==a._formState.isDirty&&a._subjects.state.next({isDirty:e}),v.current.isValid&&a._updateValid(!0),function(){p.current=!1}}),[a]),wl(d,a,v.current,!1)}({control:a,name:i}),f=ne.useRef(a.register(i,(0,e.Z)((0,e.Z)({},n.rules),{},{value:c})));return ne.useEffect((function(){var e=function(e,t){var n=tl(a._fields,e);n&&(n._f.mount=t)};return e(i,!0),function(){var t=a._options.shouldUnregister||s;(u?t&&!a._stateFlags.action:t)?a.unregister(i):e(i,!1)}}),[i,a,u,s]),{field:{name:i,value:c,onChange:ne.useCallback((function(e){return f.current.onChange({target:{value:Yc(e),name:i},type:il})}),[i]),onBlur:ne.useCallback((function(){return f.current.onBlur({target:{value:tl(a._formValues,i),name:i},type:nl})}),[i,a]),ref:function(e){var t=tl(a._fields,i);t&&e&&(t._f.ref={focus:function(){return e.focus()},select:function(){return e.select()},setCustomValidity:function(t){return e.setCustomValidity(t)},reportValidity:function(){return e.reportValidity()}})}},formState:l,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:function(){return!!tl(l.errors,i)}},isDirty:{enumerable:!0,get:function(){return!!tl(l.dirtyFields,i)}},isTouched:{enumerable:!0,get:function(){return!!tl(l.touchedFields,i)}},error:{enumerable:!0,get:function(){return tl(l.errors,i)}}})}}var Ol=function(e){return e.render(Tl(e))},Il=function(t,n,r,i,o){return n?(0,e.Z)((0,e.Z)({},r[t]),{},{types:(0,e.Z)((0,e.Z)({},r[t]&&r[t].types?r[t].types:{}),{},(0,Mn.Z)({},i,o||!0))}):{}},Rl=function(e){return/^\w*$/.test(e)},Ll=function(e){return $c(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function Fl(e,t,n){for(var r=-1,i=Rl(t)?[t]:Ll(t),o=i.length,a=o-1;++r<o;){var s=i[r],u=n;if(r!==a){var c=e[s];u=Qc(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var Ml=function e(t,n,r){var i,o=(0,Hn.Z)(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=tl(t,a);if(s){var u=s._f,c=(0,to.Z)(s,Kc);if(u&&n(u.name)){if(u.ref.focus){u.ref.focus();break}if(u.refs&&u.refs[0].focus){u.refs[0].focus();break}}else Qc(c)&&e(c,n)}}}catch(l){o.e(l)}finally{o.f()}},jl=function(e){return{isOnSubmit:!e||e===sl,isOnBlur:e===ol,isOnChange:e===al,isOnAll:e===cl,isOnTouch:e===ul}},Dl=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||(0,Y.Z)(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))},Nl=function(e,t,n){var r=$c(tl(e,n));return Fl(r,"root",t[n]),Fl(e,n,r),e},Ul=function(e){return"boolean"===typeof e},Zl=function(e){return"file"===e.type},Bl=function(e){return"function"===typeof e},Hl=function(e){if(!Pl)return!1;var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},zl=function(e){return El(e)||ne.isValidElement(e)},Kl=function(e){return"radio"===e.type},Vl=function(e){return e instanceof RegExp},Wl={value:!1,isValid:!1},ql={value:!0,isValid:!0},Gl=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!el(e[0].attributes.value)?el(e[0].value)||""===e[0].value?ql:{value:e[0].value,isValid:!0}:ql:Wl}return Wl},Jl={isValid:!1,value:null},Ql=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),Jl):Jl};function Yl(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(zl(e)||Array.isArray(e)&&e.every(zl)||Ul(e)&&!e)return{type:n,message:zl(e)?e:"",ref:t}}var Xl=function(e){return Qc(e)&&!Vl(e)?e:{value:e,message:""}},$l=function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n,r,i,o,a){var s,u,c,l,f,d,h,p,v,g,y,m,w,_,b,x,S,k,E,C,P,A,T,O,I,R,L,F,M,j,D,N,U,Z,B,H,z,K,V,q,G,J,Q,Y,X,$,ee,te;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=n._f,u=s.ref,c=s.refs,l=s.required,f=s.maxLength,d=s.minLength,h=s.min,p=s.max,v=s.pattern,g=s.validate,y=s.name,m=s.valueAsNumber,w=s.mount,_=s.disabled,b=tl(r,y),w&&!_){t.next=4;break}return t.abrupt("return",{});case 4:if(x=c?c[0]:u,S=function(e){o&&x.reportValidity&&(x.setCustomValidity(Ul(e)?"":e||""),x.reportValidity())},k={},E=Kl(u),C=Wc(u),P=E||C,A=(m||Zl(u))&&el(u.value)&&el(b)||Hl(u)&&""===u.value||""===b||Array.isArray(b)&&!b.length,T=Il.bind(null,y,i,k),O=function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dl,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hl,a=t?n:r;k[y]=(0,e.Z)({type:t?i:o,message:a,ref:u},T(t?i:o,a))},!(a?!Array.isArray(b)||!b.length:l&&(!P&&(A||Gc(b))||Ul(b)&&!b||C&&!Gl(c).isValid||E&&!Ql(c).isValid))){t.next=20;break}if(I=zl(l)?{value:!!l,message:l}:Xl(l),R=I.value,L=I.message,!R){t.next=20;break}if(k[y]=(0,e.Z)({type:vl,message:L,ref:x},T(vl,L)),i){t.next=20;break}return S(L),t.abrupt("return",k);case 20:if(A||Gc(h)&&Gc(p)){t.next=29;break}if(j=Xl(p),D=Xl(h),Gc(b)||isNaN(b)?(U=u.valueAsDate||new Date(b),Z=function(e){return new Date((new Date).toDateString()+" "+e)},B="time"==u.type,H="week"==u.type,El(j.value)&&b&&(F=B?Z(b)>Z(j.value):H?b>j.value:U>new Date(j.value)),El(D.value)&&b&&(M=B?Z(b)<Z(D.value):H?b<D.value:U<new Date(D.value))):(N=u.valueAsNumber||(b?+b:b),Gc(j.value)||(F=N>j.value),Gc(D.value)||(M=N<D.value)),!F&&!M){t.next=29;break}if(O(!!F,j.message,D.message,ll,fl),i){t.next=29;break}return S(k[y].message),t.abrupt("return",k);case 29:if(!f&&!d||A||!(El(b)||a&&Array.isArray(b))){t.next=39;break}if(z=Xl(f),K=Xl(d),V=!Gc(z.value)&&b.length>z.value,q=!Gc(K.value)&&b.length<K.value,!V&&!q){t.next=39;break}if(O(V,z.message,K.message),i){t.next=39;break}return S(k[y].message),t.abrupt("return",k);case 39:if(!v||A||!El(b)){t.next=46;break}if(G=Xl(v),J=G.value,Q=G.message,!Vl(J)||b.match(J)){t.next=46;break}if(k[y]=(0,e.Z)({type:pl,message:Q,ref:u},T(pl,Q)),i){t.next=46;break}return S(Q),t.abrupt("return",k);case 46:if(!g){t.next=80;break}if(!Bl(g)){t.next=59;break}return t.next=50,g(b,r);case 50:if(Y=t.sent,!(X=Yl(Y,x))){t.next=57;break}if(k[y]=(0,e.Z)((0,e.Z)({},X),T(gl,X.message)),i){t.next=57;break}return S(X.message),t.abrupt("return",k);case 57:t.next=80;break;case 59:if(!Qc(g)){t.next=80;break}$={},t.t0=(0,W.Z)().keys(g);case 62:if((t.t1=t.t0()).done){t.next=76;break}if(ee=t.t1.value,_l($)||i){t.next=66;break}return t.abrupt("break",76);case 66:return t.t2=Yl,t.next=69,g[ee](b,r);case 69:t.t3=t.sent,t.t4=x,t.t5=ee,(te=(0,t.t2)(t.t3,t.t4,t.t5))&&($=(0,e.Z)((0,e.Z)({},te),T(ee,te.message)),S(te.message),i&&(k[y]=$)),t.next=62;break;case 76:if(_l($)){t.next=80;break}if(k[y]=(0,e.Z)({ref:x},$),i){t.next=80;break}return t.abrupt("return",k);case 80:return S(!0),t.abrupt("return",k);case 82:case"end":return t.stop()}}),t)})));return function(e,n,r,i,o){return t.apply(this,arguments)}}();function ef(e,t){var n=Array.isArray(t)?t:Rl(t)?[t]:Ll(t),r=1===n.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=el(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,o=n[i];return r&&delete r[o],0!==i&&(Qc(r)&&_l(r)||Array.isArray(r)&&function(e){for(var t in e)if(!el(e[t]))return!1;return!0}(r))&&ef(e,n.slice(0,-1)),e}function tf(){var e=[];return{get observers(){return e},next:function(t){var n,r=(0,Hn.Z)(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var nf=function(e){return Gc(e)||!Jc(e)};function rf(e,t){if(nf(e)||nf(t))return e===t;if(qc(e)&&qc(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],s=e[a];if(!r.includes(a))return!1;if("ref"!==a){var u=t[a];if(qc(s)&&qc(u)||Qc(s)&&Qc(u)||Array.isArray(s)&&Array.isArray(u)?!rf(s,u):s!==u)return!1}}return!0}var of=function(e){return"select-multiple"===e.type},af=function(e){return Kl(e)||Wc(e)},sf=function(e){return Hl(e)&&e.isConnected},uf=function(e){for(var t in e)if(Bl(e[t]))return!0;return!1};function cf(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(Qc(e)||n)for(var r in e)Array.isArray(e[r])||Qc(e[r])&&!uf(e[r])?(t[r]=Array.isArray(e[r])?[]:{},cf(e[r],t[r])):Gc(e[r])||(t[r]=!0);return t}function lf(t,n,r){var i=Array.isArray(t);if(Qc(t)||i)for(var o in t)Array.isArray(t[o])||Qc(t[o])&&!uf(t[o])?el(n)||nf(r[o])?r[o]=Array.isArray(t[o])?cf(t[o],[]):(0,e.Z)({},cf(t[o])):lf(t[o],Gc(n)?{}:n[o],r[o]):rf(t[o],n[o])?delete r[o]:r[o]=!0;return r}var ff=function(e,t){return lf(e,t,cf(t))},df=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return el(e)?e:n?""===e?NaN:e?+e:e:r&&El(e)?new Date(e):i?i(e):e};function hf(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return Zl(t)?t.files:Kl(t)?Ql(e.refs).value:of(t)?(0,Y.Z)(t.selectedOptions).map((function(e){return e.value})):Wc(t)?Gl(e.refs).value:df(el(t.value)?e.ref.value:t.value,e)}var pf=function(e,t,n,r){var i,o={},a=(0,Hn.Z)(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=tl(t,s);u&&Fl(o,s,u._f)}}catch(c){a.e(c)}finally{a.f()}return{criteriaMode:n,names:(0,Y.Z)(e),fields:o,shouldUseNativeValidation:r}},vf=function(e){return el(e)?e:Vl(e)?e.source:Qc(e)?Vl(e.value)?e.value.source:e.value:e},gf=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function yf(e,t,n){var r=tl(e,n);if(r||Rl(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var o=i.join("."),a=tl(t,o),s=tl(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};i.pop()}return{name:n}}var mf=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},wf=function(e,t){return!$c(tl(e,t)).length&&ef(e,t)},_f={mode:sl,reValidateMode:al,shouldFocusError:!0};function bf(){var t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0,i=(0,e.Z)((0,e.Z)({},_f),n),o=n.resetOptions&&n.resetOptions.keepDirtyValues,a={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},s={},u=(Qc(i.defaultValues)||Qc(i.values))&&Al(i.defaultValues||i.values)||{},c=i.shouldUnregister?{}:Al(u),l={action:!1,mount:!1,watch:!1},f={mount:new Set,unMount:new Set,array:new Set,watch:new Set},d=0,h={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:tf(),array:tf(),state:tf()},v=jl(i.mode),g=jl(i.reValidateMode),y=i.criteriaMode===cl,m=function(e){return function(t){clearTimeout(d),d=window.setTimeout(e,t)}},w=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!h.isValid&&!t){e.next=14;break}if(!i.resolver){e.next=9;break}return e.t1=_l,e.next=5,C();case 5:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=12;break;case 9:return e.next=11,A(s,!0);case 11:e.t0=e.sent;case 12:(n=e.t0)!==a.isValid&&p.state.next({isValid:n});case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(e){return h.isValidating&&p.state.next({isValidating:e})},b=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(r&&n){if(l.action=!0,o&&Array.isArray(tl(s,e))){var f=n(tl(s,e),r.argA,r.argB);i&&Fl(s,e,f)}if(o&&Array.isArray(tl(a.errors,e))){var d=n(tl(a.errors,e),r.argA,r.argB);i&&Fl(a.errors,e,d),wf(a.errors,e)}if(h.touchedFields&&o&&Array.isArray(tl(a.touchedFields,e))){var v=n(tl(a.touchedFields,e),r.argA,r.argB);i&&Fl(a.touchedFields,e,v)}h.dirtyFields&&(a.dirtyFields=ff(u,c)),p.state.next({name:e,isDirty:O(e,t),dirtyFields:a.dirtyFields,errors:a.errors,isValid:a.isValid})}else Fl(c,e,t)},x=function(e,t){Fl(a.errors,e,t),p.state.next({errors:a.errors})},S=function(e,t,n,r){var i=tl(s,e);if(i){var o=tl(c,e,el(n)?tl(u,e):n);el(o)||r&&r.defaultChecked||t?Fl(c,e,t?o:hf(i._f)):L(e,o),l.mount&&w()}},k=function(e,t,n,r,i){var o=!1,s=!1,c={name:e};if(!n||r){h.isDirty&&(s=a.isDirty,a.isDirty=c.isDirty=O(),o=s!==c.isDirty);var l=rf(tl(u,e),t);s=tl(a.dirtyFields,e),l?ef(a.dirtyFields,e):Fl(a.dirtyFields,e,!0),c.dirtyFields=a.dirtyFields,o=o||h.dirtyFields&&s!==!l}if(n){var f=tl(a.touchedFields,e);f||(Fl(a.touchedFields,e,n),c.touchedFields=a.touchedFields,o=o||h.touchedFields&&f!==n)}return o&&i&&p.state.next(c),o?c:{}},E=function(r,i,o,s){var u=tl(a.errors,r),c=h.isValid&&Ul(i)&&a.isValid!==i;if(n.delayError&&o?(t=m((function(){return x(r,o)})))(n.delayError):(clearTimeout(d),t=null,o?Fl(a.errors,r,o):ef(a.errors,r)),(o?!rf(u,o):u)||!_l(s)||c){var l=(0,e.Z)((0,e.Z)((0,e.Z)({},s),c&&Ul(i)?{isValid:i}:{}),{},{errors:a.errors,name:r});a=(0,e.Z)((0,e.Z)({},a),l),p.state.next(l)}_(!1)},C=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.resolver(c,i.context,pf(t||f.mount,s,i.criteriaMode,i.shouldUseNativeValidation));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),P=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i,o,s,u;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:if(n=e.sent,r=n.errors,t){i=(0,Hn.Z)(t);try{for(i.s();!(o=i.n()).done;)s=o.value,(u=tl(r,s))?Fl(a.errors,s,u):ef(a.errors,s)}catch(c){i.e(c)}finally{i.f()}}else a.errors=r;return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){var r,o,s,u,l,d,h,p=arguments;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=p.length>2&&void 0!==p[2]?p[2]:{valid:!0},e.t0=(0,W.Z)().keys(t);case 2:if((e.t1=e.t0()).done){e.next=23;break}if(o=e.t1.value,!(s=t[o])){e.next=21;break}if(u=s._f,l=(0,to.Z)(s,Vc),!u){e.next=17;break}return d=f.array.has(u.name),e.next=11,$l(s,c,y,i.shouldUseNativeValidation,d);case 11:if(!(h=e.sent)[u.name]){e.next=16;break}if(r.valid=!1,!n){e.next=16;break}return e.abrupt("break",23);case 16:!n&&(tl(h,u.name)?d?Nl(a.errors,h,u.name):Fl(a.errors,u.name,h[u.name]):ef(a.errors,u.name));case 17:if(e.t2=l,!e.t2){e.next=21;break}return e.next=21,A(l,n,r);case 21:e.next=2;break;case 23:return e.abrupt("return",r.valid);case 24:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),T=function(){var e,t=(0,Hn.Z)(f.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=tl(s,n);r&&(r._f.refs?r._f.refs.every((function(e){return!sf(e)})):!sf(r._f.ref))&&z(n)}}catch(i){t.e(i)}finally{t.f()}f.unMount=new Set},O=function(e,t){return e&&t&&Fl(c,e,t),!rf(N(),u)},I=function(t,n,r){return Cl(t,f,(0,e.Z)({},l.mount?c:el(n)?u:El(t)?(0,Mn.Z)({},t,n):n),r,n)},R=function(e){return $c(tl(l.mount?c:u,e,n.shouldUnregister?tl(u,e,[]):[]))},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=tl(s,e),i=t;if(r){var o=r._f;o&&(!o.disabled&&Fl(c,e,df(t,o)),i=Hl(o.ref)&&Gc(t)?"":t,of(o.ref)?(0,Y.Z)(o.ref.options).forEach((function(e){return e.selected=i.includes(e.value)})):o.refs?Wc(o.ref)?o.refs.length>1?o.refs.forEach((function(e){return(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(i)?!!i.find((function(t){return t===e.value})):i===e.value)})):o.refs[0]&&(o.refs[0].checked=!!i):o.refs.forEach((function(e){return e.checked=e.value===i})):Zl(o.ref)?o.ref.value="":(o.ref.value=i,o.ref.type||p.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&k(e,i,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&D(e)},F=function e(t,n,r){for(var i in n){var o=n[i],a="".concat(t,".").concat(i),u=tl(s,a);!f.array.has(t)&&nf(o)&&(!u||u._f)||qc(o)?L(a,o,r):e(a,o,r)}},M=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=tl(s,e),o=f.array.has(e),a=Al(t);Fl(c,e,a),o?(p.array.next({name:e,values:c}),(h.isDirty||h.dirtyFields)&&n.shouldDirty&&p.state.next({name:e,dirtyFields:ff(u,c),isDirty:O(e,a)})):!i||i._f||Gc(a)?L(e,a,n):F(e,a,n),Dl(e,f)&&p.state.next({}),p.watch.next({name:e}),!l.mount&&r()},j=function(){var n=(0,q.Z)((0,W.Z)().mark((function n(r){var o,u,l,d,m,b,x,S,P,T,O,I,R,L,F,M;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(o=r.target,u=o.name,l=tl(s,u),d=function(){return o.type?hf(l._f):Yc(r)},!l){n.next=45;break}if(x=d(),S=r.type===nl||r.type===rl,P=!gf(l._f)&&!i.resolver&&!tl(a.errors,u)&&!l._f.deps||mf(S,tl(a.touchedFields,u),a.isSubmitted,g,v),T=Dl(u,f,S),Fl(c,u,x),S?(l._f.onBlur&&l._f.onBlur(r),t&&t(0)):l._f.onChange&&l._f.onChange(r),O=k(u,x,S,!1),I=!_l(O)||T,!S&&p.watch.next({name:u,type:r.type}),!P){n.next=17;break}return h.isValid&&w(),n.abrupt("return",I&&p.state.next((0,e.Z)({name:u},T?{}:O)));case 17:if(!S&&T&&p.state.next({}),_(!0),!i.resolver){n.next=31;break}return n.next=22,C([u]);case 22:R=n.sent,L=R.errors,F=yf(a.errors,s,u),M=yf(L,s,F.name||u),m=M.error,u=M.name,b=_l(L),n.next=43;break;case 31:return n.next=33,$l(l,c,y,i.shouldUseNativeValidation);case 33:if(n.t0=u,!(m=n.sent[n.t0])){n.next=39;break}b=!1,n.next=43;break;case 39:if(!h.isValid){n.next=43;break}return n.next=42,A(s,!0);case 42:b=n.sent;case 43:l._f.deps&&D(l._f.deps),E(u,b,m,O);case 45:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),D=function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,o,u,c,l,d=arguments;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(r=d.length>1&&void 0!==d[1]?d[1]:{},c=xl(n),_(!0),!i.resolver){t.next=11;break}return t.next=6,P(el(n)?n:c);case 6:l=t.sent,o=_l(l),u=n?!c.some((function(e){return tl(l,e)})):o,t.next=21;break;case 11:if(!n){t.next=18;break}return t.next=14,Promise.all(c.map(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=tl(s,t),e.next=3,A(n&&n._f?(0,Mn.Z)({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((u=t.sent.every(Boolean))||a.isValid)&&w(),t.next=21;break;case 18:return t.next=20,A(s);case 20:u=o=t.sent;case 21:return p.state.next((0,e.Z)((0,e.Z)((0,e.Z)({},!El(n)||h.isValid&&o!==a.isValid?{}:{name:n}),i.resolver||!n?{isValid:o}:{}),{},{errors:a.errors,isValidating:!1})),r.shouldFocus&&!u&&Ml(s,(function(e){return e&&tl(a.errors,e)}),n?c:f.mount),t.abrupt("return",u);case 24:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(t){var n=(0,e.Z)((0,e.Z)({},u),l.mount?c:{});return el(t)?n:El(t)?tl(n,t):t.map((function(e){return tl(n,e)}))},U=function(e,t){return{invalid:!!tl((t||a).errors,e),isDirty:!!tl((t||a).dirtyFields,e),isTouched:!!tl((t||a).touchedFields,e),error:tl((t||a).errors,e)}},Z=function(e){e&&xl(e).forEach((function(e){return ef(a.errors,e)})),p.state.next({errors:e?a.errors:{}})},B=function(t,n,r){var i=(tl(s,t,{_f:{}})._f||{}).ref;Fl(a.errors,t,(0,e.Z)((0,e.Z)({},n),{},{ref:i})),p.state.next({name:t,errors:a.errors,isValid:!1}),r&&r.shouldFocus&&i&&i.focus&&i.focus()},H=function(e,t){return Bl(e)?p.watch.subscribe({next:function(n){return e(I(void 0,t),n)}}):I(e,t,!0)},z=function(t){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=(0,Hn.Z)(t?xl(t):f.mount);try{for(o.s();!(n=o.n()).done;){var l=n.value;f.mount.delete(l),f.array.delete(l),tl(s,l)&&(r.keepValue||(ef(s,l),ef(c,l)),!r.keepError&&ef(a.errors,l),!r.keepDirty&&ef(a.dirtyFields,l),!r.keepTouched&&ef(a.touchedFields,l),!i.shouldUnregister&&!r.keepDefaultValue&&ef(u,l))}}catch(d){o.e(d)}finally{o.f()}p.watch.next({}),p.state.next((0,e.Z)((0,e.Z)({},a),r.keepDirty?{isDirty:O()}:{})),!r.keepIsValid&&w()},K=function t(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=tl(s,n),a=Ul(r.disabled);return Fl(s,n,(0,e.Z)((0,e.Z)({},o||{}),{},{_f:(0,e.Z)((0,e.Z)({},o&&o._f?o._f:{ref:{name:n}}),{},{name:n,mount:!0},r)})),f.mount.add(n),o?a&&Fl(c,n,r.disabled?void 0:tl(c,n,hf(o._f))):S(n,!0,r.value),(0,e.Z)((0,e.Z)((0,e.Z)({},a?{disabled:r.disabled}:{}),i.shouldUseNativeValidation?{required:!!r.required,min:vf(r.min),max:vf(r.max),minLength:vf(r.minLength),maxLength:vf(r.maxLength),pattern:vf(r.pattern)}:{}),{},{name:n,onChange:j,onBlur:j,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){t(n,r),o=tl(s,n);var c=el(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,d=af(c),h=o._f.refs||[];if(d?h.find((function(e){return e===c})):c===o._f.ref)return;Fl(s,n,{_f:(0,e.Z)((0,e.Z)({},o._f),d?{refs:[].concat((0,Y.Z)(h.filter(sf)),[c],(0,Y.Z)(Array.isArray(tl(u,n))?[{}]:[])),ref:{type:c.type,name:n}}:{ref:c})}),S(n,!1,void 0,c)}else(o=tl(s,n,{}))._f&&(o._f.mount=!1),(i.shouldUnregister||r.shouldUnregister)&&(!Xc(f.array,n)||!l.action)&&f.unMount.add(n)}))})},V=function(){return i.shouldFocusError&&Ml(s,(function(e){return e&&tl(a.errors,e)}),f.mount)},G=function(t,n){return function(){var r=(0,q.Z)((0,W.Z)().mark((function r(o){var u,l,f,d;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o&&(o.preventDefault&&o.preventDefault(),o.persist&&o.persist()),u=Al(c),p.state.next({isSubmitting:!0}),!i.resolver){r.next=13;break}return r.next=6,C();case 6:l=r.sent,f=l.errors,d=l.values,a.errors=f,u=d,r.next=15;break;case 13:return r.next=15,A(s);case 15:if(ef(a.errors,"root"),!_l(a.errors)){r.next=22;break}return p.state.next({errors:{}}),r.next=20,t(u,o);case 20:r.next=26;break;case 22:if(!n){r.next=25;break}return r.next=25,n((0,e.Z)({},a.errors),o);case 25:V();case 26:p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:_l(a.errors),submitCount:a.submitCount+1,errors:a.errors});case 27:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},J=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};tl(s,t)&&(el(n.defaultValue)?M(t,tl(u,t)):(M(t,n.defaultValue),Fl(u,t,n.defaultValue)),n.keepTouched||ef(a.touchedFields,t),n.keepDirty||(ef(a.dirtyFields,t),a.isDirty=n.defaultValue?O(t,tl(u,t)):O()),n.keepError||(ef(a.errors,t),h.isValid&&w()),p.state.next((0,e.Z)({},a)))},Q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=e||u,d=Al(i),v=e&&!_l(e)?d:u;if(t.keepDefaultValues||(u=i),!t.keepValues){if(t.keepDirtyValues||o){var g,y=(0,Hn.Z)(f.mount);try{for(y.s();!(g=y.n()).done;){var m=g.value;tl(a.dirtyFields,m)?Fl(v,m,tl(c,m)):M(m,tl(v,m))}}catch(E){y.e(E)}finally{y.f()}}else{if(Pl&&el(e)){var w,_=(0,Hn.Z)(f.mount);try{for(_.s();!(w=_.n()).done;){var b=w.value,x=tl(s,b);if(x&&x._f){var S=Array.isArray(x._f.refs)?x._f.refs[0]:x._f.ref;if(Hl(S)){var k=S.closest("form");if(k){k.reset();break}}}}}catch(E){_.e(E)}finally{_.f()}}s={}}c=n.shouldUnregister?t.keepDefaultValues?Al(u):{}:d,p.array.next({values:v}),p.watch.next({values:v})}f={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!l.mount&&r(),l.mount=!h.isValid||!!t.keepIsValid,l.watch=!!n.shouldUnregister,p.state.next({submitCount:t.keepSubmitCount?a.submitCount:0,isDirty:t.keepDirty||t.keepDirtyValues?a.isDirty:!(!t.keepDefaultValues||rf(e,u)),isSubmitted:!!t.keepIsSubmitted&&a.isSubmitted,dirtyFields:t.keepDirty||t.keepDirtyValues?a.dirtyFields:t.keepDefaultValues&&e?ff(u,e):{},touchedFields:t.keepTouched?a.touchedFields:{},errors:t.keepErrors?a.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},X=function(e,t){return Q(Bl(e)?e(c):e,t)},$=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=tl(s,e),r=n&&n._f;if(r){var i=r.refs?r.refs[0]:r.ref;i.focus&&(i.focus(),t.shouldSelect&&i.select())}},ee=function(t){a=(0,e.Z)((0,e.Z)({},a),t)};return Bl(i.defaultValues)&&i.defaultValues().then((function(e){X(e,i.resetOptions),p.state.next({isLoading:!1})})),{control:{register:K,unregister:z,getFieldState:U,_executeSchema:C,_focusError:V,_getWatch:I,_getDirty:O,_updateValid:w,_removeUnmounted:T,_updateFieldArray:b,_getFieldArray:R,_reset:Q,_updateFormState:ee,_subjects:p,_proxyFormState:h,get _fields(){return s},get _formValues(){return c},get _stateFlags(){return l},set _stateFlags(e){l=e},get _defaultValues(){return u},get _names(){return f},set _names(e){f=e},get _formState(){return a},set _formState(e){a=e},get _options(){return i},set _options(t){i=(0,e.Z)((0,e.Z)({},i),t)}},trigger:D,register:K,handleSubmit:G,watch:H,setValue:M,getValues:N,reset:X,resetField:J,clearErrors:Z,unregister:z,setError:B,setFocus:$,getFieldState:U}}function xf(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=ne.useRef(),i=ne.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:Bl(n.defaultValues)?void 0:n.defaultValues}),o=(0,t.Z)(i,2),a=o[0],s=o[1];r.current||(r.current=(0,e.Z)((0,e.Z)({},bf(n,(function(){return s((function(t){return(0,e.Z)({},t)}))}))),{},{formState:a}));var u=r.current.control;return u._options=n,kl({subject:u._subjects.state,next:function(t){bl(t,u._proxyFormState,u._updateFormState,!0)&&s((0,e.Z)({},u._formState))}}),ne.useEffect((function(){u._stateFlags.mount||(u._updateValid(),u._stateFlags.mount=!0),u._stateFlags.watch&&(u._stateFlags.watch=!1,u._subjects.state.next({})),u._removeUnmounted()})),ne.useEffect((function(){n.values&&!rf(n.values,u._defaultValues)&&u._reset(n.values,u._options.resetOptions)}),[n.values,u]),ne.useEffect((function(){a.submitCount&&u._focusError()}),[u,a.submitCount]),r.current.formState=wl(a,u),r.current}var Sf=n(7948),kf=n.n(Sf),Ef="SignIn_providers__0sJJc",Cf="SignIn_webIdForm__0gGWd";kf().setAppElement("#root");var Pf=[{name:"solidcommunity.net",url:"https://solidcommunity.net"},{name:"solidweb.me",url:"https://solidweb.me"}],Af=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Hc(t);case 3:if(0!==(n=e.sent).length){e.next=6;break}throw new Error("OIDC issuer not found");case 6:return e.abrupt("return",n[0]);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",t);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Tf=function(){var n=(0,ne.useState)(!1),r=(0,t.Z)(n,2),i=r[0],o=r[1],a=xf(),s=a.register,u=a.handleSubmit,c=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,Qi.login)({oidcIssuer:t,redirectUrl:window.location.href,clientName:"sleepy.bike"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=u(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.webIdOrIssuer,e.next=3,Af(n);case 3:return r=e.sent,e.prev=4,e.next=7,c(r);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),alert("We didn't succeed with redirecting to the issuer. Have you provided correct webId or OIDCIssuer?");case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}());return(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(Aa,{primary:!0,onClick:function(){return o(!0)},children:"Sign in"}),(0,aa.jsx)(kf(),{isOpen:i,shouldCloseOnEsc:!0,shouldCloseOnOverlayClick:!0,onRequestClose:function(){return o(!1)},children:(0,aa.jsxs)("div",{className:Ef,children:["Select your Solid identity provider",Pf.map((function(e){var t=e.name,n=e.url;return(0,aa.jsx)(Aa,{secondary:!0,onClick:function(){return c(n)},children:t},n)})),"or write your own Solid identity provider, or your webId",(0,aa.jsxs)("form",{className:Cf,onSubmit:l,children:[(0,aa.jsx)("input",(0,e.Z)({type:"url",placeholder:"Your webId or provider"},s("webIdOrIssuer",{required:"required"}))),(0,aa.jsx)(Aa,{primary:!0,type:"submit",children:"Continue"})]})]})})]})},Of=function(){return(0,aa.jsxs)("div",{children:[(0,aa.jsx)(Tf,{}),(0,aa.jsx)(Ta,{tertiary:!0,to:"about",children:"Read more"})]})},If=function(){var e=Xi(nn);return void 0===e.isLoggedIn?(0,aa.jsx)(gc,{children:"Authenticating..."}):!1===e.isLoggedIn?(0,aa.jsx)(Of,{}):(0,aa.jsx)(Bc,{})},Rf="PersonBadge_container__FUF6f",Lf=function(e){var n=e.webId,r=e.link,i=Fu(n,dn),o=(0,t.Z)(i,1)[0],a=(0,aa.jsxs)("div",{className:Rf,children:[(0,aa.jsx)(sa,{photo:o.photo,size:1}),null===o||void 0===o?void 0:o.name]});return r?(0,aa.jsx)(ga,{to:"/profile/".concat(encodeURIComponent(n)),children:a}):a},Ff=[["?person",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile",function(e){return e},"?foafProfile",Fs],["?foafProfile","knows","?otherFoafProfile"],["?otherFoafProfile",function(e){return e},"?otherProfile",Ls],["?otherProfile","seeAlso","?otherProfileDocument"],["?otherProfileDocument"]],Mf=function(e){var n=(0,ne.useMemo)((function(){return{person:e}}),[e]),r=Ou(Ff,n),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=(0,ne.useMemo)((function(){return o.foafProfile.flatMap((function(t){var n,r;return null!==(n=null===(r=t.knows)||void 0===r?void 0:r.map((function(t){var n,r=null===(n=t.knows)||void 0===n?void 0:n.some((function(t){return t["@id"]===e}));return{webId:t["@id"],status:r?"confirmed":"request_sent"}})))&&void 0!==n?n:[]}))}),[e,o.foafProfile]),u=Df(e),c=(0,t.Z)(u,2),l=c[0],f=c[1];return(0,ne.useMemo)((function(){return[s.concat(l),a,f]}),[s,f,l,a])},jf=[["?me",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","inbox","?inbox"],["?inbox","contains","?notification"],["?notification","type","Invite"],["?notification","object","?relationship"],["?notification",function(e){var t,n,r,i,o,a,s,u;return(null===(t=e.object)||void 0===t||null===(n=t.subject)||void 0===n?void 0:n["@id"])===(null===(r=e.actor)||void 0===r?void 0:r["@id"])&&(null===(i=e.object)||void 0===i||null===(o=i.object)||void 0===o?void 0:o["@id"])===(null===(a=e.target)||void 0===a?void 0:a["@id"])&&"knows"===(null===(s=e.object)||void 0===s||null===(u=s.relationship)||void 0===u?void 0:u["@id"])}]],Df=function(e){var n=Ou(jf,{me:e}),r=(0,t.Z)(n,2),i=r[0],o=r[1],a=(0,ne.useMemo)((function(){return i.notification.map((function(e){var t;return{webId:null===(t=e.actor)||void 0===t?void 0:t["@id"],status:"request_received",notification:e["@id"],invitation:e.content2}}))}),[i.notification]);return(0,ne.useMemo)((function(){return[a,o]}),[o,a])},Nf=function(){var e=ku(Hs);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.inbox,i=n.me,o=n.other,a=n.message,t.next=3,e.mutateAsync({uri:r,method:"POST",data:{"@id":"",type:[{"@id":"Invite"}],content2:a,actor:{"@id":i},object:{type:{"@id":"Relationship"},subject:{"@id":i},relationship:{"@id":"knows"},object:{"@id":o}},target:{"@id":o},updated:(new Date).toISOString()}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])},Uf=function(){var e=Eu();return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.me,i=n.other,t.next=3,e.mutateAsync({uri:r,patch:"\n        @prefix foaf: <http://xmlns.com/foaf/0.1/>.\n        @prefix solid: <http://www.w3.org/ns/solid/terms#>.\n        _:mutation a solid:InsertDeletePatch;\n          solid:inserts {\n            <".concat(r,"> foaf:knows <").concat(i,">.\n          } .")});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])},Zf=function(){var e=function(e){var t=se();return Eo({mutationFn:function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s,u,c,l,f,d,h;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.uri,i=n.match,o=n.transform,a=n.language,s=void 0===a?"en":a,t.next=3,Fo(r);case 3:if(u=t.sent,c="",!u.ok){t.next=9;break}return t.next=8,u.text();case 8:c=t.sent;case 9:return t.next=11,(0,Os.parseRdf)(c,{baseIRI:r});case 11:return l=t.sent,f=l.usingType(e),d=i(f),(0,Os.setLanguagePreferences)(s).using(d),(0,Os.startTransaction)(d),o(d),t.next=19,gu(d);case 19:return h=t.sent,t.next=22,Fo(r,{method:"PATCH",body:h,headers:{"content-type":"text/n3"}});case 22:return t.abrupt("return",t.sent);case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),onSuccess:Tu(t,(function(e){return 201===e.status}))})}(Rc);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.person,i=n.hospexContainer,t.next=3,No(i);case 3:return o=t.sent,t.next=6,e.mutateAsync({uri:o,match:function(e){var t=e.matchSubject(ru.type,Xs.Authorization).find((function(e){var t;return 1===e.accessTo.length&&e.accessTo[0]["@id"]===i&&1===(null===(t=e.mode)||void 0===t?void 0:t.length)&&"Read"===e.mode[0]["@id"]}));if(!t)throw new Error("subject not found");return t},transform:function(e){var t;null!==(t=e.agent)&&void 0!==t||(e.agent=[]),e.agent.push({"@id":r})}});case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])},Bf={contact:"Contacts_contact__lAgux",status:"Contacts_status__Y6B6d",contactList:"Contacts_contactList__kf3hJ"},Hf=function(e){var n=e.webId,r=yc(),i=Mf(r.webId),o=(0,t.Z)(i,1)[0];if(!o)return(0,aa.jsx)(gc,{children:"loading..."});var a=o.find((function(e){return e.webId===n}));return a?"confirmed"===a.status?(0,aa.jsx)(aa.Fragment,{children:"Contact exists"}):"request_sent"===a.status?(0,aa.jsx)(aa.Fragment,{children:"Contact request sent"}):"request_received"===a.status?(0,aa.jsx)(zf,{contact:a}):null:(0,aa.jsx)(Kf,{webId:n})},zf=function(e){var n=e.contact,r=e.children,i=(0,ne.useState)(!1),o=(0,t.Z)(i,2),a=o[0],s=o[1],u=yc(),c=function(){var e=Pu(),t=Uf(),n=Zf();return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s,u;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.me,a=i.other,s=i.notification,u=i.hospexContainer,r.next=3,t({me:o,other:a});case 3:return r.next=5,e.mutateAsync({uri:s});case 5:return r.next=7,n({person:a,hospexContainer:u});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e,n])}(),l=function(){var e=Pu();return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.notification,t.next=3,e.mutateAsync({uri:r});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),f=Tc(u.webId,dn),d=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(){var t;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.webId){e.next=2;break}throw new Error("unauthenticated");case 2:if(t=Io(f.personalHospexDocuments[0])){e.next=5;break}throw new Error("hospex container not set up (too soon?)");case 5:return e.next=7,c({me:u.webId,other:n.webId,notification:n.notification,hospexContainer:t});case 7:s(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.webId){e.next=2;break}throw new Error("unauthenticated");case 2:return e.next=4,l({notification:n.notification});case 4:s(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(Aa,{primary:!0,onClick:function(){return s(!0)},children:null!==r&&void 0!==r?r:"See contact invitation"}),(0,aa.jsxs)(kf(),{isOpen:a,onRequestClose:function(){return s(!1)},children:[(0,aa.jsx)("div",{children:n.invitation}),(0,aa.jsx)(Aa,{primary:!0,onClick:d,disabled:0===f.personalHospexDocuments.length,children:"Accept"}),(0,aa.jsx)(Aa,{secondary:!0,onClick:h,children:"Ignore"})]})]})},Kf=function(e){var n=e.webId,r=(0,ne.useState)(!1),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=yc(),u=function(){var e=Uf(),t=Zf(),n=Nf();return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s,u,c;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.me,a=i.other,s=i.hospexContainer,u=i.inbox,c=i.message,r.next=3,e({me:o,other:a});case 3:return r.next=5,n({inbox:u,me:o,other:a,message:c});case 5:return r.next=7,t({person:a,hospexContainer:s});case 7:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[e,n,t])}(),c=Tc(s.webId,dn),l=Tc(n,dn),f=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var r,i,o;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.invitation,s.webId){e.next=3;break}throw new Error("unauthenticated");case 3:if(i=Io(c.personalHospexDocuments[0])){e.next=6;break}throw new Error("hospex container not found (too soon?)");case 6:if(o=Io(l.inboxes[0])){e.next=9;break}throw new Error("inbox not found (too soon?)");case 9:return e.next=11,u({me:s.webId,other:n,message:r,hospexContainer:i,inbox:o});case 11:a(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a(!1);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(Aa,{secondary:!0,onClick:function(){a(!0)},disabled:0===c.personalHospexDocuments.length||0===l.inboxes.length,children:"Add to my contacts"}),(0,aa.jsx)(kf(),{isOpen:o,onRequestClose:function(){return a(!1)},children:(0,aa.jsx)(Vf,{onSubmit:f,onCancel:d})})]})},Vf=function(t){var n=t.onSubmit,r=t.onCancel,i=xf({defaultValues:{invitation:"Hi! I'd like to add you as a contact!"}}),o=i.register,a=(0,i.handleSubmit)(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());return(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h1",{children:"Add person as a contact"}),(0,aa.jsx)("div",{children:"Please invite only people you know personally."}),(0,aa.jsxs)("form",{onSubmit:a,onReset:r,children:[(0,aa.jsx)("textarea",(0,e.Z)({},o("invitation"))),(0,aa.jsx)(Aa,{primary:!0,type:"submit",children:"Send contact invitation"}),(0,aa.jsx)(Aa,{secondary:!0,type:"reset",children:"Cancel"})]})]})},Wf=function(){var e=Oi().id,n=yc(),r=Mf(e),i=(0,t.Z)(r,1)[0];return n.webId?i?(0,aa.jsxs)("div",{children:[(0,aa.jsxs)("h1",{children:["Contacts of ",(0,aa.jsx)(Lf,{webId:e,link:!0})]}),(0,aa.jsx)("ul",{className:Bf.contactList,children:i.filter((function(t){return e===n.webId||"confirmed"===t.status})).map((function(e){return(0,aa.jsx)("li",{children:(0,aa.jsx)(qf,{contact:e})},"notification"in e?e.notification:e.webId)}))})]}):(0,aa.jsx)(gc,{children:"fetching contacts"}):(0,aa.jsx)(gc,{children:"authenticating"})},qf=function(e){var t=e.contact;return(0,aa.jsxs)("div",{className:Bf.contact,children:[(0,aa.jsx)(Lf,{webId:t.webId,link:!0}),(0,aa.jsx)("span",{className:Bf.spacer}),"request_sent"===t.status&&(0,aa.jsx)("span",{className:Bf.status,children:"pending"}),"request_received"===t.status&&(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)(zf,{contact:t,children:"process"}),(0,aa.jsx)("span",{className:Bf.status,children:"pending"})]})]})};function Gf(e){return Gf="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gf(e)}function Jf(e){var t=function(e,t){if("object"!==Gf(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Gf(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Gf(t)?t:String(t)}function Qf(e,t,n){return(t=Jf(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yf(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xf(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Yf(Object(n),!0).forEach((function(t){Qf(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Yf(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ed(e,t){if(e){if("string"===typeof e)return $f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$f(e,t):void 0}}function td(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o,a,s=[],u=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=o.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(l){c=!0,i=l}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return s}}(e,t)||ed(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function nd(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var rd=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function id(){return id=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},id.apply(this,arguments)}function od(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Jf(r.key),r)}}function ad(e,t){return ad=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ad(e,t)}function sd(e){return sd=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},sd(e)}function ud(e,t){if(t&&("object"===Gf(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function cd(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sd(e);if(t){var i=sd(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ud(this,n)}}function ld(e){return function(e){if(Array.isArray(e))return $f(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||ed(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var fd=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(r){0}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){return e.parentNode&&e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0},e}(),dd=Math.abs,hd=String.fromCharCode,pd=Object.assign;function vd(e){return e.trim()}function gd(e,t,n){return e.replace(t,n)}function yd(e,t){return e.indexOf(t)}function md(e,t){return 0|e.charCodeAt(t)}function wd(e,t,n){return e.slice(t,n)}function _d(e){return e.length}function bd(e){return e.length}function xd(e,t){return t.push(e),e}var Sd=1,kd=1,Ed=0,Cd=0,Pd=0,Ad="";function Td(e,t,n,r,i,o,a){return{value:e,root:t,parent:n,type:r,props:i,children:o,line:Sd,column:kd,length:a,return:""}}function Od(e,t){return pd(Td("",null,null,"",null,null,0),e,{length:-e.length},t)}function Id(){return Pd=Cd>0?md(Ad,--Cd):0,kd--,10===Pd&&(kd=1,Sd--),Pd}function Rd(){return Pd=Cd<Ed?md(Ad,Cd++):0,kd++,10===Pd&&(kd=1,Sd++),Pd}function Ld(){return md(Ad,Cd)}function Fd(){return Cd}function Md(e,t){return wd(Ad,e,t)}function jd(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Dd(e){return Sd=kd=1,Ed=_d(Ad=e),Cd=0,[]}function Nd(e){return Ad="",e}function Ud(e){return vd(Md(Cd-1,Hd(91===e?e+2:40===e?e+1:e)))}function Zd(e){for(;(Pd=Ld())&&Pd<33;)Rd();return jd(e)>2||jd(Pd)>3?"":" "}function Bd(e,t){for(;--t&&Rd()&&!(Pd<48||Pd>102||Pd>57&&Pd<65||Pd>70&&Pd<97););return Md(e,Fd()+(t<6&&32==Ld()&&32==Rd()))}function Hd(e){for(;Rd();)switch(Pd){case e:return Cd;case 34:case 39:34!==e&&39!==e&&Hd(Pd);break;case 40:41===e&&Hd(e);break;case 92:Rd()}return Cd}function zd(e,t){for(;Rd()&&e+Pd!==57&&(e+Pd!==84||47!==Ld()););return"/*"+Md(t,Cd-1)+"*"+hd(47===e?e:Rd())}function Kd(e){for(;!jd(Ld());)Rd();return Md(e,Cd)}var Vd="-ms-",Wd="-moz-",qd="-webkit-",Gd="comm",Jd="rule",Qd="decl",Yd="@keyframes";function Xd(e,t){for(var n="",r=bd(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function $d(e,t,n,r){switch(e.type){case"@import":case Qd:return e.return=e.return||e.value;case Gd:return"";case Yd:return e.return=e.value+"{"+Xd(e.children,r)+"}";case Jd:e.value=e.props.join(",")}return _d(n=Xd(e.children,r))?e.return=e.value+"{"+n+"}":""}function eh(e){return Nd(th("",null,null,null,[""],e=Dd(e),0,[0],e))}function th(e,t,n,r,i,o,a,s,u){for(var c=0,l=0,f=a,d=0,h=0,p=0,v=1,g=1,y=1,m=0,w="",_=i,b=o,x=r,S=w;g;)switch(p=m,m=Rd()){case 40:if(108!=p&&58==md(S,f-1)){-1!=yd(S+=gd(Ud(m),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:S+=Ud(m);break;case 9:case 10:case 13:case 32:S+=Zd(p);break;case 92:S+=Bd(Fd()-1,7);continue;case 47:switch(Ld()){case 42:case 47:xd(rh(zd(Rd(),Fd()),t,n),u);break;default:S+="/"}break;case 123*v:s[c++]=_d(S)*y;case 125*v:case 59:case 0:switch(m){case 0:case 125:g=0;case 59+l:h>0&&_d(S)-f&&xd(h>32?ih(S+";",r,n,f-1):ih(gd(S," ","")+";",r,n,f-2),u);break;case 59:S+=";";default:if(xd(x=nh(S,t,n,c,l,i,s,w,_=[],b=[],f),o),123===m)if(0===l)th(S,t,x,x,_,o,f,s,b);else switch(99===d&&110===md(S,3)?100:d){case 100:case 109:case 115:th(e,x,x,r&&xd(nh(e,x,x,0,0,i,s,w,i,_=[],f),b),i,b,f,s,r?_:b);break;default:th(S,x,x,x,[""],b,0,s,b)}}c=l=h=0,v=y=1,w=S="",f=a;break;case 58:f=1+_d(S),h=p;default:if(v<1)if(123==m)--v;else if(125==m&&0==v++&&125==Id())continue;switch(S+=hd(m),m*v){case 38:y=l>0?1:(S+="\f",-1);break;case 44:s[c++]=(_d(S)-1)*y,y=1;break;case 64:45===Ld()&&(S+=Ud(Rd())),d=Ld(),l=f=_d(w=S+=Kd(Fd())),m++;break;case 45:45===p&&2==_d(S)&&(v=0)}}return o}function nh(e,t,n,r,i,o,a,s,u,c,l){for(var f=i-1,d=0===i?o:[""],h=bd(d),p=0,v=0,g=0;p<r;++p)for(var y=0,m=wd(e,f+1,f=dd(v=a[p])),w=e;y<h;++y)(w=vd(v>0?d[y]+" "+m:gd(m,/&\f/g,d[y])))&&(u[g++]=w);return Td(e,t,n,0===i?Jd:s,u,c,l)}function rh(e,t,n){return Td(e,t,n,Gd,hd(Pd),wd(e,2,-2),0)}function ih(e,t,n,r){return Td(e,t,n,Qd,wd(e,0,r),wd(e,r+1,-1),r)}var oh=function(e,t,n){for(var r=0,i=0;r=i,i=Ld(),38===r&&12===i&&(t[n]=1),!jd(i);)Rd();return Md(e,Cd)},ah=function(e,t){return Nd(function(e,t){var n=-1,r=44;do{switch(jd(r)){case 0:38===r&&12===Ld()&&(t[n]=1),e[n]+=oh(Cd-1,t,n);break;case 2:e[n]+=Ud(r);break;case 4:if(44===r){e[++n]=58===Ld()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=hd(r)}}while(r=Rd());return e}(Dd(e),t))},sh=new WeakMap,uh=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||sh.get(n))&&!r){sh.set(e,!0);for(var i=[],o=ah(t,i),a=n.props,s=0,u=0;s<o.length;s++)for(var c=0;c<a.length;c++,u++)e.props[u]=i[s]?o[s].replace(/&\f/g,a[c]):a[c]+" "+o[s]}}},ch=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function lh(e,t){switch(function(e,t){return 45^md(e,0)?(((t<<2^md(e,0))<<2^md(e,1))<<2^md(e,2))<<2^md(e,3):0}(e,t)){case 5103:return qd+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return qd+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return qd+e+Wd+e+Vd+e+e;case 6828:case 4268:return qd+e+Vd+e+e;case 6165:return qd+e+Vd+"flex-"+e+e;case 5187:return qd+e+gd(e,/(\w+).+(:[^]+)/,qd+"box-$1$2"+Vd+"flex-$1$2")+e;case 5443:return qd+e+Vd+"flex-item-"+gd(e,/flex-|-self/,"")+e;case 4675:return qd+e+Vd+"flex-line-pack"+gd(e,/align-content|flex-|-self/,"")+e;case 5548:return qd+e+Vd+gd(e,"shrink","negative")+e;case 5292:return qd+e+Vd+gd(e,"basis","preferred-size")+e;case 6060:return qd+"box-"+gd(e,"-grow","")+qd+e+Vd+gd(e,"grow","positive")+e;case 4554:return qd+gd(e,/([^-])(transform)/g,"$1"+qd+"$2")+e;case 6187:return gd(gd(gd(e,/(zoom-|grab)/,qd+"$1"),/(image-set)/,qd+"$1"),e,"")+e;case 5495:case 3959:return gd(e,/(image-set\([^]*)/,qd+"$1$`$1");case 4968:return gd(gd(e,/(.+:)(flex-)?(.*)/,qd+"box-pack:$3"+Vd+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+qd+e+e;case 4095:case 3583:case 4068:case 2532:return gd(e,/(.+)-inline(.+)/,qd+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(_d(e)-1-t>6)switch(md(e,t+1)){case 109:if(45!==md(e,t+4))break;case 102:return gd(e,/(.+:)(.+)-([^]+)/,"$1"+qd+"$2-$3$1"+Wd+(108==md(e,t+3)?"$3":"$2-$3"))+e;case 115:return~yd(e,"stretch")?lh(gd(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==md(e,t+1))break;case 6444:switch(md(e,_d(e)-3-(~yd(e,"!important")&&10))){case 107:return gd(e,":",":"+qd)+e;case 101:return gd(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+qd+(45===md(e,14)?"inline-":"")+"box$3$1"+qd+"$2$3$1"+Vd+"$2box$3")+e}break;case 5936:switch(md(e,t+11)){case 114:return qd+e+Vd+gd(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return qd+e+Vd+gd(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return qd+e+Vd+gd(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return qd+e+Vd+e+e}return e}var fh=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case Qd:e.return=lh(e.value,e.length);break;case Yd:return Xd([Od(e,{value:gd(e.value,"@","@"+qd)})],r);case Jd:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xd([Od(e,{props:[gd(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return Xd([Od(e,{props:[gd(t,/:(plac\w+)/,":"+qd+"input-$1")]}),Od(e,{props:[gd(t,/:(plac\w+)/,":-moz-$1")]}),Od(e,{props:[gd(t,/:(plac\w+)/,Vd+"input-$1")]})],r)}return""}))}}],dh=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r=e.stylisPlugins||fh;var i,o,a={},s=[];i=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;s.push(e)}));var u,c,l=[$d,(c=function(e){u.insert(e)},function(e){e.root||(e=e.return)&&c(e)})],f=function(e){var t=bd(e);return function(n,r,i,o){for(var a="",s=0;s<t;s++)a+=e[s](n,r,i,o)||"";return a}}([uh,ch].concat(r,l));o=function(e,t,n,r){u=n,Xd(eh(e?e+"{"+t.styles+"}":t.styles),f),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new fd({key:t,container:i,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:o};return d.sheet.hydrate(s),d};var hh=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)};var ph=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)},vh={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var gh=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},yh=/[A-Z]|^ms/g,mh=/_EMO_([^_]+?)_([^]*?)_EMO_/g,wh=function(e){return 45===e.charCodeAt(1)},_h=function(e){return null!=e&&"boolean"!==typeof e},bh=gh((function(e){return wh(e)?e:e.replace(yh,"-$&").toLowerCase()})),xh=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(mh,(function(e,t,n){return kh={name:t,styles:n,next:kh},t}))}return 1===vh[e]||wh(e)||"number"!==typeof t||0===t?t:t+"px"};function Sh(e,t,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return kh={name:n.name,styles:n.styles,next:kh},n.name;if(void 0!==n.styles){var r=n.next;if(void 0!==r)for(;void 0!==r;)kh={name:r.name,styles:r.styles,next:kh},r=r.next;return n.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Sh(e,t,n[i])+";";else for(var o in n){var a=n[o];if("object"!==typeof a)null!=t&&void 0!==t[a]?r+=o+"{"+t[a]+"}":_h(a)&&(r+=bh(o)+":"+xh(o,a)+";");else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var s=Sh(e,t,a);switch(o){case"animation":case"animationName":r+=bh(o)+":"+s+";";break;default:r+=o+"{"+s+"}"}}else for(var u=0;u<a.length;u++)_h(a[u])&&(r+=bh(o)+":"+xh(o,a[u])+";")}return r}(e,t,n);case"function":if(void 0!==e){var i=kh,o=n(e);return kh=i,Sh(e,t,o)}}if(null==t)return n;var a=t[n];return void 0!==a?a:n}var kh,Eh=/label:\s*([^\s;\n{]+)\s*(;|$)/g;var Ch=function(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";kh=void 0;var o=e[0];null==o||void 0===o.raw?(r=!1,i+=Sh(n,t,o)):i+=o[0];for(var a=1;a<e.length;a++)i+=Sh(n,t,e[a]),r&&(i+=o[a]);Eh.lastIndex=0;for(var s,u="";null!==(s=Eh.exec(i));)u+="-"+s[1];return{name:ph(i)+u,styles:i,next:kh}},Ph=!!re.useInsertionEffect&&re.useInsertionEffect,Ah=Ph||function(e){return e()},Th=(Ph||ne.useLayoutEffect,{}.hasOwnProperty),Oh=(0,ne.createContext)("undefined"!==typeof HTMLElement?dh({key:"css"}):null);Oh.Provider;var Ih=function(e){return(0,ne.forwardRef)((function(t,n){var r=(0,ne.useContext)(Oh);return e(t,r,n)}))},Rh=(0,ne.createContext)({});var Lh="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Fh=function(e,t){var n={};for(var r in t)Th.call(t,r)&&(n[r]=t[r]);return n[Lh]=e,n},Mh=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;hh(t,n,r);Ah((function(){return function(e,t,n){hh(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}}(t,n,r)}));return null},jh=Ih((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var i=e[Lh],o=[r],a="";"string"===typeof e.className?a=function(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):r+=n+" "})),r}(t.registered,o,e.className):null!=e.className&&(a=e.className+" ");var s=Ch(o,void 0,(0,ne.useContext)(Rh));a+=t.key+"-"+s.name;var u={};for(var c in e)Th.call(e,c)&&"css"!==c&&c!==Lh&&(u[c]=e[c]);return u.ref=n,u.className=a,(0,ne.createElement)(ne.Fragment,null,(0,ne.createElement)(Mh,{cache:t,serialized:s,isStringTag:"string"===typeof i}),(0,ne.createElement)(i,u))}));var Dh=function(e,t){var n=arguments;if(null==t||!Th.call(t,"css"))return ne.createElement.apply(void 0,n);var r=n.length,i=new Array(r);i[0]=jh,i[1]=Fh(e,t);for(var o=2;o<r;o++)i[o]=n[o];return ne.createElement.apply(null,i)};function Nh(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ch(t)}function Uh(t){return(0,e.Z)((0,e.Z)({},t),{},{top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height})}Math.min,Math.max;var Zh=["top","right","bottom","left"];Zh.reduce((function(e,t){return e.concat(t,t+"-start",t+"-end")}),[]);var Bh;function Hh(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function zh(e){return Hh(e).getComputedStyle(e)}function Kh(e){return e instanceof Hh(e).Node}function Vh(e){return Kh(e)?(e.nodeName||"").toLowerCase():""}function Wh(){if(Bh)return Bh;var e=navigator.userAgentData;return e&&Array.isArray(e.brands)?Bh=e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function qh(e){return e instanceof Hh(e).HTMLElement}function Gh(e){return e instanceof Hh(e).Element}function Jh(e){return"undefined"!=typeof ShadowRoot&&(e instanceof Hh(e).ShadowRoot||e instanceof ShadowRoot)}function Qh(e){var t=zh(e),n=t.overflow,r=t.overflowX,i=t.overflowY,o=t.display;return/auto|scroll|overlay|hidden|clip/.test(n+i+r)&&!["inline","contents"].includes(o)}function Yh(){return/^((?!chrome|android).)*safari/i.test(Wh())}function Xh(e){return["html","body","#document"].includes(Vh(e))}Math.min,Math.max;var $h=Math.round;function ep(e){var t=zh(e),n=parseFloat(t.width),r=parseFloat(t.height),i=qh(e),o=i?e.offsetWidth:n,a=i?e.offsetHeight:r,s=$h(n)!==o||$h(r)!==a;return s&&(n=o,r=a),{width:n,height:r,fallback:s}}function tp(e){return Gh(e)?e:e.contextElement}var np={x:1,y:1};function rp(e){var t=tp(e);if(!qh(t))return np;var n=t.getBoundingClientRect(),r=ep(t),i=r.width,o=r.height,a=r.fallback,s=(a?$h(n.width):n.width)/i,u=(a?$h(n.height):n.height)/o;return s&&Number.isFinite(s)||(s=1),u&&Number.isFinite(u)||(u=1),{x:s,y:u}}function ip(e,t,n,r){var i,o;void 0===t&&(t=!1),void 0===n&&(n=!1);var a=e.getBoundingClientRect(),s=tp(e),u=np;t&&(r?Gh(r)&&(u=rp(r)):u=rp(e));var c=s?Hh(s):window,l=Yh()&&n,f=(a.left+(l&&(null==(i=c.visualViewport)?void 0:i.offsetLeft)||0))/u.x,d=(a.top+(l&&(null==(o=c.visualViewport)?void 0:o.offsetTop)||0))/u.y,h=a.width/u.x,p=a.height/u.y;if(s)for(var v=Hh(s),g=r&&Gh(r)?Hh(r):r,y=v.frameElement;y&&r&&g!==v;){var m=rp(y),w=y.getBoundingClientRect(),_=getComputedStyle(y);w.x+=(y.clientLeft+parseFloat(_.paddingLeft))*m.x,w.y+=(y.clientTop+parseFloat(_.paddingTop))*m.y,f*=m.x,d*=m.y,h*=m.x,p*=m.y,f+=w.x,d+=w.y,y=Hh(y).frameElement}return Uh({width:h,height:p,x:f,y:d})}function op(e){return((Kh(e)?e.ownerDocument:e.document)||window.document).documentElement}function ap(e){if("html"===Vh(e))return e;var t=e.assignedSlot||e.parentNode||Jh(e)&&e.host||op(e);return Jh(t)?t.host:t}function sp(e){var t=ap(e);return Xh(t)?t.ownerDocument.body:qh(t)&&Qh(t)?t:sp(t)}function up(e,t){var n;void 0===t&&(t=[]);var r=sp(e),i=r===(null==(n=e.ownerDocument)?void 0:n.body),o=Hh(r);return i?t.concat(o,o.visualViewport||[],Qh(r)?r:[]):t.concat(r,up(r))}var cp=ne.useLayoutEffect,lp=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],fp=function(){};function dp(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function hp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var o=[].concat(r);if(t&&e)for(var a in t)t.hasOwnProperty(a)&&t[a]&&o.push("".concat(dp(e,a)));return o.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var pp=function(e){return function(e){return Array.isArray(e)}(e)?e.filter(Boolean):"object"===Gf(e)&&null!==e?[e]:[]},vp=function(e){return e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme,Xf({},nd(e,lp))},gp=function(e,t,n){var r=e.cx,i=e.getStyles,o=e.getClassNames,a=e.className;return{css:i(t,e),className:r(null!==n&&void 0!==n?n:{},o(t,e),a)}};function yp(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function mp(e){return yp(e)?window.pageYOffset:e.scrollTop}function wp(e,t){yp(e)?window.scrollTo(0,t):e.scrollTop=t}function _p(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function bp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:fp,i=mp(e),o=t-i,a=10,s=0;function u(){var t=_p(s+=a,i,o,n);wp(e,t),s<n?window.requestAnimationFrame(u):r(e)}u()}function xp(e,t){var n=e.getBoundingClientRect(),r=t.getBoundingClientRect(),i=t.offsetHeight/3;r.bottom+i>n.bottom?wp(e,Math.min(t.offsetTop+t.clientHeight-e.offsetHeight+i,e.scrollHeight)):r.top-i<n.top&&wp(e,Math.max(t.offsetTop-i,0))}function Sp(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}var kp=!1,Ep={get passive(){return kp=!0}},Cp="undefined"!==typeof window?window:{};Cp.addEventListener&&Cp.removeEventListener&&(Cp.addEventListener("p",fp,Ep),Cp.removeEventListener("p",fp,!1));var Pp=kp;function Ap(e){return null!=e}function Tp(e,t,n){return e?t:n}function Op(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.controlHeight,u=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/;if("fixed"===t.position)return document.documentElement;for(var i=e;i=i.parentElement;)if(t=getComputedStyle(i),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return i;return document.documentElement}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var l,f=u.getBoundingClientRect().height,d=n.getBoundingClientRect(),h=d.bottom,p=d.height,v=d.top,g=n.offsetParent.getBoundingClientRect().top,y=a?window.innerHeight:yp(l=u)?window.innerHeight:l.clientHeight,m=mp(u),w=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),b=g-_,x=y-v,S=b+m,k=f-m-v,E=h-y+m+w,C=m+v-_,P=160;switch(i){case"auto":case"bottom":if(x>=p)return{placement:"bottom",maxHeight:t};if(k>=p&&!a)return o&&bp(u,E,P),{placement:"bottom",maxHeight:t};if(!a&&k>=r||a&&x>=r)return o&&bp(u,E,P),{placement:"bottom",maxHeight:a?x-w:k-w};if("auto"===i||a){var A=t,T=a?b:S;return T>=r&&(A=Math.min(T-w-s,t)),{placement:"top",maxHeight:A}}if("bottom"===i)return o&&wp(u,E),{placement:"bottom",maxHeight:t};break;case"top":if(b>=p)return{placement:"top",maxHeight:t};if(S>=p&&!a)return o&&bp(u,C,P),{placement:"top",maxHeight:t};if(!a&&S>=r||a&&b>=r){var O=t;return(!a&&S>=r||a&&b>=r)&&(O=a?b-_:S-_),o&&bp(u,C,P),{placement:"top",maxHeight:O}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var Ip=function(e){return"auto"===e?"bottom":e},Rp=(0,ne.createContext)(null),Lp=function(e){var t=e.children,n=e.minMenuHeight,r=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,a=e.menuShouldScrollIntoView,s=e.theme,u=((0,ne.useContext)(Rp)||{}).setPortalPlacement,c=(0,ne.useRef)(null),l=td((0,ne.useState)(r),2),f=l[0],d=l[1],h=td((0,ne.useState)(null),2),p=h[0],v=h[1],g=s.spacing.controlHeight;return cp((function(){var e=c.current;if(e){var t="fixed"===o,s=Op({maxHeight:r,menuEl:e,minHeight:n,placement:i,shouldScroll:a&&!t,isFixedPosition:t,controlHeight:g});d(s.maxHeight),v(s.placement),null===u||void 0===u||u(s.placement)}}),[r,i,o,a,n,u,g]),t({ref:c,placerProps:Xf(Xf({},e),{},{placement:p||Ip(i),maxHeight:f})})},Fp=function(e,t){var n=e.theme,r=n.spacing.baseUnit,i=n.colors;return Xf({textAlign:"center"},t?{}:{color:i.neutral40,padding:"".concat(2*r,"px ").concat(3*r,"px")})},Mp=Fp,jp=Fp,Dp=function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),n),t)};Dp.defaultProps={children:"No options"};var Np=function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),n),t)};Np.defaultProps={children:"Loading..."};var Up,Zp=["size"];var Bp,Hp,zp={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Kp=function(e){var t=e.size,n=nd(e,Zp);return Dh("svg",id({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:zp},n))},Vp=function(e){return Dh(Kp,id({size:20},e),Dh("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Wp=function(e){return Dh(Kp,id({size:20},e),Dh("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},qp=function(e,t){var n=e.isFocused,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Xf({label:"indicatorContainer",display:"flex",transition:"color 150ms"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*i,":hover":{color:n?o.neutral80:o.neutral40}})},Gp=qp,Jp=qp,Qp=function(){var e=Nh.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}(Up||(Bp=["\n  0%, 80%, 100% { opacity: 0; }\n  40% { opacity: 1; }\n"],Hp||(Hp=Bp.slice(0)),Up=Object.freeze(Object.defineProperties(Bp,{raw:{value:Object.freeze(Hp)}})))),Yp=function(e){var t=e.delay,n=e.offset;return Dh("span",{css:Nh({animation:"".concat(Qp," 1s ease-in-out ").concat(t,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},Xp=function(e){var t=e.innerProps,n=e.isRtl;return Dh("div",id({},gp(e,"loadingIndicator",{indicator:!0,"loading-indicator":!0}),t),Dh(Yp,{delay:0,offset:n}),Dh(Yp,{delay:160,offset:!0}),Dh(Yp,{delay:320,offset:!n}))};Xp.defaultProps={size:4};var $p=["data"],ev=["innerRef","isDisabled","isHidden","inputClassName"],tv={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},nv={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Xf({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},tv)},rv=function(e){return Xf({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},tv)},iv=function(e){var t=e.children,n=e.innerProps;return Dh("div",n,t)};var ov={ClearIndicator:function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),t||Dh(Vp,null))},Control:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.innerRef,o=e.innerProps,a=e.menuIsOpen;return Dh("div",id({ref:i},gp(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":r,"control--menu-is-open":a}),o),t)},DropdownIndicator:function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),t||Dh(Wp,null))},DownChevron:Wp,CrossIcon:Vp,Group:function(e){var t=e.children,n=e.cx,r=e.getStyles,i=e.getClassNames,o=e.Heading,a=e.headingProps,s=e.innerProps,u=e.label,c=e.theme,l=e.selectProps;return Dh("div",id({},gp(e,"group",{group:!0}),s),Dh(o,id({},a,{selectProps:l,theme:c,getStyles:r,getClassNames:i,cx:n}),u),Dh("div",null,t))},GroupHeading:function(e){var t=vp(e);t.data;var n=nd(t,$p);return Dh("div",id({},gp(e,"groupHeading",{"group-heading":!0}),n))},IndicatorsContainer:function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"indicatorsContainer",{indicators:!0}),n),t)},IndicatorSeparator:function(e){var t=e.innerProps;return Dh("span",id({},t,gp(e,"indicatorSeparator",{"indicator-separator":!0})))},Input:function(e){var t=e.cx,n=e.value,r=vp(e),i=r.innerRef,o=r.isDisabled,a=r.isHidden,s=r.inputClassName,u=nd(r,ev);return Dh("div",id({},gp(e,"input",{"input-container":!0}),{"data-value":n||""}),Dh("input",id({className:t({input:!0},s),ref:i,style:rv(a),disabled:o},u)))},LoadingIndicator:Xp,Menu:function(e){var t=e.children,n=e.innerRef,r=e.innerProps;return Dh("div",id({},gp(e,"menu",{menu:!0}),{ref:n},r),t)},MenuList:function(e){var t=e.children,n=e.innerProps,r=e.innerRef,i=e.isMulti;return Dh("div",id({},gp(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:r},n),t)},MenuPortal:function(e){var t=e.appendTo,n=e.children,r=e.controlElement,i=e.innerProps,o=e.menuPlacement,a=e.menuPosition,s=(0,ne.useRef)(null),u=(0,ne.useRef)(null),c=td((0,ne.useState)(Ip(o)),2),l=c[0],f=c[1],d=(0,ne.useMemo)((function(){return{setPortalPlacement:f}}),[]),h=td((0,ne.useState)(null),2),p=h[0],v=h[1],g=(0,ne.useCallback)((function(){if(r){var e=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),t="fixed"===a?0:window.pageYOffset,n=e[l]+t;n===(null===p||void 0===p?void 0:p.offset)&&e.left===(null===p||void 0===p?void 0:p.rect.left)&&e.width===(null===p||void 0===p?void 0:p.rect.width)||v({offset:n,rect:e})}}),[r,a,l,null===p||void 0===p?void 0:p.offset,null===p||void 0===p?void 0:p.rect.left,null===p||void 0===p?void 0:p.rect.width]);cp((function(){g()}),[g]);var y=(0,ne.useCallback)((function(){"function"===typeof u.current&&(u.current(),u.current=null),r&&s.current&&(u.current=function(e,t,n,r){void 0===r&&(r={});var i=r,o=i.ancestorScroll,a=void 0===o||o,s=i.ancestorResize,u=void 0===s||s,c=i.elementResize,l=void 0===c||c,f=i.animationFrame,d=void 0!==f&&f,h=a&&!d,p=h||u?[].concat((0,Y.Z)(Gh(e)?up(e):e.contextElement?up(e.contextElement):[]),(0,Y.Z)(up(t))):[];p.forEach((function(e){h&&e.addEventListener("scroll",n,{passive:!0}),u&&e.addEventListener("resize",n)}));var v,g=null;l&&(g=new ResizeObserver((function(){n()})),Gh(e)&&!d&&g.observe(e),Gh(e)||!e.contextElement||d||g.observe(e.contextElement),g.observe(t));var y=d?ip(e):null;return d&&function t(){var r=ip(e);!y||r.x===y.x&&r.y===y.y&&r.width===y.width&&r.height===y.height||n(),y=r,v=requestAnimationFrame(t)}(),n(),function(){var e;p.forEach((function(e){h&&e.removeEventListener("scroll",n),u&&e.removeEventListener("resize",n)})),null==(e=g)||e.disconnect(),g=null,d&&cancelAnimationFrame(v)}}(r,s.current,g,{elementResize:"ResizeObserver"in window}))}),[r,g]);cp((function(){y()}),[y]);var m=(0,ne.useCallback)((function(e){s.current=e,y()}),[y]);if(!t&&"fixed"!==a||!p)return null;var w=Dh("div",id({ref:m},gp(Xf(Xf({},e),{},{offset:p.offset,position:a,rect:p.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Dh(Rp.Provider,{value:d},t?(0,gn.createPortal)(w,t):w)},LoadingMessage:Np,NoOptionsMessage:Dp,MultiValue:function(e){var t=e.children,n=e.components,r=e.data,i=e.innerProps,o=e.isDisabled,a=e.removeProps,s=e.selectProps,u=n.Container,c=n.Label,l=n.Remove;return Dh(u,{data:r,innerProps:Xf(Xf({},gp(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:s},Dh(c,{data:r,innerProps:Xf({},gp(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:s},t),Dh(l,{data:r,innerProps:Xf(Xf({},gp(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(t||"option")},a),selectProps:s}))},MultiValueContainer:iv,MultiValueLabel:iv,MultiValueRemove:function(e){var t=e.children,n=e.innerProps;return Dh("div",id({role:"button"},n),t||Dh(Vp,{size:14}))},Option:function(e){var t=e.children,n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.innerRef,a=e.innerProps;return Dh("div",id({},gp(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":r,"option--is-selected":i}),{ref:o,"aria-disabled":n},a),t)},Placeholder:function(e){var t=e.children,n=e.innerProps;return Dh("div",id({},gp(e,"placeholder",{placeholder:!0}),n),t)},SelectContainer:function(e){var t=e.children,n=e.innerProps,r=e.isDisabled,i=e.isRtl;return Dh("div",id({},gp(e,"container",{"--is-disabled":r,"--is-rtl":i}),n),t)},SingleValue:function(e){var t=e.children,n=e.isDisabled,r=e.innerProps;return Dh("div",id({},gp(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),r),t)},ValueContainer:function(e){var t=e.children,n=e.innerProps,r=e.isMulti,i=e.hasValue;return Dh("div",id({},gp(e,"valueContainer",{"value-container":!0,"value-container--is-multi":r,"value-container--has-value":i}),n),t)}},av=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function sv(e,t){return e===t||!(!av(e)||!av(t))}function uv(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!sv(e[n],t[n]))return!1;return!0}for(var cv={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},lv=function(e){return Dh("span",id({css:cv},e))},fv={guidance:function(e){var t=e.isSearchable,n=e.isMulti,r=e.isDisabled,i=e.tabSelectsValue;switch(e.context){case"menu":return"Use Up and Down to choose options".concat(r?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(i?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(e["aria-label"]||"Select"," is focused ").concat(t?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var t=e.action,n=e.label,r=void 0===n?"":n,i=e.labels,o=e.isDisabled;switch(t){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(r,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return"option ".concat(r,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(e){var t=e.context,n=e.focused,r=e.options,i=e.label,o=void 0===i?"":i,a=e.selectValue,s=e.isDisabled,u=e.isSelected,c=function(e,t){return e&&e.length?"".concat(e.indexOf(t)+1," of ").concat(e.length):""};if("value"===t&&a)return"value ".concat(o," focused, ").concat(c(a,n),".");if("menu"===t){var l=s?" disabled":"",f="".concat(u?"selected":"focused").concat(l);return"option ".concat(o," ").concat(f,", ").concat(c(r,n),".")}return""},onFilter:function(e){var t=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}},dv=function(e){var t=e.ariaSelection,n=e.focusedOption,r=e.focusedValue,i=e.focusableOptions,o=e.isFocused,a=e.selectValue,s=e.selectProps,u=e.id,c=s.ariaLiveMessages,l=s.getOptionLabel,f=s.inputValue,d=s.isMulti,h=s.isOptionDisabled,p=s.isSearchable,v=s.menuIsOpen,g=s.options,y=s.screenReaderStatus,m=s.tabSelectsValue,w=s["aria-label"],_=s["aria-live"],b=(0,ne.useMemo)((function(){return Xf(Xf({},fv),c||{})}),[c]),x=(0,ne.useMemo)((function(){var e,n="";if(t&&b.onChange){var r=t.option,i=t.options,o=t.removedValue,s=t.removedValues,u=t.value,c=o||r||(e=u,Array.isArray(e)?null:e),f=c?l(c):"",d=i||s||void 0,p=d?d.map(l):[],v=Xf({isDisabled:c&&h(c,a),label:f,labels:p},t);n=b.onChange(v)}return n}),[t,b,h,a,l]),S=(0,ne.useMemo)((function(){var e="",t=n||r,o=!!(n&&a&&a.includes(n));if(t&&b.onFocus){var s={focused:t,label:l(t),isDisabled:h(t,a),isSelected:o,options:i,context:t===n?"menu":"value",selectValue:a};e=b.onFocus(s)}return e}),[n,r,l,h,b,i,a]),k=(0,ne.useMemo)((function(){var e="";if(v&&g.length&&b.onFilter){var t=y({count:i.length});e=b.onFilter({inputValue:f,resultsMessage:t})}return e}),[i,f,v,b,g,y]),E=(0,ne.useMemo)((function(){var e="";if(b.guidance){var t=r?"value":v?"menu":"input";e=b.guidance({"aria-label":w,context:t,isDisabled:n&&h(n,a),isMulti:d,isSearchable:p,tabSelectsValue:m})}return e}),[w,n,r,d,h,p,v,b,a,m]),C="".concat(S," ").concat(k," ").concat(E),P=Dh(ne.Fragment,null,Dh("span",{id:"aria-selection"},x),Dh("span",{id:"aria-context"},C)),A="initial-input-focus"===(null===t||void 0===t?void 0:t.action);return Dh(ne.Fragment,null,Dh(lv,{id:u},A&&P),Dh(lv,{"aria-live":_,"aria-atomic":"false","aria-relevant":"additions text"},o&&!A&&P))},hv=[{base:"A",letters:"A\u24b6\uff21\xc0\xc1\xc2\u1ea6\u1ea4\u1eaa\u1ea8\xc3\u0100\u0102\u1eb0\u1eae\u1eb4\u1eb2\u0226\u01e0\xc4\u01de\u1ea2\xc5\u01fa\u01cd\u0200\u0202\u1ea0\u1eac\u1eb6\u1e00\u0104\u023a\u2c6f"},{base:"AA",letters:"\ua732"},{base:"AE",letters:"\xc6\u01fc\u01e2"},{base:"AO",letters:"\ua734"},{base:"AU",letters:"\ua736"},{base:"AV",letters:"\ua738\ua73a"},{base:"AY",letters:"\ua73c"},{base:"B",letters:"B\u24b7\uff22\u1e02\u1e04\u1e06\u0243\u0182\u0181"},{base:"C",letters:"C\u24b8\uff23\u0106\u0108\u010a\u010c\xc7\u1e08\u0187\u023b\ua73e"},{base:"D",letters:"D\u24b9\uff24\u1e0a\u010e\u1e0c\u1e10\u1e12\u1e0e\u0110\u018b\u018a\u0189\ua779"},{base:"DZ",letters:"\u01f1\u01c4"},{base:"Dz",letters:"\u01f2\u01c5"},{base:"E",letters:"E\u24ba\uff25\xc8\xc9\xca\u1ec0\u1ebe\u1ec4\u1ec2\u1ebc\u0112\u1e14\u1e16\u0114\u0116\xcb\u1eba\u011a\u0204\u0206\u1eb8\u1ec6\u0228\u1e1c\u0118\u1e18\u1e1a\u0190\u018e"},{base:"F",letters:"F\u24bb\uff26\u1e1e\u0191\ua77b"},{base:"G",letters:"G\u24bc\uff27\u01f4\u011c\u1e20\u011e\u0120\u01e6\u0122\u01e4\u0193\ua7a0\ua77d\ua77e"},{base:"H",letters:"H\u24bd\uff28\u0124\u1e22\u1e26\u021e\u1e24\u1e28\u1e2a\u0126\u2c67\u2c75\ua78d"},{base:"I",letters:"I\u24be\uff29\xcc\xcd\xce\u0128\u012a\u012c\u0130\xcf\u1e2e\u1ec8\u01cf\u0208\u020a\u1eca\u012e\u1e2c\u0197"},{base:"J",letters:"J\u24bf\uff2a\u0134\u0248"},{base:"K",letters:"K\u24c0\uff2b\u1e30\u01e8\u1e32\u0136\u1e34\u0198\u2c69\ua740\ua742\ua744\ua7a2"},{base:"L",letters:"L\u24c1\uff2c\u013f\u0139\u013d\u1e36\u1e38\u013b\u1e3c\u1e3a\u0141\u023d\u2c62\u2c60\ua748\ua746\ua780"},{base:"LJ",letters:"\u01c7"},{base:"Lj",letters:"\u01c8"},{base:"M",letters:"M\u24c2\uff2d\u1e3e\u1e40\u1e42\u2c6e\u019c"},{base:"N",letters:"N\u24c3\uff2e\u01f8\u0143\xd1\u1e44\u0147\u1e46\u0145\u1e4a\u1e48\u0220\u019d\ua790\ua7a4"},{base:"NJ",letters:"\u01ca"},{base:"Nj",letters:"\u01cb"},{base:"O",letters:"O\u24c4\uff2f\xd2\xd3\xd4\u1ed2\u1ed0\u1ed6\u1ed4\xd5\u1e4c\u022c\u1e4e\u014c\u1e50\u1e52\u014e\u022e\u0230\xd6\u022a\u1ece\u0150\u01d1\u020c\u020e\u01a0\u1edc\u1eda\u1ee0\u1ede\u1ee2\u1ecc\u1ed8\u01ea\u01ec\xd8\u01fe\u0186\u019f\ua74a\ua74c"},{base:"OI",letters:"\u01a2"},{base:"OO",letters:"\ua74e"},{base:"OU",letters:"\u0222"},{base:"P",letters:"P\u24c5\uff30\u1e54\u1e56\u01a4\u2c63\ua750\ua752\ua754"},{base:"Q",letters:"Q\u24c6\uff31\ua756\ua758\u024a"},{base:"R",letters:"R\u24c7\uff32\u0154\u1e58\u0158\u0210\u0212\u1e5a\u1e5c\u0156\u1e5e\u024c\u2c64\ua75a\ua7a6\ua782"},{base:"S",letters:"S\u24c8\uff33\u1e9e\u015a\u1e64\u015c\u1e60\u0160\u1e66\u1e62\u1e68\u0218\u015e\u2c7e\ua7a8\ua784"},{base:"T",letters:"T\u24c9\uff34\u1e6a\u0164\u1e6c\u021a\u0162\u1e70\u1e6e\u0166\u01ac\u01ae\u023e\ua786"},{base:"TZ",letters:"\ua728"},{base:"U",letters:"U\u24ca\uff35\xd9\xda\xdb\u0168\u1e78\u016a\u1e7a\u016c\xdc\u01db\u01d7\u01d5\u01d9\u1ee6\u016e\u0170\u01d3\u0214\u0216\u01af\u1eea\u1ee8\u1eee\u1eec\u1ef0\u1ee4\u1e72\u0172\u1e76\u1e74\u0244"},{base:"V",letters:"V\u24cb\uff36\u1e7c\u1e7e\u01b2\ua75e\u0245"},{base:"VY",letters:"\ua760"},{base:"W",letters:"W\u24cc\uff37\u1e80\u1e82\u0174\u1e86\u1e84\u1e88\u2c72"},{base:"X",letters:"X\u24cd\uff38\u1e8a\u1e8c"},{base:"Y",letters:"Y\u24ce\uff39\u1ef2\xdd\u0176\u1ef8\u0232\u1e8e\u0178\u1ef6\u1ef4\u01b3\u024e\u1efe"},{base:"Z",letters:"Z\u24cf\uff3a\u0179\u1e90\u017b\u017d\u1e92\u1e94\u01b5\u0224\u2c7f\u2c6b\ua762"},{base:"a",letters:"a\u24d0\uff41\u1e9a\xe0\xe1\xe2\u1ea7\u1ea5\u1eab\u1ea9\xe3\u0101\u0103\u1eb1\u1eaf\u1eb5\u1eb3\u0227\u01e1\xe4\u01df\u1ea3\xe5\u01fb\u01ce\u0201\u0203\u1ea1\u1ead\u1eb7\u1e01\u0105\u2c65\u0250"},{base:"aa",letters:"\ua733"},{base:"ae",letters:"\xe6\u01fd\u01e3"},{base:"ao",letters:"\ua735"},{base:"au",letters:"\ua737"},{base:"av",letters:"\ua739\ua73b"},{base:"ay",letters:"\ua73d"},{base:"b",letters:"b\u24d1\uff42\u1e03\u1e05\u1e07\u0180\u0183\u0253"},{base:"c",letters:"c\u24d2\uff43\u0107\u0109\u010b\u010d\xe7\u1e09\u0188\u023c\ua73f\u2184"},{base:"d",letters:"d\u24d3\uff44\u1e0b\u010f\u1e0d\u1e11\u1e13\u1e0f\u0111\u018c\u0256\u0257\ua77a"},{base:"dz",letters:"\u01f3\u01c6"},{base:"e",letters:"e\u24d4\uff45\xe8\xe9\xea\u1ec1\u1ebf\u1ec5\u1ec3\u1ebd\u0113\u1e15\u1e17\u0115\u0117\xeb\u1ebb\u011b\u0205\u0207\u1eb9\u1ec7\u0229\u1e1d\u0119\u1e19\u1e1b\u0247\u025b\u01dd"},{base:"f",letters:"f\u24d5\uff46\u1e1f\u0192\ua77c"},{base:"g",letters:"g\u24d6\uff47\u01f5\u011d\u1e21\u011f\u0121\u01e7\u0123\u01e5\u0260\ua7a1\u1d79\ua77f"},{base:"h",letters:"h\u24d7\uff48\u0125\u1e23\u1e27\u021f\u1e25\u1e29\u1e2b\u1e96\u0127\u2c68\u2c76\u0265"},{base:"hv",letters:"\u0195"},{base:"i",letters:"i\u24d8\uff49\xec\xed\xee\u0129\u012b\u012d\xef\u1e2f\u1ec9\u01d0\u0209\u020b\u1ecb\u012f\u1e2d\u0268\u0131"},{base:"j",letters:"j\u24d9\uff4a\u0135\u01f0\u0249"},{base:"k",letters:"k\u24da\uff4b\u1e31\u01e9\u1e33\u0137\u1e35\u0199\u2c6a\ua741\ua743\ua745\ua7a3"},{base:"l",letters:"l\u24db\uff4c\u0140\u013a\u013e\u1e37\u1e39\u013c\u1e3d\u1e3b\u017f\u0142\u019a\u026b\u2c61\ua749\ua781\ua747"},{base:"lj",letters:"\u01c9"},{base:"m",letters:"m\u24dc\uff4d\u1e3f\u1e41\u1e43\u0271\u026f"},{base:"n",letters:"n\u24dd\uff4e\u01f9\u0144\xf1\u1e45\u0148\u1e47\u0146\u1e4b\u1e49\u019e\u0272\u0149\ua791\ua7a5"},{base:"nj",letters:"\u01cc"},{base:"o",letters:"o\u24de\uff4f\xf2\xf3\xf4\u1ed3\u1ed1\u1ed7\u1ed5\xf5\u1e4d\u022d\u1e4f\u014d\u1e51\u1e53\u014f\u022f\u0231\xf6\u022b\u1ecf\u0151\u01d2\u020d\u020f\u01a1\u1edd\u1edb\u1ee1\u1edf\u1ee3\u1ecd\u1ed9\u01eb\u01ed\xf8\u01ff\u0254\ua74b\ua74d\u0275"},{base:"oi",letters:"\u01a3"},{base:"ou",letters:"\u0223"},{base:"oo",letters:"\ua74f"},{base:"p",letters:"p\u24df\uff50\u1e55\u1e57\u01a5\u1d7d\ua751\ua753\ua755"},{base:"q",letters:"q\u24e0\uff51\u024b\ua757\ua759"},{base:"r",letters:"r\u24e1\uff52\u0155\u1e59\u0159\u0211\u0213\u1e5b\u1e5d\u0157\u1e5f\u024d\u027d\ua75b\ua7a7\ua783"},{base:"s",letters:"s\u24e2\uff53\xdf\u015b\u1e65\u015d\u1e61\u0161\u1e67\u1e63\u1e69\u0219\u015f\u023f\ua7a9\ua785\u1e9b"},{base:"t",letters:"t\u24e3\uff54\u1e6b\u1e97\u0165\u1e6d\u021b\u0163\u1e71\u1e6f\u0167\u01ad\u0288\u2c66\ua787"},{base:"tz",letters:"\ua729"},{base:"u",letters:"u\u24e4\uff55\xf9\xfa\xfb\u0169\u1e79\u016b\u1e7b\u016d\xfc\u01dc\u01d8\u01d6\u01da\u1ee7\u016f\u0171\u01d4\u0215\u0217\u01b0\u1eeb\u1ee9\u1eef\u1eed\u1ef1\u1ee5\u1e73\u0173\u1e77\u1e75\u0289"},{base:"v",letters:"v\u24e5\uff56\u1e7d\u1e7f\u028b\ua75f\u028c"},{base:"vy",letters:"\ua761"},{base:"w",letters:"w\u24e6\uff57\u1e81\u1e83\u0175\u1e87\u1e85\u1e98\u1e89\u2c73"},{base:"x",letters:"x\u24e7\uff58\u1e8b\u1e8d"},{base:"y",letters:"y\u24e8\uff59\u1ef3\xfd\u0177\u1ef9\u0233\u1e8f\xff\u1ef7\u1e99\u1ef5\u01b4\u024f\u1eff"},{base:"z",letters:"z\u24e9\uff5a\u017a\u1e91\u017c\u017e\u1e93\u1e95\u01b6\u0225\u0240\u2c6c\ua763"}],pv=new RegExp("["+hv.map((function(e){return e.letters})).join("")+"]","g"),vv={},gv=0;gv<hv.length;gv++)for(var yv=hv[gv],mv=0;mv<yv.letters.length;mv++)vv[yv.letters[mv]]=yv.base;var wv=function(e){return e.replace(pv,(function(e){return vv[e]}))},_v=function(e,t){void 0===t&&(t=uv);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(wv),bv=function(e){return e.replace(/^\s+|\s+$/g,"")},xv=function(e){return"".concat(e.label," ").concat(e.value)},Sv=["innerRef"];function kv(e){var t=e.innerRef,n=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=Object.entries(e).filter((function(e){var t=td(e,1)[0];return!n.includes(t)}));return i.reduce((function(e,t){var n=td(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}(nd(e,Sv),"onExited","in","enter","exit","appear");return Dh("input",id({ref:t},n,{css:Nh({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Ev=["boxSizing","height","overflow","paddingRight","position"],Cv={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function Pv(e){e.preventDefault()}function Av(e){e.stopPropagation()}function Tv(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function Ov(){return"ontouchstart"in window||navigator.maxTouchPoints}var Iv=!("undefined"===typeof window||!window.document||!window.document.createElement),Rv=0,Lv={capture:!1,passive:!1};var Fv=function(){return document.activeElement&&document.activeElement.blur()},Mv={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function jv(e){var t=e.children,n=e.lockEnabled,r=e.captureEnabled,i=function(e){var t=e.isEnabled,n=e.onBottomArrive,r=e.onBottomLeave,i=e.onTopArrive,o=e.onTopLeave,a=(0,ne.useRef)(!1),s=(0,ne.useRef)(!1),u=(0,ne.useRef)(0),c=(0,ne.useRef)(null),l=(0,ne.useCallback)((function(e,t){if(null!==c.current){var u=c.current,l=u.scrollTop,f=u.scrollHeight,d=u.clientHeight,h=c.current,p=t>0,v=f-d-l,g=!1;v>t&&a.current&&(r&&r(e),a.current=!1),p&&s.current&&(o&&o(e),s.current=!1),p&&t>v?(n&&!a.current&&n(e),h.scrollTop=f,g=!0,a.current=!0):!p&&-t>l&&(i&&!s.current&&i(e),h.scrollTop=0,g=!0,s.current=!0),g&&function(e){e.preventDefault(),e.stopPropagation()}(e)}}),[n,r,i,o]),f=(0,ne.useCallback)((function(e){l(e,e.deltaY)}),[l]),d=(0,ne.useCallback)((function(e){u.current=e.changedTouches[0].clientY}),[]),h=(0,ne.useCallback)((function(e){var t=u.current-e.changedTouches[0].clientY;l(e,t)}),[l]),p=(0,ne.useCallback)((function(e){if(e){var t=!!Pp&&{passive:!1};e.addEventListener("wheel",f,t),e.addEventListener("touchstart",d,t),e.addEventListener("touchmove",h,t)}}),[h,d,f]),v=(0,ne.useCallback)((function(e){e&&(e.removeEventListener("wheel",f,!1),e.removeEventListener("touchstart",d,!1),e.removeEventListener("touchmove",h,!1))}),[h,d,f]);return(0,ne.useEffect)((function(){if(t){var e=c.current;return p(e),function(){v(e)}}}),[t,p,v]),function(e){c.current=e}}({isEnabled:void 0===r||r,onBottomArrive:e.onBottomArrive,onBottomLeave:e.onBottomLeave,onTopArrive:e.onTopArrive,onTopLeave:e.onTopLeave}),o=function(e){var t=e.isEnabled,n=e.accountForScrollbars,r=void 0===n||n,i=(0,ne.useRef)({}),o=(0,ne.useRef)(null),a=(0,ne.useCallback)((function(e){if(Iv){var t=document.body,n=t&&t.style;if(r&&Ev.forEach((function(e){var t=n&&n[e];i.current[e]=t})),r&&Rv<1){var o=parseInt(i.current.paddingRight,10)||0,a=document.body?document.body.clientWidth:0,s=window.innerWidth-a+o||0;Object.keys(Cv).forEach((function(e){var t=Cv[e];n&&(n[e]=t)})),n&&(n.paddingRight="".concat(s,"px"))}t&&Ov()&&(t.addEventListener("touchmove",Pv,Lv),e&&(e.addEventListener("touchstart",Tv,Lv),e.addEventListener("touchmove",Av,Lv))),Rv+=1}}),[r]),s=(0,ne.useCallback)((function(e){if(Iv){var t=document.body,n=t&&t.style;Rv=Math.max(Rv-1,0),r&&Rv<1&&Ev.forEach((function(e){var t=i.current[e];n&&(n[e]=t)})),t&&Ov()&&(t.removeEventListener("touchmove",Pv,Lv),e&&(e.removeEventListener("touchstart",Tv,Lv),e.removeEventListener("touchmove",Av,Lv)))}}),[r]);return(0,ne.useEffect)((function(){if(t){var e=o.current;return a(e),function(){s(e)}}}),[t,a,s]),function(e){o.current=e}}({isEnabled:n});return Dh(ne.Fragment,null,n&&Dh("div",{onClick:Fv,css:Mv}),t((function(e){i(e),o(e)})))}var Dv={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Nv=function(e){var t=e.name,n=e.onFocus;return Dh("input",{required:!0,name:t,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Dv,value:"",onChange:function(){}})},Uv={clearIndicator:Jp,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":void 0,pointerEvents:t?"none":void 0,position:"relative"}},control:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.theme,o=i.colors,a=i.borderRadius;return Xf({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:i.spacing.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},t?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:r?o.primary:o.neutral20,borderRadius:a,borderStyle:"solid",borderWidth:1,boxShadow:r?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:r?o.primary:o.neutral30}})},dropdownIndicator:Gp,group:function(e,t){var n=e.theme.spacing;return t?{}:{paddingBottom:2*n.baseUnit,paddingTop:2*n.baseUnit}},groupHeading:function(e,t){var n=e.theme,r=n.colors,i=n.spacing;return Xf({label:"group",cursor:"default",display:"block"},t?{}:{color:r.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:3*i.baseUnit,paddingRight:3*i.baseUnit,textTransform:"uppercase"})},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing.baseUnit,o=r.colors;return Xf({label:"indicatorSeparator",alignSelf:"stretch",width:1},t?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:2*i,marginTop:2*i})},input:function(e,t){var n=e.isDisabled,r=e.value,i=e.theme,o=i.spacing,a=i.colors;return Xf(Xf({visibility:n?"hidden":"visible",transform:r?"translateZ(0)":""},nv),t?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:a.neutral80})},loadingIndicator:function(e,t){var n=e.isFocused,r=e.size,i=e.theme,o=i.colors,a=i.spacing.baseUnit;return Xf({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:r,lineHeight:1,marginRight:r,textAlign:"center",verticalAlign:"middle"},t?{}:{color:n?o.neutral60:o.neutral20,padding:2*a})},loadingMessage:jp,menu:function(e,t){var n,r=e.placement,i=e.theme,o=i.borderRadius,a=i.spacing,s=i.colors;return Xf((Qf(n={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(r),"100%"),Qf(n,"position","absolute"),Qf(n,"width","100%"),Qf(n,"zIndex",1),n),t?{}:{backgroundColor:s.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:a.menuGutter,marginTop:a.menuGutter})},menuList:function(e,t){var n=e.maxHeight,r=e.theme.spacing.baseUnit;return Xf({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},t?{}:{paddingBottom:r,paddingTop:r})},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors;return Xf({label:"multiValue",display:"flex",minWidth:0},t?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:r.baseUnit/2})},multiValueLabel:function(e,t){var n=e.theme,r=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Xf({overflow:"hidden",textOverflow:o||void 0===o?"ellipsis":void 0,whiteSpace:"nowrap"},t?{}:{borderRadius:r/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},multiValueRemove:function(e,t){var n=e.theme,r=n.spacing,i=n.borderRadius,o=n.colors,a=e.isFocused;return Xf({alignItems:"center",display:"flex"},t?{}:{borderRadius:i/2,backgroundColor:a?o.dangerLight:void 0,paddingLeft:r.baseUnit,paddingRight:r.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},noOptionsMessage:Mp,option:function(e,t){var n=e.isDisabled,r=e.isFocused,i=e.isSelected,o=e.theme,a=o.spacing,s=o.colors;return Xf({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},t?{}:{backgroundColor:i?s.primary:r?s.primary25:"transparent",color:n?s.neutral20:i?s.neutral0:"inherit",padding:"".concat(2*a.baseUnit,"px ").concat(3*a.baseUnit,"px"),":active":{backgroundColor:n?void 0:i?s.primary:s.primary50}})},placeholder:function(e,t){var n=e.theme,r=n.spacing,i=n.colors;return Xf({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},t?{}:{color:i.neutral50,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2})},singleValue:function(e,t){var n=e.isDisabled,r=e.theme,i=r.spacing,o=r.colors;return Xf({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},t?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},valueContainer:function(e,t){var n=e.theme.spacing,r=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Xf({alignItems:"center",display:r&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},t?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(2*n.baseUnit,"px")})}};var Zv,Bv={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},Hv={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:Sp(),captureMenuScroll:!Sp(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){if(e.data.__isNew__)return!0;var n=Xf({ignoreCase:!0,ignoreAccents:!0,stringify:xv,trim:!0,matchFrom:"any"},Zv),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,u=a?bv(t):t,c=a?bv(o(e)):o(e);return r&&(u=u.toLowerCase(),c=c.toLowerCase()),i&&(u=_v(u),c=wv(c)),"start"===s?c.substr(0,u.length)===u:c.indexOf(u)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(e){return!!e.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function zv(e,t,n,r){return{type:"option",data:t,isDisabled:Jv(e,t,n),isSelected:Qv(e,t,n),label:qv(e,t),value:Gv(e,t),index:r}}function Kv(e,t){return e.options.map((function(n,r){if("options"in n){var i=n.options.map((function(n,r){return zv(e,n,t,r)})).filter((function(t){return Wv(e,t)}));return i.length>0?{type:"group",data:n,options:i,index:r}:void 0}var o=zv(e,n,t,r);return Wv(e,o)?o:void 0})).filter(Ap)}function Vv(e){return e.reduce((function(e,t){return"group"===t.type?e.push.apply(e,ld(t.options.map((function(e){return e.data})))):e.push(t.data),e}),[])}function Wv(e,t){var n=e.inputValue,r=void 0===n?"":n,i=t.data,o=t.isSelected,a=t.label,s=t.value;return(!Xv(e)||!o)&&Yv(e,{label:a,value:s,data:i},r)}var qv=function(e,t){return e.getOptionLabel(t)},Gv=function(e,t){return e.getOptionValue(t)};function Jv(e,t,n){return"function"===typeof e.isOptionDisabled&&e.isOptionDisabled(t,n)}function Qv(e,t,n){if(n.indexOf(t)>-1)return!0;if("function"===typeof e.isOptionSelected)return e.isOptionSelected(t,n);var r=Gv(e,t);return n.some((function(t){return Gv(e,t)===r}))}function Yv(e,t,n){return!e.filterOption||e.filterOption(t,n)}var Xv=function(e){var t=e.hideSelectedOptions,n=e.isMulti;return void 0===t?n:t},$v=1,eg=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ad(e,t)}(o,e);var t,n,r,i=cd(o);function o(e){var t;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},t.blockOptionHover=!1,t.isComposing=!1,t.commonProps=void 0,t.initialTouchX=0,t.initialTouchY=0,t.instancePrefix="",t.openAfterFocus=!1,t.scrollToFocusedOptionOnUpdate=!1,t.userIsDragging=void 0,t.controlRef=null,t.getControlRef=function(e){t.controlRef=e},t.focusedOptionRef=null,t.getFocusedOptionRef=function(e){t.focusedOptionRef=e},t.menuListRef=null,t.getMenuListRef=function(e){t.menuListRef=e},t.inputRef=null,t.getInputRef=function(e){t.inputRef=e},t.focus=t.focusInput,t.blur=t.blurInput,t.onChange=function(e,n){var r=t.props,i=r.onChange,o=r.name;n.name=o,t.ariaOnChange(e,n),i(e,n)},t.setValue=function(e,n,r){var i=t.props,o=i.closeMenuOnSelect,a=i.isMulti,s=i.inputValue;t.onInputChange("",{action:"set-value",prevInputValue:s}),o&&(t.setState({inputIsHiddenAfterUpdate:!a}),t.onMenuClose()),t.setState({clearFocusValueOnUpdate:!0}),t.onChange(e,{action:n,option:r})},t.selectOption=function(e){var n=t.props,r=n.blurInputOnSelect,i=n.isMulti,o=n.name,a=t.state.selectValue,s=i&&t.isOptionSelected(e,a),u=t.isOptionDisabled(e,a);if(s){var c=t.getOptionValue(e);t.setValue(a.filter((function(e){return t.getOptionValue(e)!==c})),"deselect-option",e)}else{if(u)return void t.ariaOnChange(e,{action:"select-option",option:e,name:o});i?t.setValue([].concat(ld(a),[e]),"select-option",e):t.setValue(e,"select-option")}r&&t.blurInput()},t.removeValue=function(e){var n=t.props.isMulti,r=t.state.selectValue,i=t.getOptionValue(e),o=r.filter((function(e){return t.getOptionValue(e)!==i})),a=Tp(n,o,o[0]||null);t.onChange(a,{action:"remove-value",removedValue:e}),t.focusInput()},t.clearValue=function(){var e=t.state.selectValue;t.onChange(Tp(t.props.isMulti,[],null),{action:"clear",removedValues:e})},t.popValue=function(){var e=t.props.isMulti,n=t.state.selectValue,r=n[n.length-1],i=n.slice(0,n.length-1),o=Tp(e,i,i[0]||null);t.onChange(o,{action:"pop-value",removedValue:r})},t.getValue=function(){return t.state.selectValue},t.cx=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return hp.apply(void 0,[t.props.classNamePrefix].concat(n))},t.getOptionLabel=function(e){return qv(t.props,e)},t.getOptionValue=function(e){return Gv(t.props,e)},t.getStyles=function(e,n){var r=t.props.unstyled,i=Uv[e](n,r);i.boxSizing="border-box";var o=t.props.styles[e];return o?o(i,n):i},t.getClassNames=function(e,n){var r,i;return null===(r=(i=t.props.classNames)[e])||void 0===r?void 0:r.call(i,n)},t.getElementId=function(e){return"".concat(t.instancePrefix,"-").concat(e)},t.getComponents=function(){return e=t.props,Xf(Xf({},ov),e.components);var e},t.buildCategorizedOptions=function(){return Kv(t.props,t.state.selectValue)},t.getCategorizedOptions=function(){return t.props.menuIsOpen?t.buildCategorizedOptions():[]},t.buildFocusableOptions=function(){return Vv(t.buildCategorizedOptions())},t.getFocusableOptions=function(){return t.props.menuIsOpen?t.buildFocusableOptions():[]},t.ariaOnChange=function(e,n){t.setState({ariaSelection:Xf({value:e},n)})},t.onMenuMouseDown=function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),t.focusInput())},t.onMenuMouseMove=function(e){t.blockOptionHover=!1},t.onControlMouseDown=function(e){if(!e.defaultPrevented){var n=t.props.openMenuOnClick;t.state.isFocused?t.props.menuIsOpen?"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&t.onMenuClose():n&&t.openMenu("first"):(n&&(t.openAfterFocus=!0),t.focusInput()),"INPUT"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName&&e.preventDefault()}},t.onDropdownIndicatorMouseDown=function(e){if((!e||"mousedown"!==e.type||0===e.button)&&!t.props.isDisabled){var n=t.props,r=n.isMulti,i=n.menuIsOpen;t.focusInput(),i?(t.setState({inputIsHiddenAfterUpdate:!r}),t.onMenuClose()):t.openMenu("first"),e.preventDefault()}},t.onClearIndicatorMouseDown=function(e){e&&"mousedown"===e.type&&0!==e.button||(t.clearValue(),e.preventDefault(),t.openAfterFocus=!1,"touchend"===e.type?t.focusInput():setTimeout((function(){return t.focusInput()})))},t.onScroll=function(e){"boolean"===typeof t.props.closeMenuOnScroll?e.target instanceof HTMLElement&&yp(e.target)&&t.props.onMenuClose():"function"===typeof t.props.closeMenuOnScroll&&t.props.closeMenuOnScroll(e)&&t.props.onMenuClose()},t.onCompositionStart=function(){t.isComposing=!0},t.onCompositionEnd=function(){t.isComposing=!1},t.onTouchStart=function(e){var n=e.touches,r=n&&n.item(0);r&&(t.initialTouchX=r.clientX,t.initialTouchY=r.clientY,t.userIsDragging=!1)},t.onTouchMove=function(e){var n=e.touches,r=n&&n.item(0);if(r){var i=Math.abs(r.clientX-t.initialTouchX),o=Math.abs(r.clientY-t.initialTouchY);t.userIsDragging=i>5||o>5}},t.onTouchEnd=function(e){t.userIsDragging||(t.controlRef&&!t.controlRef.contains(e.target)&&t.menuListRef&&!t.menuListRef.contains(e.target)&&t.blurInput(),t.initialTouchX=0,t.initialTouchY=0)},t.onControlTouchEnd=function(e){t.userIsDragging||t.onControlMouseDown(e)},t.onClearIndicatorTouchEnd=function(e){t.userIsDragging||t.onClearIndicatorMouseDown(e)},t.onDropdownIndicatorTouchEnd=function(e){t.userIsDragging||t.onDropdownIndicatorMouseDown(e)},t.handleInputChange=function(e){var n=t.props.inputValue,r=e.currentTarget.value;t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange(r,{action:"input-change",prevInputValue:n}),t.props.menuIsOpen||t.onMenuOpen()},t.onInputFocus=function(e){t.props.onFocus&&t.props.onFocus(e),t.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(t.openAfterFocus||t.props.openMenuOnFocus)&&t.openMenu("first"),t.openAfterFocus=!1},t.onInputBlur=function(e){var n=t.props.inputValue;t.menuListRef&&t.menuListRef.contains(document.activeElement)?t.inputRef.focus():(t.props.onBlur&&t.props.onBlur(e),t.onInputChange("",{action:"input-blur",prevInputValue:n}),t.onMenuClose(),t.setState({focusedValue:null,isFocused:!1}))},t.onOptionHover=function(e){t.blockOptionHover||t.state.focusedOption===e||t.setState({focusedOption:e})},t.shouldHideSelectedOptions=function(){return Xv(t.props)},t.onValueInputFocus=function(e){e.preventDefault(),e.stopPropagation(),t.focus()},t.onKeyDown=function(e){var n=t.props,r=n.isMulti,i=n.backspaceRemovesValue,o=n.escapeClearsValue,a=n.inputValue,s=n.isClearable,u=n.isDisabled,c=n.menuIsOpen,l=n.onKeyDown,f=n.tabSelectsValue,d=n.openMenuOnFocus,h=t.state,p=h.focusedOption,v=h.focusedValue,g=h.selectValue;if(!u&&("function"!==typeof l||(l(e),!e.defaultPrevented))){switch(t.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;t.focusValue("previous");break;case"ArrowRight":if(!r||a)return;t.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(v)t.removeValue(v);else{if(!i)return;r?t.popValue():s&&t.clearValue()}break;case"Tab":if(t.isComposing)return;if(e.shiftKey||!c||!f||!p||d&&t.isOptionSelected(p,g))return;t.selectOption(p);break;case"Enter":if(229===e.keyCode)break;if(c){if(!p)return;if(t.isComposing)return;t.selectOption(p);break}return;case"Escape":c?(t.setState({inputIsHiddenAfterUpdate:!1}),t.onInputChange("",{action:"menu-close",prevInputValue:a}),t.onMenuClose()):s&&o&&t.clearValue();break;case" ":if(a)return;if(!c){t.openMenu("first");break}if(!p)return;t.selectOption(p);break;case"ArrowUp":c?t.focusOption("up"):t.openMenu("last");break;case"ArrowDown":c?t.focusOption("down"):t.openMenu("first");break;case"PageUp":if(!c)return;t.focusOption("pageup");break;case"PageDown":if(!c)return;t.focusOption("pagedown");break;case"Home":if(!c)return;t.focusOption("first");break;case"End":if(!c)return;t.focusOption("last");break;default:return}e.preventDefault()}},t.instancePrefix="react-select-"+(t.props.instanceId||++$v),t.state.selectValue=pp(e.value),e.menuIsOpen&&t.state.selectValue.length){var n=t.buildFocusableOptions(),r=n.indexOf(t.state.selectValue[0]);t.state.focusedOption=n[r]}return t}return t=o,n=[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&xp(this.menuListRef,this.focusedOptionRef)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.isDisabled,r=t.menuIsOpen,i=this.state.isFocused;(i&&!n&&e.isDisabled||i&&r&&!e.menuIsOpen)&&this.focusInput(),i&&n&&!e.isDisabled?this.setState({isFocused:!1},this.onMenuClose):i||n||!e.isDisabled||this.inputRef!==document.activeElement||this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(xp(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this,n=this.state,r=n.selectValue,i=n.isFocused,o=this.buildFocusableOptions(),a="first"===e?0:o.length-1;if(!this.props.isMulti){var s=o.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[a]},(function(){return t.onMenuOpen()}))}},{key:"focusValue",value:function(e){var t=this.state,n=t.selectValue,r=t.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(r);r||(i=-1);var o=n.length-1,a=-1;if(n.length){switch(e){case"previous":a=0===i?0:-1===i?o:i-1;break;case"next":i>-1&&i<o&&(a=i+1)}this.setState({inputIsHidden:-1!==a,focusedValue:n[a]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state.focusedOption,r=this.getFocusableOptions();if(r.length){var i=0,o=r.indexOf(n);n||(o=-1),"up"===e?i=o>0?o-1:r.length-1:"down"===e?i=(o+1)%r.length:"pageup"===e?(i=o-t)<0&&(i=0):"pagedown"===e?(i=o+t)>r.length-1&&(i=r.length-1):"last"===e&&(i=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[i],focusedValue:null})}}},{key:"getTheme",value:function(){return this.props.theme?"function"===typeof this.props.theme?this.props.theme(Bv):Xf(Xf({},Bv),this.props.theme):Bv}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.cx,n=this.getStyles,r=this.getClassNames,i=this.getValue,o=this.selectOption,a=this.setValue,s=this.props,u=s.isMulti,c=s.isRtl,l=s.options;return{clearValue:e,cx:t,getStyles:n,getClassNames:r,getValue:i,hasValue:this.hasValue(),isMulti:u,isRtl:c,options:l,selectOption:o,selectProps:s,setValue:a,theme:this.getTheme()}}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return Jv(this.props,e,t)}},{key:"isOptionSelected",value:function(e,t){return Qv(this.props,e,t)}},{key:"filterOption",value:function(e,t){return Yv(this.props,e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"===typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,i=e.inputValue,o=e.tabIndex,a=e.form,s=e.menuIsOpen,u=e.required,c=this.getComponents().Input,l=this.state,f=l.inputIsHidden,d=l.ariaSelection,h=this.commonProps,p=r||this.getElementId("input"),v=Xf(Xf(Xf({"aria-autocomplete":"list","aria-expanded":s,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":u,role:"combobox"},s&&{"aria-controls":this.getElementId("listbox"),"aria-owns":this.getElementId("listbox")}),!n&&{"aria-readonly":!0}),this.hasValue()?"initial-input-focus"===(null===d||void 0===d?void 0:d.action)&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return n?ne.createElement(c,id({},h,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:p,innerRef:this.getInputRef,isDisabled:t,isHidden:f,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:o,form:a,type:"text",value:i},v)):ne.createElement(kv,id({id:p,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:fp,onFocus:this.onInputFocus,disabled:t,tabIndex:o,inputMode:"none",form:a,value:""},v))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.getComponents(),n=t.MultiValue,r=t.MultiValueContainer,i=t.MultiValueLabel,o=t.MultiValueRemove,a=t.SingleValue,s=t.Placeholder,u=this.commonProps,c=this.props,l=c.controlShouldRenderValue,f=c.isDisabled,d=c.isMulti,h=c.inputValue,p=c.placeholder,v=this.state,g=v.selectValue,y=v.focusedValue,m=v.isFocused;if(!this.hasValue()||!l)return h?null:ne.createElement(s,id({},u,{key:"placeholder",isDisabled:f,isFocused:m,innerProps:{id:this.getElementId("placeholder")}}),p);if(d)return g.map((function(t,a){var s=t===y,c="".concat(e.getOptionLabel(t),"-").concat(e.getOptionValue(t));return ne.createElement(n,id({},u,{components:{Container:r,Label:i,Remove:o},isFocused:s,isDisabled:f,key:c,index:a,removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault()}},data:t}),e.formatOptionLabel(t,"value"))}));if(h)return null;var w=g[0];return ne.createElement(a,id({},u,{data:w,isDisabled:f}),this.formatOptionLabel(w,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.getComponents().ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||i)return null;var a={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(e,id({},t,{innerProps:a,isFocused:o}))}},{key:"renderLoadingIndicator",value:function(){var e=this.getComponents().LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,i=n.isLoading,o=this.state.isFocused;return e&&i?ne.createElement(e,id({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var e=this.getComponents(),t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,i=this.props.isDisabled,o=this.state.isFocused;return ne.createElement(n,id({},r,{isDisabled:i,isFocused:o}))}},{key:"renderDropdownIndicator",value:function(){var e=this.getComponents().DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return ne.createElement(e,id({},t,{innerProps:i,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.getComponents(),n=t.Group,r=t.GroupHeading,i=t.Menu,o=t.MenuList,a=t.MenuPortal,s=t.LoadingMessage,u=t.NoOptionsMessage,c=t.Option,l=this.commonProps,f=this.state.focusedOption,d=this.props,h=d.captureMenuScroll,p=d.inputValue,v=d.isLoading,g=d.loadingMessage,y=d.minMenuHeight,m=d.maxMenuHeight,w=d.menuIsOpen,_=d.menuPlacement,b=d.menuPosition,x=d.menuPortalTarget,S=d.menuShouldBlockScroll,k=d.menuShouldScrollIntoView,E=d.noOptionsMessage,C=d.onMenuScrollToTop,P=d.onMenuScrollToBottom;if(!w)return null;var A,T=function(t,n){var r=t.type,i=t.data,o=t.isDisabled,a=t.isSelected,s=t.label,u=t.value,d=f===i,h=o?void 0:function(){return e.onOptionHover(i)},p=o?void 0:function(){return e.selectOption(i)},v="".concat(e.getElementId("option"),"-").concat(n),g={id:v,onClick:p,onMouseMove:h,onMouseOver:h,tabIndex:-1};return ne.createElement(c,id({},l,{innerProps:g,data:i,isDisabled:o,isSelected:a,key:v,label:s,type:r,value:u,isFocused:d,innerRef:d?e.getFocusedOptionRef:void 0}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=this.getCategorizedOptions().map((function(t){if("group"===t.type){var i=t.data,o=t.options,a=t.index,s="".concat(e.getElementId("group"),"-").concat(a),u="".concat(s,"-heading");return ne.createElement(n,id({},l,{key:s,data:i,options:o,Heading:r,headingProps:{id:u,data:t.data},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return T(e,"".concat(a,"-").concat(e.index))})))}if("option"===t.type)return T(t,"".concat(t.index))}));else if(v){var O=g({inputValue:p});if(null===O)return null;A=ne.createElement(s,l,O)}else{var I=E({inputValue:p});if(null===I)return null;A=ne.createElement(u,l,I)}var R={minMenuHeight:y,maxMenuHeight:m,menuPlacement:_,menuPosition:b,menuShouldScrollIntoView:k},L=ne.createElement(Lp,id({},l,R),(function(t){var n=t.ref,r=t.placerProps,a=r.placement,s=r.maxHeight;return ne.createElement(i,id({},l,R,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove,id:e.getElementId("listbox")},isLoading:v,placement:a}),ne.createElement(jv,{captureEnabled:h,onTopArrive:C,onBottomArrive:P,lockEnabled:S},(function(t){return ne.createElement(o,id({},l,{innerRef:function(n){e.getMenuListRef(n),t(n)},isLoading:v,maxHeight:s,focusedOption:f}),A)})))}));return x||"fixed"===b?ne.createElement(a,id({},l,{appendTo:x,controlElement:this.controlRef,menuPlacement:_,menuPosition:b}),L):L}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,i=t.isMulti,o=t.name,a=t.required,s=this.state.selectValue;if(a&&!this.hasValue()&&!r)return ne.createElement(Nv,{name:o,onFocus:this.onValueInputFocus});if(o&&!r){if(i){if(n){var u=s.map((function(t){return e.getOptionValue(t)})).join(n);return ne.createElement("input",{name:o,type:"hidden",value:u})}var c=s.length>0?s.map((function(t,n){return ne.createElement("input",{key:"i-".concat(n),name:o,type:"hidden",value:e.getOptionValue(t)})})):ne.createElement("input",{name:o,type:"hidden",value:""});return ne.createElement("div",null,c)}var l=s[0]?this.getOptionValue(s[0]):"";return ne.createElement("input",{name:o,type:"hidden",value:l})}}},{key:"renderLiveRegion",value:function(){var e=this.commonProps,t=this.state,n=t.ariaSelection,r=t.focusedOption,i=t.focusedValue,o=t.isFocused,a=t.selectValue,s=this.getFocusableOptions();return ne.createElement(dv,id({},e,{id:this.getElementId("live-region"),ariaSelection:n,focusedOption:r,focusedValue:i,isFocused:o,selectValue:a,focusableOptions:s}))}},{key:"render",value:function(){var e=this.getComponents(),t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,i=e.ValueContainer,o=this.props,a=o.className,s=o.id,u=o.isDisabled,c=o.menuIsOpen,l=this.state.isFocused,f=this.commonProps=this.getCommonProps();return ne.createElement(r,id({},f,{className:a,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:u,isFocused:l}),this.renderLiveRegion(),ne.createElement(t,id({},f,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:u,isFocused:l,menuIsOpen:c}),ne.createElement(i,id({},f,{isDisabled:u}),this.renderPlaceholderOrValue(),this.renderInput()),ne.createElement(n,id({},f,{isDisabled:u}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],r=[{key:"getDerivedStateFromProps",value:function(e,t){var n=t.prevProps,r=t.clearFocusValueOnUpdate,i=t.inputIsHiddenAfterUpdate,o=t.ariaSelection,a=t.isFocused,s=t.prevWasFocused,u=e.options,c=e.value,l=e.menuIsOpen,f=e.inputValue,d=e.isMulti,h=pp(c),p={};if(n&&(c!==n.value||u!==n.options||l!==n.menuIsOpen||f!==n.inputValue)){var v=l?function(e,t){return Vv(Kv(e,t))}(e,h):[],g=r?function(e,t){var n=e.focusedValue,r=e.selectValue.indexOf(n);if(r>-1){if(t.indexOf(n)>-1)return n;if(r<t.length)return t[r]}return null}(t,h):null,y=function(e,t){var n=e.focusedOption;return n&&t.indexOf(n)>-1?n:t[0]}(t,v);p={selectValue:h,focusedOption:y,focusedValue:g,clearFocusValueOnUpdate:!1}}var m=null!=i&&e!==n?{inputIsHidden:i,inputIsHiddenAfterUpdate:void 0}:{},w=o,_=a&&s;return a&&!_&&(w={value:Tp(d,h,h[0]||null),options:h,action:"initial-input-focus"},_=!s),"initial-input-focus"===(null===o||void 0===o?void 0:o.action)&&(w=null),Xf(Xf(Xf({},p),m),{},{prevProps:e,ariaSelection:w,prevWasFocused:_})}}],n&&od(t.prototype,n),r&&od(t,r),Object.defineProperty(t,"prototype",{writable:!1}),o}(ne.Component);eg.defaultProps=Hv;var tg=(0,ne.forwardRef)((function(e,t){var n=function(e){var t=e.defaultInputValue,n=void 0===t?"":t,r=e.defaultMenuIsOpen,i=void 0!==r&&r,o=e.defaultValue,a=void 0===o?null:o,s=e.inputValue,u=e.menuIsOpen,c=e.onChange,l=e.onInputChange,f=e.onMenuClose,d=e.onMenuOpen,h=e.value,p=nd(e,rd),v=td((0,ne.useState)(void 0!==s?s:n),2),g=v[0],y=v[1],m=td((0,ne.useState)(void 0!==u?u:i),2),w=m[0],_=m[1],b=td((0,ne.useState)(void 0!==h?h:a),2),x=b[0],S=b[1],k=(0,ne.useCallback)((function(e,t){"function"===typeof c&&c(e,t),S(e)}),[c]),E=(0,ne.useCallback)((function(e,t){var n;"function"===typeof l&&(n=l(e,t)),y(void 0!==n?n:e)}),[l]),C=(0,ne.useCallback)((function(){"function"===typeof d&&d(),_(!0)}),[d]),P=(0,ne.useCallback)((function(){"function"===typeof f&&f(),_(!1)}),[f]),A=void 0!==s?s:g,T=void 0!==u?u:w,O=void 0!==h?h:x;return Xf(Xf({},p),{},{inputValue:A,menuIsOpen:T,onChange:k,onInputChange:E,onMenuClose:P,onMenuOpen:C,value:O})}(e);return ne.createElement(eg,id({ref:t},n))})),ng=tg,rg=["data"],ig=function(e){var n=e.webId,r=Fu(n,dn),i=(0,t.Z)(r,4),o=i[1],a=i[3],s=(0,ne.useState)(""),u=(0,t.Z)(s,2),c=u[0],l=u[1],f=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"en";return So(["wikidataSearch",e,t],(function(){return sc(e,t)}),{enabled:!!e,refetchOnWindowFocus:!1,refetchOnMount:!1,staleTime:1/0})}(c),d=f.data,h=(0,to.Z)(f,rg),p=function(){var e=Eu();return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.person,i=n.document,o=n.interest,a="_:mutate a <".concat(iu.InsertDeletePatch,">;\n        <").concat(iu.deletes,"> { <").concat(r,"> <").concat(eu.topic_interest,"> <").concat(o,">. } ."),t.next=4,e.mutateAsync({uri:i,patch:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),v=function(){var e=Eu();return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.person,i=n.document,o=n.interest,a="_:mutate a <".concat(iu.InsertDeletePatch,">;\n        <").concat(iu.inserts,"> { <").concat(r,"> <").concat(eu.topic_interest,"> <").concat(o,">. } ."),t.next=4,e.mutateAsync({uri:i,patch:a});case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),g=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.id,i=t.document,e.next=3,p({interest:r,document:i,person:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=(0,ne.useMemo)((function(){return(0,zs.debounce)(l,500)}),[]),m=(0,ne.useCallback)((function(e){return y(e)}),[y]),w=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=3;break}return e.next=3,v({interest:t.id,person:n,document:n});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return o.isLoading||void 0===o.isLoading?(0,aa.jsx)(gc,{children:"loading interests"}):(0,aa.jsxs)("div",{children:[(0,aa.jsx)("ul",{className:fc,children:a.map((function(e){var t=e.id,n=e.document;return(0,aa.jsx)("li",{children:(0,aa.jsx)(og,{id:t,onRemove:function(){return g({id:t,document:n})}})},t+n)}))}),(0,aa.jsx)(ng,{options:d,filterOption:function(){return!0},formatOptionLabel:function(e){return(0,aa.jsxs)("div",{title:e.description,children:[e.label,e.aliases.length>0&&" (".concat(e.aliases.join(", "),")"),(0,aa.jsx)("br",{}),e.description]})},isLoading:h.isFetching,value:null,menuPlacement:"auto",placeholder:"Search interest...",onInputChange:m,onChange:w})]})},og=function(e){var t=e.id,n=e.onRemove,r=uc(t).data,i={id:t,label:t.split("/").pop(),description:t},o=(0,zs.merge)({},i,r);return(0,aa.jsxs)("span",{title:o.description,className:dc,children:[o.label," ",(0,aa.jsx)("button",{onClick:n,children:(0,aa.jsx)(ta,{})})]})},ag="EditProfile_container__Skvjm",sg="EditProfile_uploadButton__l3U4J",ug=function(){var n=yc(),r=Ai(),i=Fu(n.webId,dn),o=(0,t.Z)(i,5),a=o[2],s=o[4],u=function(){var e=Cu(Ms);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.personId,i=n.hospexDocument,o=n.data,a=n.language,s=void 0===a?"en":a,t.next=3,e.mutateAsync({uri:i,subject:r,language:s,transform:function(e){o.name&&(e.name=o.name),o.about&&(e.note=[o.about]),o.photo&&(e.hasPhoto={"@id":o.photo})}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),c=Ko(),l=zo(),f=function(){var t=(0,q.Z)((0,W.Z)().mark((function t(i){var o,f,d,h;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.webId){t.next=2;break}throw new Error("Not signed in (should not happen)");case 2:if(a){t.next=4;break}throw new Error("Hospex document not found");case 4:if(f=null===(o=i.photo)||void 0===o?void 0:o[0],h=s.photo,!f){t.next=10;break}return t.next=9,l.mutateAsync({uri:Io(a),data:f});case 9:d=t.sent;case 10:return t.next=12,u({hospexDocument:a,personId:n.webId,data:(0,e.Z)((0,e.Z)({},i),{},{photo:d}),language:"en"});case 12:if(!f||!h){t.next=15;break}return t.next=15,c.mutateAsync({uri:h});case 15:r("..");case 16:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();if(!n.webId)throw new Error("Not signed in (should not happen)");return s?(0,aa.jsxs)("div",{className:ag,children:[(0,aa.jsx)(cg,{initialData:s,onSubmit:f}),(0,aa.jsx)("label",{children:"Interests"}),(0,aa.jsx)(ig,{webId:n.webId})]}):(0,aa.jsx)(gc,{children:"Fetching profile"})},cg=function(n){var r=n.initialData,i=n.onSubmit,o=xf({defaultValues:(0,zs.omit)(r,"photo")}),a=o.register,s=o.handleSubmit,u=o.watch,c=o.setValue;(0,ne.useEffect)((function(){"string"===typeof r.name&&c("name",r.name)}),[r.name,c]),(0,ne.useEffect)((function(){"string"===typeof r.about&&c("about",r.about)}),[r.about,c]);var l=Uo(r.photo).data,f=s(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=(0,ne.useState)(),h=(0,t.Z)(d,2),p=h[0],v=h[1];(0,ne.useEffect)((function(){var e=u(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t,n){var r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("photo"!==n.name){e.next=9;break}if(!(i=null===(r=t.photo)||void 0===r?void 0:r[0])){e.next=9;break}return e.t0=v,e.next=7,Oo(i);case 7:e.t1=e.sent,(0,e.t0)(e.t1);case 9:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());return function(){return e.unsubscribe()}}),[u]);var g=p||l;return(0,aa.jsxs)("form",{onSubmit:f,children:[(0,aa.jsx)("label",{htmlFor:"name",children:"Name"}),(0,aa.jsx)("input",(0,e.Z)((0,e.Z)({id:"name",type:"text"},a("name")),{},{placeholder:"Name"})),(0,aa.jsx)("label",{htmlFor:"photo",children:"Photo"}),(0,aa.jsxs)("label",{tabIndex:0,htmlFor:"photo",className:sg,style:g?{backgroundImage:"url(".concat(g,")")}:void 0,children:[(0,aa.jsx)(Xo,{}),(0,aa.jsx)("input",(0,e.Z)((0,e.Z)({id:"photo",type:"file"},a("photo")),{},{accept:"image/*"}))]}),(0,aa.jsx)("label",{htmlFor:"about",children:"About me"}),(0,aa.jsx)("textarea",(0,e.Z)({id:"about"},a("about"))),(0,aa.jsx)(Aa,{primary:!0,children:"Save changes"})]})},lg="NavLayout_container__9A4yj",fg="NavLayout_navigation__NsthZ",dg="NavLayout_active__iSY3x",hg=function(e){var t=e.tabs,n=e.children;return(0,aa.jsxs)("div",{className:lg,children:[n,(0,aa.jsx)("nav",{className:fg,children:t.map((function(e){var t=e.link,n=e.label;return(0,aa.jsx)(ya,{className:function(e){return e.isActive?dg:void 0},to:t,children:n},t)}))})]})},pg="Home_container__HLpTt",vg=function(){var e=yc(),t=Uu(e.webId).data,n=(0,ne.useMemo)((function(){return[{link:"messages",label:(0,aa.jsxs)("span",{children:[(0,aa.jsx)(ra,{size:32}),null!==t&&void 0!==t&&t.length?" (".concat(t.length," new)"):null]})}]}),[t]);return(0,aa.jsx)(hg,{tabs:n,children:(0,aa.jsxs)("div",{className:pg,children:[(0,aa.jsx)(Ta,{to:"travel",secondary:!0,children:"travel"}),(0,aa.jsx)(Ta,{to:"host",secondary:!0,children:"host"})]})})},gg=[{link:"offers",label:"my offers"},{link:"invite",label:"invite people"},{link:"guests",label:"my guests"}],yg=function(){return(0,aa.jsx)(hg,{tabs:gg,children:(0,aa.jsx)(zi,{})})},mg=function(){return(0,aa.jsx)(Hi,{to:"offers",replace:!0})},wg=function(){return(0,aa.jsx)(aa.Fragment,{children:"InvitePeople"})},_g=n(7892),bg=n.n(_g),xg=["data"],Sg=[["?me",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","privateTypeIndex","?privateTypeIndex"],["?privateTypeIndex","references","?typeRegistration"],["?typeRegistration","forClass","LongChat"],["?typeRegistration","instance","?chat"],["?chat",function(e,t){var n;return"number"===typeof(null===(n=e.participation)||void 0===n?void 0:n.length)&&e.participation.length<3&&e.participation.some((function(e){return e.participant["@id"]===t.userId}))}],["?chat","participation","?participation"],["?participation","references","?otherChat"],["?chat","message","?message"],["?otherChat","message","?message"],["?chat",Io,"?chatContainer",Zs],["?otherChat",Io,"?chatContainer",Zs],["?chatContainer","contains","?year"],["?year","contains","?month"],["?month","contains","?day"],["?day","contains","?messagesDoc"],["?messagesDoc"],["?message"]],kg=Symbol.for("immer-nothing"),Eg=Symbol.for("immer-draftable"),Cg=Symbol.for("immer-state");function Pg(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Ag=Object.getPrototypeOf;function Tg(e){return!!e&&!!e[Cg]}function Og(e){var t;return!!e&&(Rg(e)||Array.isArray(e)||!!e[Eg]||!(null===(t=e.constructor)||void 0===t||!t[Eg])||Dg(e)||Ng(e))}var Ig=Object.prototype.constructor.toString();function Rg(e){if(!e||"object"!==typeof e)return!1;var t=Ag(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===Ig}function Lg(e,n){0===Fg(e)?Object.entries(e).forEach((function(r){var i=(0,t.Z)(r,2),o=i[0],a=i[1];n(o,a,e)})):e.forEach((function(t,r){return n(r,t,e)}))}function Fg(e){var t=e[Cg];return t?t.type_:Array.isArray(e)?1:Dg(e)?2:Ng(e)?3:0}function Mg(e,t){return 2===Fg(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function jg(e,t,n){var r=Fg(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Dg(e){return e instanceof Map}function Ng(e){return e instanceof Set}function Ug(e){return e.copy_||e.base_}function Zg(t,n){if(Dg(t))return new Map(t);if(Ng(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!n&&Rg(t)){if(!Ag(t)){var r=Object.create(null);return Object.assign(r,t)}return(0,e.Z)({},t)}var i=Object.getOwnPropertyDescriptors(t);delete i[Cg];for(var o=Reflect.ownKeys(i),a=0;a<o.length;a++){var s=o[a],u=i[s];!1===u.writable&&(u.writable=!0,u.configurable=!0),(u.get||u.set)&&(i[s]={configurable:!0,writable:!0,enumerable:u.enumerable,value:t[s]})}return Object.create(Ag(t),i)}function Bg(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return zg(e)||Tg(e)||!Og(e)||(Fg(e)>1&&(e.set=e.add=e.clear=e.delete=Hg),Object.freeze(e),t&&Lg(e,(function(e,t){return Bg(t,!0)}))),e}function Hg(){Pg(2)}function zg(e){return Object.isFrozen(e)}var Kg,Vg={};function Wg(e){var t=Vg[e];return t||Pg(0),t}function qg(){return Kg}function Gg(e,t){t&&(Wg("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jg(e){Qg(e),e.drafts_.forEach(Xg),e.drafts_=null}function Qg(e){e===Kg&&(Kg=e.parent_)}function Yg(e){return Kg={drafts_:[],parent_:Kg,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Xg(e){var t=e[Cg];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function $g(e,t){t.unfinalizedDrafts_=t.drafts_.length;var n=t.drafts_[0];return void 0!==e&&e!==n?(n[Cg].modified_&&(Jg(t),Pg(4)),Og(e)&&(e=ey(t,e),t.parent_||ny(t,e)),t.patches_&&Wg("Patches").generateReplacementPatches_(n[Cg].base_,e,t.patches_,t.inversePatches_)):e=ey(t,n,[]),Jg(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==kg?e:void 0}function ey(e,t,n){if(zg(t))return t;var r=t[Cg];if(!r)return Lg(t,(function(i,o){return ty(e,r,t,i,o,n)})),t;if(r.scope_!==e)return t;if(!r.modified_)return ny(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;var i=r.copy_,o=i,a=!1;3===r.type_&&(o=new Set(i),i.clear(),a=!0),Lg(o,(function(t,o){return ty(e,r,i,t,o,n,a)})),ny(e,i,!1),n&&e.patches_&&Wg("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function ty(e,t,n,r,i,o,a){if(Tg(i)){var s=ey(e,i,o&&t&&3!==t.type_&&!Mg(t.assigned_,r)?o.concat(r):void 0);if(jg(n,r,s),!Tg(s))return;e.canAutoFreeze_=!1}else a&&n.add(i);if(Og(i)&&!zg(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;ey(e,i),t&&t.scope_.parent_||ny(e,i)}}function ny(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Bg(t,n)}var ry={get:function(e,t){if(t===Cg)return e;var n=Ug(e);if(!Mg(n,t))return function(e,t,n){var r,i=ay(t,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);var r=n[t];return e.finalized_||!Og(r)?r:r===oy(e.base_,t)?(uy(e),e.copy_[t]=ly(r,e)):r},has:function(e,t){return t in Ug(e)},ownKeys:function(e){return Reflect.ownKeys(Ug(e))},set:function(e,t,n){var r=ay(Ug(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){var i=oy(Ug(e),t),o=null===i||void 0===i?void 0:i[Cg];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,i)&&(void 0!==n||Mg(e.base_,t)))return!0;uy(e),sy(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:function(e,t){return void 0!==oy(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,uy(e),sy(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Ug(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty:function(){Pg(11)},getPrototypeOf:function(e){return Ag(e.base_)},setPrototypeOf:function(){Pg(12)}},iy={};function oy(e,t){var n=e[Cg];return(n?Ug(n):e)[t]}function ay(e,t){if(t in e)for(var n=Ag(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ag(n)}}function sy(e){e.modified_||(e.modified_=!0,e.parent_&&sy(e.parent_))}function uy(e){e.copy_||(e.copy_=Zg(e.base_,e.scope_.immer_.useStrictShallowCopy_))}Lg(ry,(function(e,t){iy[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),iy.deleteProperty=function(e,t){return iy.set.call(this,e,t,void 0)},iy.set=function(e,t,n){return ry.set.call(this,e[0],t,n,e[0])};var cy=function(){function e(t){var n=this;(0,r.Z)(this,e),this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=function(e,t,r){if("function"===typeof e&&"function"!==typeof t){var i=t;t=e;var o=n;return function(){for(var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];return o.produce(n,(function(n){var r;return(r=t).call.apply(r,[e,n].concat(a))}))}}var a;if("function"!==typeof t&&Pg(6),void 0!==r&&"function"!==typeof r&&Pg(7),Og(e)){var s=Yg(n),u=ly(e,void 0),c=!0;try{a=t(u),c=!1}finally{c?Jg(s):Qg(s)}return Gg(s,r),$g(a,s)}if(!e||"object"!==typeof e){if(void 0===(a=t(e))&&(a=e),a===kg&&(a=void 0),n.autoFreeze_&&Bg(a,!0),r){var l=[],f=[];Wg("Patches").generateReplacementPatches_(e,a,l,f),r(l,f)}return a}Pg(1)},this.produceWithPatches=function(e,t){if("function"===typeof e)return function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return n.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(i))}))};var r,i,o=n.produce(e,t,(function(e,t){r=e,i=t}));return[o,r,i]},"boolean"===typeof(null===t||void 0===t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),"boolean"===typeof(null===t||void 0===t?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}return(0,i.Z)(e,[{key:"createDraft",value:function(e){Og(e)||Pg(8),Tg(e)&&(e=function(e){Tg(e)||Pg(10);return fy(e)}(e));var t=Yg(this),n=ly(e,void 0);return n[Cg].isManual_=!0,Qg(t),n}},{key:"finishDraft",value:function(e,t){var n=e&&e[Cg];n&&n.isManual_||Pg(9);var r=n.scope_;return Gg(r,t),$g(void 0,r)}},{key:"setAutoFreeze",value:function(e){this.autoFreeze_=e}},{key:"setUseStrictShallowCopy",value:function(e){this.useStrictShallowCopy_=e}},{key:"applyPatches",value:function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));var i=Wg("Patches").applyPatches_;return Tg(e)?i(e,t):this.produce(e,(function(e){return i(e,t)}))}}]),e}();function ly(e,t){var n=Dg(e)?Wg("MapSet").proxyMap_(e,t):Ng(e)?Wg("MapSet").proxySet_(e,t):function(e,t){var n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:qg(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1},i=r,o=ry;n&&(i=[r],o=iy);var a=Proxy.revocable(i,o),s=a.revoke,u=a.proxy;return r.draft_=u,r.revoke_=s,u}(e,t);return(t?t.scope_:qg()).drafts_.push(n),n}function fy(e){if(!Og(e)||zg(e))return e;var t,n=e[Cg];if(n){if(!n.modified_)return n.base_;n.finalized_=!0,t=Zg(e,n.scope_.immer_.useStrictShallowCopy_)}else t=Zg(e,!0);return Lg(t,(function(e,n){jg(t,e,fy(n))})),n&&(n.finalized_=!1),t}var dy=new cy,hy=dy.produce;dy.produceWithPatches.bind(dy),dy.setAutoFreeze.bind(dy),dy.setUseStrictShallowCopy.bind(dy),dy.applyPatches.bind(dy),dy.createDraft.bind(dy),dy.finishDraft.bind(dy);var py="Messages_messages__4CnGc",vy="Messages_message__B0daT",gy="Messages_fromMe__AMkB9",yy="Messages_unread__Zh5p-",my="Messages_time__4kJrI",wy="Messages_messageForm__Ct2Rj",_y=function(){var n,r,i,o,a,s=Oi().id,u=yc(),c=(0,ne.useState)(!1),l=(0,t.Z)(c,2),f=l[0],d=l[1],h=function(e){var n,r=e.me,i=e.userId,o=(0,ne.useMemo)((function(){return{me:r,userId:i}}),[r,i]),a=Ou(Sg,o),s=(0,t.Z)(a,2),u=s[0],c=s[1],l=(null!==(n=u.chat.concat(u.otherChat).flatMap((function(e){var t;return null===e||void 0===e||null===(t=e.message)||void 0===t?void 0:t.flatMap((function(t){var n;return{id:t["@id"],message:t.content,createdAt:new Date(t.created).getTime(),from:t.maker["@id"],chat:e["@id"],test:null===(n=e.participation)||void 0===n?void 0:n.map((function(e){return e.participant["@id"]}))}}))})))&&void 0!==n?n:[]).filter((function(e){return Boolean(e)})),f=(0,ne.useMemo)((function(){return u.chat.flatMap((function(e){var t,n;return e["@id"]?{myChat:e["@id"],otherChats:null===(t=e.participation)||void 0===t||null===(n=t[0].references)||void 0===n?void 0:n.flatMap((function(e){var t;return null!==(t=e["@id"])&&void 0!==t?t:[]}))}:[]}))}),[u.chat]),d=Uu(r),h=d.data,p=(0,to.Z)(d,xg),v=(0,ne.useMemo)((function(){return h.filter((function(e){return e.from===i}))}),[h,i]),g=(0,ne.useMemo)((function(){var e=(0,Y.Z)(l);return v.forEach((function(t){var n=l.findIndex((function(e){return e.id===t.id}));n>-1?e[n]=t:e.push(t)})),e.sort((function(e,t){var n,r;return(null!==(n=null===e||void 0===e?void 0:e.createdAt)&&void 0!==n?n:0)-(null!==(r=null===t||void 0===t?void 0:t.createdAt)&&void 0!==r?r:0)}))}),[l,v]);return[g,c,p,f]}({me:null!==(n=u.webId)&&void 0!==n?n:"",userId:s}),p=(0,t.Z)(h,4),v=p[0],g=p[1],y=p[2],m=p[3],w=Tc(null!==(r=u.webId)&&void 0!==r?r:"",dn),_=w.privateTypeIndexes,b=w.personalHospexDocuments,x=ju(s),S=(0,t.Z)(x,1)[0],k=null===S||void 0===S||null===(i=S.inbox)||void 0===i?void 0:i["@id"],E=function(){var e=Cu(Us);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s,u,c;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.senderId,i=n.message,o=n.chat,a=Io(o),s="".concat(a).concat(bg()().format("YYYY/MM/DD"),"/chat.ttl"),u="".concat(s,"#msg-").concat(Lc.Z()),c=(new Date).toISOString(),t.next=7,e.mutateAsync({uri:Io(o)+bg()().format("YYYY/MM/DD")+"/chat.ttl",subject:o,transform:function(e){var t;null!==(t=e.message)&&void 0!==t||(e.message=[]),e.message.push({"@id":u,created:c,content:i,maker:{"@id":r}})}});case 7:return t.abrupt("return",{messageId:u,todayChat:s,createdAt:c});case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),C=function(){var e=ku(Bs);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.inbox,i=n.senderId,o=n.messageId,a=n.chatId,s=n.updated,t.next=3,e.mutateAsync({uri:r,method:"POST",data:{"@id":"",type:[{"@id":"Add"}],actor:{"@id":i},context:{"@id":"https://www.pod-chat.com/LongChatMessage"},object:{"@id":o},target:{"@id":a},updated:s}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),P=function(){var e=ku(Us),t=ku(Rc),n=Fc(!0);return(0,ne.useCallback)(function(){var r=(0,q.Z)((0,W.Z)().mark((function r(i){var o,a,s,u,c,l,f,d,h,p;return(0,W.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o=i.me,a=i.otherPerson,s=i.otherChat,u=i.hospexContainer,c=i.privateTypeIndex,l="".concat(u,"messages/").concat(Lc.Z(),"/"),f="".concat(l,"index.ttl"),d="".concat(f,"#this"),h=(new Date).toISOString(),r.next=7,e.mutateAsync({uri:f,data:{"@id":d,type:{"@id":"LongChat"},author:{"@id":o},created2:h,title:"Hospex chat channel",participation:[{"@id":"".concat(f,"#").concat(Lc.Z()),dtstart:h,participant:{"@id":o}},{"@id":"".concat(f,"#").concat(Lc.Z()),dtstart:h,participant:{"@id":a},references:s?[{"@id":s}]:[]}]}});case 7:return r.next=9,No(l);case 9:return p=r.sent,r.next=12,t.mutateAsync({uri:p,data:[{"@id":p+"#ReadWriteControl",type:{"@id":"Authorization"},agent:[{"@id":o}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Xs.Read},{"@id":Xs.Write},{"@id":Xs.Control}]},{"@id":p+"#Read",type:{"@id":"Authorization"},agent:[{"@id":a}],accessTo:[{"@id":l}],default:{"@id":l},mode:[{"@id":Xs.Read}]}]});case 12:return r.next=14,n({index:c,type:"LongChat",location:d});case 14:return r.abrupt("return",{chatContainer:l,chatFile:f,chatId:d});case 15:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}(),[t,e,n])}(),A=function(){var e=Cu(Us),t=Pu();return(0,ne.useCallback)(function(){var n=(0,q.Z)((0,W.Z)().mark((function n(r){var i,o,a,s;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.notificationId,o=r.chat,a=r.otherChat,s=r.otherPerson,n.prev=1,n.next=4,e.mutateAsync({uri:o,subject:o,transform:function(e){var t,n,r;if(!e.participation)throw new Error("no participation");if(e.participation&&e.participation.length>2)throw new Error("too much participation (only 2 people supported!)");var i=null===(t=e.participation)||void 0===t?void 0:t.find((function(e){var t;return(null===(t=e.participant)||void 0===t?void 0:t["@id"])===s}));if(!i)throw new Error("other person's participation not found");if(1===(null===(n=i.references)||void 0===n?void 0:n.length)&&i.references[0]["@id"]===a)throw new Error("already updated");if(i.references&&(null===(r=i.references)||void 0===r?void 0:r.length)>0)throw new Error("participation already references some other chat");i.references=[{"@id":a}]}});case 4:n.next=12;break;case 6:if(n.prev=6,n.t0=n.catch(1),!(n.t0 instanceof Error&&"already updated"===n.t0.message)){n.next=11;break}n.next=12;break;case 11:throw n.t0;case 12:return n.next=14,t.mutateAsync({uri:i});case 14:case"end":return n.stop()}}),n,null,[[1,6]])})));return function(e){return n.apply(this,arguments)}}(),[t,e])}(),T=(0,ne.useState)({}),O=(0,t.Z)(T,2),I=O[0],R=O[1],L=(0,ne.useRef)(new Set);(0,ne.useEffect)((function(){(0,q.Z)((0,W.Z)().mark((function e(){var t,n,r,i;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v&&u.webId&&null!==(t=m[0])&&void 0!==t&&t.myChat)){e.next=17;break}n=(0,Hn.Z)(v),e.prev=2,i=(0,W.Z)().mark((function e(){var t;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=r.value).notification||t.id in I||L.current.has(t.id)){e.next=13;break}return L.current.add(t.id),R(hy((function(e){e[t.id]="processing"}))),e.prev=4,e.next=7,A({notificationId:t.notification,chat:m[0].myChat,otherChat:t.chat,otherPerson:s});case 7:R(hy((function(e){e[t.id]="processed"}))),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),R(hy((function(e){e[t.id]="errored"})));case 13:case"end":return e.stop()}}),e,null,[[4,10]])})),n.s();case 5:if((r=n.n()).done){e.next=9;break}return e.delegateYield(i(),"t0",7);case 7:e.next=5;break;case 9:e.next=14;break;case 11:e.prev=11,e.t1=e.catch(2),n.e(e.t1);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[2,11,14,17]])})))()}),[u.webId,m,v,I,s,A]);var F=null===(o=v.filter((function(e){return e.notification})).find((function(e){return!!e.chat})))||void 0===o?void 0:o.chat,M=xf(),j=M.register,D=M.handleSubmit,N=M.reset,U=D(function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){var n,r,i,o,a,c,l,f,h,p;return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.webId){e.next=2;break}throw new Error("No authenticated user available");case 2:if(d(!0),k){e.next=5;break}throw new Error("Inbox of the other person not found (probably too soon)");case 5:if(r=null===(n=m[0])||void 0===n?void 0:n.myChat){e.next=15;break}if(b[0]){e.next=9;break}throw new Error("Hospex not set up (should not happen)");case 9:if(_[0]){e.next=11;break}throw new Error("Private type index not set up (should not happen)");case 11:return e.next=13,P({me:u.webId,otherPerson:s,hospexContainer:Io(b[0]),otherChat:null!==(i=null!==(o=null===(a=m[0])||void 0===a||null===(c=a.otherChats)||void 0===c?void 0:c[0])&&void 0!==o?o:F)&&void 0!==i?i:void 0,privateTypeIndex:_[0]});case 13:l=e.sent,r=l.chatId;case 15:return e.next=17,E({senderId:u.webId,message:t.message,chat:r});case 17:return f=e.sent,h=f.messageId,p=f.createdAt,e.next=22,C({inbox:k,senderId:u.webId,messageId:h,chatId:r,updated:p});case 22:N({message:""}),d(!1);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Z=f||!k,B=!g.isLoading&&!y.isLoading&&!m.some((function(e){return!!e.myChat}));return(0,aa.jsxs)("div",{children:[(0,aa.jsx)("pre",{children:(g.isLoading||y.isLoading)&&"Loading"}),"Messages with ",(0,aa.jsx)(Lf,{webId:s,link:!0}),(0,aa.jsx)("div",{className:py,children:null!==(a=null===v||void 0===v?void 0:v.map((function(e){var t=e.id,n=e.message,r=e.from,i=e.createdAt,o=e.status;return(0,aa.jsxs)("div",{className:eo()(vy,r===u.webId&&gy,"unread"===o&&yy),children:[n," ",(0,aa.jsx)("span",{className:my,title:new Date(i).toLocaleString(),children:new Date(i).toLocaleTimeString()})]},t)})))&&void 0!==a?a:(0,aa.jsx)("div",{children:(0,aa.jsx)(gc,{children:"Loading previous messages"})})}),B&&(0,aa.jsxs)(aa.Fragment,{children:["This is a start of your conversation"," ",(0,aa.jsx)(Aa,{secondary:!0,children:"Ignore (not implemented)"})]}),(0,aa.jsx)("form",{onSubmit:U,className:wy,children:(0,aa.jsxs)("fieldset",{disabled:Z,children:[(0,aa.jsx)("textarea",(0,e.Z)({},j("message",{required:!0}))),(0,aa.jsx)(Aa,{primary:!0,type:"submit",disabled:Z,children:"Send"})]})})]})},by=function(){return(0,aa.jsx)(aa.Fragment,{children:"MyGuests"})},xy=function(){return(0,aa.jsx)(aa.Fragment,{children:"MyHosts"})},Sy=n(150);function ky(){return(0,Sy.mE)().map}var Ey=["bounds","boundsOptions","center","children","className","id","placeholder","style","whenReady","zoom"];function Cy(){return Cy=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cy.apply(this,arguments)}function Py(e,n){var r=e.bounds,i=e.boundsOptions,o=e.center,a=e.children,s=e.className,u=e.id,c=e.placeholder,l=e.style,f=e.whenReady,d=e.zoom,h=(0,to.Z)(e,Ey),p=(0,ne.useState)({className:s,id:u,style:l}),v=(0,t.Z)(p,1)[0],g=(0,ne.useState)(null),y=(0,t.Z)(g,2),m=y[0],w=y[1];(0,ne.useImperativeHandle)(n,(function(){var e;return null!==(e=null===m||void 0===m?void 0:m.map)&&void 0!==e?e:null}),[m]);var _=(0,ne.useCallback)((function(e){if(null!==e&&null===m){var t=new sn.Map(e,h);null!=o&&null!=d?t.setView(o,d):null!=r&&t.fitBounds(r,i),null!=f&&t.whenReady(f),w((0,Sy.Hb)(t))}}),[]);(0,ne.useEffect)((function(){return function(){null===m||void 0===m||m.map.remove()}}),[m]);var b=m?ne.createElement(Sy.UO,{value:m},a):null!==c&&void 0!==c?c:null;return ne.createElement("div",Cy({},v,{ref:_}),b)}var Ay,Ty,Oy,Iy=(0,ne.forwardRef)(Py),Ry=n(5362),Ly=n(9171),Fy=n(9359),My=n(287),jy=["url"],Dy=(0,Ry.Lf)((function(e,t){var n=e.url,r=(0,to.Z)(e,jy),i=new sn.TileLayer(n,(0,Ly.q)(r,t));return(0,Fy.O)(i,t)}),(function(e,t,n){(0,My.I)(e,t,n);var r=t.url;null!=r&&r!==n.url&&e.setUrl(r)})),Ny=["position"],Uy=(0,Ry.dW)((function(e,t){var n=e.position,r=(0,to.Z)(e,Ny),i=new sn.Marker(n,r);return(0,Fy.O)(i,(0,Sy.sj)(t,{overlayContainer:i}))}),(function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),null!=t.icon&&t.icon!==n.icon&&e.setIcon(t.icon),null!=t.zIndexOffset&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),null!=t.opacity&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),null!=e.dragging&&t.draggable!==n.draggable&&(!0===t.draggable?e.dragging.enable():e.dragging.disable())})),Zy="AccommodationView_mapContainer__Ev+PK",By="AccommodationView_container__cqCB2",Hy="AccommodationView_description__9lid3",zy=function(e){return(e%360-540)%360+180},Ky=function(e){var t=e.onDrag,n=function(e,t){var n=ky();return(0,ne.useEffect)((function(){return n.on(e,t),function(){n.off(e,t)}}),[n,e,t]),n}("drag",(function(){var e=n.getCenter(),r=e.lat,i=e.lng;t([r,zy(i)]),n.setView([r,zy(i)])}));return null},Vy=function(e){var n=e.value,r=e.onChange,i=(0,ne.useMemo)((function(){return[n.lat,n.long]}),[n.lat,n.long]);return(0,aa.jsxs)(Iy,{attributionControl:!1,center:i,zoom:12,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",className:Zy,children:[(0,aa.jsx)(Ky,{onDrag:function(e){var n=(0,t.Z)(e,2),i=n[0],o=n[1];return r({lat:i,long:o})}}),(0,aa.jsx)(Dy,{url:cn}),(0,aa.jsx)(Uy,{position:i})]})},Wy="MyOffers_container__ZpsTI",qy="MyOffers_accommodation__7y4BR",Gy="MyOffers_actions__yg7Hu",Jy="MyOffers_addAccommodationButton__XcdFE",Qy=function(t){var n=t.initialData,r=t.onSubmit,i=t.onCancel,o=xf({defaultValues:(0,zs.merge)({location:{lat:50,long:15}},n)}),a=o.handleSubmit,s=o.register,u=o.control,c=a((function(e){r(e)}));return(0,aa.jsxs)("form",{onSubmit:c,onReset:i,className:qy,children:[(0,aa.jsx)(Ol,{control:u,name:"location",render:function(e){var t=e.field;return(0,aa.jsx)(Vy,{value:t.value,onChange:t.onChange})}}),(0,aa.jsx)("textarea",(0,e.Z)((0,e.Z)({},s("description")),{},{style:{width:"100%"}})),(0,aa.jsxs)("div",{className:Gy,children:[(0,aa.jsx)(Aa,{type:"reset",secondary:!0,children:"Cancel"}),(0,aa.jsx)(Aa,{type:"submit",primary:!0,children:"Submit"})]})]})},Yy=function(e){var t=e.location,n=ky();return(0,ne.useEffect)((function(){n.flyTo(t)}),[t,n]),null},Xy=function(e){var t=(0,ne.useMemo)((function(){return[e.location.lat,e.location.long]}),[e.location.lat,e.location.long]);return(0,aa.jsxs)("div",{className:By,children:[(0,aa.jsxs)(Iy,{className:Zy,attributionControl:!1,zoom:12,center:t,scrollWheelZoom:"center",doubleClickZoom:"center",touchZoom:"center",children:[(0,aa.jsx)(Dy,{url:cn}),(0,aa.jsx)(Uy,{position:t}),(0,aa.jsx)(Yy,{location:t})]}),(0,aa.jsxs)("div",{className:Hy,children:[e.description," ",(0,aa.jsx)("a",{href:e.id,target:"_blank",rel:"noopener noreferrer",children:(0,aa.jsx)($o,{})})]})]})},$y=[["?personId",function(e){return e},"?profile",Ls],["?profile","seeAlso","?profileDocument"],["?profileDocument"],["?profile","publicTypeIndex","?publicTypeIndex"],["?publicTypeIndex","references","?typeRegistration"],["?typeRegistration","forClass",fu.PersonalHospexDocument],["?typeRegistration","instance","?hospexDocument"],["?hospexDocument"],["?profile",function(e){return e},"?hospexProfile",Ms],["?hospexProfile",function(e,t){var n;return(null===(n=e.memberOf)||void 0===n?void 0:n["@id"])===t.communityId}],["?hospexProfile","offers","?accommodation"],["?accommodation"]],em={type:"Schema",shapes:[{id:"https://example.com/Accommodation",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://w3id.org/hospex/ns#Accommodation"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["https://schema.org/Accommodation"]}},{type:"TripleConstraint",predicate:"http://purl.org/dc/terms/description",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"},min:0,max:-1,annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Text about the accommodation"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#location",valueExpr:"https://example.com/Point",annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Location of the accommodation"}}]},{type:"TripleConstraint",predicate:"http://w3id.org/hospex/ns#offeredBy",valueExpr:{type:"NodeConstraint",nodeKind:"iri"}}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}},{id:"https://example.com/Point",type:"ShapeDecl",shapeExpr:{type:"Shape",expression:{type:"EachOf",expressions:[{type:"TripleConstraint",predicate:"http://www.w3.org/1999/02/22-rdf-syntax-ns#type",valueExpr:{type:"NodeConstraint",values:["http://www.w3.org/2003/01/geo/wgs84_pos#Point"]}},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#lat",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Latitude of the location in WGS84"}}]},{type:"TripleConstraint",predicate:"http://www.w3.org/2003/01/geo/wgs84_pos#long",valueExpr:{type:"NodeConstraint",datatype:"http://www.w3.org/2001/XMLSchema#decimal"},annotations:[{type:"Annotation",predicate:"http://www.w3.org/2000/01/rdf-schema#comment",object:{value:"Longitude of the location in WGS84"}}]}]},extra:["http://www.w3.org/1999/02/22-rdf-syntax-ns#type"]}}]},tm={type:{"@id":"@type","@container":"@set"},Accommodation:"http://w3id.org/hospex/ns#Accommodation",Accommodation2:"https://schema.org/Accommodation",description:{"@id":"http://purl.org/dc/terms/description","@type":"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","@container":"@set"},location:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#location","@type":"@id"},Point:"http://www.w3.org/2003/01/geo/wgs84_pos#Point",lat:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#lat","@type":"http://www.w3.org/2001/XMLSchema#decimal"},long:{"@id":"http://www.w3.org/2003/01/geo/wgs84_pos#long","@type":"http://www.w3.org/2001/XMLSchema#decimal"},offeredBy:{"@id":"http://w3id.org/hospex/ns#offeredBy","@type":"@id"}},nm={schema:em,shape:"https://example.com/Accommodation",context:tm},rm=["id"],im=function(){var n,r,i=yc(),o=(0,ne.useState)(),a=(0,t.Z)(o,2),s=a[0],u=a[1],c=Ic(null!==(n=i.webId)&&void 0!==n?n:"",dn).personalHospexDocuments,l=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en",i=Ou($y,{personId:e,communityId:n}),o=(0,t.Z)(i,2),a=o[0],s=o[1],u=a.accommodation.filter((function(e){return void 0!==e.location})).map((function(e){var t,n,i,o,a,s,u,c=e&&(0,Os.languagesOf)(e,"description"),l=null!==(t=null===c||void 0===c||null===(n=c[r])||void 0===n?void 0:n.values().next().value)&&void 0!==t?t:"",f=null!==(i=[e.location.lat].flat()[0])&&void 0!==i?i:0,d=null!==(o=[e.location.long].flat()[0])&&void 0!==o?o:0;return{id:null!==(a=e["@id"])&&void 0!==a?a:"",description:l,location:{lat:f,long:d},offeredBy:null!==(s=null===(u=e.offeredBy)||void 0===u?void 0:u["@id"])&&void 0!==s?s:""}}));return[u,s]}(null!==(r=i.webId)&&void 0!==r?r:"",dn),f=(0,t.Z)(l,1)[0],d=function(){var e=ku(js),t=Eu();return(0,ne.useCallback)(function(){var n=(0,q.Z)((0,W.Z)().mark((function n(r){var i,o,a,s,u,c,l;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.personId,o=r.data,a=r.hospexDocument,s=r.hospexContainer,u=Lc.Z(),l="".concat(c=s+u,"#accommodation"),n.next=6,e.mutateAsync({uri:c,data:{"@id":l,type:[{"@id":"Accommodation"},{"@id":"Accommodation2"}],description:[o.description],location:{"@id":"".concat(c,"#location"),type:{"@id":"Point"},lat:o.location.lat,long:o.location.long},offeredBy:{"@id":i}}});case 6:return n.next=8,t.mutateAsync({uri:a,patch:"\n          _:mutate a <".concat(iu.InsertDeletePatch,">;\n            <").concat(iu.inserts,"> { <").concat(i,"> <").concat(fu.offers,"> <").concat(l,">. }.\n        ")});case 8:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[e,t])}(),h=function(){var e=Cu(nm);return(0,ne.useCallback)(function(){var t=(0,q.Z)((0,W.Z)().mark((function t(n){var r,i,o,a,s;return(0,W.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n.data,i=r.id,o=(0,to.Z)(r,rm),a=n.language,s=void 0===a?"en":a,t.next=3,e.mutateAsync({uri:i,subject:i,language:s,transform:function(e){o.description&&(e.description=[o.description]),o.location&&(e.location.lat=o.location.lat,e.location.long=o.location.long)}});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),[e])}(),p=function(){var e=Eu(),t=Pu();return(0,ne.useCallback)(function(){var n=(0,q.Z)((0,W.Z)().mark((function n(r){var i,o,a;return(0,W.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return i=r.id,o=r.personId,a=r.hospexDocument,n.next=3,e.mutateAsync({uri:a,patch:"\n          _:mutate a <".concat(iu.InsertDeletePatch,">;\n            <").concat(iu.deletes,"> { <").concat(o,"> <").concat(fu.offers,"> <").concat(i,">. }.\n        ")});case 3:return n.next=5,t.mutateAsync({uri:i});case 5:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),[t,e])}();if("string"!==typeof i.webId)return null;if(!f)return(0,aa.jsx)(gc,{children:"Loading..."});var v=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.webId&&null!==c&&void 0!==c&&c[0]){e.next=2;break}throw new Error("missing variables");case 2:return e.next=4,d({personId:i.webId,data:t,hospexDocument:c[0],hospexContainer:Io(c[0])});case 4:u(void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h({data:t});case 2:u(void 0);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=(0,q.Z)((0,W.Z)().mark((function e(t){return(0,W.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i.webId&&null!==c&&void 0!==c&&c[0]){e.next=2;break}throw new Error("missing variables");case 2:if(!globalThis.confirm("Do you really want to delete the accommodation?")){e.next=6;break}return e.next=6,p({id:t,personId:i.webId,hospexDocument:c[0]});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,aa.jsxs)("div",{className:Wy,children:[(0,aa.jsx)("ul",{style:{display:"contents"},children:f.map((function(t){return s===t.id?(0,aa.jsx)(Qy,{onSubmit:g,onCancel:function(){u(void 0)},initialData:t},t.id):(0,aa.jsxs)("li",{className:qy,children:[(0,aa.jsx)(Xy,(0,e.Z)({},t)),(0,aa.jsxs)("div",{className:Gy,children:[(0,aa.jsx)(Aa,{secondary:!0,onClick:function(){u(t.id)},children:"Edit"}),(0,aa.jsx)(Aa,{danger:!0,onClick:function(){return y(t.id)},children:"Delete"})]})]},t.id)}))}),"new"===s?(0,aa.jsx)(Qy,{onSubmit:v,onCancel:function(){return u(void 0)}}):(0,aa.jsx)(Aa,{primary:!0,onClick:function(){return u("new")},className:Jy,children:"Add Accommodation"})]})},om=function(){return(0,aa.jsx)(aa.Fragment,{children:"MyTravelPlans"})},am=function(){return(0,aa.jsx)("div",{children:"404"})},sm=function(t){var n,r=Uo(t.src).data;return r?(0,aa.jsx)("img",(0,e.Z)((0,e.Z)({},t),{},{src:r,alt:null!==(n=t.alt)&&void 0!==n?n:""})):null},um="Profile_container__BVoU6",cm="Profile_name__L+3mr",lm="Profile_about__CHKcP",fm="Profile_photo__7M061",dm=function(){var e,n=Oi().id,r=yc(),i=n&&r.webId?n===r.webId:void 0,o=Fu(n,dn),a=(0,t.Z)(o,1)[0],s=Fu(r.webId,dn),u=(0,t.Z)(s,1)[0];return(0,aa.jsxs)("div",{className:um,children:[(0,aa.jsx)(sm,{className:fm,src:a.photo,alt:""}),(0,aa.jsxs)("header",{className:cm,children:[a.name," ",(0,aa.jsx)(Oa,{href:n})]}),(0,aa.jsx)("section",{className:lm,children:a.about}),i&&(0,aa.jsxs)(Ta,{secondary:!0,to:"/profile/edit",children:[(0,aa.jsx)(ea,{})," edit profile"]}),!1===i&&(0,aa.jsx)(Ta,{secondary:!0,to:"/messages/".concat(encodeURIComponent(n)),children:"Write a message"}),(0,aa.jsx)(Ta,{tertiary:!0,to:"contacts",children:"contacts"}),!1===i&&(0,aa.jsx)(Hf,{webId:n}),(0,aa.jsx)("section",{children:a.interests?(0,aa.jsx)(pc,{ids:a.interests,highlighted:i?[]:null!==(e=u.interests)&&void 0!==e?e:[]}):(0,aa.jsx)(gc,{children:"loading interests..."})})]})},hm=function(){var e=yc();return e.webId?(0,aa.jsx)(Hi,{to:encodeURIComponent(e.webId),replace:!0}):(0,aa.jsx)(gc,{children:"authenticating"})},pm=n(2674),vm=[["?communityId",function(e){return e},"?community",Cc],["?community","hasUsergroup","?group"],["?group","hasMember","?personId"]].concat((0,Y.Z)($y)),gm=[["?accommodationId",function(e){return e},"?accommodation",js],["?accommodationId",function(e){return Io(e)+"card"},"?hospexDocument",Ms],["?hospexDocument"],["?accommodation","offeredBy","?person"]],ym="AccommodationInfo_container__Ur3eX",mm="AccommodationInfo_person__OjMSf",wm="AccommodationInfo_name__ccx6p",_m="AccommodationInfo_accommodation__zhLCW",bm=function(n){var r=n.accommodationId,i=yc().webId,o=function(e){var n=e.accommodationId,r=Ou(gm,{accommodationId:n}),i=(0,t.Z)(r,2),o=i[0],a=i[1],s=(0,ne.useMemo)((function(){var e,t,n,r,i,a,s,u,c,l,f,d,h,p,v,g;if(0!==o.accommodation.length){var y=o.accommodation[0],m=null!==(e=[null===(t=y.location)||void 0===t?void 0:t.lat].flat()[0])&&void 0!==e?e:0,w=null!==(n=[null===(r=y.location)||void 0===r?void 0:r.long].flat()[0])&&void 0!==n?n:0;return{id:null!==(i=y["@id"])&&void 0!==i?i:"",description:null!==(a=null===(s=y.description)||void 0===s?void 0:s[0])&&void 0!==a?a:"",location:{lat:m,long:w},offeredBy:{id:null!==(u=null===(c=y.offeredBy)||void 0===c?void 0:c["@id"])&&void 0!==u?u:"",name:null!==(l=null===(f=y.offeredBy)||void 0===f?void 0:f.name)&&void 0!==l?l:"",about:null!==(d=null===(h=y.offeredBy)||void 0===h||null===(p=h.note)||void 0===p?void 0:p[0])&&void 0!==d?d:"",photo:null===(v=y.offeredBy)||void 0===v||null===(g=v.hasPhoto)||void 0===g?void 0:g["@id"]}}}}),[o.accommodation]);return(0,ne.useMemo)((function(){return[s,a]}),[s,a])}({accommodationId:r}),a=(0,t.Z)(o,1)[0],s=i&&(null===a||void 0===a?void 0:a.offeredBy)&&i!==a.offeredBy.id;return(0,aa.jsxs)("div",{className:ym,children:[a?(0,aa.jsxs)(aa.Fragment,{children:[(0,aa.jsx)("div",{className:mm,children:(0,aa.jsxs)(ga,{to:"/profile/".concat(encodeURIComponent(a.offeredBy.id)),style:{display:"contents"},children:[(0,aa.jsx)(sa,(0,e.Z)((0,e.Z)({},a.offeredBy),{},{size:1.5,square:!0})),(0,aa.jsx)("span",{className:wm,children:a.offeredBy.name})]})}),(0,aa.jsx)("div",{className:_m,children:a.description})]}):"loading...",s?(0,aa.jsx)(Ta,{primary:!0,to:"/messages/".concat(encodeURIComponent(a.offeredBy.id)),children:"Write a message"}):null]})},xm="SearchHosts_container__oj3XZ",Sm="SearchHosts_offerOverlay__zGDEC",km="SearchHosts_closeButton__0gn6n",Em="SearchHosts_mapContainer__bvyXT",Cm=function(){var e=_a(),n=(0,t.Z)(e,2),r=n[0],i=n[1],o=r.get("hosting"),a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:dn,n=Ou(vm,{communityId:e}),r=(0,t.Z)(n,2),i=r[0],o=r[1],a=(0,ne.useMemo)((function(){return i.accommodation.filter((function(e){return e.location})).map((function(e){var t,n,r,i,o,a,s;return{id:null!==(t=e["@id"])&&void 0!==t?t:"",description:null!==(n=null===(r=e.description)||void 0===r?void 0:r[0])&&void 0!==n?n:"",location:{lat:[e.location.lat].flat()[0],long:[e.location.long].flat()[0]},offeredBy:{id:null!==(i=null===(o=e.offeredBy)||void 0===o?void 0:o["@id"])&&void 0!==i?i:"",name:null!==(a=null===(s=e.offeredBy)||void 0===s?void 0:s.name)&&void 0!==a?a:""}}}))}),[i.accommodation]);return(0,ne.useMemo)((function(){return[a,o]}),[a,o])}(),s=(0,t.Z)(a,1)[0];return(0,aa.jsxs)("div",{className:xm,children:[o&&(0,aa.jsxs)("div",{className:Sm,children:[(0,aa.jsx)("button",{onClick:function(){i({})},className:km,"aria-label":"Close hosting preview",children:(0,aa.jsx)(ta,{})}),(0,aa.jsx)(bm,{accommodationId:o})]}),(0,aa.jsxs)(Iy,{className:Em,attributionControl:!1,zoom:1,center:[0,0],children:[(0,aa.jsx)(Dy,{url:cn}),(0,aa.jsx)(pm.Z,{maxClusterRadius:20,children:s?s.map((function(e){var t,n;return(0,aa.jsx)(Uy,{position:[e.location.lat,e.location.long],eventHandlers:{click:function(){var t;t=e.id,i({hosting:t})}},icon:e.id===o?fn:ln,alt:"Accommodation offer from ".concat((null===(t=e.offeredBy)||void 0===t?void 0:t.name)||(null===(n=e.offeredBy)||void 0===n?void 0:n.id))},e.id)})):null})]})]})},Pm=function(e){var n=e.webId,r=e.className,i=Fu(n,dn),o=(0,t.Z)(i,1)[0];return(0,aa.jsx)(sa,{photo:o.photo,square:!0,size:1.25,className:r})},Am={threadList:"Threads_threadList__Xgzpb",thread:"Threads_thread__0sir4",unread:"Threads_unread__tefd5",content:"Threads_content__8W7Cr",avatar:"Threads_avatar__UUzjw"},Tm=function(){var e,t=yc(),n=Zu(null!==(e=t.webId)&&void 0!==e?e:"").data;return n?(0,aa.jsxs)("div",{children:[(0,aa.jsx)("h1",{children:"Conversations"}),(0,aa.jsx)("ul",{className:Am.threadList,children:n.map((function(e){var n=e.participants.find((function(e){return e!==t.webId}));return(0,aa.jsx)("li",{children:(0,aa.jsx)(ga,{to:"/messages/".concat(encodeURIComponent(null!==n&&void 0!==n?n:"")),children:(0,aa.jsx)(Om,{thread:e})})},e.id)}))})]}):(0,aa.jsx)(gc,{children:"Loading..."})},Om=function(e){var n=e.thread,r=yc(),i=n.participants.find((function(e){return e!==r.webId})),o=Fu(null!==i&&void 0!==i?i:"",dn),a=(0,t.Z)(o,1)[0],s=n.messages[n.messages.length-1];return(0,aa.jsxs)("div",{className:eo()(Am.thread,n.status&&Am.unread),children:[(0,aa.jsx)(Pm,{webId:null!==i&&void 0!==i?i:"",className:Am.avatar}),(0,aa.jsxs)("div",{children:[(0,aa.jsx)("div",{className:Am.name,title:a.id,children:a.name}),(0,aa.jsx)("div",{className:Am.content,title:null===s||void 0===s?void 0:s.message,children:null===s||void 0===s?void 0:s.message})]})]})},Im=[{link:"search",label:"search hosts"},{link:"plans",label:"plans"},{link:"hosts",label:"my hosts"}],Rm=function(){return(0,aa.jsx)(hg,{tabs:Im,children:(0,aa.jsx)(zi,{})})},Lm=function(){return(0,aa.jsx)(Hi,{to:"search",replace:!0})},Fm=(Ay=[{path:"/",element:(0,aa.jsx)(xc,{}),children:[{path:"/",element:(0,aa.jsx)(If,{}),children:[{index:!0,element:(0,aa.jsx)(vg,{})},{path:"profile",children:[{index:!0,element:(0,aa.jsx)(hm,{})},{path:"edit",element:(0,aa.jsx)(ug,{})},{path:":id",element:(0,aa.jsx)(dm,{})},{path:":id/contacts",element:(0,aa.jsx)(Wf,{})}]},{path:"messages",children:[{index:!0,element:(0,aa.jsx)(Tm,{})},{path:":id",element:(0,aa.jsx)(_y,{})}]},{path:"host",element:(0,aa.jsx)(yg,{}),children:[{index:!0,element:(0,aa.jsx)(mg,{})},{path:"offers",element:(0,aa.jsx)(im,{})},{path:"invite",element:(0,aa.jsx)(wg,{})},{path:"guests",element:(0,aa.jsx)(by,{})}]},{path:"travel",element:(0,aa.jsx)(Rm,{}),children:[{index:!0,element:(0,aa.jsx)(Lm,{})},{path:"search",element:(0,aa.jsx)(Cm,{})},{path:"plans",element:(0,aa.jsx)(om,{})},{path:"hosts",element:(0,aa.jsx)(xy,{})}]}]},{path:"about",element:(0,aa.jsx)(Sc,{})},{path:"*",element:(0,aa.jsx)(am,{})}]}],Lr({basename:null==Ty?void 0:Ty.basename,history:Wn({window:null==Ty?void 0:Ty.window}),hydrationData:(null==Ty?void 0:Ty.hydrationData)||ha(),routes:Ji(Ay)}).initialize()),Mm=new te;(0,hn.s)(document.getElementById("root")).render((0,aa.jsx)(ne.StrictMode,{children:(0,aa.jsx)(Tn,{store:on,children:(0,aa.jsx)(ue,{client:Mm,children:(0,aa.jsx)(Bi,{router:Fm})})})})),Oy&&Oy instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(e){var t=e.getCLS,n=e.getFID,r=e.getFCP,i=e.getLCP,o=e.getTTFB;t(Oy),n(Oy),r(Oy),i(Oy),o(Oy)}))}()}();
//# sourceMappingURL=main.934681ef.js.map